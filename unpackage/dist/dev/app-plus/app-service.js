var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
if (typeof Promise !== "undefined" && !Promise.prototype.finally) {
  Promise.prototype.finally = function(callback) {
    const promise = this.constructor;
    return this.then((value) => promise.resolve(callback()).then(() => value), (reason) => promise.resolve(callback()).then(() => {
      throw reason;
    }));
  };
}
;
if (typeof uni !== "undefined" && uni && uni.requireGlobal) {
  const global2 = uni.requireGlobal();
  ArrayBuffer = global2.ArrayBuffer;
  Int8Array = global2.Int8Array;
  Uint8Array = global2.Uint8Array;
  Uint8ClampedArray = global2.Uint8ClampedArray;
  Int16Array = global2.Int16Array;
  Uint16Array = global2.Uint16Array;
  Int32Array = global2.Int32Array;
  Uint32Array = global2.Uint32Array;
  Float32Array = global2.Float32Array;
  Float64Array = global2.Float64Array;
  BigInt64Array = global2.BigInt64Array;
  BigUint64Array = global2.BigUint64Array;
}
;
if (uni.restoreGlobal) {
  uni.restoreGlobal(Vue, weex, plus, setTimeout, clearTimeout, setInterval, clearInterval);
}
(function(vue, shared) {
  "use strict";
  var _export_sfc = (sfc, props) => {
    const target = sfc.__vccOpts || sfc;
    for (const [key, val] of props) {
      target[key] = val;
    }
    return target;
  };
  const _sfc_main$$ = {
    data() {
      return {};
    },
    onLoad() {
      if (uni.getStorageSync("token") !== null && uni.getStorageSync("token").length > 0) {
        let loginUrl = uni.getStorageSync("userinfo") && uni.getStorageSync("userinfo").group_id == 2 ? "/pages/main/main" : "/pages/shop/shop";
        uni.switchTab({
          url: loginUrl
        });
      } else {
        uni.redirectTo({
          url: "/pages/login/login"
        });
      }
    },
    methods: {}
  };
  function _sfc_render$_(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "content" }, [
      vue.createElementVNode("image", {
        class: "logo",
        src: "/static/logo.png"
      }),
      vue.createElementVNode("view", { class: "text-area" }, [
        vue.createElementVNode("text", { class: "title" }, "\u521B\u70B9")
      ])
    ]);
  }
  var PagesIndexIndex = /* @__PURE__ */ _export_sfc(_sfc_main$$, [["render", _sfc_render$_], ["__file", "F:/work/ChuangDian/pages/index/index.vue"]]);
  function formatAppLog(type, filename, ...args) {
    if (uni.__log__) {
      uni.__log__(type, filename, ...args);
    } else {
      console[type].apply(console, [...args, filename]);
    }
  }
  function resolveEasycom(component, easycom) {
    return shared.isString(component) ? easycom : component;
  }
  const _sfc_main$_ = {
    data() {
      return {
        isCountingDown: false,
        countDownSeconds: 60,
        buttonText: "\u83B7\u53D6\u9A8C\u8BC1\u7801",
        isWatchPwd: false,
        type: 1,
        account: "",
        password: "",
        phone: "",
        code: "",
        company: "",
        regPassport: "",
        isReadAgreement: false,
        styles: {
          color: "#333333",
          borderColor: "#E0EEFF"
        }
      };
    },
    onLoad() {
    },
    methods: {
      selectLogin() {
        this.type = 1;
      },
      selectRegister() {
        this.type = 2;
      },
      forgotPassword() {
        uni.navigateTo({
          url: "/pages/forgetPassword/forgetPassword"
        });
      },
      async getCode() {
        if (this.isCountingDown) {
          return;
        }
        if (!this.phone) {
          uni.showToast({
            title: "\u8BF7\u586B\u5199\u624B\u673A\u53F7",
            icon: "none"
          });
          return;
        }
        const res = await this.$myRequest({
          url: "api/Sms/send",
          method: "POST",
          data: {
            mobile: this.phone
          }
        });
        if (res.code == 1) {
          uni.showToast({
            title: res.msg
          });
          this.isCountingDown = true;
          this.buttonText = `${this.countDownSeconds}\u79D2\u540E\u91CD\u8BD5`;
          const timer = setInterval(() => {
            if (this.countDownSeconds > 0) {
              this.countDownSeconds -= 1;
              this.buttonText = `${this.countDownSeconds}\u79D2\u540E\u91CD\u8BD5`;
            } else {
              clearInterval(timer);
              this.isCountingDown = false;
              this.countDownSeconds = 60;
              this.buttonText = "\u83B7\u53D6\u9A8C\u8BC1\u7801";
            }
          }, 1e3);
        } else {
          uni.showToast({
            title: res.msg
          });
        }
      },
      async login() {
        if (this.account.length <= 0) {
          uni.showToast({
            title: "\u8BF7\u8F93\u5165\u8D26\u53F7",
            icon: "error"
          });
          return;
        }
        if (this.password.length <= 0) {
          uni.showToast({
            title: "\u8BF7\u8F93\u5165\u5BC6\u7801",
            icon: "error"
          });
          return;
        }
        if (!this.isReadAgreement) {
          uni.showToast({
            title: "\u8BF7\u4ED4\u7EC6\u9605\u8BFB\u5E76\u540C\u610F\u534F\u8BAE",
            icon: "none"
          });
          return;
        }
        const res = await this.$myRequest({
          url: "api/user/login",
          method: "POST",
          data: {
            account: this.account,
            password: this.password
          }
        });
        formatAppLog("log", "at pages/login/login.vue:251", "\u767B\u9646\u4FE1\u606F", res);
        if (res.code == 1) {
          uni.setStorageSync("userinfo", res.data.userinfo);
          uni.setStorageSync("token", res.data.userinfo.token);
          uni.showToast({
            title: res.msg,
            icon: "none"
          });
          let loginUrl = res.data.userinfo.group_id == 2 ? "/pages/main/main" : "/pages/shop/shop";
          setTimeout(() => {
            uni.switchTab({
              url: loginUrl
            });
          }, 1500);
        } else {
          uni.showToast({
            title: res.msg,
            icon: "error"
          });
        }
        uni.setStorageSync("userinfo", res.data.userinfo);
        uni.setStorageSync("token", res.data.userinfo.token);
        if (this.login.isRememberPassword) {
          uni.setStorageSync("email", this.login.email);
          uni.setStorageSync("password", this.login.password);
        } else {
          uni.removeStorageSync("email");
          uni.removeStorageSync("password");
        }
      },
      isValidPhoneNumber(phoneNumber) {
        const pattern = /^1[3-9]\d{9}$/;
        return pattern.test(phoneNumber);
      },
      async register() {
        if (!this.isValidPhoneNumber(this.phone)) {
          uni.showToast({
            title: "\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7",
            icon: "error"
          });
          return;
        }
        if (this.code.length !== 4) {
          uni.showToast({
            title: "\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u9A8C\u8BC1\u7801",
            icon: "error"
          });
          return;
        }
        if (this.regPassport.length <= 0) {
          uni.showToast({
            title: "\u8BF7\u8F93\u5165\u5BC6\u7801",
            icon: "error"
          });
          return;
        }
        if (!this.company) {
          uni.showToast({
            title: "\u8BF7\u8F93\u5165\u516C\u53F8\u540D\u79F0",
            icon: "error"
          });
          return;
        }
        if (!this.isReadAgreement) {
          uni.showToast({
            title: "\u8BF7\u4ED4\u7EC6\u9605\u8BFB\u5E76\u540C\u610F\u534F\u8BAE",
            icon: "none"
          });
          return;
        }
        const res = await this.$myRequest({
          url: "api/user/register",
          method: "POST",
          data: {
            mobile: this.phone,
            code: this.code,
            company_name: this.company,
            password: this.regPassport
          }
        });
        if (res.code == 1) {
          uni.setStorageSync("userinfo", res.data.userinfo);
          uni.setStorageSync("token", res.data.userinfo.token);
          uni.showToast({
            title: res.msg,
            icon: "none"
          });
          setTimeout(() => {
            uni.switchTab({
              url: "/pages/main/main"
            });
          }, 1500);
        }
      },
      quickLogin() {
        if (!this.isReadAgreement) {
          uni.showToast({
            title: "\u8BF7\u4ED4\u7EC6\u9605\u8BFB\u5E76\u540C\u610F\u534F\u8BAE",
            icon: "none"
          });
          return;
        }
        uni.switchTab({
          url: "/pages/main/main"
        });
      },
      goTo(url) {
        uni.navigateTo({
          url
        });
      },
      readAgreement() {
        this.isReadAgreement = !this.isReadAgreement;
      }
    }
  };
  function _sfc_render$Z(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "login_bg" }, [
      vue.createCommentVNode(" \u9876\u90E8\u56FE\u7247\u548C\u6587\u5B57 "),
      vue.createElementVNode("view", { style: { "flex": "auto" } }),
      vue.createElementVNode("image", {
        class: "logo",
        src: "/static/ic_logo.png"
      }),
      vue.createElementVNode("view", { style: { "font-size": "24rpx", "color": "#666666", "margin-top": "20rpx" } }, "\u667A\u6167\u536B\u751F\u95F4\u4E00\u7AD9\u5F0F\u89E3\u51B3\u65B9\u6848\u670D\u52A1\u5546"),
      vue.createCommentVNode(" \u767B\u5F55\u3001\u6CE8\u518C "),
      vue.createElementVNode("view", { style: { "flex": "auto" } }),
      vue.createElementVNode("view", { style: { "width": "100%", "flex-direction": "row", "display": "flex", "align-items": "center" } }, [
        vue.createElementVNode("view", {
          style: { "flex-direction": "column", "display": "flex", "align-items": "center", "margin-right": "24rpx" },
          onClick: _cache[0] || (_cache[0] = ($event) => $options.selectLogin())
        }, [
          vue.createElementVNode("text", {
            class: vue.normalizeClass([$data.type == 1 ? "text-black" : "text-gray"])
          }, "\u767B\u5F55", 2),
          $data.type == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            style: { "width": "52rpx", "height": "8rpx", "background-color": "#333333", "margin-top": "12rpx" }
          })) : vue.createCommentVNode("v-if", true)
        ]),
        vue.createElementVNode("view", {
          style: { "flex-direction": "column", "display": "flex", "align-items": "center", "margin-left": "24rpx" },
          onClick: _cache[1] || (_cache[1] = ($event) => $options.selectRegister())
        }, [
          vue.createElementVNode("text", {
            class: vue.normalizeClass([$data.type == 2 ? "text-black" : "text-gray"])
          }, "\u6CE8\u518C", 2),
          $data.type == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            style: { "width": "52rpx", "height": "8rpx", "background-color": "#333333", "margin-top": "12rpx" }
          })) : vue.createCommentVNode("v-if", true)
        ])
      ]),
      vue.createCommentVNode(" \u767B\u5F55\u5E03\u5C40 "),
      $data.type == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        style: { "width": "100%" }
      }, [
        vue.createCommentVNode(" \u8F93\u5165\u8D26\u53F7 "),
        vue.createElementVNode("view", {
          class: "input-bg",
          style: { "margin-top": "48rpx" }
        }, [
          vue.createElementVNode("image", {
            style: { "width": "32rpx", "height": "34rpx", "margin-left": "32rpx" },
            src: "/static/ic_login_account.png"
          }),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "auto", "height": "100%", "font-size": "28rpx", "color": "#333333", "margin-left": "26rpx", "margin-right": "32rpx" },
            "placeholder-style": "color:#999999",
            "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.account = $event),
            placeholder: "\u8BF7\u8F93\u5165\u8D26\u53F7"
          }, null, 512), [
            [vue.vModelText, $data.account]
          ])
        ]),
        vue.createCommentVNode(" \u8F93\u5165\u5BC6\u7801 "),
        vue.createElementVNode("view", {
          class: "input-bg",
          style: { "width": "100%", "margin-top": "34rpx" }
        }, [
          vue.createElementVNode("image", {
            onClick: _cache[3] || (_cache[3] = ($event) => $data.isWatchPwd = !$data.isWatchPwd),
            style: { "width": "32rpx", "height": "20rpx", "margin-left": "32rpx" },
            src: "/static/ic_login_password.png"
          }),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "1", "height": "100%", "font-size": "28rpx", "color": "#333333", "margin-left": "26rpx", "margin-right": "42rpx" },
            type: $data.isWatchPwd ? "text" : "password",
            "placeholder-style": "color:#999999",
            "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $data.password = $event),
            placeholder: "\u8BF7\u8F93\u5165\u5BC6\u7801"
          }, null, 8, ["type"]), [
            [vue.vModelDynamic, $data.password]
          ]),
          vue.createElementVNode("view", {
            style: { "font-size": "28rpx", "font-weight": "400", "color": "#666666", "margin-right": "10rpx" },
            onClick: _cache[5] || (_cache[5] = ($event) => $options.forgotPassword())
          }, "\u5FD8\u8BB0\u5BC6\u7801\uFF1F")
        ]),
        vue.createCommentVNode(" \u767B\u5F55\u6309\u94AE "),
        vue.createElementVNode("button", {
          class: "btn",
          style: { "margin-top": "64rpx" },
          onClick: _cache[6] || (_cache[6] = ($event) => $options.login())
        }, "\u767B\u5F55"),
        vue.createCommentVNode(" \u624B\u673A\u53F7\u5FEB\u6377\u767B\u5F55 "),
        vue.createElementVNode("view", {
          class: "phoneLogin-bg",
          style: { "margin-top": "48rpx" },
          onClick: _cache[7] || (_cache[7] = ($event) => $options.quickLogin())
        }, [
          vue.createElementVNode("image", {
            style: { "width": "24rpx", "height": "36rpx", "margin-left": "32rpx" },
            src: "/static/ic_phone.png"
          }),
          vue.createElementVNode("text", { style: { "font-size": "32rpx", "font-weight": "500", "color": "#333333", "margin-left": "18rpx" } }, "\u624B\u673A\u53F7\u5FEB\u6377\u767B\u5F55")
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" \u6CE8\u518C\u5E03\u5C40 "),
      $data.type == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        style: { "width": "100%" }
      }, [
        vue.createCommentVNode(" \u8F93\u5165\u624B\u673A\u53F7 "),
        vue.createElementVNode("view", {
          class: "input-bg",
          style: { "margin-top": "48rpx" }
        }, [
          vue.createElementVNode("image", {
            style: { "width": "32rpx", "height": "34rpx", "margin-left": "32rpx" },
            src: "/static/ic_login_account.png"
          }),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "1", "height": "100%", "font-size": "28rpx", "color": "#333333", "margin-left": "26rpx", "margin-right": "10rpx" },
            "placeholder-style": "color: #999999",
            "onUpdate:modelValue": _cache[8] || (_cache[8] = ($event) => $data.phone = $event),
            maxlength: "11",
            type: "number",
            placeholder: "\u8BF7\u8F93\u5165\u624B\u673A\u53F7"
          }, null, 512), [
            [vue.vModelText, $data.phone]
          ]),
          !$data.isCountingDown ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "get-code-btn",
            onClick: _cache[9] || (_cache[9] = ($event) => $options.getCode())
          }, " \u83B7\u53D6\u9A8C\u8BC1\u7801 ")) : (vue.openBlock(), vue.createElementBlock("view", {
            key: 1,
            class: "countdown-timer"
          }, vue.toDisplayString($data.countDownSeconds) + "\u79D2\u540E\u91CD\u8BD5 ", 1))
        ]),
        vue.createCommentVNode(" \u8F93\u5165\u9A8C\u8BC1\u7801 "),
        vue.createElementVNode("view", {
          class: "input-bg",
          style: { "margin-top": "34rpx" }
        }, [
          vue.createElementVNode("image", {
            style: { "width": "42rpx", "height": "42rpx", "margin-left": "32rpx" },
            src: "/static/ic_login_code.png"
          }),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "1", "height": "100%", "font-size": "28rpx", "color": "#333333", "margin-left": "20rpx", "margin-right": "32rpx" },
            "placeholder-style": "color:#999999",
            "onUpdate:modelValue": _cache[10] || (_cache[10] = ($event) => $data.code = $event),
            maxlength: "4",
            "text-content-type": "oneTimeCode",
            type: "number",
            placeholder: "\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"
          }, null, 512), [
            [vue.vModelText, $data.code]
          ])
        ]),
        vue.createCommentVNode(" \u8F93\u5165\u5BC6\u7801 "),
        vue.createElementVNode("view", {
          class: "input-bg",
          style: { "margin-top": "34rpx" }
        }, [
          vue.createElementVNode("image", {
            style: { "width": "30rpx", "height": "28rpx", "margin-left": "32rpx" },
            src: "/static/ic_login_company.png"
          }),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "1", "height": "100%", "font-size": "28rpx", "color": "#333333", "margin-left": "26rpx", "margin-right": "32rpx" },
            password: "",
            "placeholder-style": "color:#999999",
            "onUpdate:modelValue": _cache[11] || (_cache[11] = ($event) => $data.regPassport = $event),
            type: "text",
            placeholder: "\u8BF7\u8BBE\u7F6E\u5BC6\u7801"
          }, null, 512), [
            [vue.vModelText, $data.regPassport]
          ])
        ]),
        vue.createCommentVNode(" \u8F93\u5165\u516C\u53F8\u540D\u79F0 "),
        vue.createElementVNode("view", {
          class: "input-bg",
          style: { "margin-top": "34rpx" }
        }, [
          vue.createElementVNode("image", {
            style: { "width": "30rpx", "height": "28rpx", "margin-left": "32rpx" },
            src: "/static/ic_login_company.png"
          }),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "1", "height": "100%", "font-size": "28rpx", "color": "#333333", "margin-left": "26rpx", "margin-right": "32rpx" },
            "placeholder-style": "color:#999999",
            "onUpdate:modelValue": _cache[12] || (_cache[12] = ($event) => $data.company = $event),
            type: "text",
            placeholder: "\u8BF7\u8F93\u5165\u516C\u53F8\u540D\u79F0"
          }, null, 512), [
            [vue.vModelText, $data.company]
          ])
        ]),
        vue.createCommentVNode(" \u6CE8\u518C\u6309\u94AE "),
        vue.createElementVNode("button", {
          class: "btn",
          style: { "margin-top": "64rpx" },
          onClick: _cache[13] || (_cache[13] = ($event) => $options.register())
        }, "\u6CE8\u518C")
      ])) : vue.createCommentVNode("v-if", true),
      vue.createElementVNode("view", { style: { "flex": "auto" } }),
      vue.createElementVNode("view", { style: { "flex": "auto" } }),
      vue.createCommentVNode(" \u7528\u6237\u534F\u8BAE\u3001\u9690\u79C1\u534F\u8BAE "),
      vue.createElementVNode("view", { style: { "width": "100%", "display": "flex", "flex-direction": "row", "justify-content": "center", "align-items": "center", "margin-bottom": "80rpx" } }, [
        vue.createElementVNode("image", {
          style: { "width": "24rpx", "height": "24rpx", "padding": "12rpx", "margin-top": "3rpx" },
          src: $data.isReadAgreement ? "/static/ic_circle_check.png" : "/static/ic_circle_uncheck.png",
          onClick: _cache[14] || (_cache[14] = ($event) => $options.readAgreement())
        }, null, 8, ["src"]),
        vue.createElementVNode("text", { style: { "font-size": "24rpx", "color": "#666666" } }, "\u9605\u8BFB\u5E76\u540C\u610F"),
        vue.createElementVNode("text", {
          style: { "font-size": "24rpx", "color": "#38CBD5" },
          onClick: _cache[15] || (_cache[15] = ($event) => $options.goTo("/pages/noticeDetail/noticeDetail?id=1&title=\u7528\u6237\u534F\u8BAE&noticeType=1"))
        }, "\u300A\u7528\u6237\u534F\u8BAE\u300B"),
        vue.createElementVNode("text", { style: { "font-size": "24rpx", "color": "#666666" } }, "\u548C"),
        vue.createElementVNode("text", {
          style: { "font-size": "24rpx", "color": "#38CBD5" },
          onClick: _cache[16] || (_cache[16] = ($event) => $options.goTo("/pages/noticeDetail/noticeDetail?id=1&title=\u9690\u79C1\u653F\u7B56&noticeType=2"))
        }, "\u300A\u9690\u79C1\u653F\u7B56\u300B")
      ])
    ]);
  }
  var PagesLoginLogin = /* @__PURE__ */ _export_sfc(_sfc_main$_, [["render", _sfc_render$Z], ["__file", "F:/work/ChuangDian/pages/login/login.vue"]]);
  const _sfc_main$Z = {
    data() {
      return {
        type: 1,
        password: "",
        password2: "",
        phone: "",
        code: "",
        company: "",
        isReadAgreement: false,
        styles: {
          color: "#333333",
          borderColor: "#E0EEFF"
        }
      };
    },
    onLoad() {
    },
    methods: {
      async getCode() {
        await this.$myRequest({
          url: "api/user/login",
          method: "POST",
          data: {
            account: this.account,
            password: this.password
          }
        });
      },
      async confirm() {
        if (this.type == 1) {
          if (this.phone.length <= 0) {
            uni.showToast({
              title: "\u8BF7\u8F93\u5165\u624B\u673A\u53F7",
              icon: "error"
            });
            return;
          }
          if (this.code.length <= 0) {
            uni.showToast({
              title: "\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",
              icon: "error"
            });
            return;
          }
          this.type = 2;
          return;
        }
        if (this.type == 2) {
          uni.navigateBack();
        }
      },
      readAgreement() {
        this.isReadAgreement = !this.isReadAgreement;
      }
    }
  };
  function _sfc_render$Y(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "login_bg" }, [
      vue.createCommentVNode(" \u9876\u90E8\u56FE\u7247\u548C\u6587\u5B57 "),
      vue.createElementVNode("view", { style: { "flex": "auto" } }),
      vue.createElementVNode("image", {
        class: "logo",
        src: "/static/ic_logo.png"
      }),
      vue.createElementVNode("view", { style: { "flex": "auto" } }),
      vue.createCommentVNode(" \u83B7\u53D6\u9A8C\u8BC1\u7801\u5E03\u5C40 "),
      $data.type == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        style: { "width": "100%" }
      }, [
        vue.createCommentVNode(" \u8F93\u5165\u624B\u673A\u53F7 "),
        vue.createElementVNode("view", {
          class: "input-bg",
          style: { "margin-top": "48rpx" }
        }, [
          vue.createElementVNode("image", {
            style: { "width": "32rpx", "height": "34rpx", "margin-left": "32rpx" },
            src: "/static/ic_login_account.png"
          }),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "1", "height": "100%", "font-size": "28rpx", "color": "#333333", "margin-left": "26rpx", "margin-right": "32rpx" },
            "placeholder-style": "color:#999999",
            "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.phone = $event),
            type: "number",
            placeholder: "\u8BF7\u8F93\u5165\u624B\u673A\u53F7"
          }, null, 512), [
            [vue.vModelText, $data.phone]
          ]),
          vue.createElementVNode("view", {
            style: { "font-size": "28rpx", "font-weight": "400", "color": "#38CBD5", "margin-right": "30rpx" },
            onClick: _cache[1] || (_cache[1] = ($event) => $options.getCode())
          }, " \u83B7\u53D6\u9A8C\u8BC1\u7801")
        ]),
        vue.createCommentVNode(" \u8F93\u5165\u9A8C\u8BC1\u7801 "),
        vue.createElementVNode("view", {
          class: "input-bg",
          style: { "margin-top": "34rpx" }
        }, [
          vue.createElementVNode("image", {
            style: { "width": "42rpx", "height": "42rpx", "margin-left": "32rpx" },
            src: "/static/ic_login_code.png"
          }),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "auto", "height": "100%", "font-size": "28rpx", "color": "#333333", "margin-left": "20rpx", "margin-right": "32rpx" },
            "placeholder-style": "color:#999999",
            "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.code = $event),
            "text-content-type": "oneTimeCode",
            type: "number",
            placeholder: "\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"
          }, null, 512), [
            [vue.vModelText, $data.code]
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" \u8F93\u5165\u5BC6\u7801\u5E03\u5C40 "),
      $data.type == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        style: { "width": "100%" }
      }, [
        vue.createCommentVNode(" \u8F93\u5165\u5BC6\u7801 "),
        vue.createElementVNode("view", {
          class: "input-bg",
          style: { "margin-top": "48rpx" }
        }, [
          vue.createElementVNode("image", {
            style: { "width": "32rpx", "height": "20rpx", "margin-left": "32rpx" },
            src: "/static/ic_login_password.png"
          }),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "auto", "height": "100%", "font-size": "28rpx", "color": "#333333", "margin-left": "26rpx", "margin-right": "42rpx" },
            password: "",
            "placeholder-style": "color:#999999",
            "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $data.password = $event),
            placeholder: "\u8BF7\u8F93\u5165\u5BC6\u7801"
          }, null, 512), [
            [vue.vModelText, $data.password]
          ])
        ]),
        vue.createCommentVNode(" \u518D\u6B21\u8F93\u5165\u5BC6\u7801 "),
        vue.createElementVNode("view", {
          class: "input-bg",
          style: { "margin-top": "48rpx" }
        }, [
          vue.createElementVNode("image", {
            style: { "width": "32rpx", "height": "20rpx", "margin-left": "32rpx" },
            src: "/static/ic_login_password.png"
          }),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "auto", "height": "100%", "font-size": "28rpx", "color": "#333333", "margin-left": "26rpx", "margin-right": "42rpx" },
            password: "",
            "placeholder-style": "color:#999999",
            "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $data.password2 = $event),
            placeholder: "\u8BF7\u518D\u6B21\u8F93\u5165\u5BC6\u7801"
          }, null, 512), [
            [vue.vModelText, $data.password2]
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" \u786E\u5B9A\u6309\u94AE "),
      vue.createElementVNode("button", {
        class: "btn",
        style: { "margin-top": "64rpx" },
        onClick: _cache[5] || (_cache[5] = ($event) => $options.confirm())
      }, "\u786E\u5B9A"),
      vue.createElementVNode("view", { style: { "flex": "auto" } }),
      vue.createElementVNode("view", { style: { "flex": "auto" } }),
      vue.createCommentVNode(" \u7528\u6237\u534F\u8BAE\u3001\u9690\u79C1\u534F\u8BAE "),
      vue.createElementVNode("view", { style: { "width": "100%", "display": "flex", "flex-direction": "row", "justify-content": "center", "align-items": "center", "margin-bottom": "80rpx" } }, [
        vue.createElementVNode("image", {
          style: { "width": "24rpx", "height": "24rpx", "padding": "12rpx", "margin-top": "3rpx" },
          src: $data.isReadAgreement ? "/static/ic_circle_check.png" : "/static/ic_circle_uncheck.png",
          onClick: _cache[6] || (_cache[6] = ($event) => $options.readAgreement())
        }, null, 8, ["src"]),
        vue.createElementVNode("text", { style: { "font-size": "24rpx", "color": "#666666" } }, "\u9605\u8BFB\u5E76\u540C\u610F"),
        vue.createElementVNode("text", { style: { "font-size": "24rpx", "color": "#38CBD5" } }, "\u300A\u7528\u6237\u534F\u8BAE\u300B"),
        vue.createElementVNode("text", { style: { "font-size": "24rpx", "color": "#666666" } }, "\u548C"),
        vue.createElementVNode("text", { style: { "font-size": "24rpx", "color": "#38CBD5" } }, "\u300A\u9690\u79C1\u653F\u7B56\u300B")
      ])
    ]);
  }
  var PagesForgetPasswordForgetPassword = /* @__PURE__ */ _export_sfc(_sfc_main$Z, [["render", _sfc_render$Y], ["__file", "F:/work/ChuangDian/pages/forgetPassword/forgetPassword.vue"]]);
  const _sfc_main$Y = {
    name: "UniGridItem",
    inject: ["grid"],
    props: {
      index: {
        type: Number,
        default: 0
      }
    },
    data() {
      return {
        column: 0,
        showBorder: true,
        square: true,
        highlight: true,
        left: 0,
        top: 0,
        openNum: 2,
        width: 0,
        borderColor: "#e5e5e5"
      };
    },
    created() {
      this.column = this.grid.column;
      this.showBorder = this.grid.showBorder;
      this.square = this.grid.square;
      this.highlight = this.grid.highlight;
      this.top = this.hor === 0 ? this.grid.hor : this.hor;
      this.left = this.ver === 0 ? this.grid.ver : this.ver;
      this.borderColor = this.grid.borderColor;
      this.grid.children.push(this);
      this.width = this.grid.width;
    },
    beforeDestroy() {
      this.grid.children.forEach((item, index) => {
        if (item === this) {
          this.grid.children.splice(index, 1);
        }
      });
    },
    methods: {
      _onClick() {
        this.grid.change({
          detail: {
            index: this.index
          }
        });
      }
    }
  };
  function _sfc_render$X(_ctx, _cache, $props, $setup, $data, $options) {
    return $data.width ? (vue.openBlock(), vue.createElementBlock("view", {
      key: 0,
      style: vue.normalizeStyle("width:" + $data.width + ";" + ($data.square ? "height:" + $data.width : "")),
      class: "uni-grid-item"
    }, [
      vue.createElementVNode("view", {
        class: vue.normalizeClass([{ "uni-grid-item--border": $data.showBorder, "uni-grid-item--border-top": $data.showBorder && $props.index < $data.column, "uni-highlight": $data.highlight }, "uni-grid-item__box"]),
        style: vue.normalizeStyle({ "border-right-color": $data.borderColor, "border-bottom-color": $data.borderColor, "border-top-color": $data.borderColor }),
        onClick: _cache[0] || (_cache[0] = (...args) => $options._onClick && $options._onClick(...args))
      }, [
        vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
      ], 6)
    ], 4)) : vue.createCommentVNode("v-if", true);
  }
  var __easycom_0$j = /* @__PURE__ */ _export_sfc(_sfc_main$Y, [["render", _sfc_render$X], ["__scopeId", "data-v-7b4a3849"], ["__file", "F:/work/ChuangDian/uni_modules/uni-grid/components/uni-grid-item/uni-grid-item.vue"]]);
  const _sfc_main$X = {
    name: "UniGrid",
    emits: ["change"],
    props: {
      column: {
        type: Number,
        default: 3
      },
      showBorder: {
        type: Boolean,
        default: true
      },
      borderColor: {
        type: String,
        default: "#D2D2D2"
      },
      square: {
        type: Boolean,
        default: true
      },
      highlight: {
        type: Boolean,
        default: true
      }
    },
    provide() {
      return {
        grid: this
      };
    },
    data() {
      const elId = `Uni_${Math.ceil(Math.random() * 1e6).toString(36)}`;
      return {
        elId,
        width: 0
      };
    },
    created() {
      this.children = [];
    },
    mounted() {
      this.$nextTick(() => {
        this.init();
      });
    },
    methods: {
      init() {
        setTimeout(() => {
          this._getSize((width) => {
            this.children.forEach((item, index) => {
              item.width = width;
            });
          });
        }, 50);
      },
      change(e2) {
        this.$emit("change", e2);
      },
      _getSize(fn2) {
        uni.createSelectorQuery().in(this).select(`#${this.elId}`).boundingClientRect().exec((ret) => {
          this.width = parseInt((ret[0].width - 1) / this.column) + "px";
          fn2(this.width);
        });
      }
    }
  };
  function _sfc_render$W(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-grid-wrap" }, [
      vue.createElementVNode("view", {
        id: $data.elId,
        ref: "uni-grid",
        class: vue.normalizeClass(["uni-grid", { "uni-grid--border": $props.showBorder }]),
        style: vue.normalizeStyle({ "border-left-color": $props.borderColor })
      }, [
        vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
      ], 14, ["id"])
    ]);
  }
  var __easycom_1$3 = /* @__PURE__ */ _export_sfc(_sfc_main$X, [["render", _sfc_render$W], ["__scopeId", "data-v-aaae28a6"], ["__file", "F:/work/ChuangDian/uni_modules/uni-grid/components/uni-grid/uni-grid.vue"]]);
  const _sfc_main$W = {
    data() {
      return {
        currentIndex: 0,
        list: [
          {
            pagePath: "pages/main/main",
            iconPath: "static/tabs/tab1_uncheck.png",
            selectedIconPath: "static/tabs/tab1_check.png",
            text: "\u9996\u9875"
          },
          {
            pagePath: "pages/scene/scene",
            iconPath: "static/tabs/tab2_uncheck.png",
            selectedIconPath: "static/tabs/tab2_check.png",
            text: "\u573A\u666F"
          },
          {
            pagePath: "pages/shop/shop",
            iconPath: "static/tabs/tab3_uncheck.png",
            selectedIconPath: "static/tabs/tab3_check.png",
            text: "\u5546\u57CE"
          },
          {
            pagePath: "pages/mine/mine",
            iconPath: "static/tabs/tab4_uncheck.png",
            selectedIconPath: "static/tabs/tab4_check.png",
            text: "\u6211\u7684"
          }
        ]
      };
    },
    computed: {
      filteredList() {
        let userinfo = uni.getStorageSync("userinfo");
        formatAppLog("log", "at components/tabbar/tabbar.vue:49", "\u8FC7\u6EE4\u4E2A\u4EBA\u4E2D\u5FC3\u6570\u7EC4", userinfo.group_id);
        return this.list.filter((item, index) => {
          if (item.pagePath === "pages/main/main" || item.pagePath === "pages/scene/scene") {
            return userinfo.group_id == 2;
          } else {
            return true;
          }
        });
      }
    },
    methods: {
      switchTab(item, index) {
        uni.switchTab({
          url: "/" + item.pagePath
        });
      }
    },
    props: {
      initCurrIndex: {
        type: String,
        default: "0"
      }
    }
  };
  function _sfc_render$V(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock(vue.Fragment, null, [
      vue.createElementVNode("div", { class: "custom-tab-bar" }, [
        (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($options.filteredList, (item, index) => {
          return vue.openBlock(), vue.createElementBlock("div", {
            key: index,
            onClick: ($event) => $options.switchTab(item, index),
            class: "tab-item"
          }, [
            vue.createElementVNode("img", {
              src: $props.initCurrIndex == index ? item.selectedIconPath : item.iconPath,
              alt: "icon"
            }, null, 8, ["src"]),
            vue.createElementVNode("span", {
              class: vue.normalizeClass({ "selected": $props.initCurrIndex == index })
            }, vue.toDisplayString(item.text), 3)
          ], 8, ["onClick"]);
        }), 128))
      ]),
      vue.createCommentVNode(" \u7528\u6765\u5360\u4F4D\uFF0C\u9632\u6B62\u88AB\u81EA\u5B9A\u4E49\u5185\u5BB9\u6321\u4F4F "),
      vue.createElementVNode("div", {
        class: "zhanwei",
        style: { "width": "100%", "height": "60px" }
      })
    ], 64);
  }
  var __easycom_1$2 = /* @__PURE__ */ _export_sfc(_sfc_main$W, [["render", _sfc_render$V], ["__scopeId", "data-v-8ad7aaf8"], ["__file", "F:/work/ChuangDian/components/tabbar/tabbar.vue"]]);
  var pcaData = {
    "\u5317\u4EAC\u5E02": {
      "\u5E02\u8F96\u533A": [
        "\u4E1C\u57CE\u533A",
        "\u897F\u57CE\u533A",
        "\u671D\u9633\u533A",
        "\u4E30\u53F0\u533A",
        "\u77F3\u666F\u5C71\u533A",
        "\u6D77\u6DC0\u533A",
        "\u95E8\u5934\u6C9F\u533A",
        "\u623F\u5C71\u533A",
        "\u901A\u5DDE\u533A",
        "\u987A\u4E49\u533A",
        "\u660C\u5E73\u533A",
        "\u5927\u5174\u533A",
        "\u6000\u67D4\u533A",
        "\u5E73\u8C37\u533A",
        "\u5BC6\u4E91\u533A",
        "\u5EF6\u5E86\u533A"
      ]
    },
    "\u5929\u6D25\u5E02": {
      "\u5E02\u8F96\u533A": [
        "\u548C\u5E73\u533A",
        "\u6CB3\u4E1C\u533A",
        "\u6CB3\u897F\u533A",
        "\u5357\u5F00\u533A",
        "\u6CB3\u5317\u533A",
        "\u7EA2\u6865\u533A",
        "\u4E1C\u4E3D\u533A",
        "\u897F\u9752\u533A",
        "\u6D25\u5357\u533A",
        "\u5317\u8FB0\u533A",
        "\u6B66\u6E05\u533A",
        "\u5B9D\u577B\u533A",
        "\u6EE8\u6D77\u65B0\u533A",
        "\u5B81\u6CB3\u533A",
        "\u9759\u6D77\u533A",
        "\u84DF\u5DDE\u533A"
      ]
    },
    "\u6CB3\u5317\u7701": {
      "\u77F3\u5BB6\u5E84\u5E02": [
        "\u957F\u5B89\u533A",
        "\u6865\u897F\u533A",
        "\u65B0\u534E\u533A",
        "\u4E95\u9649\u77FF\u533A",
        "\u88D5\u534E\u533A",
        "\u85C1\u57CE\u533A",
        "\u9E7F\u6CC9\u533A",
        "\u683E\u57CE\u533A",
        "\u4E95\u9649\u53BF",
        "\u6B63\u5B9A\u53BF",
        "\u884C\u5510\u53BF",
        "\u7075\u5BFF\u53BF",
        "\u9AD8\u9091\u53BF",
        "\u6DF1\u6CFD\u53BF",
        "\u8D5E\u7687\u53BF",
        "\u65E0\u6781\u53BF",
        "\u5E73\u5C71\u53BF",
        "\u5143\u6C0F\u53BF",
        "\u8D75\u53BF",
        "\u77F3\u5BB6\u5E84\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u77F3\u5BB6\u5E84\u5FAA\u73AF\u5316\u5DE5\u56ED\u533A",
        "\u8F9B\u96C6\u5E02",
        "\u664B\u5DDE\u5E02",
        "\u65B0\u4E50\u5E02"
      ],
      "\u5510\u5C71\u5E02": [
        "\u8DEF\u5357\u533A",
        "\u8DEF\u5317\u533A",
        "\u53E4\u51B6\u533A",
        "\u5F00\u5E73\u533A",
        "\u4E30\u5357\u533A",
        "\u4E30\u6DA6\u533A",
        "\u66F9\u5983\u7538\u533A",
        "\u6EE6\u5357\u53BF",
        "\u4E50\u4EAD\u53BF",
        "\u8FC1\u897F\u53BF",
        "\u7389\u7530\u53BF",
        "\u6CB3\u5317\u5510\u5C71\u82A6\u53F0\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u5510\u5C71\u5E02\u6C49\u6CBD\u7BA1\u7406\u533A",
        "\u5510\u5C71\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u6CB3\u5317\u5510\u5C71\u6D77\u6E2F\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u9075\u5316\u5E02",
        "\u8FC1\u5B89\u5E02",
        "\u6EE6\u5DDE\u5E02"
      ],
      "\u79E6\u7687\u5C9B\u5E02": [
        "\u6D77\u6E2F\u533A",
        "\u5C71\u6D77\u5173\u533A",
        "\u5317\u6234\u6CB3\u533A",
        "\u629A\u5B81\u533A",
        "\u9752\u9F99\u6EE1\u65CF\u81EA\u6CBB\u53BF",
        "\u660C\u9ECE\u53BF",
        "\u5362\u9F99\u53BF",
        "\u79E6\u7687\u5C9B\u5E02\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u5317\u6234\u6CB3\u65B0\u533A"
      ],
      "\u90AF\u90F8\u5E02": [
        "\u90AF\u5C71\u533A",
        "\u4E1B\u53F0\u533A",
        "\u590D\u5174\u533A",
        "\u5CF0\u5CF0\u77FF\u533A",
        "\u80A5\u4E61\u533A",
        "\u6C38\u5E74\u533A",
        "\u4E34\u6F33\u53BF",
        "\u6210\u5B89\u53BF",
        "\u5927\u540D\u53BF",
        "\u6D89\u53BF",
        "\u78C1\u53BF",
        "\u90B1\u53BF",
        "\u9E21\u6CFD\u53BF",
        "\u5E7F\u5E73\u53BF",
        "\u9986\u9676\u53BF",
        "\u9B4F\u53BF",
        "\u66F2\u5468\u53BF",
        "\u90AF\u90F8\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u90AF\u90F8\u5180\u5357\u65B0\u533A",
        "\u6B66\u5B89\u5E02"
      ],
      "\u90A2\u53F0\u5E02": [
        "\u8944\u90FD\u533A",
        "\u4FE1\u90FD\u533A",
        "\u4EFB\u6CFD\u533A",
        "\u5357\u548C\u533A",
        "\u4E34\u57CE\u53BF",
        "\u5185\u4E18\u53BF",
        "\u67CF\u4E61\u53BF",
        "\u9686\u5C27\u53BF",
        "\u5B81\u664B\u53BF",
        "\u5DE8\u9E7F\u53BF",
        "\u65B0\u6CB3\u53BF",
        "\u5E7F\u5B97\u53BF",
        "\u5E73\u4E61\u53BF",
        "\u5A01\u53BF",
        "\u6E05\u6CB3\u53BF",
        "\u4E34\u897F\u53BF",
        "\u6CB3\u5317\u90A2\u53F0\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u5357\u5BAB\u5E02",
        "\u6C99\u6CB3\u5E02"
      ],
      "\u4FDD\u5B9A\u5E02": [
        "\u7ADE\u79C0\u533A",
        "\u83B2\u6C60\u533A",
        "\u6EE1\u57CE\u533A",
        "\u6E05\u82D1\u533A",
        "\u5F90\u6C34\u533A",
        "\u6D9E\u6C34\u53BF",
        "\u961C\u5E73\u53BF",
        "\u5B9A\u5174\u53BF",
        "\u5510\u53BF",
        "\u9AD8\u9633\u53BF",
        "\u5BB9\u57CE\u53BF",
        "\u6D9E\u6E90\u53BF",
        "\u671B\u90FD\u53BF",
        "\u5B89\u65B0\u53BF",
        "\u6613\u53BF",
        "\u66F2\u9633\u53BF",
        "\u8821\u53BF",
        "\u987A\u5E73\u53BF",
        "\u535A\u91CE\u53BF",
        "\u96C4\u53BF",
        "\u4FDD\u5B9A\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u4FDD\u5B9A\u767D\u6C9F\u65B0\u57CE",
        "\u6DBF\u5DDE\u5E02",
        "\u5B9A\u5DDE\u5E02",
        "\u5B89\u56FD\u5E02",
        "\u9AD8\u7891\u5E97\u5E02"
      ],
      "\u5F20\u5BB6\u53E3\u5E02": [
        "\u6865\u4E1C\u533A",
        "\u6865\u897F\u533A",
        "\u5BA3\u5316\u533A",
        "\u4E0B\u82B1\u56ED\u533A",
        "\u4E07\u5168\u533A",
        "\u5D07\u793C\u533A",
        "\u5F20\u5317\u53BF",
        "\u5EB7\u4FDD\u53BF",
        "\u6CBD\u6E90\u53BF",
        "\u5C1A\u4E49\u53BF",
        "\u851A\u53BF",
        "\u9633\u539F\u53BF",
        "\u6000\u5B89\u53BF",
        "\u6000\u6765\u53BF",
        "\u6DBF\u9E7F\u53BF",
        "\u8D64\u57CE\u53BF",
        "\u5F20\u5BB6\u53E3\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u5F20\u5BB6\u53E3\u5E02\u5BDF\u5317\u7BA1\u7406\u533A",
        "\u5F20\u5BB6\u53E3\u5E02\u585E\u5317\u7BA1\u7406\u533A"
      ],
      "\u627F\u5FB7\u5E02": [
        "\u53CC\u6865\u533A",
        "\u53CC\u6EE6\u533A",
        "\u9E70\u624B\u8425\u5B50\u77FF\u533A",
        "\u627F\u5FB7\u53BF",
        "\u5174\u9686\u53BF",
        "\u6EE6\u5E73\u53BF",
        "\u9686\u5316\u53BF",
        "\u4E30\u5B81\u6EE1\u65CF\u81EA\u6CBB\u53BF",
        "\u5BBD\u57CE\u6EE1\u65CF\u81EA\u6CBB\u53BF",
        "\u56F4\u573A\u6EE1\u65CF\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",
        "\u627F\u5FB7\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u5E73\u6CC9\u5E02"
      ],
      "\u6CA7\u5DDE\u5E02": [
        "\u65B0\u534E\u533A",
        "\u8FD0\u6CB3\u533A",
        "\u6CA7\u53BF",
        "\u9752\u53BF",
        "\u4E1C\u5149\u53BF",
        "\u6D77\u5174\u53BF",
        "\u76D0\u5C71\u53BF",
        "\u8083\u5B81\u53BF",
        "\u5357\u76AE\u53BF",
        "\u5434\u6865\u53BF",
        "\u732E\u53BF",
        "\u5B5F\u6751\u56DE\u65CF\u81EA\u6CBB\u53BF",
        "\u6CB3\u5317\u6CA7\u5DDE\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u6CA7\u5DDE\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u6CA7\u5DDE\u6E24\u6D77\u65B0\u533A",
        "\u6CCA\u5934\u5E02",
        "\u4EFB\u4E18\u5E02",
        "\u9EC4\u9A85\u5E02",
        "\u6CB3\u95F4\u5E02"
      ],
      "\u5ECA\u574A\u5E02": [
        "\u5B89\u6B21\u533A",
        "\u5E7F\u9633\u533A",
        "\u56FA\u5B89\u53BF",
        "\u6C38\u6E05\u53BF",
        "\u9999\u6CB3\u53BF",
        "\u5927\u57CE\u53BF",
        "\u6587\u5B89\u53BF",
        "\u5927\u5382\u56DE\u65CF\u81EA\u6CBB\u53BF",
        "\u5ECA\u574A\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u9738\u5DDE\u5E02",
        "\u4E09\u6CB3\u5E02"
      ],
      "\u8861\u6C34\u5E02": [
        "\u6843\u57CE\u533A",
        "\u5180\u5DDE\u533A",
        "\u67A3\u5F3A\u53BF",
        "\u6B66\u9091\u53BF",
        "\u6B66\u5F3A\u53BF",
        "\u9976\u9633\u53BF",
        "\u5B89\u5E73\u53BF",
        "\u6545\u57CE\u53BF",
        "\u666F\u53BF",
        "\u961C\u57CE\u53BF",
        "\u6CB3\u5317\u8861\u6C34\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u8861\u6C34\u6EE8\u6E56\u65B0\u533A",
        "\u6DF1\u5DDE\u5E02"
      ]
    },
    "\u5C71\u897F\u7701": {
      "\u592A\u539F\u5E02": [
        "\u5C0F\u5E97\u533A",
        "\u8FCE\u6CFD\u533A",
        "\u674F\u82B1\u5CAD\u533A",
        "\u5C16\u8349\u576A\u533A",
        "\u4E07\u67CF\u6797\u533A",
        "\u664B\u6E90\u533A",
        "\u6E05\u5F90\u53BF",
        "\u9633\u66F2\u53BF",
        "\u5A04\u70E6\u53BF",
        "\u5C71\u897F\u8F6C\u578B\u7EFC\u5408\u6539\u9769\u793A\u8303\u533A",
        "\u53E4\u4EA4\u5E02"
      ],
      "\u5927\u540C\u5E02": [
        "\u65B0\u8363\u533A",
        "\u5E73\u57CE\u533A",
        "\u4E91\u5188\u533A",
        "\u4E91\u5DDE\u533A",
        "\u9633\u9AD8\u53BF",
        "\u5929\u9547\u53BF",
        "\u5E7F\u7075\u53BF",
        "\u7075\u4E18\u53BF",
        "\u6D51\u6E90\u53BF",
        "\u5DE6\u4E91\u53BF",
        "\u5C71\u897F\u5927\u540C\u7ECF\u6D4E\u5F00\u53D1\u533A"
      ],
      "\u9633\u6CC9\u5E02": [
        "\u57CE\u533A",
        "\u77FF\u533A",
        "\u90CA\u533A",
        "\u5E73\u5B9A\u53BF",
        "\u76C2\u53BF"
      ],
      "\u957F\u6CBB\u5E02": [
        "\u6F5E\u5DDE\u533A",
        "\u4E0A\u515A\u533A",
        "\u5C6F\u7559\u533A",
        "\u6F5E\u57CE\u533A",
        "\u8944\u57A3\u53BF",
        "\u5E73\u987A\u53BF",
        "\u9ECE\u57CE\u53BF",
        "\u58F6\u5173\u53BF",
        "\u957F\u5B50\u53BF",
        "\u6B66\u4E61\u53BF",
        "\u6C81\u53BF",
        "\u6C81\u6E90\u53BF"
      ],
      "\u664B\u57CE\u5E02": [
        "\u57CE\u533A",
        "\u6C81\u6C34\u53BF",
        "\u9633\u57CE\u53BF",
        "\u9675\u5DDD\u53BF",
        "\u6CFD\u5DDE\u53BF",
        "\u9AD8\u5E73\u5E02"
      ],
      "\u6714\u5DDE\u5E02": [
        "\u6714\u57CE\u533A",
        "\u5E73\u9C81\u533A",
        "\u5C71\u9634\u53BF",
        "\u5E94\u53BF",
        "\u53F3\u7389\u53BF",
        "\u5C71\u897F\u6714\u5DDE\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u6000\u4EC1\u5E02"
      ],
      "\u664B\u4E2D\u5E02": [
        "\u6986\u6B21\u533A",
        "\u592A\u8C37\u533A",
        "\u6986\u793E\u53BF",
        "\u5DE6\u6743\u53BF",
        "\u548C\u987A\u53BF",
        "\u6614\u9633\u53BF",
        "\u5BFF\u9633\u53BF",
        "\u7941\u53BF",
        "\u5E73\u9065\u53BF",
        "\u7075\u77F3\u53BF",
        "\u4ECB\u4F11\u5E02"
      ],
      "\u8FD0\u57CE\u5E02": [
        "\u76D0\u6E56\u533A",
        "\u4E34\u7317\u53BF",
        "\u4E07\u8363\u53BF",
        "\u95FB\u559C\u53BF",
        "\u7A37\u5C71\u53BF",
        "\u65B0\u7EDB\u53BF",
        "\u7EDB\u53BF",
        "\u57A3\u66F2\u53BF",
        "\u590F\u53BF",
        "\u5E73\u9646\u53BF",
        "\u82AE\u57CE\u53BF",
        "\u6C38\u6D4E\u5E02",
        "\u6CB3\u6D25\u5E02"
      ],
      "\u5FFB\u5DDE\u5E02": [
        "\u5FFB\u5E9C\u533A",
        "\u5B9A\u8944\u53BF",
        "\u4E94\u53F0\u53BF",
        "\u4EE3\u53BF",
        "\u7E41\u5CD9\u53BF",
        "\u5B81\u6B66\u53BF",
        "\u9759\u4E50\u53BF",
        "\u795E\u6C60\u53BF",
        "\u4E94\u5BE8\u53BF",
        "\u5CA2\u5C9A\u53BF",
        "\u6CB3\u66F2\u53BF",
        "\u4FDD\u5FB7\u53BF",
        "\u504F\u5173\u53BF",
        "\u4E94\u53F0\u5C71\u98CE\u666F\u540D\u80DC\u533A",
        "\u539F\u5E73\u5E02"
      ],
      "\u4E34\u6C7E\u5E02": [
        "\u5C27\u90FD\u533A",
        "\u66F2\u6C83\u53BF",
        "\u7FFC\u57CE\u53BF",
        "\u8944\u6C7E\u53BF",
        "\u6D2A\u6D1E\u53BF",
        "\u53E4\u53BF",
        "\u5B89\u6CFD\u53BF",
        "\u6D6E\u5C71\u53BF",
        "\u5409\u53BF",
        "\u4E61\u5B81\u53BF",
        "\u5927\u5B81\u53BF",
        "\u96B0\u53BF",
        "\u6C38\u548C\u53BF",
        "\u84B2\u53BF",
        "\u6C7E\u897F\u53BF",
        "\u4FAF\u9A6C\u5E02",
        "\u970D\u5DDE\u5E02"
      ],
      "\u5415\u6881\u5E02": [
        "\u79BB\u77F3\u533A",
        "\u6587\u6C34\u53BF",
        "\u4EA4\u57CE\u53BF",
        "\u5174\u53BF",
        "\u4E34\u53BF",
        "\u67F3\u6797\u53BF",
        "\u77F3\u697C\u53BF",
        "\u5C9A\u53BF",
        "\u65B9\u5C71\u53BF",
        "\u4E2D\u9633\u53BF",
        "\u4EA4\u53E3\u53BF",
        "\u5B5D\u4E49\u5E02",
        "\u6C7E\u9633\u5E02"
      ]
    },
    "\u5185\u8499\u53E4\u81EA\u6CBB\u533A": {
      "\u547C\u548C\u6D69\u7279\u5E02": [
        "\u65B0\u57CE\u533A",
        "\u56DE\u6C11\u533A",
        "\u7389\u6CC9\u533A",
        "\u8D5B\u7F55\u533A",
        "\u571F\u9ED8\u7279\u5DE6\u65D7",
        "\u6258\u514B\u6258\u53BF",
        "\u548C\u6797\u683C\u5C14\u53BF",
        "\u6E05\u6C34\u6CB3\u53BF",
        "\u6B66\u5DDD\u53BF",
        "\u547C\u548C\u6D69\u7279\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A"
      ],
      "\u5305\u5934\u5E02": [
        "\u4E1C\u6CB3\u533A",
        "\u6606\u90FD\u4ED1\u533A",
        "\u9752\u5C71\u533A",
        "\u77F3\u62D0\u533A",
        "\u767D\u4E91\u9102\u535A\u77FF\u533A",
        "\u4E5D\u539F\u533A",
        "\u571F\u9ED8\u7279\u53F3\u65D7",
        "\u56FA\u9633\u53BF",
        "\u8FBE\u5C14\u7F55\u8302\u660E\u5B89\u8054\u5408\u65D7",
        "\u5305\u5934\u7A00\u571F\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A"
      ],
      "\u4E4C\u6D77\u5E02": [
        "\u6D77\u52C3\u6E7E\u533A",
        "\u6D77\u5357\u533A",
        "\u4E4C\u8FBE\u533A"
      ],
      "\u8D64\u5CF0\u5E02": [
        "\u7EA2\u5C71\u533A",
        "\u5143\u5B9D\u5C71\u533A",
        "\u677E\u5C71\u533A",
        "\u963F\u9C81\u79D1\u5C14\u6C81\u65D7",
        "\u5DF4\u6797\u5DE6\u65D7",
        "\u5DF4\u6797\u53F3\u65D7",
        "\u6797\u897F\u53BF",
        "\u514B\u4EC0\u514B\u817E\u65D7",
        "\u7FC1\u725B\u7279\u65D7",
        "\u5580\u5587\u6C81\u65D7",
        "\u5B81\u57CE\u53BF",
        "\u6556\u6C49\u65D7"
      ],
      "\u901A\u8FBD\u5E02": [
        "\u79D1\u5C14\u6C81\u533A",
        "\u79D1\u5C14\u6C81\u5DE6\u7FFC\u4E2D\u65D7",
        "\u79D1\u5C14\u6C81\u5DE6\u7FFC\u540E\u65D7",
        "\u5F00\u9C81\u53BF",
        "\u5E93\u4F26\u65D7",
        "\u5948\u66FC\u65D7",
        "\u624E\u9C81\u7279\u65D7",
        "\u901A\u8FBD\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u970D\u6797\u90ED\u52D2\u5E02"
      ],
      "\u9102\u5C14\u591A\u65AF\u5E02": [
        "\u4E1C\u80DC\u533A",
        "\u5EB7\u5DF4\u4EC0\u533A",
        "\u8FBE\u62C9\u7279\u65D7",
        "\u51C6\u683C\u5C14\u65D7",
        "\u9102\u6258\u514B\u524D\u65D7",
        "\u9102\u6258\u514B\u65D7",
        "\u676D\u9526\u65D7",
        "\u4E4C\u5BA1\u65D7",
        "\u4F0A\u91D1\u970D\u6D1B\u65D7"
      ],
      "\u547C\u4F26\u8D1D\u5C14\u5E02": [
        "\u6D77\u62C9\u5C14\u533A",
        "\u624E\u8D49\u8BFA\u5C14\u533A",
        "\u963F\u8363\u65D7",
        "\u83AB\u529B\u8FBE\u74E6\u8FBE\u65A1\u5C14\u65CF\u81EA\u6CBB\u65D7",
        "\u9102\u4F26\u6625\u81EA\u6CBB\u65D7",
        "\u9102\u6E29\u514B\u65CF\u81EA\u6CBB\u65D7",
        "\u9648\u5DF4\u5C14\u864E\u65D7",
        "\u65B0\u5DF4\u5C14\u864E\u5DE6\u65D7",
        "\u65B0\u5DF4\u5C14\u864E\u53F3\u65D7",
        "\u6EE1\u6D32\u91CC\u5E02",
        "\u7259\u514B\u77F3\u5E02",
        "\u624E\u5170\u5C6F\u5E02",
        "\u989D\u5C14\u53E4\u7EB3\u5E02",
        "\u6839\u6CB3\u5E02"
      ],
      "\u5DF4\u5F66\u6DD6\u5C14\u5E02": [
        "\u4E34\u6CB3\u533A",
        "\u4E94\u539F\u53BF",
        "\u78F4\u53E3\u53BF",
        "\u4E4C\u62C9\u7279\u524D\u65D7",
        "\u4E4C\u62C9\u7279\u4E2D\u65D7",
        "\u4E4C\u62C9\u7279\u540E\u65D7",
        "\u676D\u9526\u540E\u65D7"
      ],
      "\u4E4C\u5170\u5BDF\u5E03\u5E02": [
        "\u96C6\u5B81\u533A",
        "\u5353\u8D44\u53BF",
        "\u5316\u5FB7\u53BF",
        "\u5546\u90FD\u53BF",
        "\u5174\u548C\u53BF",
        "\u51C9\u57CE\u53BF",
        "\u5BDF\u54C8\u5C14\u53F3\u7FFC\u524D\u65D7",
        "\u5BDF\u54C8\u5C14\u53F3\u7FFC\u4E2D\u65D7",
        "\u5BDF\u54C8\u5C14\u53F3\u7FFC\u540E\u65D7",
        "\u56DB\u5B50\u738B\u65D7",
        "\u4E30\u9547\u5E02"
      ],
      "\u5174\u5B89\u76DF": [
        "\u4E4C\u5170\u6D69\u7279\u5E02",
        "\u963F\u5C14\u5C71\u5E02",
        "\u79D1\u5C14\u6C81\u53F3\u7FFC\u524D\u65D7",
        "\u79D1\u5C14\u6C81\u53F3\u7FFC\u4E2D\u65D7",
        "\u624E\u8D49\u7279\u65D7",
        "\u7A81\u6CC9\u53BF"
      ],
      "\u9521\u6797\u90ED\u52D2\u76DF": [
        "\u4E8C\u8FDE\u6D69\u7279\u5E02",
        "\u9521\u6797\u6D69\u7279\u5E02",
        "\u963F\u5DF4\u560E\u65D7",
        "\u82CF\u5C3C\u7279\u5DE6\u65D7",
        "\u82CF\u5C3C\u7279\u53F3\u65D7",
        "\u4E1C\u4E4C\u73E0\u7A46\u6C81\u65D7",
        "\u897F\u4E4C\u73E0\u7A46\u6C81\u65D7",
        "\u592A\u4EC6\u5BFA\u65D7",
        "\u9576\u9EC4\u65D7",
        "\u6B63\u9576\u767D\u65D7",
        "\u6B63\u84DD\u65D7",
        "\u591A\u4F26\u53BF",
        "\u4E4C\u62C9\u76D6\u7BA1\u7406\u533A\u7BA1\u59D4\u4F1A"
      ],
      "\u963F\u62C9\u5584\u76DF": [
        "\u963F\u62C9\u5584\u5DE6\u65D7",
        "\u963F\u62C9\u5584\u53F3\u65D7",
        "\u989D\u6D4E\u7EB3\u65D7",
        "\u5185\u8499\u53E4\u963F\u62C9\u5584\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A"
      ]
    },
    "\u8FBD\u5B81\u7701": {
      "\u6C88\u9633\u5E02": [
        "\u548C\u5E73\u533A",
        "\u6C88\u6CB3\u533A",
        "\u5927\u4E1C\u533A",
        "\u7687\u59D1\u533A",
        "\u94C1\u897F\u533A",
        "\u82CF\u5BB6\u5C6F\u533A",
        "\u6D51\u5357\u533A",
        "\u6C88\u5317\u65B0\u533A",
        "\u4E8E\u6D2A\u533A",
        "\u8FBD\u4E2D\u533A",
        "\u5EB7\u5E73\u53BF",
        "\u6CD5\u5E93\u53BF",
        "\u65B0\u6C11\u5E02"
      ],
      "\u5927\u8FDE\u5E02": [
        "\u4E2D\u5C71\u533A",
        "\u897F\u5C97\u533A",
        "\u6C99\u6CB3\u53E3\u533A",
        "\u7518\u4E95\u5B50\u533A",
        "\u65C5\u987A\u53E3\u533A",
        "\u91D1\u5DDE\u533A",
        "\u666E\u5170\u5E97\u533A",
        "\u957F\u6D77\u53BF",
        "\u74E6\u623F\u5E97\u5E02",
        "\u5E84\u6CB3\u5E02"
      ],
      "\u978D\u5C71\u5E02": [
        "\u94C1\u4E1C\u533A",
        "\u94C1\u897F\u533A",
        "\u7ACB\u5C71\u533A",
        "\u5343\u5C71\u533A",
        "\u53F0\u5B89\u53BF",
        "\u5CAB\u5CA9\u6EE1\u65CF\u81EA\u6CBB\u53BF",
        "\u6D77\u57CE\u5E02"
      ],
      "\u629A\u987A\u5E02": [
        "\u65B0\u629A\u533A",
        "\u4E1C\u6D32\u533A",
        "\u671B\u82B1\u533A",
        "\u987A\u57CE\u533A",
        "\u629A\u987A\u53BF",
        "\u65B0\u5BBE\u6EE1\u65CF\u81EA\u6CBB\u53BF",
        "\u6E05\u539F\u6EE1\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u672C\u6EAA\u5E02": [
        "\u5E73\u5C71\u533A",
        "\u6EAA\u6E56\u533A",
        "\u660E\u5C71\u533A",
        "\u5357\u82AC\u533A",
        "\u672C\u6EAA\u6EE1\u65CF\u81EA\u6CBB\u53BF",
        "\u6853\u4EC1\u6EE1\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u4E39\u4E1C\u5E02": [
        "\u5143\u5B9D\u533A",
        "\u632F\u5174\u533A",
        "\u632F\u5B89\u533A",
        "\u5BBD\u7538\u6EE1\u65CF\u81EA\u6CBB\u53BF",
        "\u4E1C\u6E2F\u5E02",
        "\u51E4\u57CE\u5E02"
      ],
      "\u9526\u5DDE\u5E02": [
        "\u53E4\u5854\u533A",
        "\u51CC\u6CB3\u533A",
        "\u592A\u548C\u533A",
        "\u9ED1\u5C71\u53BF",
        "\u4E49\u53BF",
        "\u51CC\u6D77\u5E02",
        "\u5317\u9547\u5E02"
      ],
      "\u8425\u53E3\u5E02": [
        "\u7AD9\u524D\u533A",
        "\u897F\u5E02\u533A",
        "\u9C85\u9C7C\u5708\u533A",
        "\u8001\u8FB9\u533A",
        "\u76D6\u5DDE\u5E02",
        "\u5927\u77F3\u6865\u5E02"
      ],
      "\u961C\u65B0\u5E02": [
        "\u6D77\u5DDE\u533A",
        "\u65B0\u90B1\u533A",
        "\u592A\u5E73\u533A",
        "\u6E05\u6CB3\u95E8\u533A",
        "\u7EC6\u6CB3\u533A",
        "\u961C\u65B0\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",
        "\u5F70\u6B66\u53BF"
      ],
      "\u8FBD\u9633\u5E02": [
        "\u767D\u5854\u533A",
        "\u6587\u5723\u533A",
        "\u5B8F\u4F1F\u533A",
        "\u5F13\u957F\u5CAD\u533A",
        "\u592A\u5B50\u6CB3\u533A",
        "\u8FBD\u9633\u53BF",
        "\u706F\u5854\u5E02"
      ],
      "\u76D8\u9526\u5E02": [
        "\u53CC\u53F0\u5B50\u533A",
        "\u5174\u9686\u53F0\u533A",
        "\u5927\u6D3C\u533A",
        "\u76D8\u5C71\u53BF"
      ],
      "\u94C1\u5CAD\u5E02": [
        "\u94F6\u5DDE\u533A",
        "\u6E05\u6CB3\u533A",
        "\u94C1\u5CAD\u53BF",
        "\u897F\u4E30\u53BF",
        "\u660C\u56FE\u53BF",
        "\u8C03\u5175\u5C71\u5E02",
        "\u5F00\u539F\u5E02"
      ],
      "\u671D\u9633\u5E02": [
        "\u53CC\u5854\u533A",
        "\u9F99\u57CE\u533A",
        "\u671D\u9633\u53BF",
        "\u5EFA\u5E73\u53BF",
        "\u5580\u5587\u6C81\u5DE6\u7FFC\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",
        "\u5317\u7968\u5E02",
        "\u51CC\u6E90\u5E02"
      ],
      "\u846B\u82A6\u5C9B\u5E02": [
        "\u8FDE\u5C71\u533A",
        "\u9F99\u6E2F\u533A",
        "\u5357\u7968\u533A",
        "\u7EE5\u4E2D\u53BF",
        "\u5EFA\u660C\u53BF",
        "\u5174\u57CE\u5E02"
      ]
    },
    "\u5409\u6797\u7701": {
      "\u957F\u6625\u5E02": [
        "\u5357\u5173\u533A",
        "\u5BBD\u57CE\u533A",
        "\u671D\u9633\u533A",
        "\u4E8C\u9053\u533A",
        "\u7EFF\u56ED\u533A",
        "\u53CC\u9633\u533A",
        "\u4E5D\u53F0\u533A",
        "\u519C\u5B89\u53BF",
        "\u957F\u6625\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u957F\u6625\u51C0\u6708\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u957F\u6625\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u957F\u6625\u6C7D\u8F66\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u6986\u6811\u5E02",
        "\u5FB7\u60E0\u5E02",
        "\u516C\u4E3B\u5CAD\u5E02"
      ],
      "\u5409\u6797\u5E02": [
        "\u660C\u9091\u533A",
        "\u9F99\u6F6D\u533A",
        "\u8239\u8425\u533A",
        "\u4E30\u6EE1\u533A",
        "\u6C38\u5409\u53BF",
        "\u5409\u6797\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u5409\u6797\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u5409\u6797\u4E2D\u56FD\u65B0\u52A0\u5761\u98DF\u54C1\u533A",
        "\u86DF\u6CB3\u5E02",
        "\u6866\u7538\u5E02",
        "\u8212\u5170\u5E02",
        "\u78D0\u77F3\u5E02"
      ],
      "\u56DB\u5E73\u5E02": [
        "\u94C1\u897F\u533A",
        "\u94C1\u4E1C\u533A",
        "\u68A8\u6811\u53BF",
        "\u4F0A\u901A\u6EE1\u65CF\u81EA\u6CBB\u53BF",
        "\u53CC\u8FBD\u5E02"
      ],
      "\u8FBD\u6E90\u5E02": [
        "\u9F99\u5C71\u533A",
        "\u897F\u5B89\u533A",
        "\u4E1C\u4E30\u53BF",
        "\u4E1C\u8FBD\u53BF"
      ],
      "\u901A\u5316\u5E02": [
        "\u4E1C\u660C\u533A",
        "\u4E8C\u9053\u6C5F\u533A",
        "\u901A\u5316\u53BF",
        "\u8F89\u5357\u53BF",
        "\u67F3\u6CB3\u53BF",
        "\u6885\u6CB3\u53E3\u5E02",
        "\u96C6\u5B89\u5E02"
      ],
      "\u767D\u5C71\u5E02": [
        "\u6D51\u6C5F\u533A",
        "\u6C5F\u6E90\u533A",
        "\u629A\u677E\u53BF",
        "\u9756\u5B87\u53BF",
        "\u957F\u767D\u671D\u9C9C\u65CF\u81EA\u6CBB\u53BF",
        "\u4E34\u6C5F\u5E02"
      ],
      "\u677E\u539F\u5E02": [
        "\u5B81\u6C5F\u533A",
        "\u524D\u90ED\u5C14\u7F57\u65AF\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",
        "\u957F\u5CAD\u53BF",
        "\u4E7E\u5B89\u53BF",
        "\u5409\u6797\u677E\u539F\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u6276\u4F59\u5E02"
      ],
      "\u767D\u57CE\u5E02": [
        "\u6D2E\u5317\u533A",
        "\u9547\u8D49\u53BF",
        "\u901A\u6986\u53BF",
        "\u5409\u6797\u767D\u57CE\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u6D2E\u5357\u5E02",
        "\u5927\u5B89\u5E02"
      ],
      "\u5EF6\u8FB9\u671D\u9C9C\u65CF\u81EA\u6CBB\u5DDE": [
        "\u5EF6\u5409\u5E02",
        "\u56FE\u4EEC\u5E02",
        "\u6566\u5316\u5E02",
        "\u73F2\u6625\u5E02",
        "\u9F99\u4E95\u5E02",
        "\u548C\u9F99\u5E02",
        "\u6C6A\u6E05\u53BF",
        "\u5B89\u56FE\u53BF"
      ]
    },
    "\u9ED1\u9F99\u6C5F\u7701": {
      "\u54C8\u5C14\u6EE8\u5E02": [
        "\u9053\u91CC\u533A",
        "\u5357\u5C97\u533A",
        "\u9053\u5916\u533A",
        "\u5E73\u623F\u533A",
        "\u677E\u5317\u533A",
        "\u9999\u574A\u533A",
        "\u547C\u5170\u533A",
        "\u963F\u57CE\u533A",
        "\u53CC\u57CE\u533A",
        "\u4F9D\u5170\u53BF",
        "\u65B9\u6B63\u53BF",
        "\u5BBE\u53BF",
        "\u5DF4\u5F66\u53BF",
        "\u6728\u5170\u53BF",
        "\u901A\u6CB3\u53BF",
        "\u5EF6\u5BFF\u53BF",
        "\u5C1A\u5FD7\u5E02",
        "\u4E94\u5E38\u5E02"
      ],
      "\u9F50\u9F50\u54C8\u5C14\u5E02": [
        "\u9F99\u6C99\u533A",
        "\u5EFA\u534E\u533A",
        "\u94C1\u950B\u533A",
        "\u6602\u6602\u6EAA\u533A",
        "\u5BCC\u62C9\u5C14\u57FA\u533A",
        "\u78BE\u5B50\u5C71\u533A",
        "\u6885\u91CC\u65AF\u8FBE\u65A1\u5C14\u65CF\u533A",
        "\u9F99\u6C5F\u53BF",
        "\u4F9D\u5B89\u53BF",
        "\u6CF0\u6765\u53BF",
        "\u7518\u5357\u53BF",
        "\u5BCC\u88D5\u53BF",
        "\u514B\u5C71\u53BF",
        "\u514B\u4E1C\u53BF",
        "\u62DC\u6CC9\u53BF",
        "\u8BB7\u6CB3\u5E02"
      ],
      "\u9E21\u897F\u5E02": [
        "\u9E21\u51A0\u533A",
        "\u6052\u5C71\u533A",
        "\u6EF4\u9053\u533A",
        "\u68A8\u6811\u533A",
        "\u57CE\u5B50\u6CB3\u533A",
        "\u9EBB\u5C71\u533A",
        "\u9E21\u4E1C\u53BF",
        "\u864E\u6797\u5E02",
        "\u5BC6\u5C71\u5E02"
      ],
      "\u9E64\u5C97\u5E02": [
        "\u5411\u9633\u533A",
        "\u5DE5\u519C\u533A",
        "\u5357\u5C71\u533A",
        "\u5174\u5B89\u533A",
        "\u4E1C\u5C71\u533A",
        "\u5174\u5C71\u533A",
        "\u841D\u5317\u53BF",
        "\u7EE5\u6EE8\u53BF"
      ],
      "\u53CC\u9E2D\u5C71\u5E02": [
        "\u5C16\u5C71\u533A",
        "\u5CAD\u4E1C\u533A",
        "\u56DB\u65B9\u53F0\u533A",
        "\u5B9D\u5C71\u533A",
        "\u96C6\u8D24\u53BF",
        "\u53CB\u8C0A\u53BF",
        "\u5B9D\u6E05\u53BF",
        "\u9976\u6CB3\u53BF"
      ],
      "\u5927\u5E86\u5E02": [
        "\u8428\u5C14\u56FE\u533A",
        "\u9F99\u51E4\u533A",
        "\u8BA9\u80E1\u8DEF\u533A",
        "\u7EA2\u5C97\u533A",
        "\u5927\u540C\u533A",
        "\u8087\u5DDE\u53BF",
        "\u8087\u6E90\u53BF",
        "\u6797\u7538\u53BF",
        "\u675C\u5C14\u4F2F\u7279\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",
        "\u5927\u5E86\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A"
      ],
      "\u4F0A\u6625\u5E02": [
        "\u4F0A\u7F8E\u533A",
        "\u4E4C\u7FE0\u533A",
        "\u53CB\u597D\u533A",
        "\u5609\u836B\u53BF",
        "\u6C64\u65FA\u53BF",
        "\u4E30\u6797\u53BF",
        "\u5927\u7B90\u5C71\u53BF",
        "\u5357\u5C94\u53BF",
        "\u91D1\u6797\u533A",
        "\u94C1\u529B\u5E02"
      ],
      "\u4F73\u6728\u65AF\u5E02": [
        "\u5411\u9633\u533A",
        "\u524D\u8FDB\u533A",
        "\u4E1C\u98CE\u533A",
        "\u90CA\u533A",
        "\u6866\u5357\u53BF",
        "\u6866\u5DDD\u53BF",
        "\u6C64\u539F\u53BF",
        "\u540C\u6C5F\u5E02",
        "\u5BCC\u9526\u5E02",
        "\u629A\u8FDC\u5E02"
      ],
      "\u4E03\u53F0\u6CB3\u5E02": [
        "\u65B0\u5174\u533A",
        "\u6843\u5C71\u533A",
        "\u8304\u5B50\u6CB3\u533A",
        "\u52C3\u5229\u53BF"
      ],
      "\u7261\u4E39\u6C5F\u5E02": [
        "\u4E1C\u5B89\u533A",
        "\u9633\u660E\u533A",
        "\u7231\u6C11\u533A",
        "\u897F\u5B89\u533A",
        "\u6797\u53E3\u53BF",
        "\u7EE5\u82AC\u6CB3\u5E02",
        "\u6D77\u6797\u5E02",
        "\u5B81\u5B89\u5E02",
        "\u7A46\u68F1\u5E02",
        "\u4E1C\u5B81\u5E02"
      ],
      "\u9ED1\u6CB3\u5E02": [
        "\u7231\u8F89\u533A",
        "\u900A\u514B\u53BF",
        "\u5B59\u5434\u53BF",
        "\u5317\u5B89\u5E02",
        "\u4E94\u5927\u8FDE\u6C60\u5E02",
        "\u5AE9\u6C5F\u5E02"
      ],
      "\u7EE5\u5316\u5E02": [
        "\u5317\u6797\u533A",
        "\u671B\u594E\u53BF",
        "\u5170\u897F\u53BF",
        "\u9752\u5188\u53BF",
        "\u5E86\u5B89\u53BF",
        "\u660E\u6C34\u53BF",
        "\u7EE5\u68F1\u53BF",
        "\u5B89\u8FBE\u5E02",
        "\u8087\u4E1C\u5E02",
        "\u6D77\u4F26\u5E02"
      ],
      "\u5927\u5174\u5B89\u5CAD\u5730\u533A": [
        "\u6F20\u6CB3\u5E02",
        "\u547C\u739B\u53BF",
        "\u5854\u6CB3\u53BF",
        "\u52A0\u683C\u8FBE\u5947\u533A",
        "\u677E\u5CAD\u533A",
        "\u65B0\u6797\u533A",
        "\u547C\u4E2D\u533A"
      ]
    },
    "\u4E0A\u6D77\u5E02": {
      "\u5E02\u8F96\u533A": [
        "\u9EC4\u6D66\u533A",
        "\u5F90\u6C47\u533A",
        "\u957F\u5B81\u533A",
        "\u9759\u5B89\u533A",
        "\u666E\u9640\u533A",
        "\u8679\u53E3\u533A",
        "\u6768\u6D66\u533A",
        "\u95F5\u884C\u533A",
        "\u5B9D\u5C71\u533A",
        "\u5609\u5B9A\u533A",
        "\u6D66\u4E1C\u65B0\u533A",
        "\u91D1\u5C71\u533A",
        "\u677E\u6C5F\u533A",
        "\u9752\u6D66\u533A",
        "\u5949\u8D24\u533A",
        "\u5D07\u660E\u533A"
      ]
    },
    "\u6C5F\u82CF\u7701": {
      "\u5357\u4EAC\u5E02": [
        "\u7384\u6B66\u533A",
        "\u79E6\u6DEE\u533A",
        "\u5EFA\u90BA\u533A",
        "\u9F13\u697C\u533A",
        "\u6D66\u53E3\u533A",
        "\u6816\u971E\u533A",
        "\u96E8\u82B1\u53F0\u533A",
        "\u6C5F\u5B81\u533A",
        "\u516D\u5408\u533A",
        "\u6EA7\u6C34\u533A",
        "\u9AD8\u6DF3\u533A"
      ],
      "\u65E0\u9521\u5E02": [
        "\u9521\u5C71\u533A",
        "\u60E0\u5C71\u533A",
        "\u6EE8\u6E56\u533A",
        "\u6881\u6EAA\u533A",
        "\u65B0\u5434\u533A",
        "\u6C5F\u9634\u5E02",
        "\u5B9C\u5174\u5E02"
      ],
      "\u5F90\u5DDE\u5E02": [
        "\u9F13\u697C\u533A",
        "\u4E91\u9F99\u533A",
        "\u8D3E\u6C6A\u533A",
        "\u6CC9\u5C71\u533A",
        "\u94DC\u5C71\u533A",
        "\u4E30\u53BF",
        "\u6C9B\u53BF",
        "\u7762\u5B81\u53BF",
        "\u5F90\u5DDE\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u65B0\u6C82\u5E02",
        "\u90B3\u5DDE\u5E02"
      ],
      "\u5E38\u5DDE\u5E02": [
        "\u5929\u5B81\u533A",
        "\u949F\u697C\u533A",
        "\u65B0\u5317\u533A",
        "\u6B66\u8FDB\u533A",
        "\u91D1\u575B\u533A",
        "\u6EA7\u9633\u5E02"
      ],
      "\u82CF\u5DDE\u5E02": [
        "\u864E\u4E18\u533A",
        "\u5434\u4E2D\u533A",
        "\u76F8\u57CE\u533A",
        "\u59D1\u82CF\u533A",
        "\u5434\u6C5F\u533A",
        "\u82CF\u5DDE\u5DE5\u4E1A\u56ED\u533A",
        "\u5E38\u719F\u5E02",
        "\u5F20\u5BB6\u6E2F\u5E02",
        "\u6606\u5C71\u5E02",
        "\u592A\u4ED3\u5E02"
      ],
      "\u5357\u901A\u5E02": [
        "\u901A\u5DDE\u533A",
        "\u5D07\u5DDD\u533A",
        "\u6D77\u95E8\u533A",
        "\u5982\u4E1C\u53BF",
        "\u5357\u901A\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u542F\u4E1C\u5E02",
        "\u5982\u768B\u5E02",
        "\u6D77\u5B89\u5E02"
      ],
      "\u8FDE\u4E91\u6E2F\u5E02": [
        "\u8FDE\u4E91\u533A",
        "\u6D77\u5DDE\u533A",
        "\u8D63\u6986\u533A",
        "\u4E1C\u6D77\u53BF",
        "\u704C\u4E91\u53BF",
        "\u704C\u5357\u53BF",
        "\u8FDE\u4E91\u6E2F\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A"
      ],
      "\u6DEE\u5B89\u5E02": [
        "\u6DEE\u5B89\u533A",
        "\u6DEE\u9634\u533A",
        "\u6E05\u6C5F\u6D66\u533A",
        "\u6D2A\u6CFD\u533A",
        "\u6D9F\u6C34\u53BF",
        "\u76F1\u7719\u53BF",
        "\u91D1\u6E56\u53BF",
        "\u6DEE\u5B89\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A"
      ],
      "\u76D0\u57CE\u5E02": [
        "\u4EAD\u6E56\u533A",
        "\u76D0\u90FD\u533A",
        "\u5927\u4E30\u533A",
        "\u54CD\u6C34\u53BF",
        "\u6EE8\u6D77\u53BF",
        "\u961C\u5B81\u53BF",
        "\u5C04\u9633\u53BF",
        "\u5EFA\u6E56\u53BF",
        "\u76D0\u57CE\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u4E1C\u53F0\u5E02"
      ],
      "\u626C\u5DDE\u5E02": [
        "\u5E7F\u9675\u533A",
        "\u9097\u6C5F\u533A",
        "\u6C5F\u90FD\u533A",
        "\u5B9D\u5E94\u53BF",
        "\u626C\u5DDE\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u4EEA\u5F81\u5E02",
        "\u9AD8\u90AE\u5E02"
      ],
      "\u9547\u6C5F\u5E02": [
        "\u4EAC\u53E3\u533A",
        "\u6DA6\u5DDE\u533A",
        "\u4E39\u5F92\u533A",
        "\u9547\u6C5F\u65B0\u533A",
        "\u4E39\u9633\u5E02",
        "\u626C\u4E2D\u5E02",
        "\u53E5\u5BB9\u5E02"
      ],
      "\u6CF0\u5DDE\u5E02": [
        "\u6D77\u9675\u533A",
        "\u9AD8\u6E2F\u533A",
        "\u59DC\u5830\u533A",
        "\u5174\u5316\u5E02",
        "\u9756\u6C5F\u5E02",
        "\u6CF0\u5174\u5E02"
      ],
      "\u5BBF\u8FC1\u5E02": [
        "\u5BBF\u57CE\u533A",
        "\u5BBF\u8C6B\u533A",
        "\u6CAD\u9633\u53BF",
        "\u6CD7\u9633\u53BF",
        "\u6CD7\u6D2A\u53BF",
        "\u5BBF\u8FC1\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A"
      ]
    },
    "\u6D59\u6C5F\u7701": {
      "\u676D\u5DDE\u5E02": [
        "\u4E0A\u57CE\u533A",
        "\u62F1\u5885\u533A",
        "\u897F\u6E56\u533A",
        "\u6EE8\u6C5F\u533A",
        "\u8427\u5C71\u533A",
        "\u4F59\u676D\u533A",
        "\u5BCC\u9633\u533A",
        "\u4E34\u5B89\u533A",
        "\u4E34\u5E73\u533A",
        "\u94B1\u5858\u533A",
        "\u6850\u5E90\u53BF",
        "\u6DF3\u5B89\u53BF",
        "\u5EFA\u5FB7\u5E02"
      ],
      "\u5B81\u6CE2\u5E02": [
        "\u6D77\u66D9\u533A",
        "\u6C5F\u5317\u533A",
        "\u5317\u4ED1\u533A",
        "\u9547\u6D77\u533A",
        "\u911E\u5DDE\u533A",
        "\u5949\u5316\u533A",
        "\u8C61\u5C71\u53BF",
        "\u5B81\u6D77\u53BF",
        "\u4F59\u59DA\u5E02",
        "\u6148\u6EAA\u5E02"
      ],
      "\u6E29\u5DDE\u5E02": [
        "\u9E7F\u57CE\u533A",
        "\u9F99\u6E7E\u533A",
        "\u74EF\u6D77\u533A",
        "\u6D1E\u5934\u533A",
        "\u6C38\u5609\u53BF",
        "\u5E73\u9633\u53BF",
        "\u82CD\u5357\u53BF",
        "\u6587\u6210\u53BF",
        "\u6CF0\u987A\u53BF",
        "\u745E\u5B89\u5E02",
        "\u4E50\u6E05\u5E02",
        "\u9F99\u6E2F\u5E02"
      ],
      "\u5609\u5174\u5E02": [
        "\u5357\u6E56\u533A",
        "\u79C0\u6D32\u533A",
        "\u5609\u5584\u53BF",
        "\u6D77\u76D0\u53BF",
        "\u6D77\u5B81\u5E02",
        "\u5E73\u6E56\u5E02",
        "\u6850\u4E61\u5E02"
      ],
      "\u6E56\u5DDE\u5E02": [
        "\u5434\u5174\u533A",
        "\u5357\u6D54\u533A",
        "\u5FB7\u6E05\u53BF",
        "\u957F\u5174\u53BF",
        "\u5B89\u5409\u53BF"
      ],
      "\u7ECD\u5174\u5E02": [
        "\u8D8A\u57CE\u533A",
        "\u67EF\u6865\u533A",
        "\u4E0A\u865E\u533A",
        "\u65B0\u660C\u53BF",
        "\u8BF8\u66A8\u5E02",
        "\u5D4A\u5DDE\u5E02"
      ],
      "\u91D1\u534E\u5E02": [
        "\u5A7A\u57CE\u533A",
        "\u91D1\u4E1C\u533A",
        "\u6B66\u4E49\u53BF",
        "\u6D66\u6C5F\u53BF",
        "\u78D0\u5B89\u53BF",
        "\u5170\u6EAA\u5E02",
        "\u4E49\u4E4C\u5E02",
        "\u4E1C\u9633\u5E02",
        "\u6C38\u5EB7\u5E02"
      ],
      "\u8862\u5DDE\u5E02": [
        "\u67EF\u57CE\u533A",
        "\u8862\u6C5F\u533A",
        "\u5E38\u5C71\u53BF",
        "\u5F00\u5316\u53BF",
        "\u9F99\u6E38\u53BF",
        "\u6C5F\u5C71\u5E02"
      ],
      "\u821F\u5C71\u5E02": [
        "\u5B9A\u6D77\u533A",
        "\u666E\u9640\u533A",
        "\u5CB1\u5C71\u53BF",
        "\u5D4A\u6CD7\u53BF"
      ],
      "\u53F0\u5DDE\u5E02": [
        "\u6912\u6C5F\u533A",
        "\u9EC4\u5CA9\u533A",
        "\u8DEF\u6865\u533A",
        "\u4E09\u95E8\u53BF",
        "\u5929\u53F0\u53BF",
        "\u4ED9\u5C45\u53BF",
        "\u6E29\u5CAD\u5E02",
        "\u4E34\u6D77\u5E02",
        "\u7389\u73AF\u5E02"
      ],
      "\u4E3D\u6C34\u5E02": [
        "\u83B2\u90FD\u533A",
        "\u9752\u7530\u53BF",
        "\u7F19\u4E91\u53BF",
        "\u9042\u660C\u53BF",
        "\u677E\u9633\u53BF",
        "\u4E91\u548C\u53BF",
        "\u5E86\u5143\u53BF",
        "\u666F\u5B81\u7572\u65CF\u81EA\u6CBB\u53BF",
        "\u9F99\u6CC9\u5E02"
      ]
    },
    "\u5B89\u5FBD\u7701": {
      "\u5408\u80A5\u5E02": [
        "\u7476\u6D77\u533A",
        "\u5E90\u9633\u533A",
        "\u8700\u5C71\u533A",
        "\u5305\u6CB3\u533A",
        "\u957F\u4E30\u53BF",
        "\u80A5\u4E1C\u53BF",
        "\u80A5\u897F\u53BF",
        "\u5E90\u6C5F\u53BF",
        "\u5408\u80A5\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u5408\u80A5\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u5408\u80A5\u65B0\u7AD9\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u5DE2\u6E56\u5E02"
      ],
      "\u829C\u6E56\u5E02": [
        "\u955C\u6E56\u533A",
        "\u9E20\u6C5F\u533A",
        "\u5F0B\u6C5F\u533A",
        "\u6E7E\u6C9A\u533A",
        "\u7E41\u660C\u533A",
        "\u5357\u9675\u53BF",
        "\u829C\u6E56\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u5B89\u5FBD\u829C\u6E56\u4E09\u5C71\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u65E0\u4E3A\u5E02"
      ],
      "\u868C\u57E0\u5E02": [
        "\u9F99\u5B50\u6E56\u533A",
        "\u868C\u5C71\u533A",
        "\u79B9\u4F1A\u533A",
        "\u6DEE\u4E0A\u533A",
        "\u6000\u8FDC\u53BF",
        "\u4E94\u6CB3\u53BF",
        "\u56FA\u9547\u53BF",
        "\u868C\u57E0\u5E02\u9AD8\u65B0\u6280\u672F\u5F00\u53D1\u533A",
        "\u868C\u57E0\u5E02\u7ECF\u6D4E\u5F00\u53D1\u533A"
      ],
      "\u6DEE\u5357\u5E02": [
        "\u5927\u901A\u533A",
        "\u7530\u5BB6\u5EB5\u533A",
        "\u8C22\u5BB6\u96C6\u533A",
        "\u516B\u516C\u5C71\u533A",
        "\u6F58\u96C6\u533A",
        "\u51E4\u53F0\u53BF",
        "\u5BFF\u53BF"
      ],
      "\u9A6C\u978D\u5C71\u5E02": [
        "\u82B1\u5C71\u533A",
        "\u96E8\u5C71\u533A",
        "\u535A\u671B\u533A",
        "\u5F53\u6D82\u53BF",
        "\u542B\u5C71\u53BF",
        "\u548C\u53BF"
      ],
      "\u6DEE\u5317\u5E02": [
        "\u675C\u96C6\u533A",
        "\u76F8\u5C71\u533A",
        "\u70C8\u5C71\u533A",
        "\u6FC9\u6EAA\u53BF"
      ],
      "\u94DC\u9675\u5E02": [
        "\u94DC\u5B98\u533A",
        "\u4E49\u5B89\u533A",
        "\u90CA\u533A",
        "\u679E\u9633\u53BF"
      ],
      "\u5B89\u5E86\u5E02": [
        "\u8FCE\u6C5F\u533A",
        "\u5927\u89C2\u533A",
        "\u5B9C\u79C0\u533A",
        "\u6000\u5B81\u53BF",
        "\u592A\u6E56\u53BF",
        "\u5BBF\u677E\u53BF",
        "\u671B\u6C5F\u53BF",
        "\u5CB3\u897F\u53BF",
        "\u5B89\u5FBD\u5B89\u5E86\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u6850\u57CE\u5E02",
        "\u6F5C\u5C71\u5E02"
      ],
      "\u9EC4\u5C71\u5E02": [
        "\u5C6F\u6EAA\u533A",
        "\u9EC4\u5C71\u533A",
        "\u5FBD\u5DDE\u533A",
        "\u6B59\u53BF",
        "\u4F11\u5B81\u53BF",
        "\u9EDF\u53BF",
        "\u7941\u95E8\u53BF"
      ],
      "\u6EC1\u5DDE\u5E02": [
        "\u7405\u740A\u533A",
        "\u5357\u8C2F\u533A",
        "\u6765\u5B89\u53BF",
        "\u5168\u6912\u53BF",
        "\u5B9A\u8FDC\u53BF",
        "\u51E4\u9633\u53BF",
        "\u4E2D\u65B0\u82CF\u6EC1\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u6EC1\u5DDE\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u5929\u957F\u5E02",
        "\u660E\u5149\u5E02"
      ],
      "\u961C\u9633\u5E02": [
        "\u988D\u5DDE\u533A",
        "\u988D\u4E1C\u533A",
        "\u988D\u6CC9\u533A",
        "\u4E34\u6CC9\u53BF",
        "\u592A\u548C\u53BF",
        "\u961C\u5357\u53BF",
        "\u988D\u4E0A\u53BF",
        "\u961C\u9633\u5408\u80A5\u73B0\u4EE3\u4EA7\u4E1A\u56ED\u533A",
        "\u961C\u9633\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u754C\u9996\u5E02"
      ],
      "\u5BBF\u5DDE\u5E02": [
        "\u57C7\u6865\u533A",
        "\u7800\u5C71\u53BF",
        "\u8427\u53BF",
        "\u7075\u74A7\u53BF",
        "\u6CD7\u53BF",
        "\u5BBF\u5DDE\u9A6C\u978D\u5C71\u73B0\u4EE3\u4EA7\u4E1A\u56ED\u533A",
        "\u5BBF\u5DDE\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A"
      ],
      "\u516D\u5B89\u5E02": [
        "\u91D1\u5B89\u533A",
        "\u88D5\u5B89\u533A",
        "\u53F6\u96C6\u533A",
        "\u970D\u90B1\u53BF",
        "\u8212\u57CE\u53BF",
        "\u91D1\u5BE8\u53BF",
        "\u970D\u5C71\u53BF"
      ],
      "\u4EB3\u5DDE\u5E02": [
        "\u8C2F\u57CE\u533A",
        "\u6DA1\u9633\u53BF",
        "\u8499\u57CE\u53BF",
        "\u5229\u8F9B\u53BF"
      ],
      "\u6C60\u5DDE\u5E02": [
        "\u8D35\u6C60\u533A",
        "\u4E1C\u81F3\u53BF",
        "\u77F3\u53F0\u53BF",
        "\u9752\u9633\u53BF"
      ],
      "\u5BA3\u57CE\u5E02": [
        "\u5BA3\u5DDE\u533A",
        "\u90CE\u6EAA\u53BF",
        "\u6CFE\u53BF",
        "\u7EE9\u6EAA\u53BF",
        "\u65CC\u5FB7\u53BF",
        "\u5BA3\u57CE\u5E02\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u5B81\u56FD\u5E02",
        "\u5E7F\u5FB7\u5E02"
      ]
    },
    "\u798F\u5EFA\u7701": {
      "\u798F\u5DDE\u5E02": [
        "\u9F13\u697C\u533A",
        "\u53F0\u6C5F\u533A",
        "\u4ED3\u5C71\u533A",
        "\u9A6C\u5C3E\u533A",
        "\u664B\u5B89\u533A",
        "\u957F\u4E50\u533A",
        "\u95FD\u4FAF\u53BF",
        "\u8FDE\u6C5F\u53BF",
        "\u7F57\u6E90\u53BF",
        "\u95FD\u6E05\u53BF",
        "\u6C38\u6CF0\u53BF",
        "\u5E73\u6F6D\u53BF",
        "\u798F\u6E05\u5E02"
      ],
      "\u53A6\u95E8\u5E02": [
        "\u601D\u660E\u533A",
        "\u6D77\u6CA7\u533A",
        "\u6E56\u91CC\u533A",
        "\u96C6\u7F8E\u533A",
        "\u540C\u5B89\u533A",
        "\u7FD4\u5B89\u533A"
      ],
      "\u8386\u7530\u5E02": [
        "\u57CE\u53A2\u533A",
        "\u6DB5\u6C5F\u533A",
        "\u8354\u57CE\u533A",
        "\u79C0\u5C7F\u533A",
        "\u4ED9\u6E38\u53BF"
      ],
      "\u4E09\u660E\u5E02": [
        "\u4E09\u5143\u533A",
        "\u6C99\u53BF\u533A",
        "\u660E\u6EAA\u53BF",
        "\u6E05\u6D41\u53BF",
        "\u5B81\u5316\u53BF",
        "\u5927\u7530\u53BF",
        "\u5C24\u6EAA\u53BF",
        "\u5C06\u4E50\u53BF",
        "\u6CF0\u5B81\u53BF",
        "\u5EFA\u5B81\u53BF",
        "\u6C38\u5B89\u5E02"
      ],
      "\u6CC9\u5DDE\u5E02": [
        "\u9CA4\u57CE\u533A",
        "\u4E30\u6CFD\u533A",
        "\u6D1B\u6C5F\u533A",
        "\u6CC9\u6E2F\u533A",
        "\u60E0\u5B89\u53BF",
        "\u5B89\u6EAA\u53BF",
        "\u6C38\u6625\u53BF",
        "\u5FB7\u5316\u53BF",
        "\u91D1\u95E8\u53BF",
        "\u77F3\u72EE\u5E02",
        "\u664B\u6C5F\u5E02",
        "\u5357\u5B89\u5E02"
      ],
      "\u6F33\u5DDE\u5E02": [
        "\u8297\u57CE\u533A",
        "\u9F99\u6587\u533A",
        "\u9F99\u6D77\u533A",
        "\u957F\u6CF0\u533A",
        "\u4E91\u9704\u53BF",
        "\u6F33\u6D66\u53BF",
        "\u8BCF\u5B89\u53BF",
        "\u4E1C\u5C71\u53BF",
        "\u5357\u9756\u53BF",
        "\u5E73\u548C\u53BF",
        "\u534E\u5B89\u53BF"
      ],
      "\u5357\u5E73\u5E02": [
        "\u5EF6\u5E73\u533A",
        "\u5EFA\u9633\u533A",
        "\u987A\u660C\u53BF",
        "\u6D66\u57CE\u53BF",
        "\u5149\u6CFD\u53BF",
        "\u677E\u6EAA\u53BF",
        "\u653F\u548C\u53BF",
        "\u90B5\u6B66\u5E02",
        "\u6B66\u5937\u5C71\u5E02",
        "\u5EFA\u74EF\u5E02"
      ],
      "\u9F99\u5CA9\u5E02": [
        "\u65B0\u7F57\u533A",
        "\u6C38\u5B9A\u533A",
        "\u957F\u6C40\u53BF",
        "\u4E0A\u676D\u53BF",
        "\u6B66\u5E73\u53BF",
        "\u8FDE\u57CE\u53BF",
        "\u6F33\u5E73\u5E02"
      ],
      "\u5B81\u5FB7\u5E02": [
        "\u8549\u57CE\u533A",
        "\u971E\u6D66\u53BF",
        "\u53E4\u7530\u53BF",
        "\u5C4F\u5357\u53BF",
        "\u5BFF\u5B81\u53BF",
        "\u5468\u5B81\u53BF",
        "\u67D8\u8363\u53BF",
        "\u798F\u5B89\u5E02",
        "\u798F\u9F0E\u5E02"
      ]
    },
    "\u6C5F\u897F\u7701": {
      "\u5357\u660C\u5E02": [
        "\u4E1C\u6E56\u533A",
        "\u897F\u6E56\u533A",
        "\u9752\u4E91\u8C31\u533A",
        "\u9752\u5C71\u6E56\u533A",
        "\u65B0\u5EFA\u533A",
        "\u7EA2\u8C37\u6EE9\u533A",
        "\u5357\u660C\u53BF",
        "\u5B89\u4E49\u53BF",
        "\u8FDB\u8D24\u53BF"
      ],
      "\u666F\u5FB7\u9547\u5E02": [
        "\u660C\u6C5F\u533A",
        "\u73E0\u5C71\u533A",
        "\u6D6E\u6881\u53BF",
        "\u4E50\u5E73\u5E02"
      ],
      "\u840D\u4E61\u5E02": [
        "\u5B89\u6E90\u533A",
        "\u6E58\u4E1C\u533A",
        "\u83B2\u82B1\u53BF",
        "\u4E0A\u6817\u53BF",
        "\u82A6\u6EAA\u53BF"
      ],
      "\u4E5D\u6C5F\u5E02": [
        "\u6FC2\u6EAA\u533A",
        "\u6D54\u9633\u533A",
        "\u67F4\u6851\u533A",
        "\u6B66\u5B81\u53BF",
        "\u4FEE\u6C34\u53BF",
        "\u6C38\u4FEE\u53BF",
        "\u5FB7\u5B89\u53BF",
        "\u90FD\u660C\u53BF",
        "\u6E56\u53E3\u53BF",
        "\u5F6D\u6CFD\u53BF",
        "\u745E\u660C\u5E02",
        "\u5171\u9752\u57CE\u5E02",
        "\u5E90\u5C71\u5E02"
      ],
      "\u65B0\u4F59\u5E02": [
        "\u6E1D\u6C34\u533A",
        "\u5206\u5B9C\u53BF"
      ],
      "\u9E70\u6F6D\u5E02": [
        "\u6708\u6E56\u533A",
        "\u4F59\u6C5F\u533A",
        "\u8D35\u6EAA\u5E02"
      ],
      "\u8D63\u5DDE\u5E02": [
        "\u7AE0\u8D21\u533A",
        "\u5357\u5EB7\u533A",
        "\u8D63\u53BF\u533A",
        "\u4FE1\u4E30\u53BF",
        "\u5927\u4F59\u53BF",
        "\u4E0A\u72B9\u53BF",
        "\u5D07\u4E49\u53BF",
        "\u5B89\u8FDC\u53BF",
        "\u5B9A\u5357\u53BF",
        "\u5168\u5357\u53BF",
        "\u5B81\u90FD\u53BF",
        "\u4E8E\u90FD\u53BF",
        "\u5174\u56FD\u53BF",
        "\u4F1A\u660C\u53BF",
        "\u5BFB\u4E4C\u53BF",
        "\u77F3\u57CE\u53BF",
        "\u745E\u91D1\u5E02",
        "\u9F99\u5357\u5E02"
      ],
      "\u5409\u5B89\u5E02": [
        "\u5409\u5DDE\u533A",
        "\u9752\u539F\u533A",
        "\u5409\u5B89\u53BF",
        "\u5409\u6C34\u53BF",
        "\u5CE1\u6C5F\u53BF",
        "\u65B0\u5E72\u53BF",
        "\u6C38\u4E30\u53BF",
        "\u6CF0\u548C\u53BF",
        "\u9042\u5DDD\u53BF",
        "\u4E07\u5B89\u53BF",
        "\u5B89\u798F\u53BF",
        "\u6C38\u65B0\u53BF",
        "\u4E95\u5188\u5C71\u5E02"
      ],
      "\u5B9C\u6625\u5E02": [
        "\u8881\u5DDE\u533A",
        "\u5949\u65B0\u53BF",
        "\u4E07\u8F7D\u53BF",
        "\u4E0A\u9AD8\u53BF",
        "\u5B9C\u4E30\u53BF",
        "\u9756\u5B89\u53BF",
        "\u94DC\u9F13\u53BF",
        "\u4E30\u57CE\u5E02",
        "\u6A1F\u6811\u5E02",
        "\u9AD8\u5B89\u5E02"
      ],
      "\u629A\u5DDE\u5E02": [
        "\u4E34\u5DDD\u533A",
        "\u4E1C\u4E61\u533A",
        "\u5357\u57CE\u53BF",
        "\u9ECE\u5DDD\u53BF",
        "\u5357\u4E30\u53BF",
        "\u5D07\u4EC1\u53BF",
        "\u4E50\u5B89\u53BF",
        "\u5B9C\u9EC4\u53BF",
        "\u91D1\u6EAA\u53BF",
        "\u8D44\u6EAA\u53BF",
        "\u5E7F\u660C\u53BF"
      ],
      "\u4E0A\u9976\u5E02": [
        "\u4FE1\u5DDE\u533A",
        "\u5E7F\u4E30\u533A",
        "\u5E7F\u4FE1\u533A",
        "\u7389\u5C71\u53BF",
        "\u94C5\u5C71\u53BF",
        "\u6A2A\u5CF0\u53BF",
        "\u5F0B\u9633\u53BF",
        "\u4F59\u5E72\u53BF",
        "\u9131\u9633\u53BF",
        "\u4E07\u5E74\u53BF",
        "\u5A7A\u6E90\u53BF",
        "\u5FB7\u5174\u5E02"
      ]
    },
    "\u5C71\u4E1C\u7701": {
      "\u6D4E\u5357\u5E02": [
        "\u5386\u4E0B\u533A",
        "\u5E02\u4E2D\u533A",
        "\u69D0\u836B\u533A",
        "\u5929\u6865\u533A",
        "\u5386\u57CE\u533A",
        "\u957F\u6E05\u533A",
        "\u7AE0\u4E18\u533A",
        "\u6D4E\u9633\u533A",
        "\u83B1\u829C\u533A",
        "\u94A2\u57CE\u533A",
        "\u5E73\u9634\u53BF",
        "\u5546\u6CB3\u53BF",
        "\u6D4E\u5357\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A"
      ],
      "\u9752\u5C9B\u5E02": [
        "\u5E02\u5357\u533A",
        "\u5E02\u5317\u533A",
        "\u9EC4\u5C9B\u533A",
        "\u5D02\u5C71\u533A",
        "\u674E\u6CA7\u533A",
        "\u57CE\u9633\u533A",
        "\u5373\u58A8\u533A",
        "\u80F6\u5DDE\u5E02",
        "\u5E73\u5EA6\u5E02",
        "\u83B1\u897F\u5E02"
      ],
      "\u6DC4\u535A\u5E02": [
        "\u6DC4\u5DDD\u533A",
        "\u5F20\u5E97\u533A",
        "\u535A\u5C71\u533A",
        "\u4E34\u6DC4\u533A",
        "\u5468\u6751\u533A",
        "\u6853\u53F0\u53BF",
        "\u9AD8\u9752\u53BF",
        "\u6C82\u6E90\u53BF"
      ],
      "\u67A3\u5E84\u5E02": [
        "\u5E02\u4E2D\u533A",
        "\u859B\u57CE\u533A",
        "\u5CC4\u57CE\u533A",
        "\u53F0\u513F\u5E84\u533A",
        "\u5C71\u4EAD\u533A",
        "\u6ED5\u5DDE\u5E02"
      ],
      "\u4E1C\u8425\u5E02": [
        "\u4E1C\u8425\u533A",
        "\u6CB3\u53E3\u533A",
        "\u57A6\u5229\u533A",
        "\u5229\u6D25\u53BF",
        "\u5E7F\u9976\u53BF",
        "\u4E1C\u8425\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u4E1C\u8425\u6E2F\u7ECF\u6D4E\u5F00\u53D1\u533A"
      ],
      "\u70DF\u53F0\u5E02": [
        "\u829D\u7F58\u533A",
        "\u798F\u5C71\u533A",
        "\u725F\u5E73\u533A",
        "\u83B1\u5C71\u533A",
        "\u84EC\u83B1\u533A",
        "\u70DF\u53F0\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u70DF\u53F0\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u9F99\u53E3\u5E02",
        "\u83B1\u9633\u5E02",
        "\u83B1\u5DDE\u5E02",
        "\u62DB\u8FDC\u5E02",
        "\u6816\u971E\u5E02",
        "\u6D77\u9633\u5E02"
      ],
      "\u6F4D\u574A\u5E02": [
        "\u6F4D\u57CE\u533A",
        "\u5BD2\u4EAD\u533A",
        "\u574A\u5B50\u533A",
        "\u594E\u6587\u533A",
        "\u4E34\u6710\u53BF",
        "\u660C\u4E50\u53BF",
        "\u6F4D\u574A\u6EE8\u6D77\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u9752\u5DDE\u5E02",
        "\u8BF8\u57CE\u5E02",
        "\u5BFF\u5149\u5E02",
        "\u5B89\u4E18\u5E02",
        "\u9AD8\u5BC6\u5E02",
        "\u660C\u9091\u5E02"
      ],
      "\u6D4E\u5B81\u5E02": [
        "\u4EFB\u57CE\u533A",
        "\u5156\u5DDE\u533A",
        "\u5FAE\u5C71\u53BF",
        "\u9C7C\u53F0\u53BF",
        "\u91D1\u4E61\u53BF",
        "\u5609\u7965\u53BF",
        "\u6C76\u4E0A\u53BF",
        "\u6CD7\u6C34\u53BF",
        "\u6881\u5C71\u53BF",
        "\u6D4E\u5B81\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u66F2\u961C\u5E02",
        "\u90B9\u57CE\u5E02"
      ],
      "\u6CF0\u5B89\u5E02": [
        "\u6CF0\u5C71\u533A",
        "\u5CB1\u5CB3\u533A",
        "\u5B81\u9633\u53BF",
        "\u4E1C\u5E73\u53BF",
        "\u65B0\u6CF0\u5E02",
        "\u80A5\u57CE\u5E02"
      ],
      "\u5A01\u6D77\u5E02": [
        "\u73AF\u7FE0\u533A",
        "\u6587\u767B\u533A",
        "\u5A01\u6D77\u706B\u70AC\u9AD8\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u5A01\u6D77\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u5A01\u6D77\u4E34\u6E2F\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u8363\u6210\u5E02",
        "\u4E73\u5C71\u5E02"
      ],
      "\u65E5\u7167\u5E02": [
        "\u4E1C\u6E2F\u533A",
        "\u5C9A\u5C71\u533A",
        "\u4E94\u83B2\u53BF",
        "\u8392\u53BF",
        "\u65E5\u7167\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A"
      ],
      "\u4E34\u6C82\u5E02": [
        "\u5170\u5C71\u533A",
        "\u7F57\u5E84\u533A",
        "\u6CB3\u4E1C\u533A",
        "\u6C82\u5357\u53BF",
        "\u90EF\u57CE\u53BF",
        "\u6C82\u6C34\u53BF",
        "\u5170\u9675\u53BF",
        "\u8D39\u53BF",
        "\u5E73\u9091\u53BF",
        "\u8392\u5357\u53BF",
        "\u8499\u9634\u53BF",
        "\u4E34\u6CAD\u53BF",
        "\u4E34\u6C82\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A"
      ],
      "\u5FB7\u5DDE\u5E02": [
        "\u5FB7\u57CE\u533A",
        "\u9675\u57CE\u533A",
        "\u5B81\u6D25\u53BF",
        "\u5E86\u4E91\u53BF",
        "\u4E34\u9091\u53BF",
        "\u9F50\u6CB3\u53BF",
        "\u5E73\u539F\u53BF",
        "\u590F\u6D25\u53BF",
        "\u6B66\u57CE\u53BF",
        "\u5FB7\u5DDE\u5929\u8862\u65B0\u533A",
        "\u4E50\u9675\u5E02",
        "\u79B9\u57CE\u5E02"
      ],
      "\u804A\u57CE\u5E02": [
        "\u4E1C\u660C\u5E9C\u533A",
        "\u830C\u5E73\u533A",
        "\u9633\u8C37\u53BF",
        "\u8398\u53BF",
        "\u4E1C\u963F\u53BF",
        "\u51A0\u53BF",
        "\u9AD8\u5510\u53BF",
        "\u4E34\u6E05\u5E02"
      ],
      "\u6EE8\u5DDE\u5E02": [
        "\u6EE8\u57CE\u533A",
        "\u6CBE\u5316\u533A",
        "\u60E0\u6C11\u53BF",
        "\u9633\u4FE1\u53BF",
        "\u65E0\u68E3\u53BF",
        "\u535A\u5174\u53BF",
        "\u90B9\u5E73\u5E02"
      ],
      "\u83CF\u6CFD\u5E02": [
        "\u7261\u4E39\u533A",
        "\u5B9A\u9676\u533A",
        "\u66F9\u53BF",
        "\u5355\u53BF",
        "\u6210\u6B66\u53BF",
        "\u5DE8\u91CE\u53BF",
        "\u90D3\u57CE\u53BF",
        "\u9104\u57CE\u53BF",
        "\u4E1C\u660E\u53BF",
        "\u83CF\u6CFD\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u83CF\u6CFD\u9AD8\u65B0\u6280\u672F\u5F00\u53D1\u533A"
      ]
    },
    "\u6CB3\u5357\u7701": {
      "\u90D1\u5DDE\u5E02": [
        "\u4E2D\u539F\u533A",
        "\u4E8C\u4E03\u533A",
        "\u7BA1\u57CE\u56DE\u65CF\u533A",
        "\u91D1\u6C34\u533A",
        "\u4E0A\u8857\u533A",
        "\u60E0\u6D4E\u533A",
        "\u4E2D\u725F\u53BF",
        "\u90D1\u5DDE\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u90D1\u5DDE\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u90D1\u5DDE\u822A\u7A7A\u6E2F\u7ECF\u6D4E\u7EFC\u5408\u5B9E\u9A8C\u533A",
        "\u5DE9\u4E49\u5E02",
        "\u8365\u9633\u5E02",
        "\u65B0\u5BC6\u5E02",
        "\u65B0\u90D1\u5E02",
        "\u767B\u5C01\u5E02"
      ],
      "\u5F00\u5C01\u5E02": [
        "\u9F99\u4EAD\u533A",
        "\u987A\u6CB3\u56DE\u65CF\u533A",
        "\u9F13\u697C\u533A",
        "\u79B9\u738B\u53F0\u533A",
        "\u7965\u7B26\u533A",
        "\u675E\u53BF",
        "\u901A\u8BB8\u53BF",
        "\u5C09\u6C0F\u53BF",
        "\u5170\u8003\u53BF"
      ],
      "\u6D1B\u9633\u5E02": [
        "\u8001\u57CE\u533A",
        "\u897F\u5DE5\u533A",
        "\u700D\u6CB3\u56DE\u65CF\u533A",
        "\u6DA7\u897F\u533A",
        "\u5043\u5E08\u533A",
        "\u5B5F\u6D25\u533A",
        "\u6D1B\u9F99\u533A",
        "\u65B0\u5B89\u53BF",
        "\u683E\u5DDD\u53BF",
        "\u5D69\u53BF",
        "\u6C5D\u9633\u53BF",
        "\u5B9C\u9633\u53BF",
        "\u6D1B\u5B81\u53BF",
        "\u4F0A\u5DDD\u53BF",
        "\u6D1B\u9633\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A"
      ],
      "\u5E73\u9876\u5C71\u5E02": [
        "\u65B0\u534E\u533A",
        "\u536B\u4E1C\u533A",
        "\u77F3\u9F99\u533A",
        "\u6E5B\u6CB3\u533A",
        "\u5B9D\u4E30\u53BF",
        "\u53F6\u53BF",
        "\u9C81\u5C71\u53BF",
        "\u90CF\u53BF",
        "\u5E73\u9876\u5C71\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u5E73\u9876\u5C71\u5E02\u57CE\u4E61\u4E00\u4F53\u5316\u793A\u8303\u533A",
        "\u821E\u94A2\u5E02",
        "\u6C5D\u5DDE\u5E02"
      ],
      "\u5B89\u9633\u5E02": [
        "\u6587\u5CF0\u533A",
        "\u5317\u5173\u533A",
        "\u6BB7\u90FD\u533A",
        "\u9F99\u5B89\u533A",
        "\u5B89\u9633\u53BF",
        "\u6C64\u9634\u53BF",
        "\u6ED1\u53BF",
        "\u5185\u9EC4\u53BF",
        "\u5B89\u9633\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u6797\u5DDE\u5E02"
      ],
      "\u9E64\u58C1\u5E02": [
        "\u9E64\u5C71\u533A",
        "\u5C71\u57CE\u533A",
        "\u6DC7\u6EE8\u533A",
        "\u6D5A\u53BF",
        "\u6DC7\u53BF",
        "\u9E64\u58C1\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A"
      ],
      "\u65B0\u4E61\u5E02": [
        "\u7EA2\u65D7\u533A",
        "\u536B\u6EE8\u533A",
        "\u51E4\u6CC9\u533A",
        "\u7267\u91CE\u533A",
        "\u65B0\u4E61\u53BF",
        "\u83B7\u5609\u53BF",
        "\u539F\u9633\u53BF",
        "\u5EF6\u6D25\u53BF",
        "\u5C01\u4E18\u53BF",
        "\u65B0\u4E61\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u65B0\u4E61\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u65B0\u4E61\u5E02\u5E73\u539F\u57CE\u4E61\u4E00\u4F53\u5316\u793A\u8303\u533A",
        "\u536B\u8F89\u5E02",
        "\u8F89\u53BF\u5E02",
        "\u957F\u57A3\u5E02"
      ],
      "\u7126\u4F5C\u5E02": [
        "\u89E3\u653E\u533A",
        "\u4E2D\u7AD9\u533A",
        "\u9A6C\u6751\u533A",
        "\u5C71\u9633\u533A",
        "\u4FEE\u6B66\u53BF",
        "\u535A\u7231\u53BF",
        "\u6B66\u965F\u53BF",
        "\u6E29\u53BF",
        "\u7126\u4F5C\u57CE\u4E61\u4E00\u4F53\u5316\u793A\u8303\u533A",
        "\u6C81\u9633\u5E02",
        "\u5B5F\u5DDE\u5E02"
      ],
      "\u6FEE\u9633\u5E02": [
        "\u534E\u9F99\u533A",
        "\u6E05\u4E30\u53BF",
        "\u5357\u4E50\u53BF",
        "\u8303\u53BF",
        "\u53F0\u524D\u53BF",
        "\u6FEE\u9633\u53BF",
        "\u6CB3\u5357\u6FEE\u9633\u5DE5\u4E1A\u56ED\u533A",
        "\u6FEE\u9633\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A"
      ],
      "\u8BB8\u660C\u5E02": [
        "\u9B4F\u90FD\u533A",
        "\u5EFA\u5B89\u533A",
        "\u9122\u9675\u53BF",
        "\u8944\u57CE\u53BF",
        "\u8BB8\u660C\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u79B9\u5DDE\u5E02",
        "\u957F\u845B\u5E02"
      ],
      "\u6F2F\u6CB3\u5E02": [
        "\u6E90\u6C47\u533A",
        "\u90FE\u57CE\u533A",
        "\u53EC\u9675\u533A",
        "\u821E\u9633\u53BF",
        "\u4E34\u988D\u53BF",
        "\u6F2F\u6CB3\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A"
      ],
      "\u4E09\u95E8\u5CE1\u5E02": [
        "\u6E56\u6EE8\u533A",
        "\u9655\u5DDE\u533A",
        "\u6E11\u6C60\u53BF",
        "\u5362\u6C0F\u53BF",
        "\u6CB3\u5357\u4E09\u95E8\u5CE1\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u4E49\u9A6C\u5E02",
        "\u7075\u5B9D\u5E02"
      ],
      "\u5357\u9633\u5E02": [
        "\u5B9B\u57CE\u533A",
        "\u5367\u9F99\u533A",
        "\u5357\u53EC\u53BF",
        "\u65B9\u57CE\u53BF",
        "\u897F\u5CE1\u53BF",
        "\u9547\u5E73\u53BF",
        "\u5185\u4E61\u53BF",
        "\u6DC5\u5DDD\u53BF",
        "\u793E\u65D7\u53BF",
        "\u5510\u6CB3\u53BF",
        "\u65B0\u91CE\u53BF",
        "\u6850\u67CF\u53BF",
        "\u5357\u9633\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A",
        "\u5357\u9633\u5E02\u57CE\u4E61\u4E00\u4F53\u5316\u793A\u8303\u533A",
        "\u9093\u5DDE\u5E02"
      ],
      "\u5546\u4E18\u5E02": [
        "\u6881\u56ED\u533A",
        "\u7762\u9633\u533A",
        "\u6C11\u6743\u53BF",
        "\u7762\u53BF",
        "\u5B81\u9675\u53BF",
        "\u67D8\u57CE\u53BF",
        "\u865E\u57CE\u53BF",
        "\u590F\u9091\u53BF",
        "\u8C6B\u4E1C\u7EFC\u5408\u7269\u6D41\u4EA7\u4E1A\u805A\u96C6\u533A",
        "\u6CB3\u5357\u5546\u4E18\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u6C38\u57CE\u5E02"
      ],
      "\u4FE1\u9633\u5E02": [
        "\u6D49\u6CB3\u533A",
        "\u5E73\u6865\u533A",
        "\u7F57\u5C71\u53BF",
        "\u5149\u5C71\u53BF",
        "\u65B0\u53BF",
        "\u5546\u57CE\u53BF",
        "\u56FA\u59CB\u53BF",
        "\u6F62\u5DDD\u53BF",
        "\u6DEE\u6EE8\u53BF",
        "\u606F\u53BF",
        "\u4FE1\u9633\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u5F00\u53D1\u533A"
      ],
      "\u5468\u53E3\u5E02": [
        "\u5DDD\u6C47\u533A",
        "\u6DEE\u9633\u533A",
        "\u6276\u6C9F\u53BF",
        "\u897F\u534E\u53BF",
        "\u5546\u6C34\u53BF",
        "\u6C88\u4E18\u53BF",
        "\u90F8\u57CE\u53BF",
        "\u592A\u5EB7\u53BF",
        "\u9E7F\u9091\u53BF",
        "\u5468\u53E3\u4E34\u6E2F\u5F00\u53D1\u533A",
        "\u9879\u57CE\u5E02"
      ],
      "\u9A7B\u9A6C\u5E97\u5E02": [
        "\u9A7F\u57CE\u533A",
        "\u897F\u5E73\u53BF",
        "\u4E0A\u8521\u53BF",
        "\u5E73\u8206\u53BF",
        "\u6B63\u9633\u53BF",
        "\u786E\u5C71\u53BF",
        "\u6CCC\u9633\u53BF",
        "\u6C5D\u5357\u53BF",
        "\u9042\u5E73\u53BF",
        "\u65B0\u8521\u53BF",
        "\u6CB3\u5357\u9A7B\u9A6C\u5E97\u7ECF\u6D4E\u5F00\u53D1\u533A"
      ],
      "\u7701\u76F4\u8F96\u53BF\u7EA7\u884C\u653F\u533A\u5212": [
        "\u6D4E\u6E90\u5E02"
      ]
    },
    "\u6E56\u5317\u7701": {
      "\u6B66\u6C49\u5E02": [
        "\u6C5F\u5CB8\u533A",
        "\u6C5F\u6C49\u533A",
        "\u785A\u53E3\u533A",
        "\u6C49\u9633\u533A",
        "\u6B66\u660C\u533A",
        "\u9752\u5C71\u533A",
        "\u6D2A\u5C71\u533A",
        "\u4E1C\u897F\u6E56\u533A",
        "\u6C49\u5357\u533A",
        "\u8521\u7538\u533A",
        "\u6C5F\u590F\u533A",
        "\u9EC4\u9642\u533A",
        "\u65B0\u6D32\u533A"
      ],
      "\u9EC4\u77F3\u5E02": [
        "\u9EC4\u77F3\u6E2F\u533A",
        "\u897F\u585E\u5C71\u533A",
        "\u4E0B\u9646\u533A",
        "\u94C1\u5C71\u533A",
        "\u9633\u65B0\u53BF",
        "\u5927\u51B6\u5E02"
      ],
      "\u5341\u5830\u5E02": [
        "\u8305\u7BAD\u533A",
        "\u5F20\u6E7E\u533A",
        "\u90E7\u9633\u533A",
        "\u90E7\u897F\u53BF",
        "\u7AF9\u5C71\u53BF",
        "\u7AF9\u6EAA\u53BF",
        "\u623F\u53BF",
        "\u4E39\u6C5F\u53E3\u5E02"
      ],
      "\u5B9C\u660C\u5E02": [
        "\u897F\u9675\u533A",
        "\u4F0D\u5BB6\u5C97\u533A",
        "\u70B9\u519B\u533A",
        "\u7307\u4EAD\u533A",
        "\u5937\u9675\u533A",
        "\u8FDC\u5B89\u53BF",
        "\u5174\u5C71\u53BF",
        "\u79ED\u5F52\u53BF",
        "\u957F\u9633\u571F\u5BB6\u65CF\u81EA\u6CBB\u53BF",
        "\u4E94\u5CF0\u571F\u5BB6\u65CF\u81EA\u6CBB\u53BF",
        "\u5B9C\u90FD\u5E02",
        "\u5F53\u9633\u5E02",
        "\u679D\u6C5F\u5E02"
      ],
      "\u8944\u9633\u5E02": [
        "\u8944\u57CE\u533A",
        "\u6A0A\u57CE\u533A",
        "\u8944\u5DDE\u533A",
        "\u5357\u6F33\u53BF",
        "\u8C37\u57CE\u53BF",
        "\u4FDD\u5EB7\u53BF",
        "\u8001\u6CB3\u53E3\u5E02",
        "\u67A3\u9633\u5E02",
        "\u5B9C\u57CE\u5E02"
      ],
      "\u9102\u5DDE\u5E02": [
        "\u6881\u5B50\u6E56\u533A",
        "\u534E\u5BB9\u533A",
        "\u9102\u57CE\u533A"
      ],
      "\u8346\u95E8\u5E02": [
        "\u4E1C\u5B9D\u533A",
        "\u6387\u5200\u533A",
        "\u6C99\u6D0B\u53BF",
        "\u949F\u7965\u5E02",
        "\u4EAC\u5C71\u5E02"
      ],
      "\u5B5D\u611F\u5E02": [
        "\u5B5D\u5357\u533A",
        "\u5B5D\u660C\u53BF",
        "\u5927\u609F\u53BF",
        "\u4E91\u68A6\u53BF",
        "\u5E94\u57CE\u5E02",
        "\u5B89\u9646\u5E02",
        "\u6C49\u5DDD\u5E02"
      ],
      "\u8346\u5DDE\u5E02": [
        "\u6C99\u5E02\u533A",
        "\u8346\u5DDE\u533A",
        "\u516C\u5B89\u53BF",
        "\u6C5F\u9675\u53BF",
        "\u8346\u5DDE\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u77F3\u9996\u5E02",
        "\u6D2A\u6E56\u5E02",
        "\u677E\u6ECB\u5E02",
        "\u76D1\u5229\u5E02"
      ],
      "\u9EC4\u5188\u5E02": [
        "\u9EC4\u5DDE\u533A",
        "\u56E2\u98CE\u53BF",
        "\u7EA2\u5B89\u53BF",
        "\u7F57\u7530\u53BF",
        "\u82F1\u5C71\u53BF",
        "\u6D60\u6C34\u53BF",
        "\u8572\u6625\u53BF",
        "\u9EC4\u6885\u53BF",
        "\u9F99\u611F\u6E56\u7BA1\u7406\u533A",
        "\u9EBB\u57CE\u5E02",
        "\u6B66\u7A74\u5E02"
      ],
      "\u54B8\u5B81\u5E02": [
        "\u54B8\u5B89\u533A",
        "\u5609\u9C7C\u53BF",
        "\u901A\u57CE\u53BF",
        "\u5D07\u9633\u53BF",
        "\u901A\u5C71\u53BF",
        "\u8D64\u58C1\u5E02"
      ],
      "\u968F\u5DDE\u5E02": [
        "\u66FE\u90FD\u533A",
        "\u968F\u53BF",
        "\u5E7F\u6C34\u5E02"
      ],
      "\u6069\u65BD\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE": [
        "\u6069\u65BD\u5E02",
        "\u5229\u5DDD\u5E02",
        "\u5EFA\u59CB\u53BF",
        "\u5DF4\u4E1C\u53BF",
        "\u5BA3\u6069\u53BF",
        "\u54B8\u4E30\u53BF",
        "\u6765\u51E4\u53BF",
        "\u9E64\u5CF0\u53BF"
      ],
      "\u7701\u76F4\u8F96\u53BF\u7EA7\u884C\u653F\u533A\u5212": [
        "\u4ED9\u6843\u5E02",
        "\u6F5C\u6C5F\u5E02",
        "\u5929\u95E8\u5E02",
        "\u795E\u519C\u67B6\u6797\u533A"
      ]
    },
    "\u6E56\u5357\u7701": {
      "\u957F\u6C99\u5E02": [
        "\u8299\u84C9\u533A",
        "\u5929\u5FC3\u533A",
        "\u5CB3\u9E93\u533A",
        "\u5F00\u798F\u533A",
        "\u96E8\u82B1\u533A",
        "\u671B\u57CE\u533A",
        "\u957F\u6C99\u53BF",
        "\u6D4F\u9633\u5E02",
        "\u5B81\u4E61\u5E02"
      ],
      "\u682A\u6D32\u5E02": [
        "\u8377\u5858\u533A",
        "\u82A6\u6DDE\u533A",
        "\u77F3\u5CF0\u533A",
        "\u5929\u5143\u533A",
        "\u6E0C\u53E3\u533A",
        "\u6538\u53BF",
        "\u8336\u9675\u53BF",
        "\u708E\u9675\u53BF",
        "\u91B4\u9675\u5E02"
      ],
      "\u6E58\u6F6D\u5E02": [
        "\u96E8\u6E56\u533A",
        "\u5CB3\u5858\u533A",
        "\u6E58\u6F6D\u53BF",
        "\u6E56\u5357\u6E58\u6F6D\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u56ED\u533A",
        "\u6E58\u6F6D\u662D\u5C71\u793A\u8303\u533A",
        "\u6E58\u6F6D\u4E5D\u534E\u793A\u8303\u533A",
        "\u6E58\u4E61\u5E02",
        "\u97F6\u5C71\u5E02"
      ],
      "\u8861\u9633\u5E02": [
        "\u73E0\u6656\u533A",
        "\u96C1\u5CF0\u533A",
        "\u77F3\u9F13\u533A",
        "\u84B8\u6E58\u533A",
        "\u5357\u5CB3\u533A",
        "\u8861\u9633\u53BF",
        "\u8861\u5357\u53BF",
        "\u8861\u5C71\u53BF",
        "\u8861\u4E1C\u53BF",
        "\u7941\u4E1C\u53BF",
        "\u6E56\u5357\u8861\u9633\u677E\u6728\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u6E56\u5357\u8861\u9633\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u56ED\u533A",
        "\u8012\u9633\u5E02",
        "\u5E38\u5B81\u5E02"
      ],
      "\u90B5\u9633\u5E02": [
        "\u53CC\u6E05\u533A",
        "\u5927\u7965\u533A",
        "\u5317\u5854\u533A",
        "\u65B0\u90B5\u53BF",
        "\u90B5\u9633\u53BF",
        "\u9686\u56DE\u53BF",
        "\u6D1E\u53E3\u53BF",
        "\u7EE5\u5B81\u53BF",
        "\u65B0\u5B81\u53BF",
        "\u57CE\u6B65\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u6B66\u5188\u5E02",
        "\u90B5\u4E1C\u5E02"
      ],
      "\u5CB3\u9633\u5E02": [
        "\u5CB3\u9633\u697C\u533A",
        "\u4E91\u6EAA\u533A",
        "\u541B\u5C71\u533A",
        "\u5CB3\u9633\u53BF",
        "\u534E\u5BB9\u53BF",
        "\u6E58\u9634\u53BF",
        "\u5E73\u6C5F\u53BF",
        "\u5CB3\u9633\u5E02\u5C48\u539F\u7BA1\u7406\u533A",
        "\u6C68\u7F57\u5E02",
        "\u4E34\u6E58\u5E02"
      ],
      "\u5E38\u5FB7\u5E02": [
        "\u6B66\u9675\u533A",
        "\u9F0E\u57CE\u533A",
        "\u5B89\u4E61\u53BF",
        "\u6C49\u5BFF\u53BF",
        "\u6FA7\u53BF",
        "\u4E34\u6FA7\u53BF",
        "\u6843\u6E90\u53BF",
        "\u77F3\u95E8\u53BF",
        "\u5E38\u5FB7\u5E02\u897F\u6D1E\u5EAD\u7BA1\u7406\u533A",
        "\u6D25\u5E02\u5E02"
      ],
      "\u5F20\u5BB6\u754C\u5E02": [
        "\u6C38\u5B9A\u533A",
        "\u6B66\u9675\u6E90\u533A",
        "\u6148\u5229\u53BF",
        "\u6851\u690D\u53BF"
      ],
      "\u76CA\u9633\u5E02": [
        "\u8D44\u9633\u533A",
        "\u8D6B\u5C71\u533A",
        "\u5357\u53BF",
        "\u6843\u6C5F\u53BF",
        "\u5B89\u5316\u53BF",
        "\u76CA\u9633\u5E02\u5927\u901A\u6E56\u7BA1\u7406\u533A",
        "\u6E56\u5357\u76CA\u9633\u9AD8\u65B0\u6280\u672F\u4EA7\u4E1A\u56ED\u533A",
        "\u6C85\u6C5F\u5E02"
      ],
      "\u90F4\u5DDE\u5E02": [
        "\u5317\u6E56\u533A",
        "\u82CF\u4ED9\u533A",
        "\u6842\u9633\u53BF",
        "\u5B9C\u7AE0\u53BF",
        "\u6C38\u5174\u53BF",
        "\u5609\u79BE\u53BF",
        "\u4E34\u6B66\u53BF",
        "\u6C5D\u57CE\u53BF",
        "\u6842\u4E1C\u53BF",
        "\u5B89\u4EC1\u53BF",
        "\u8D44\u5174\u5E02"
      ],
      "\u6C38\u5DDE\u5E02": [
        "\u96F6\u9675\u533A",
        "\u51B7\u6C34\u6EE9\u533A",
        "\u4E1C\u5B89\u53BF",
        "\u53CC\u724C\u53BF",
        "\u9053\u53BF",
        "\u6C5F\u6C38\u53BF",
        "\u5B81\u8FDC\u53BF",
        "\u84DD\u5C71\u53BF",
        "\u65B0\u7530\u53BF",
        "\u6C5F\u534E\u7476\u65CF\u81EA\u6CBB\u53BF",
        "\u6C38\u5DDE\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u6C38\u5DDE\u5E02\u56DE\u9F99\u5729\u7BA1\u7406\u533A",
        "\u7941\u9633\u5E02"
      ],
      "\u6000\u5316\u5E02": [
        "\u9E64\u57CE\u533A",
        "\u4E2D\u65B9\u53BF",
        "\u6C85\u9675\u53BF",
        "\u8FB0\u6EAA\u53BF",
        "\u6E86\u6D66\u53BF",
        "\u4F1A\u540C\u53BF",
        "\u9EBB\u9633\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u65B0\u6643\u4F97\u65CF\u81EA\u6CBB\u53BF",
        "\u82B7\u6C5F\u4F97\u65CF\u81EA\u6CBB\u53BF",
        "\u9756\u5DDE\u82D7\u65CF\u4F97\u65CF\u81EA\u6CBB\u53BF",
        "\u901A\u9053\u4F97\u65CF\u81EA\u6CBB\u53BF",
        "\u6000\u5316\u5E02\u6D2A\u6C5F\u7BA1\u7406\u533A",
        "\u6D2A\u6C5F\u5E02"
      ],
      "\u5A04\u5E95\u5E02": [
        "\u5A04\u661F\u533A",
        "\u53CC\u5CF0\u53BF",
        "\u65B0\u5316\u53BF",
        "\u51B7\u6C34\u6C5F\u5E02",
        "\u6D9F\u6E90\u5E02"
      ],
      "\u6E58\u897F\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE": [
        "\u5409\u9996\u5E02",
        "\u6CF8\u6EAA\u53BF",
        "\u51E4\u51F0\u53BF",
        "\u82B1\u57A3\u53BF",
        "\u4FDD\u9756\u53BF",
        "\u53E4\u4E08\u53BF",
        "\u6C38\u987A\u53BF",
        "\u9F99\u5C71\u53BF"
      ]
    },
    "\u5E7F\u4E1C\u7701": {
      "\u5E7F\u5DDE\u5E02": [
        "\u8354\u6E7E\u533A",
        "\u8D8A\u79C0\u533A",
        "\u6D77\u73E0\u533A",
        "\u5929\u6CB3\u533A",
        "\u767D\u4E91\u533A",
        "\u9EC4\u57D4\u533A",
        "\u756A\u79BA\u533A",
        "\u82B1\u90FD\u533A",
        "\u5357\u6C99\u533A",
        "\u4ECE\u5316\u533A",
        "\u589E\u57CE\u533A"
      ],
      "\u97F6\u5173\u5E02": [
        "\u6B66\u6C5F\u533A",
        "\u6D48\u6C5F\u533A",
        "\u66F2\u6C5F\u533A",
        "\u59CB\u5174\u53BF",
        "\u4EC1\u5316\u53BF",
        "\u7FC1\u6E90\u53BF",
        "\u4E73\u6E90\u7476\u65CF\u81EA\u6CBB\u53BF",
        "\u65B0\u4E30\u53BF",
        "\u4E50\u660C\u5E02",
        "\u5357\u96C4\u5E02"
      ],
      "\u6DF1\u5733\u5E02": [
        "\u7F57\u6E56\u533A",
        "\u798F\u7530\u533A",
        "\u5357\u5C71\u533A",
        "\u5B9D\u5B89\u533A",
        "\u9F99\u5C97\u533A",
        "\u76D0\u7530\u533A",
        "\u9F99\u534E\u533A",
        "\u576A\u5C71\u533A",
        "\u5149\u660E\u533A"
      ],
      "\u73E0\u6D77\u5E02": [
        "\u9999\u6D32\u533A",
        "\u6597\u95E8\u533A",
        "\u91D1\u6E7E\u533A"
      ],
      "\u6C55\u5934\u5E02": [
        "\u9F99\u6E56\u533A",
        "\u91D1\u5E73\u533A",
        "\u6FE0\u6C5F\u533A",
        "\u6F6E\u9633\u533A",
        "\u6F6E\u5357\u533A",
        "\u6F84\u6D77\u533A",
        "\u5357\u6FB3\u53BF"
      ],
      "\u4F5B\u5C71\u5E02": [
        "\u7985\u57CE\u533A",
        "\u5357\u6D77\u533A",
        "\u987A\u5FB7\u533A",
        "\u4E09\u6C34\u533A",
        "\u9AD8\u660E\u533A"
      ],
      "\u6C5F\u95E8\u5E02": [
        "\u84EC\u6C5F\u533A",
        "\u6C5F\u6D77\u533A",
        "\u65B0\u4F1A\u533A",
        "\u53F0\u5C71\u5E02",
        "\u5F00\u5E73\u5E02",
        "\u9E64\u5C71\u5E02",
        "\u6069\u5E73\u5E02"
      ],
      "\u6E5B\u6C5F\u5E02": [
        "\u8D64\u574E\u533A",
        "\u971E\u5C71\u533A",
        "\u5761\u5934\u533A",
        "\u9EBB\u7AE0\u533A",
        "\u9042\u6EAA\u53BF",
        "\u5F90\u95FB\u53BF",
        "\u5EC9\u6C5F\u5E02",
        "\u96F7\u5DDE\u5E02",
        "\u5434\u5DDD\u5E02"
      ],
      "\u8302\u540D\u5E02": [
        "\u8302\u5357\u533A",
        "\u7535\u767D\u533A",
        "\u9AD8\u5DDE\u5E02",
        "\u5316\u5DDE\u5E02",
        "\u4FE1\u5B9C\u5E02"
      ],
      "\u8087\u5E86\u5E02": [
        "\u7AEF\u5DDE\u533A",
        "\u9F0E\u6E56\u533A",
        "\u9AD8\u8981\u533A",
        "\u5E7F\u5B81\u53BF",
        "\u6000\u96C6\u53BF",
        "\u5C01\u5F00\u53BF",
        "\u5FB7\u5E86\u53BF",
        "\u56DB\u4F1A\u5E02"
      ],
      "\u60E0\u5DDE\u5E02": [
        "\u60E0\u57CE\u533A",
        "\u60E0\u9633\u533A",
        "\u535A\u7F57\u53BF",
        "\u60E0\u4E1C\u53BF",
        "\u9F99\u95E8\u53BF"
      ],
      "\u6885\u5DDE\u5E02": [
        "\u6885\u6C5F\u533A",
        "\u6885\u53BF\u533A",
        "\u5927\u57D4\u53BF",
        "\u4E30\u987A\u53BF",
        "\u4E94\u534E\u53BF",
        "\u5E73\u8FDC\u53BF",
        "\u8549\u5CAD\u53BF",
        "\u5174\u5B81\u5E02"
      ],
      "\u6C55\u5C3E\u5E02": [
        "\u57CE\u533A",
        "\u6D77\u4E30\u53BF",
        "\u9646\u6CB3\u53BF",
        "\u9646\u4E30\u5E02"
      ],
      "\u6CB3\u6E90\u5E02": [
        "\u6E90\u57CE\u533A",
        "\u7D2B\u91D1\u53BF",
        "\u9F99\u5DDD\u53BF",
        "\u8FDE\u5E73\u53BF",
        "\u548C\u5E73\u53BF",
        "\u4E1C\u6E90\u53BF"
      ],
      "\u9633\u6C5F\u5E02": [
        "\u6C5F\u57CE\u533A",
        "\u9633\u4E1C\u533A",
        "\u9633\u897F\u53BF",
        "\u9633\u6625\u5E02"
      ],
      "\u6E05\u8FDC\u5E02": [
        "\u6E05\u57CE\u533A",
        "\u6E05\u65B0\u533A",
        "\u4F5B\u5188\u53BF",
        "\u9633\u5C71\u53BF",
        "\u8FDE\u5C71\u58EE\u65CF\u7476\u65CF\u81EA\u6CBB\u53BF",
        "\u8FDE\u5357\u7476\u65CF\u81EA\u6CBB\u53BF",
        "\u82F1\u5FB7\u5E02",
        "\u8FDE\u5DDE\u5E02"
      ],
      "\u4E1C\u839E\u5E02": [
        "\u4E1C\u57CE\u8857\u9053",
        "\u5357\u57CE\u8857\u9053",
        "\u4E07\u6C5F\u8857\u9053",
        "\u839E\u57CE\u8857\u9053",
        "\u77F3\u78A3\u9547",
        "\u77F3\u9F99\u9547",
        "\u8336\u5C71\u9547",
        "\u77F3\u6392\u9547",
        "\u4F01\u77F3\u9547",
        "\u6A2A\u6CA5\u9547",
        "\u6865\u5934\u9547",
        "\u8C22\u5C97\u9547",
        "\u4E1C\u5751\u9547",
        "\u5E38\u5E73\u9547",
        "\u5BEE\u6B65\u9547",
        "\u6A1F\u6728\u5934\u9547",
        "\u5927\u6717\u9547",
        "\u9EC4\u6C5F\u9547",
        "\u6E05\u6EAA\u9547",
        "\u5858\u53A6\u9547",
        "\u51E4\u5C97\u9547",
        "\u5927\u5CAD\u5C71\u9547",
        "\u957F\u5B89\u9547",
        "\u864E\u95E8\u9547",
        "\u539A\u8857\u9547",
        "\u6C99\u7530\u9547",
        "\u9053\u6ED8\u9547",
        "\u6D2A\u6885\u9547",
        "\u9EBB\u6D8C\u9547",
        "\u671B\u725B\u58A9\u9547",
        "\u4E2D\u5802\u9547",
        "\u9AD8\u57D7\u9547",
        "\u677E\u5C71\u6E56",
        "\u4E1C\u839E\u6E2F",
        "\u4E1C\u839E\u751F\u6001\u56ED",
        "\u4E1C\u839E\u6EE8\u6D77\u6E7E\u65B0\u533A"
      ],
      "\u4E2D\u5C71\u5E02": [
        "\u77F3\u5C90\u8857\u9053",
        "\u4E1C\u533A\u8857\u9053",
        "\u4E2D\u5C71\u6E2F\u8857\u9053",
        "\u897F\u533A\u8857\u9053",
        "\u5357\u533A\u8857\u9053",
        "\u4E94\u6842\u5C71\u8857\u9053",
        "\u6C11\u4F17\u8857\u9053",
        "\u5357\u6717\u8857\u9053",
        "\u9EC4\u5703\u9547",
        "\u4E1C\u51E4\u9547",
        "\u53E4\u9547\u9547",
        "\u6C99\u6EAA\u9547",
        "\u5766\u6D32\u9547",
        "\u6E2F\u53E3\u9547",
        "\u4E09\u89D2\u9547",
        "\u6A2A\u680F\u9547",
        "\u5357\u5934\u9547",
        "\u961C\u6C99\u9547",
        "\u4E09\u4E61\u9547",
        "\u677F\u8299\u9547",
        "\u5927\u6D8C\u9547",
        "\u795E\u6E7E\u9547",
        "\u5C0F\u6984\u9547"
      ],
      "\u6F6E\u5DDE\u5E02": [
        "\u6E58\u6865\u533A",
        "\u6F6E\u5B89\u533A",
        "\u9976\u5E73\u53BF"
      ],
      "\u63ED\u9633\u5E02": [
        "\u6995\u57CE\u533A",
        "\u63ED\u4E1C\u533A",
        "\u63ED\u897F\u53BF",
        "\u60E0\u6765\u53BF",
        "\u666E\u5B81\u5E02"
      ],
      "\u4E91\u6D6E\u5E02": [
        "\u4E91\u57CE\u533A",
        "\u4E91\u5B89\u533A",
        "\u65B0\u5174\u53BF",
        "\u90C1\u5357\u53BF",
        "\u7F57\u5B9A\u5E02"
      ]
    },
    "\u5E7F\u897F\u58EE\u65CF\u81EA\u6CBB\u533A": {
      "\u5357\u5B81\u5E02": [
        "\u5174\u5B81\u533A",
        "\u9752\u79C0\u533A",
        "\u6C5F\u5357\u533A",
        "\u897F\u4E61\u5858\u533A",
        "\u826F\u5E86\u533A",
        "\u9095\u5B81\u533A",
        "\u6B66\u9E23\u533A",
        "\u9686\u5B89\u53BF",
        "\u9A6C\u5C71\u53BF",
        "\u4E0A\u6797\u53BF",
        "\u5BBE\u9633\u53BF",
        "\u6A2A\u5DDE\u5E02"
      ],
      "\u67F3\u5DDE\u5E02": [
        "\u57CE\u4E2D\u533A",
        "\u9C7C\u5CF0\u533A",
        "\u67F3\u5357\u533A",
        "\u67F3\u5317\u533A",
        "\u67F3\u6C5F\u533A",
        "\u67F3\u57CE\u53BF",
        "\u9E7F\u5BE8\u53BF",
        "\u878D\u5B89\u53BF",
        "\u878D\u6C34\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u4E09\u6C5F\u4F97\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u6842\u6797\u5E02": [
        "\u79C0\u5CF0\u533A",
        "\u53E0\u5F69\u533A",
        "\u8C61\u5C71\u533A",
        "\u4E03\u661F\u533A",
        "\u96C1\u5C71\u533A",
        "\u4E34\u6842\u533A",
        "\u9633\u6714\u53BF",
        "\u7075\u5DDD\u53BF",
        "\u5168\u5DDE\u53BF",
        "\u5174\u5B89\u53BF",
        "\u6C38\u798F\u53BF",
        "\u704C\u9633\u53BF",
        "\u9F99\u80DC\u5404\u65CF\u81EA\u6CBB\u53BF",
        "\u8D44\u6E90\u53BF",
        "\u5E73\u4E50\u53BF",
        "\u606D\u57CE\u7476\u65CF\u81EA\u6CBB\u53BF",
        "\u8354\u6D66\u5E02"
      ],
      "\u68A7\u5DDE\u5E02": [
        "\u4E07\u79C0\u533A",
        "\u957F\u6D32\u533A",
        "\u9F99\u5729\u533A",
        "\u82CD\u68A7\u53BF",
        "\u85E4\u53BF",
        "\u8499\u5C71\u53BF",
        "\u5C91\u6EAA\u5E02"
      ],
      "\u5317\u6D77\u5E02": [
        "\u6D77\u57CE\u533A",
        "\u94F6\u6D77\u533A",
        "\u94C1\u5C71\u6E2F\u533A",
        "\u5408\u6D66\u53BF"
      ],
      "\u9632\u57CE\u6E2F\u5E02": [
        "\u6E2F\u53E3\u533A",
        "\u9632\u57CE\u533A",
        "\u4E0A\u601D\u53BF",
        "\u4E1C\u5174\u5E02"
      ],
      "\u94A6\u5DDE\u5E02": [
        "\u94A6\u5357\u533A",
        "\u94A6\u5317\u533A",
        "\u7075\u5C71\u53BF",
        "\u6D66\u5317\u53BF"
      ],
      "\u8D35\u6E2F\u5E02": [
        "\u6E2F\u5317\u533A",
        "\u6E2F\u5357\u533A",
        "\u8983\u5858\u533A",
        "\u5E73\u5357\u53BF",
        "\u6842\u5E73\u5E02"
      ],
      "\u7389\u6797\u5E02": [
        "\u7389\u5DDE\u533A",
        "\u798F\u7EF5\u533A",
        "\u5BB9\u53BF",
        "\u9646\u5DDD\u53BF",
        "\u535A\u767D\u53BF",
        "\u5174\u4E1A\u53BF",
        "\u5317\u6D41\u5E02"
      ],
      "\u767E\u8272\u5E02": [
        "\u53F3\u6C5F\u533A",
        "\u7530\u9633\u533A",
        "\u7530\u4E1C\u53BF",
        "\u5FB7\u4FDD\u53BF",
        "\u90A3\u5761\u53BF",
        "\u51CC\u4E91\u53BF",
        "\u4E50\u4E1A\u53BF",
        "\u7530\u6797\u53BF",
        "\u897F\u6797\u53BF",
        "\u9686\u6797\u5404\u65CF\u81EA\u6CBB\u53BF",
        "\u9756\u897F\u5E02",
        "\u5E73\u679C\u5E02"
      ],
      "\u8D3A\u5DDE\u5E02": [
        "\u516B\u6B65\u533A",
        "\u5E73\u6842\u533A",
        "\u662D\u5E73\u53BF",
        "\u949F\u5C71\u53BF",
        "\u5BCC\u5DDD\u7476\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u6CB3\u6C60\u5E02": [
        "\u91D1\u57CE\u6C5F\u533A",
        "\u5B9C\u5DDE\u533A",
        "\u5357\u4E39\u53BF",
        "\u5929\u5CE8\u53BF",
        "\u51E4\u5C71\u53BF",
        "\u4E1C\u5170\u53BF",
        "\u7F57\u57CE\u4EEB\u4F6C\u65CF\u81EA\u6CBB\u53BF",
        "\u73AF\u6C5F\u6BDB\u5357\u65CF\u81EA\u6CBB\u53BF",
        "\u5DF4\u9A6C\u7476\u65CF\u81EA\u6CBB\u53BF",
        "\u90FD\u5B89\u7476\u65CF\u81EA\u6CBB\u53BF",
        "\u5927\u5316\u7476\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u6765\u5BBE\u5E02": [
        "\u5174\u5BBE\u533A",
        "\u5FFB\u57CE\u53BF",
        "\u8C61\u5DDE\u53BF",
        "\u6B66\u5BA3\u53BF",
        "\u91D1\u79C0\u7476\u65CF\u81EA\u6CBB\u53BF",
        "\u5408\u5C71\u5E02"
      ],
      "\u5D07\u5DE6\u5E02": [
        "\u6C5F\u5DDE\u533A",
        "\u6276\u7EE5\u53BF",
        "\u5B81\u660E\u53BF",
        "\u9F99\u5DDE\u53BF",
        "\u5927\u65B0\u53BF",
        "\u5929\u7B49\u53BF",
        "\u51ED\u7965\u5E02"
      ]
    },
    "\u6D77\u5357\u7701": {
      "\u6D77\u53E3\u5E02": [
        "\u79C0\u82F1\u533A",
        "\u9F99\u534E\u533A",
        "\u743C\u5C71\u533A",
        "\u7F8E\u5170\u533A"
      ],
      "\u4E09\u4E9A\u5E02": [
        "\u6D77\u68E0\u533A",
        "\u5409\u9633\u533A",
        "\u5929\u6DAF\u533A",
        "\u5D16\u5DDE\u533A"
      ],
      "\u4E09\u6C99\u5E02": [
        "\u897F\u6C99\u7FA4\u5C9B",
        "\u5357\u6C99\u7FA4\u5C9B",
        "\u4E2D\u6C99\u7FA4\u5C9B\u7684\u5C9B\u7901\u53CA\u5176\u6D77\u57DF"
      ],
      "\u510B\u5DDE\u5E02": [
        "\u90A3\u5927\u9547",
        "\u548C\u5E86\u9547",
        "\u5357\u4E30\u9547",
        "\u5927\u6210\u9547",
        "\u96C5\u661F\u9547",
        "\u5170\u6D0B\u9547",
        "\u5149\u6751\u9547",
        "\u6728\u68E0\u9547",
        "\u6D77\u5934\u9547",
        "\u5CE8\u8513\u9547",
        "\u738B\u4E94\u9547",
        "\u767D\u9A6C\u4E95\u9547",
        "\u4E2D\u548C\u9547",
        "\u6392\u6D66\u9547",
        "\u4E1C\u6210\u9547",
        "\u65B0\u5DDE\u9547",
        "\u6D0B\u6D66\u7ECF\u6D4E\u5F00\u53D1\u533A",
        "\u534E\u5357\u70ED\u4F5C\u5B66\u9662"
      ],
      "\u7701\u76F4\u8F96\u53BF\u7EA7\u884C\u653F\u533A\u5212": [
        "\u4E94\u6307\u5C71\u5E02",
        "\u743C\u6D77\u5E02",
        "\u6587\u660C\u5E02",
        "\u4E07\u5B81\u5E02",
        "\u4E1C\u65B9\u5E02",
        "\u5B9A\u5B89\u53BF",
        "\u5C6F\u660C\u53BF",
        "\u6F84\u8FC8\u53BF",
        "\u4E34\u9AD8\u53BF",
        "\u767D\u6C99\u9ECE\u65CF\u81EA\u6CBB\u53BF",
        "\u660C\u6C5F\u9ECE\u65CF\u81EA\u6CBB\u53BF",
        "\u4E50\u4E1C\u9ECE\u65CF\u81EA\u6CBB\u53BF",
        "\u9675\u6C34\u9ECE\u65CF\u81EA\u6CBB\u53BF",
        "\u4FDD\u4EAD\u9ECE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u743C\u4E2D\u9ECE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF"
      ]
    },
    "\u91CD\u5E86\u5E02": {
      "\u5E02\u8F96\u533A": [
        "\u4E07\u5DDE\u533A",
        "\u6DAA\u9675\u533A",
        "\u6E1D\u4E2D\u533A",
        "\u5927\u6E21\u53E3\u533A",
        "\u6C5F\u5317\u533A",
        "\u6C99\u576A\u575D\u533A",
        "\u4E5D\u9F99\u5761\u533A",
        "\u5357\u5CB8\u533A",
        "\u5317\u789A\u533A",
        "\u7DA6\u6C5F\u533A",
        "\u5927\u8DB3\u533A",
        "\u6E1D\u5317\u533A",
        "\u5DF4\u5357\u533A",
        "\u9ED4\u6C5F\u533A",
        "\u957F\u5BFF\u533A",
        "\u6C5F\u6D25\u533A",
        "\u5408\u5DDD\u533A",
        "\u6C38\u5DDD\u533A",
        "\u5357\u5DDD\u533A",
        "\u74A7\u5C71\u533A",
        "\u94DC\u6881\u533A",
        "\u6F7C\u5357\u533A",
        "\u8363\u660C\u533A",
        "\u5F00\u5DDE\u533A",
        "\u6881\u5E73\u533A",
        "\u6B66\u9686\u533A"
      ],
      "\u53BF": [
        "\u57CE\u53E3\u53BF",
        "\u4E30\u90FD\u53BF",
        "\u57AB\u6C5F\u53BF",
        "\u5FE0\u53BF",
        "\u4E91\u9633\u53BF",
        "\u5949\u8282\u53BF",
        "\u5DEB\u5C71\u53BF",
        "\u5DEB\u6EAA\u53BF",
        "\u77F3\u67F1\u571F\u5BB6\u65CF\u81EA\u6CBB\u53BF",
        "\u79C0\u5C71\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u9149\u9633\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u5F6D\u6C34\u82D7\u65CF\u571F\u5BB6\u65CF\u81EA\u6CBB\u53BF"
      ]
    },
    "\u56DB\u5DDD\u7701": {
      "\u6210\u90FD\u5E02": [
        "\u9526\u6C5F\u533A",
        "\u9752\u7F8A\u533A",
        "\u91D1\u725B\u533A",
        "\u6B66\u4FAF\u533A",
        "\u6210\u534E\u533A",
        "\u9F99\u6CC9\u9A7F\u533A",
        "\u9752\u767D\u6C5F\u533A",
        "\u65B0\u90FD\u533A",
        "\u6E29\u6C5F\u533A",
        "\u53CC\u6D41\u533A",
        "\u90EB\u90FD\u533A",
        "\u65B0\u6D25\u533A",
        "\u91D1\u5802\u53BF",
        "\u5927\u9091\u53BF",
        "\u84B2\u6C5F\u53BF",
        "\u90FD\u6C5F\u5830\u5E02",
        "\u5F6D\u5DDE\u5E02",
        "\u909B\u5D03\u5E02",
        "\u5D07\u5DDE\u5E02",
        "\u7B80\u9633\u5E02"
      ],
      "\u81EA\u8D21\u5E02": [
        "\u81EA\u6D41\u4E95\u533A",
        "\u8D21\u4E95\u533A",
        "\u5927\u5B89\u533A",
        "\u6CBF\u6EE9\u533A",
        "\u8363\u53BF",
        "\u5BCC\u987A\u53BF"
      ],
      "\u6500\u679D\u82B1\u5E02": [
        "\u4E1C\u533A",
        "\u897F\u533A",
        "\u4EC1\u548C\u533A",
        "\u7C73\u6613\u53BF",
        "\u76D0\u8FB9\u53BF"
      ],
      "\u6CF8\u5DDE\u5E02": [
        "\u6C5F\u9633\u533A",
        "\u7EB3\u6EAA\u533A",
        "\u9F99\u9A6C\u6F6D\u533A",
        "\u6CF8\u53BF",
        "\u5408\u6C5F\u53BF",
        "\u53D9\u6C38\u53BF",
        "\u53E4\u853A\u53BF"
      ],
      "\u5FB7\u9633\u5E02": [
        "\u65CC\u9633\u533A",
        "\u7F57\u6C5F\u533A",
        "\u4E2D\u6C5F\u53BF",
        "\u5E7F\u6C49\u5E02",
        "\u4EC0\u90A1\u5E02",
        "\u7EF5\u7AF9\u5E02"
      ],
      "\u7EF5\u9633\u5E02": [
        "\u6DAA\u57CE\u533A",
        "\u6E38\u4ED9\u533A",
        "\u5B89\u5DDE\u533A",
        "\u4E09\u53F0\u53BF",
        "\u76D0\u4EAD\u53BF",
        "\u6893\u6F7C\u53BF",
        "\u5317\u5DDD\u7F8C\u65CF\u81EA\u6CBB\u53BF",
        "\u5E73\u6B66\u53BF",
        "\u6C5F\u6CB9\u5E02"
      ],
      "\u5E7F\u5143\u5E02": [
        "\u5229\u5DDE\u533A",
        "\u662D\u5316\u533A",
        "\u671D\u5929\u533A",
        "\u65FA\u82CD\u53BF",
        "\u9752\u5DDD\u53BF",
        "\u5251\u9601\u53BF",
        "\u82CD\u6EAA\u53BF"
      ],
      "\u9042\u5B81\u5E02": [
        "\u8239\u5C71\u533A",
        "\u5B89\u5C45\u533A",
        "\u84EC\u6EAA\u53BF",
        "\u5927\u82F1\u53BF",
        "\u5C04\u6D2A\u5E02"
      ],
      "\u5185\u6C5F\u5E02": [
        "\u5E02\u4E2D\u533A",
        "\u4E1C\u5174\u533A",
        "\u5A01\u8FDC\u53BF",
        "\u8D44\u4E2D\u53BF",
        "\u9686\u660C\u5E02"
      ],
      "\u4E50\u5C71\u5E02": [
        "\u5E02\u4E2D\u533A",
        "\u6C99\u6E7E\u533A",
        "\u4E94\u901A\u6865\u533A",
        "\u91D1\u53E3\u6CB3\u533A",
        "\u728D\u4E3A\u53BF",
        "\u4E95\u7814\u53BF",
        "\u5939\u6C5F\u53BF",
        "\u6C90\u5DDD\u53BF",
        "\u5CE8\u8FB9\u5F5D\u65CF\u81EA\u6CBB\u53BF",
        "\u9A6C\u8FB9\u5F5D\u65CF\u81EA\u6CBB\u53BF",
        "\u5CE8\u7709\u5C71\u5E02"
      ],
      "\u5357\u5145\u5E02": [
        "\u987A\u5E86\u533A",
        "\u9AD8\u576A\u533A",
        "\u5609\u9675\u533A",
        "\u5357\u90E8\u53BF",
        "\u8425\u5C71\u53BF",
        "\u84EC\u5B89\u53BF",
        "\u4EEA\u9647\u53BF",
        "\u897F\u5145\u53BF",
        "\u9606\u4E2D\u5E02"
      ],
      "\u7709\u5C71\u5E02": [
        "\u4E1C\u5761\u533A",
        "\u5F6D\u5C71\u533A",
        "\u4EC1\u5BFF\u53BF",
        "\u6D2A\u96C5\u53BF",
        "\u4E39\u68F1\u53BF",
        "\u9752\u795E\u53BF"
      ],
      "\u5B9C\u5BBE\u5E02": [
        "\u7FE0\u5C4F\u533A",
        "\u5357\u6EAA\u533A",
        "\u53D9\u5DDE\u533A",
        "\u6C5F\u5B89\u53BF",
        "\u957F\u5B81\u53BF",
        "\u9AD8\u53BF",
        "\u73D9\u53BF",
        "\u7B60\u8FDE\u53BF",
        "\u5174\u6587\u53BF",
        "\u5C4F\u5C71\u53BF"
      ],
      "\u5E7F\u5B89\u5E02": [
        "\u5E7F\u5B89\u533A",
        "\u524D\u950B\u533A",
        "\u5CB3\u6C60\u53BF",
        "\u6B66\u80DC\u53BF",
        "\u90BB\u6C34\u53BF",
        "\u534E\u84E5\u5E02"
      ],
      "\u8FBE\u5DDE\u5E02": [
        "\u901A\u5DDD\u533A",
        "\u8FBE\u5DDD\u533A",
        "\u5BA3\u6C49\u53BF",
        "\u5F00\u6C5F\u53BF",
        "\u5927\u7AF9\u53BF",
        "\u6E20\u53BF",
        "\u4E07\u6E90\u5E02"
      ],
      "\u96C5\u5B89\u5E02": [
        "\u96E8\u57CE\u533A",
        "\u540D\u5C71\u533A",
        "\u8365\u7ECF\u53BF",
        "\u6C49\u6E90\u53BF",
        "\u77F3\u68C9\u53BF",
        "\u5929\u5168\u53BF",
        "\u82A6\u5C71\u53BF",
        "\u5B9D\u5174\u53BF"
      ],
      "\u5DF4\u4E2D\u5E02": [
        "\u5DF4\u5DDE\u533A",
        "\u6069\u9633\u533A",
        "\u901A\u6C5F\u53BF",
        "\u5357\u6C5F\u53BF",
        "\u5E73\u660C\u53BF"
      ],
      "\u8D44\u9633\u5E02": [
        "\u96C1\u6C5F\u533A",
        "\u5B89\u5CB3\u53BF",
        "\u4E50\u81F3\u53BF"
      ],
      "\u963F\u575D\u85CF\u65CF\u7F8C\u65CF\u81EA\u6CBB\u5DDE": [
        "\u9A6C\u5C14\u5EB7\u5E02",
        "\u6C76\u5DDD\u53BF",
        "\u7406\u53BF",
        "\u8302\u53BF",
        "\u677E\u6F58\u53BF",
        "\u4E5D\u5BE8\u6C9F\u53BF",
        "\u91D1\u5DDD\u53BF",
        "\u5C0F\u91D1\u53BF",
        "\u9ED1\u6C34\u53BF",
        "\u58E4\u5858\u53BF",
        "\u963F\u575D\u53BF",
        "\u82E5\u5C14\u76D6\u53BF",
        "\u7EA2\u539F\u53BF"
      ],
      "\u7518\u5B5C\u85CF\u65CF\u81EA\u6CBB\u5DDE": [
        "\u5EB7\u5B9A\u5E02",
        "\u6CF8\u5B9A\u53BF",
        "\u4E39\u5DF4\u53BF",
        "\u4E5D\u9F99\u53BF",
        "\u96C5\u6C5F\u53BF",
        "\u9053\u5B5A\u53BF",
        "\u7089\u970D\u53BF",
        "\u7518\u5B5C\u53BF",
        "\u65B0\u9F99\u53BF",
        "\u5FB7\u683C\u53BF",
        "\u767D\u7389\u53BF",
        "\u77F3\u6E20\u53BF",
        "\u8272\u8FBE\u53BF",
        "\u7406\u5858\u53BF",
        "\u5DF4\u5858\u53BF",
        "\u4E61\u57CE\u53BF",
        "\u7A3B\u57CE\u53BF",
        "\u5F97\u8363\u53BF"
      ],
      "\u51C9\u5C71\u5F5D\u65CF\u81EA\u6CBB\u5DDE": [
        "\u897F\u660C\u5E02",
        "\u4F1A\u7406\u5E02",
        "\u6728\u91CC\u85CF\u65CF\u81EA\u6CBB\u53BF",
        "\u76D0\u6E90\u53BF",
        "\u5FB7\u660C\u53BF",
        "\u4F1A\u4E1C\u53BF",
        "\u5B81\u5357\u53BF",
        "\u666E\u683C\u53BF",
        "\u5E03\u62D6\u53BF",
        "\u91D1\u9633\u53BF",
        "\u662D\u89C9\u53BF",
        "\u559C\u5FB7\u53BF",
        "\u5195\u5B81\u53BF",
        "\u8D8A\u897F\u53BF",
        "\u7518\u6D1B\u53BF",
        "\u7F8E\u59D1\u53BF",
        "\u96F7\u6CE2\u53BF"
      ]
    },
    "\u8D35\u5DDE\u7701": {
      "\u8D35\u9633\u5E02": [
        "\u5357\u660E\u533A",
        "\u4E91\u5CA9\u533A",
        "\u82B1\u6EAA\u533A",
        "\u4E4C\u5F53\u533A",
        "\u767D\u4E91\u533A",
        "\u89C2\u5C71\u6E56\u533A",
        "\u5F00\u9633\u53BF",
        "\u606F\u70FD\u53BF",
        "\u4FEE\u6587\u53BF",
        "\u6E05\u9547\u5E02"
      ],
      "\u516D\u76D8\u6C34\u5E02": [
        "\u949F\u5C71\u533A",
        "\u516D\u679D\u7279\u533A",
        "\u6C34\u57CE\u533A",
        "\u76D8\u5DDE\u5E02"
      ],
      "\u9075\u4E49\u5E02": [
        "\u7EA2\u82B1\u5C97\u533A",
        "\u6C47\u5DDD\u533A",
        "\u64AD\u5DDE\u533A",
        "\u6850\u6893\u53BF",
        "\u7EE5\u9633\u53BF",
        "\u6B63\u5B89\u53BF",
        "\u9053\u771F\u4EE1\u4F6C\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u52A1\u5DDD\u4EE1\u4F6C\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u51E4\u5188\u53BF",
        "\u6E44\u6F6D\u53BF",
        "\u4F59\u5E86\u53BF",
        "\u4E60\u6C34\u53BF",
        "\u8D64\u6C34\u5E02",
        "\u4EC1\u6000\u5E02"
      ],
      "\u5B89\u987A\u5E02": [
        "\u897F\u79C0\u533A",
        "\u5E73\u575D\u533A",
        "\u666E\u5B9A\u53BF",
        "\u9547\u5B81\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u5173\u5CAD\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u7D2B\u4E91\u82D7\u65CF\u5E03\u4F9D\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u6BD5\u8282\u5E02": [
        "\u4E03\u661F\u5173\u533A",
        "\u5927\u65B9\u53BF",
        "\u91D1\u6C99\u53BF",
        "\u7EC7\u91D1\u53BF",
        "\u7EB3\u96CD\u53BF",
        "\u5A01\u5B81\u5F5D\u65CF\u56DE\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u8D6B\u7AE0\u53BF",
        "\u9ED4\u897F\u5E02"
      ],
      "\u94DC\u4EC1\u5E02": [
        "\u78A7\u6C5F\u533A",
        "\u4E07\u5C71\u533A",
        "\u6C5F\u53E3\u53BF",
        "\u7389\u5C4F\u4F97\u65CF\u81EA\u6CBB\u53BF",
        "\u77F3\u9621\u53BF",
        "\u601D\u5357\u53BF",
        "\u5370\u6C5F\u571F\u5BB6\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u5FB7\u6C5F\u53BF",
        "\u6CBF\u6CB3\u571F\u5BB6\u65CF\u81EA\u6CBB\u53BF",
        "\u677E\u6843\u82D7\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u9ED4\u897F\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE": [
        "\u5174\u4E49\u5E02",
        "\u5174\u4EC1\u5E02",
        "\u666E\u5B89\u53BF",
        "\u6674\u9686\u53BF",
        "\u8D1E\u4E30\u53BF",
        "\u671B\u8C1F\u53BF",
        "\u518C\u4EA8\u53BF",
        "\u5B89\u9F99\u53BF"
      ],
      "\u9ED4\u4E1C\u5357\u82D7\u65CF\u4F97\u65CF\u81EA\u6CBB\u5DDE": [
        "\u51EF\u91CC\u5E02",
        "\u9EC4\u5E73\u53BF",
        "\u65BD\u79C9\u53BF",
        "\u4E09\u7A57\u53BF",
        "\u9547\u8FDC\u53BF",
        "\u5C91\u5DE9\u53BF",
        "\u5929\u67F1\u53BF",
        "\u9526\u5C4F\u53BF",
        "\u5251\u6CB3\u53BF",
        "\u53F0\u6C5F\u53BF",
        "\u9ECE\u5E73\u53BF",
        "\u6995\u6C5F\u53BF",
        "\u4ECE\u6C5F\u53BF",
        "\u96F7\u5C71\u53BF",
        "\u9EBB\u6C5F\u53BF",
        "\u4E39\u5BE8\u53BF"
      ],
      "\u9ED4\u5357\u5E03\u4F9D\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE": [
        "\u90FD\u5300\u5E02",
        "\u798F\u6CC9\u5E02",
        "\u8354\u6CE2\u53BF",
        "\u8D35\u5B9A\u53BF",
        "\u74EE\u5B89\u53BF",
        "\u72EC\u5C71\u53BF",
        "\u5E73\u5858\u53BF",
        "\u7F57\u7538\u53BF",
        "\u957F\u987A\u53BF",
        "\u9F99\u91CC\u53BF",
        "\u60E0\u6C34\u53BF",
        "\u4E09\u90FD\u6C34\u65CF\u81EA\u6CBB\u53BF"
      ]
    },
    "\u4E91\u5357\u7701": {
      "\u6606\u660E\u5E02": [
        "\u4E94\u534E\u533A",
        "\u76D8\u9F99\u533A",
        "\u5B98\u6E21\u533A",
        "\u897F\u5C71\u533A",
        "\u4E1C\u5DDD\u533A",
        "\u5448\u8D21\u533A",
        "\u664B\u5B81\u533A",
        "\u5BCC\u6C11\u53BF",
        "\u5B9C\u826F\u53BF",
        "\u77F3\u6797\u5F5D\u65CF\u81EA\u6CBB\u53BF",
        "\u5D69\u660E\u53BF",
        "\u7984\u529D\u5F5D\u65CF\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u5BFB\u7538\u56DE\u65CF\u5F5D\u65CF\u81EA\u6CBB\u53BF",
        "\u5B89\u5B81\u5E02"
      ],
      "\u66F2\u9756\u5E02": [
        "\u9E92\u9E9F\u533A",
        "\u6CBE\u76CA\u533A",
        "\u9A6C\u9F99\u533A",
        "\u9646\u826F\u53BF",
        "\u5E08\u5B97\u53BF",
        "\u7F57\u5E73\u53BF",
        "\u5BCC\u6E90\u53BF",
        "\u4F1A\u6CFD\u53BF",
        "\u5BA3\u5A01\u5E02"
      ],
      "\u7389\u6EAA\u5E02": [
        "\u7EA2\u5854\u533A",
        "\u6C5F\u5DDD\u533A",
        "\u901A\u6D77\u53BF",
        "\u534E\u5B81\u53BF",
        "\u6613\u95E8\u53BF",
        "\u5CE8\u5C71\u5F5D\u65CF\u81EA\u6CBB\u53BF",
        "\u65B0\u5E73\u5F5D\u65CF\u50A3\u65CF\u81EA\u6CBB\u53BF",
        "\u5143\u6C5F\u54C8\u5C3C\u65CF\u5F5D\u65CF\u50A3\u65CF\u81EA\u6CBB\u53BF",
        "\u6F84\u6C5F\u5E02"
      ],
      "\u4FDD\u5C71\u5E02": [
        "\u9686\u9633\u533A",
        "\u65BD\u7538\u53BF",
        "\u9F99\u9675\u53BF",
        "\u660C\u5B81\u53BF",
        "\u817E\u51B2\u5E02"
      ],
      "\u662D\u901A\u5E02": [
        "\u662D\u9633\u533A",
        "\u9C81\u7538\u53BF",
        "\u5DE7\u5BB6\u53BF",
        "\u76D0\u6D25\u53BF",
        "\u5927\u5173\u53BF",
        "\u6C38\u5584\u53BF",
        "\u7EE5\u6C5F\u53BF",
        "\u9547\u96C4\u53BF",
        "\u5F5D\u826F\u53BF",
        "\u5A01\u4FE1\u53BF",
        "\u6C34\u5BCC\u5E02"
      ],
      "\u4E3D\u6C5F\u5E02": [
        "\u53E4\u57CE\u533A",
        "\u7389\u9F99\u7EB3\u897F\u65CF\u81EA\u6CBB\u53BF",
        "\u6C38\u80DC\u53BF",
        "\u534E\u576A\u53BF",
        "\u5B81\u8497\u5F5D\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u666E\u6D31\u5E02": [
        "\u601D\u8305\u533A",
        "\u5B81\u6D31\u54C8\u5C3C\u65CF\u5F5D\u65CF\u81EA\u6CBB\u53BF",
        "\u58A8\u6C5F\u54C8\u5C3C\u65CF\u81EA\u6CBB\u53BF",
        "\u666F\u4E1C\u5F5D\u65CF\u81EA\u6CBB\u53BF",
        "\u666F\u8C37\u50A3\u65CF\u5F5D\u65CF\u81EA\u6CBB\u53BF",
        "\u9547\u6C85\u5F5D\u65CF\u54C8\u5C3C\u65CF\u62C9\u795C\u65CF\u81EA\u6CBB\u53BF",
        "\u6C5F\u57CE\u54C8\u5C3C\u65CF\u5F5D\u65CF\u81EA\u6CBB\u53BF",
        "\u5B5F\u8FDE\u50A3\u65CF\u62C9\u795C\u65CF\u4F64\u65CF\u81EA\u6CBB\u53BF",
        "\u6F9C\u6CA7\u62C9\u795C\u65CF\u81EA\u6CBB\u53BF",
        "\u897F\u76DF\u4F64\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u4E34\u6CA7\u5E02": [
        "\u4E34\u7FD4\u533A",
        "\u51E4\u5E86\u53BF",
        "\u4E91\u53BF",
        "\u6C38\u5FB7\u53BF",
        "\u9547\u5EB7\u53BF",
        "\u53CC\u6C5F\u62C9\u795C\u65CF\u4F64\u65CF\u5E03\u6717\u65CF\u50A3\u65CF\u81EA\u6CBB\u53BF",
        "\u803F\u9A6C\u50A3\u65CF\u4F64\u65CF\u81EA\u6CBB\u53BF",
        "\u6CA7\u6E90\u4F64\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u695A\u96C4\u5F5D\u65CF\u81EA\u6CBB\u5DDE": [
        "\u695A\u96C4\u5E02",
        "\u7984\u4E30\u5E02",
        "\u53CC\u67CF\u53BF",
        "\u725F\u5B9A\u53BF",
        "\u5357\u534E\u53BF",
        "\u59DA\u5B89\u53BF",
        "\u5927\u59DA\u53BF",
        "\u6C38\u4EC1\u53BF",
        "\u5143\u8C0B\u53BF",
        "\u6B66\u5B9A\u53BF"
      ],
      "\u7EA2\u6CB3\u54C8\u5C3C\u65CF\u5F5D\u65CF\u81EA\u6CBB\u5DDE": [
        "\u4E2A\u65E7\u5E02",
        "\u5F00\u8FDC\u5E02",
        "\u8499\u81EA\u5E02",
        "\u5F25\u52D2\u5E02",
        "\u5C4F\u8FB9\u82D7\u65CF\u81EA\u6CBB\u53BF",
        "\u5EFA\u6C34\u53BF",
        "\u77F3\u5C4F\u53BF",
        "\u6CF8\u897F\u53BF",
        "\u5143\u9633\u53BF",
        "\u7EA2\u6CB3\u53BF",
        "\u91D1\u5E73\u82D7\u65CF\u7476\u65CF\u50A3\u65CF\u81EA\u6CBB\u53BF",
        "\u7EFF\u6625\u53BF",
        "\u6CB3\u53E3\u7476\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u6587\u5C71\u58EE\u65CF\u82D7\u65CF\u81EA\u6CBB\u5DDE": [
        "\u6587\u5C71\u5E02",
        "\u781A\u5C71\u53BF",
        "\u897F\u7574\u53BF",
        "\u9EBB\u6817\u5761\u53BF",
        "\u9A6C\u5173\u53BF",
        "\u4E18\u5317\u53BF",
        "\u5E7F\u5357\u53BF",
        "\u5BCC\u5B81\u53BF"
      ],
      "\u897F\u53CC\u7248\u7EB3\u50A3\u65CF\u81EA\u6CBB\u5DDE": [
        "\u666F\u6D2A\u5E02",
        "\u52D0\u6D77\u53BF",
        "\u52D0\u814A\u53BF"
      ],
      "\u5927\u7406\u767D\u65CF\u81EA\u6CBB\u5DDE": [
        "\u5927\u7406\u5E02",
        "\u6F3E\u6FDE\u5F5D\u65CF\u81EA\u6CBB\u53BF",
        "\u7965\u4E91\u53BF",
        "\u5BBE\u5DDD\u53BF",
        "\u5F25\u6E21\u53BF",
        "\u5357\u6DA7\u5F5D\u65CF\u81EA\u6CBB\u53BF",
        "\u5DCD\u5C71\u5F5D\u65CF\u56DE\u65CF\u81EA\u6CBB\u53BF",
        "\u6C38\u5E73\u53BF",
        "\u4E91\u9F99\u53BF",
        "\u6D31\u6E90\u53BF",
        "\u5251\u5DDD\u53BF",
        "\u9E64\u5E86\u53BF"
      ],
      "\u5FB7\u5B8F\u50A3\u65CF\u666F\u9887\u65CF\u81EA\u6CBB\u5DDE": [
        "\u745E\u4E3D\u5E02",
        "\u8292\u5E02",
        "\u6881\u6CB3\u53BF",
        "\u76C8\u6C5F\u53BF",
        "\u9647\u5DDD\u53BF"
      ],
      "\u6012\u6C5F\u5088\u50F3\u65CF\u81EA\u6CBB\u5DDE": [
        "\u6CF8\u6C34\u5E02",
        "\u798F\u8D21\u53BF",
        "\u8D21\u5C71\u72EC\u9F99\u65CF\u6012\u65CF\u81EA\u6CBB\u53BF",
        "\u5170\u576A\u767D\u65CF\u666E\u7C73\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u8FEA\u5E86\u85CF\u65CF\u81EA\u6CBB\u5DDE": [
        "\u9999\u683C\u91CC\u62C9\u5E02",
        "\u5FB7\u94A6\u53BF",
        "\u7EF4\u897F\u5088\u50F3\u65CF\u81EA\u6CBB\u53BF"
      ]
    },
    "\u897F\u85CF\u81EA\u6CBB\u533A": {
      "\u62C9\u8428\u5E02": [
        "\u57CE\u5173\u533A",
        "\u5806\u9F99\u5FB7\u5E86\u533A",
        "\u8FBE\u5B5C\u533A",
        "\u6797\u5468\u53BF",
        "\u5F53\u96C4\u53BF",
        "\u5C3C\u6728\u53BF",
        "\u66F2\u6C34\u53BF",
        "\u58A8\u7AF9\u5DE5\u5361\u53BF",
        "\u683C\u5C14\u6728\u85CF\u9752\u5DE5\u4E1A\u56ED\u533A",
        "\u62C9\u8428\u7ECF\u6D4E\u6280\u672F\u5F00\u53D1\u533A",
        "\u897F\u85CF\u6587\u5316\u65C5\u6E38\u521B\u610F\u56ED\u533A",
        "\u8FBE\u5B5C\u5DE5\u4E1A\u56ED\u533A"
      ],
      "\u65E5\u5580\u5219\u5E02": [
        "\u6851\u73E0\u5B5C\u533A",
        "\u5357\u6728\u6797\u53BF",
        "\u6C5F\u5B5C\u53BF",
        "\u5B9A\u65E5\u53BF",
        "\u8428\u8FE6\u53BF",
        "\u62C9\u5B5C\u53BF",
        "\u6602\u4EC1\u53BF",
        "\u8C22\u901A\u95E8\u53BF",
        "\u767D\u6717\u53BF",
        "\u4EC1\u5E03\u53BF",
        "\u5EB7\u9A6C\u53BF",
        "\u5B9A\u7ED3\u53BF",
        "\u4EF2\u5DF4\u53BF",
        "\u4E9A\u4E1C\u53BF",
        "\u5409\u9686\u53BF",
        "\u8042\u62C9\u6728\u53BF",
        "\u8428\u560E\u53BF",
        "\u5C97\u5DF4\u53BF"
      ],
      "\u660C\u90FD\u5E02": [
        "\u5361\u82E5\u533A",
        "\u6C5F\u8FBE\u53BF",
        "\u8D21\u89C9\u53BF",
        "\u7C7B\u4E4C\u9F50\u53BF",
        "\u4E01\u9752\u53BF",
        "\u5BDF\u96C5\u53BF",
        "\u516B\u5BBF\u53BF",
        "\u5DE6\u8D21\u53BF",
        "\u8292\u5EB7\u53BF",
        "\u6D1B\u9686\u53BF",
        "\u8FB9\u575D\u53BF"
      ],
      "\u6797\u829D\u5E02": [
        "\u5DF4\u5B9C\u533A",
        "\u5DE5\u5E03\u6C5F\u8FBE\u53BF",
        "\u58A8\u8131\u53BF",
        "\u6CE2\u5BC6\u53BF",
        "\u5BDF\u9685\u53BF",
        "\u6717\u53BF",
        "\u7C73\u6797\u5E02"
      ],
      "\u5C71\u5357\u5E02": [
        "\u4E43\u4E1C\u533A",
        "\u624E\u56CA\u53BF",
        "\u8D21\u560E\u53BF",
        "\u6851\u65E5\u53BF",
        "\u743C\u7ED3\u53BF",
        "\u66F2\u677E\u53BF",
        "\u63AA\u7F8E\u53BF",
        "\u6D1B\u624E\u53BF",
        "\u52A0\u67E5\u53BF",
        "\u9686\u5B50\u53BF",
        "\u6D6A\u5361\u5B50\u53BF",
        "\u9519\u90A3\u5E02"
      ],
      "\u90A3\u66F2\u5E02": [
        "\u8272\u5C3C\u533A",
        "\u5609\u9ECE\u53BF",
        "\u6BD4\u5982\u53BF",
        "\u8042\u8363\u53BF",
        "\u5B89\u591A\u53BF",
        "\u7533\u624E\u53BF",
        "\u7D22\u53BF",
        "\u73ED\u6208\u53BF",
        "\u5DF4\u9752\u53BF",
        "\u5C3C\u739B\u53BF",
        "\u53CC\u6E56\u53BF"
      ],
      "\u963F\u91CC\u5730\u533A": [
        "\u666E\u5170\u53BF",
        "\u672D\u8FBE\u53BF",
        "\u5676\u5C14\u53BF",
        "\u65E5\u571F\u53BF",
        "\u9769\u5409\u53BF",
        "\u6539\u5219\u53BF",
        "\u63AA\u52E4\u53BF"
      ]
    },
    "\u9655\u897F\u7701": {
      "\u897F\u5B89\u5E02": [
        "\u65B0\u57CE\u533A",
        "\u7891\u6797\u533A",
        "\u83B2\u6E56\u533A",
        "\u705E\u6865\u533A",
        "\u672A\u592E\u533A",
        "\u96C1\u5854\u533A",
        "\u960E\u826F\u533A",
        "\u4E34\u6F7C\u533A",
        "\u957F\u5B89\u533A",
        "\u9AD8\u9675\u533A",
        "\u9120\u9091\u533A",
        "\u84DD\u7530\u53BF",
        "\u5468\u81F3\u53BF"
      ],
      "\u94DC\u5DDD\u5E02": [
        "\u738B\u76CA\u533A",
        "\u5370\u53F0\u533A",
        "\u8000\u5DDE\u533A",
        "\u5B9C\u541B\u53BF"
      ],
      "\u5B9D\u9E21\u5E02": [
        "\u6E2D\u6EE8\u533A",
        "\u91D1\u53F0\u533A",
        "\u9648\u4ED3\u533A",
        "\u51E4\u7FD4\u533A",
        "\u5C90\u5C71\u53BF",
        "\u6276\u98CE\u53BF",
        "\u7709\u53BF",
        "\u9647\u53BF",
        "\u5343\u9633\u53BF",
        "\u9E9F\u6E38\u53BF",
        "\u51E4\u53BF",
        "\u592A\u767D\u53BF"
      ],
      "\u54B8\u9633\u5E02": [
        "\u79E6\u90FD\u533A",
        "\u6768\u9675\u533A",
        "\u6E2D\u57CE\u533A",
        "\u4E09\u539F\u53BF",
        "\u6CFE\u9633\u53BF",
        "\u4E7E\u53BF",
        "\u793C\u6CC9\u53BF",
        "\u6C38\u5BFF\u53BF",
        "\u957F\u6B66\u53BF",
        "\u65EC\u9091\u53BF",
        "\u6DF3\u5316\u53BF",
        "\u6B66\u529F\u53BF",
        "\u5174\u5E73\u5E02",
        "\u5F6C\u5DDE\u5E02"
      ],
      "\u6E2D\u5357\u5E02": [
        "\u4E34\u6E2D\u533A",
        "\u534E\u5DDE\u533A",
        "\u6F7C\u5173\u53BF",
        "\u5927\u8354\u53BF",
        "\u5408\u9633\u53BF",
        "\u6F84\u57CE\u53BF",
        "\u84B2\u57CE\u53BF",
        "\u767D\u6C34\u53BF",
        "\u5BCC\u5E73\u53BF",
        "\u97E9\u57CE\u5E02",
        "\u534E\u9634\u5E02"
      ],
      "\u5EF6\u5B89\u5E02": [
        "\u5B9D\u5854\u533A",
        "\u5B89\u585E\u533A",
        "\u5EF6\u957F\u53BF",
        "\u5EF6\u5DDD\u53BF",
        "\u5FD7\u4E39\u53BF",
        "\u5434\u8D77\u53BF",
        "\u7518\u6CC9\u53BF",
        "\u5BCC\u53BF",
        "\u6D1B\u5DDD\u53BF",
        "\u5B9C\u5DDD\u53BF",
        "\u9EC4\u9F99\u53BF",
        "\u9EC4\u9675\u53BF",
        "\u5B50\u957F\u5E02"
      ],
      "\u6C49\u4E2D\u5E02": [
        "\u6C49\u53F0\u533A",
        "\u5357\u90D1\u533A",
        "\u57CE\u56FA\u53BF",
        "\u6D0B\u53BF",
        "\u897F\u4E61\u53BF",
        "\u52C9\u53BF",
        "\u5B81\u5F3A\u53BF",
        "\u7565\u9633\u53BF",
        "\u9547\u5DF4\u53BF",
        "\u7559\u575D\u53BF",
        "\u4F5B\u576A\u53BF"
      ],
      "\u6986\u6797\u5E02": [
        "\u6986\u9633\u533A",
        "\u6A2A\u5C71\u533A",
        "\u5E9C\u8C37\u53BF",
        "\u9756\u8FB9\u53BF",
        "\u5B9A\u8FB9\u53BF",
        "\u7EE5\u5FB7\u53BF",
        "\u7C73\u8102\u53BF",
        "\u4F73\u53BF",
        "\u5434\u5821\u53BF",
        "\u6E05\u6DA7\u53BF",
        "\u5B50\u6D32\u53BF",
        "\u795E\u6728\u5E02"
      ],
      "\u5B89\u5EB7\u5E02": [
        "\u6C49\u6EE8\u533A",
        "\u6C49\u9634\u53BF",
        "\u77F3\u6CC9\u53BF",
        "\u5B81\u9655\u53BF",
        "\u7D2B\u9633\u53BF",
        "\u5C9A\u768B\u53BF",
        "\u5E73\u5229\u53BF",
        "\u9547\u576A\u53BF",
        "\u767D\u6CB3\u53BF",
        "\u65EC\u9633\u5E02"
      ],
      "\u5546\u6D1B\u5E02": [
        "\u5546\u5DDE\u533A",
        "\u6D1B\u5357\u53BF",
        "\u4E39\u51E4\u53BF",
        "\u5546\u5357\u53BF",
        "\u5C71\u9633\u53BF",
        "\u9547\u5B89\u53BF",
        "\u67DE\u6C34\u53BF"
      ]
    },
    "\u7518\u8083\u7701": {
      "\u5170\u5DDE\u5E02": [
        "\u57CE\u5173\u533A",
        "\u4E03\u91CC\u6CB3\u533A",
        "\u897F\u56FA\u533A",
        "\u5B89\u5B81\u533A",
        "\u7EA2\u53E4\u533A",
        "\u6C38\u767B\u53BF",
        "\u768B\u5170\u53BF",
        "\u6986\u4E2D\u53BF",
        "\u5170\u5DDE\u65B0\u533A"
      ],
      "\u5609\u5CEA\u5173\u5E02": [
        "\u96C4\u5173\u8857\u9053",
        "\u94A2\u57CE\u8857\u9053",
        "\u65B0\u57CE\u9547",
        "\u5CEA\u6CC9\u9547",
        "\u6587\u6B8A\u9547"
      ],
      "\u91D1\u660C\u5E02": [
        "\u91D1\u5DDD\u533A",
        "\u6C38\u660C\u53BF"
      ],
      "\u767D\u94F6\u5E02": [
        "\u767D\u94F6\u533A",
        "\u5E73\u5DDD\u533A",
        "\u9756\u8FDC\u53BF",
        "\u4F1A\u5B81\u53BF",
        "\u666F\u6CF0\u53BF"
      ],
      "\u5929\u6C34\u5E02": [
        "\u79E6\u5DDE\u533A",
        "\u9EA6\u79EF\u533A",
        "\u6E05\u6C34\u53BF",
        "\u79E6\u5B89\u53BF",
        "\u7518\u8C37\u53BF",
        "\u6B66\u5C71\u53BF",
        "\u5F20\u5BB6\u5DDD\u56DE\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u6B66\u5A01\u5E02": [
        "\u51C9\u5DDE\u533A",
        "\u6C11\u52E4\u53BF",
        "\u53E4\u6D6A\u53BF",
        "\u5929\u795D\u85CF\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u5F20\u6396\u5E02": [
        "\u7518\u5DDE\u533A",
        "\u8083\u5357\u88D5\u56FA\u65CF\u81EA\u6CBB\u53BF",
        "\u6C11\u4E50\u53BF",
        "\u4E34\u6CFD\u53BF",
        "\u9AD8\u53F0\u53BF",
        "\u5C71\u4E39\u53BF"
      ],
      "\u5E73\u51C9\u5E02": [
        "\u5D06\u5CD2\u533A",
        "\u6CFE\u5DDD\u53BF",
        "\u7075\u53F0\u53BF",
        "\u5D07\u4FE1\u53BF",
        "\u5E84\u6D6A\u53BF",
        "\u9759\u5B81\u53BF",
        "\u534E\u4EAD\u5E02"
      ],
      "\u9152\u6CC9\u5E02": [
        "\u8083\u5DDE\u533A",
        "\u91D1\u5854\u53BF",
        "\u74DC\u5DDE\u53BF",
        "\u8083\u5317\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF",
        "\u963F\u514B\u585E\u54C8\u8428\u514B\u65CF\u81EA\u6CBB\u53BF",
        "\u7389\u95E8\u5E02",
        "\u6566\u714C\u5E02"
      ],
      "\u5E86\u9633\u5E02": [
        "\u897F\u5CF0\u533A",
        "\u5E86\u57CE\u53BF",
        "\u73AF\u53BF",
        "\u534E\u6C60\u53BF",
        "\u5408\u6C34\u53BF",
        "\u6B63\u5B81\u53BF",
        "\u5B81\u53BF",
        "\u9547\u539F\u53BF"
      ],
      "\u5B9A\u897F\u5E02": [
        "\u5B89\u5B9A\u533A",
        "\u901A\u6E2D\u53BF",
        "\u9647\u897F\u53BF",
        "\u6E2D\u6E90\u53BF",
        "\u4E34\u6D2E\u53BF",
        "\u6F33\u53BF",
        "\u5CB7\u53BF"
      ],
      "\u9647\u5357\u5E02": [
        "\u6B66\u90FD\u533A",
        "\u6210\u53BF",
        "\u6587\u53BF",
        "\u5B95\u660C\u53BF",
        "\u5EB7\u53BF",
        "\u897F\u548C\u53BF",
        "\u793C\u53BF",
        "\u5FBD\u53BF",
        "\u4E24\u5F53\u53BF"
      ],
      "\u4E34\u590F\u56DE\u65CF\u81EA\u6CBB\u5DDE": [
        "\u4E34\u590F\u5E02",
        "\u4E34\u590F\u53BF",
        "\u5EB7\u4E50\u53BF",
        "\u6C38\u9756\u53BF",
        "\u5E7F\u6CB3\u53BF",
        "\u548C\u653F\u53BF",
        "\u4E1C\u4E61\u65CF\u81EA\u6CBB\u53BF",
        "\u79EF\u77F3\u5C71\u4FDD\u5B89\u65CF\u4E1C\u4E61\u65CF\u6492\u62C9\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u7518\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE": [
        "\u5408\u4F5C\u5E02",
        "\u4E34\u6F6D\u53BF",
        "\u5353\u5C3C\u53BF",
        "\u821F\u66F2\u53BF",
        "\u8FED\u90E8\u53BF",
        "\u739B\u66F2\u53BF",
        "\u788C\u66F2\u53BF",
        "\u590F\u6CB3\u53BF"
      ]
    },
    "\u9752\u6D77\u7701": {
      "\u897F\u5B81\u5E02": [
        "\u57CE\u4E1C\u533A",
        "\u57CE\u4E2D\u533A",
        "\u57CE\u897F\u533A",
        "\u57CE\u5317\u533A",
        "\u6E5F\u4E2D\u533A",
        "\u5927\u901A\u56DE\u65CF\u571F\u65CF\u81EA\u6CBB\u53BF",
        "\u6E5F\u6E90\u53BF"
      ],
      "\u6D77\u4E1C\u5E02": [
        "\u4E50\u90FD\u533A",
        "\u5E73\u5B89\u533A",
        "\u6C11\u548C\u56DE\u65CF\u571F\u65CF\u81EA\u6CBB\u53BF",
        "\u4E92\u52A9\u571F\u65CF\u81EA\u6CBB\u53BF",
        "\u5316\u9686\u56DE\u65CF\u81EA\u6CBB\u53BF",
        "\u5FAA\u5316\u6492\u62C9\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u6D77\u5317\u85CF\u65CF\u81EA\u6CBB\u5DDE": [
        "\u95E8\u6E90\u56DE\u65CF\u81EA\u6CBB\u53BF",
        "\u7941\u8FDE\u53BF",
        "\u6D77\u664F\u53BF",
        "\u521A\u5BDF\u53BF"
      ],
      "\u9EC4\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE": [
        "\u540C\u4EC1\u5E02",
        "\u5C16\u624E\u53BF",
        "\u6CFD\u5E93\u53BF",
        "\u6CB3\u5357\u8499\u53E4\u65CF\u81EA\u6CBB\u53BF"
      ],
      "\u6D77\u5357\u85CF\u65CF\u81EA\u6CBB\u5DDE": [
        "\u5171\u548C\u53BF",
        "\u540C\u5FB7\u53BF",
        "\u8D35\u5FB7\u53BF",
        "\u5174\u6D77\u53BF",
        "\u8D35\u5357\u53BF"
      ],
      "\u679C\u6D1B\u85CF\u65CF\u81EA\u6CBB\u5DDE": [
        "\u739B\u6C81\u53BF",
        "\u73ED\u739B\u53BF",
        "\u7518\u5FB7\u53BF",
        "\u8FBE\u65E5\u53BF",
        "\u4E45\u6CBB\u53BF",
        "\u739B\u591A\u53BF"
      ],
      "\u7389\u6811\u85CF\u65CF\u81EA\u6CBB\u5DDE": [
        "\u7389\u6811\u5E02",
        "\u6742\u591A\u53BF",
        "\u79F0\u591A\u53BF",
        "\u6CBB\u591A\u53BF",
        "\u56CA\u8C26\u53BF",
        "\u66F2\u9EBB\u83B1\u53BF"
      ],
      "\u6D77\u897F\u8499\u53E4\u65CF\u85CF\u65CF\u81EA\u6CBB\u5DDE": [
        "\u683C\u5C14\u6728\u5E02",
        "\u5FB7\u4EE4\u54C8\u5E02",
        "\u832B\u5D16\u5E02",
        "\u4E4C\u5170\u53BF",
        "\u90FD\u5170\u53BF",
        "\u5929\u5CFB\u53BF",
        "\u5927\u67F4\u65E6\u884C\u653F\u59D4\u5458\u4F1A"
      ]
    },
    "\u5B81\u590F\u56DE\u65CF\u81EA\u6CBB\u533A": {
      "\u94F6\u5DDD\u5E02": [
        "\u5174\u5E86\u533A",
        "\u897F\u590F\u533A",
        "\u91D1\u51E4\u533A",
        "\u6C38\u5B81\u53BF",
        "\u8D3A\u5170\u53BF",
        "\u7075\u6B66\u5E02"
      ],
      "\u77F3\u5634\u5C71\u5E02": [
        "\u5927\u6B66\u53E3\u533A",
        "\u60E0\u519C\u533A",
        "\u5E73\u7F57\u53BF"
      ],
      "\u5434\u5FE0\u5E02": [
        "\u5229\u901A\u533A",
        "\u7EA2\u5BFA\u5821\u533A",
        "\u76D0\u6C60\u53BF",
        "\u540C\u5FC3\u53BF",
        "\u9752\u94DC\u5CE1\u5E02"
      ],
      "\u56FA\u539F\u5E02": [
        "\u539F\u5DDE\u533A",
        "\u897F\u5409\u53BF",
        "\u9686\u5FB7\u53BF",
        "\u6CFE\u6E90\u53BF",
        "\u5F6D\u9633\u53BF"
      ],
      "\u4E2D\u536B\u5E02": [
        "\u6C99\u5761\u5934\u533A",
        "\u4E2D\u5B81\u53BF",
        "\u6D77\u539F\u53BF"
      ]
    },
    "\u65B0\u7586\u7EF4\u543E\u5C14\u81EA\u6CBB\u533A": {
      "\u4E4C\u9C81\u6728\u9F50\u5E02": [
        "\u5929\u5C71\u533A",
        "\u6C99\u4F9D\u5DF4\u514B\u533A",
        "\u65B0\u5E02\u533A",
        "\u6C34\u78E8\u6C9F\u533A",
        "\u5934\u5C6F\u6CB3\u533A",
        "\u8FBE\u5742\u57CE\u533A",
        "\u7C73\u4E1C\u533A",
        "\u4E4C\u9C81\u6728\u9F50\u53BF"
      ],
      "\u514B\u62C9\u739B\u4F9D\u5E02": [
        "\u72EC\u5C71\u5B50\u533A",
        "\u514B\u62C9\u739B\u4F9D\u533A",
        "\u767D\u78B1\u6EE9\u533A",
        "\u4E4C\u5C14\u79BE\u533A"
      ],
      "\u5410\u9C81\u756A\u5E02": [
        "\u9AD8\u660C\u533A",
        "\u912F\u5584\u53BF",
        "\u6258\u514B\u900A\u53BF"
      ],
      "\u54C8\u5BC6\u5E02": [
        "\u4F0A\u5DDE\u533A",
        "\u5DF4\u91CC\u5764\u54C8\u8428\u514B\u81EA\u6CBB\u53BF",
        "\u4F0A\u543E\u53BF"
      ],
      "\u660C\u5409\u56DE\u65CF\u81EA\u6CBB\u5DDE": [
        "\u660C\u5409\u5E02",
        "\u961C\u5EB7\u5E02",
        "\u547C\u56FE\u58C1\u53BF",
        "\u739B\u7EB3\u65AF\u53BF",
        "\u5947\u53F0\u53BF",
        "\u5409\u6728\u8428\u5C14\u53BF",
        "\u6728\u5792\u54C8\u8428\u514B\u81EA\u6CBB\u53BF"
      ],
      "\u535A\u5C14\u5854\u62C9\u8499\u53E4\u81EA\u6CBB\u5DDE": [
        "\u535A\u4E50\u5E02",
        "\u963F\u62C9\u5C71\u53E3\u5E02",
        "\u7CBE\u6CB3\u53BF",
        "\u6E29\u6CC9\u53BF"
      ],
      "\u5DF4\u97F3\u90ED\u695E\u8499\u53E4\u81EA\u6CBB\u5DDE": [
        "\u5E93\u5C14\u52D2\u5E02",
        "\u8F6E\u53F0\u53BF",
        "\u5C09\u7281\u53BF",
        "\u82E5\u7F8C\u53BF",
        "\u4E14\u672B\u53BF",
        "\u7109\u8006\u56DE\u65CF\u81EA\u6CBB\u53BF",
        "\u548C\u9759\u53BF",
        "\u548C\u7855\u53BF",
        "\u535A\u6E56\u53BF"
      ],
      "\u963F\u514B\u82CF\u5730\u533A": [
        "\u963F\u514B\u82CF\u5E02",
        "\u5E93\u8F66\u5E02",
        "\u6E29\u5BBF\u53BF",
        "\u6C99\u96C5\u53BF",
        "\u65B0\u548C\u53BF",
        "\u62DC\u57CE\u53BF",
        "\u4E4C\u4EC0\u53BF",
        "\u963F\u74E6\u63D0\u53BF",
        "\u67EF\u576A\u53BF"
      ],
      "\u514B\u5B5C\u52D2\u82CF\u67EF\u5C14\u514B\u5B5C\u81EA\u6CBB\u5DDE": [
        "\u963F\u56FE\u4EC0\u5E02",
        "\u963F\u514B\u9676\u53BF",
        "\u963F\u5408\u5947\u53BF",
        "\u4E4C\u6070\u53BF"
      ],
      "\u5580\u4EC0\u5730\u533A": [
        "\u5580\u4EC0\u5E02",
        "\u758F\u9644\u53BF",
        "\u758F\u52D2\u53BF",
        "\u82F1\u5409\u6C99\u53BF",
        "\u6CFD\u666E\u53BF",
        "\u838E\u8F66\u53BF",
        "\u53F6\u57CE\u53BF",
        "\u9EA6\u76D6\u63D0\u53BF",
        "\u5CB3\u666E\u6E56\u53BF",
        "\u4F3D\u5E08\u53BF",
        "\u5DF4\u695A\u53BF",
        "\u5854\u4EC0\u5E93\u5C14\u5E72\u5854\u5409\u514B\u81EA\u6CBB\u53BF"
      ],
      "\u548C\u7530\u5730\u533A": [
        "\u548C\u7530\u5E02",
        "\u548C\u7530\u53BF",
        "\u58A8\u7389\u53BF",
        "\u76AE\u5C71\u53BF",
        "\u6D1B\u6D66\u53BF",
        "\u7B56\u52D2\u53BF",
        "\u4E8E\u7530\u53BF",
        "\u6C11\u4E30\u53BF"
      ],
      "\u4F0A\u7281\u54C8\u8428\u514B\u81EA\u6CBB\u5DDE": [
        "\u4F0A\u5B81\u5E02",
        "\u594E\u5C6F\u5E02",
        "\u970D\u5C14\u679C\u65AF\u5E02",
        "\u4F0A\u5B81\u53BF",
        "\u5BDF\u5E03\u67E5\u5C14\u9521\u4F2F\u81EA\u6CBB\u53BF",
        "\u970D\u57CE\u53BF",
        "\u5DE9\u7559\u53BF",
        "\u65B0\u6E90\u53BF",
        "\u662D\u82CF\u53BF",
        "\u7279\u514B\u65AF\u53BF",
        "\u5C3C\u52D2\u514B\u53BF"
      ],
      "\u5854\u57CE\u5730\u533A": [
        "\u5854\u57CE\u5E02",
        "\u4E4C\u82CF\u5E02",
        "\u6C99\u6E7E\u5E02",
        "\u989D\u654F\u53BF",
        "\u6258\u91CC\u53BF",
        "\u88D5\u6C11\u53BF",
        "\u548C\u5E03\u514B\u8D5B\u5C14\u8499\u53E4\u81EA\u6CBB\u53BF"
      ],
      "\u963F\u52D2\u6CF0\u5730\u533A": [
        "\u963F\u52D2\u6CF0\u5E02",
        "\u5E03\u5C14\u6D25\u53BF",
        "\u5BCC\u8574\u53BF",
        "\u798F\u6D77\u53BF",
        "\u54C8\u5DF4\u6CB3\u53BF",
        "\u9752\u6CB3\u53BF",
        "\u5409\u6728\u4E43\u53BF"
      ],
      "\u81EA\u6CBB\u533A\u76F4\u8F96\u53BF\u7EA7\u884C\u653F\u533A\u5212": [
        "\u77F3\u6CB3\u5B50\u5E02",
        "\u963F\u62C9\u5C14\u5E02",
        "\u56FE\u6728\u8212\u514B\u5E02",
        "\u4E94\u5BB6\u6E20\u5E02",
        "\u5317\u5C6F\u5E02",
        "\u94C1\u95E8\u5173\u5E02",
        "\u53CC\u6CB3\u5E02",
        "\u53EF\u514B\u8FBE\u62C9\u5E02",
        "\u6606\u7389\u5E02",
        "\u80E1\u6768\u6CB3\u5E02",
        "\u65B0\u661F\u5E02",
        "\u767D\u6768\u5E02"
      ]
    }
  };
  const _sfc_main$V = {
    name: "myPicker",
    props: {
      type: {
        type: String,
        default: "1"
      },
      isSaveData: {
        type: String,
        default: "0"
      },
      isEdit: {
        type: String,
        default: "0"
      },
      region: {
        type: String,
        default: ""
      }
    },
    data() {
      return {
        multiArray: [[], [], []],
        multiIndex: [0, 0, 0]
      };
    },
    created() {
      formatAppLog("log", "at components/picker/picker.vue:47", "\u8FDB\u5165\u5230\u4E86picker", this.region);
      this.initMultiArray();
    },
    methods: {
      initMultiArray() {
        formatAppLog("log", "at components/picker/picker.vue:52", "hehe ");
        if (this.isEdit == "1") {
          let addressArr = decodeURIComponent(this.region).split(",");
          formatAppLog("log", "at components/picker/picker.vue:56", 9999, Object.keys(pcaData));
          this.multiArray[0] = Object.keys(pcaData);
          let provinceIndex = this.multiArray[0].indexOf(addressArr[0]);
          this.multiArray[1] = provinceIndex !== -1 ? Object.keys(pcaData[addressArr[0]]) : [];
          let cityIndex = this.multiArray[1].indexOf(addressArr[1]);
          this.multiArray[2] = cityIndex !== -1 ? pcaData[addressArr[0]][addressArr[1]] : [];
          this.multiIndex[0] = provinceIndex !== -1 ? provinceIndex : 0;
          this.multiIndex[1] = cityIndex !== -1 ? cityIndex : 0;
          this.multiIndex[2] = this.multiArray[2].indexOf(addressArr[2]);
        } else if (uni.getStorageSync("address") && this.isEdit !== "1") {
          let addressArr = uni.getStorageSync("address").split(",");
          this.multiArray[0] = Object.keys(pcaData);
          let provinceIndex = this.multiArray[0].indexOf(addressArr[0]);
          this.multiArray[1] = provinceIndex !== -1 ? Object.keys(pcaData[addressArr[0]]) : [];
          let cityIndex = this.multiArray[1].indexOf(addressArr[1]);
          this.multiArray[2] = cityIndex !== -1 ? pcaData[addressArr[0]][addressArr[1]] : [];
          this.multiIndex[0] = provinceIndex !== -1 ? provinceIndex : 0;
          this.multiIndex[1] = cityIndex !== -1 ? cityIndex : 0;
          this.multiIndex[2] = this.multiArray[2].indexOf(addressArr[2]);
        } else {
          this.multiArray[0] = Object.keys(pcaData);
          this.multiArray[1] = Object.keys(pcaData[this.multiArray[0][0]]);
          this.multiArray[2] = pcaData[this.multiArray[0][0]][this.multiArray[1][0]];
          this.multiIndex = [0, 0, 0];
        }
        this.$emit("chooseAddress", `${this.multiArray[0][this.multiIndex[0]]},${this.multiArray[1][this.multiIndex[1]]},${this.multiArray[2][this.multiIndex[2]]}`);
      },
      bindMultiPickerChange: function(e2) {
        this.multiIndex = e2.detail.value;
        const province = this.multiArray[0][this.multiIndex[0]];
        const city = this.multiArray[1][this.multiIndex[1]];
        const district = this.multiArray[2][this.multiIndex[2]];
        this.cityText = `${province} ${city} ${district}`;
        if (this.isSaveData == "1") {
          uni.setStorageSync("address", `${this.multiArray[0][this.multiIndex[0]]},${this.multiArray[1][this.multiIndex[1]]},${this.multiArray[2][this.multiIndex[2]]}`);
        }
        formatAppLog("log", "at components/picker/picker.vue:110", this.multiArray[0][this.multiIndex[0]], this.multiArray[1][this.multiIndex[1]], this.multiArray[2][this.multiIndex[2]]);
        this.$emit("chooseAddress", `${this.multiArray[0][this.multiIndex[0]]},${this.multiArray[1][this.multiIndex[1]]},${this.multiArray[2][this.multiIndex[2]]}`);
      },
      bindColumnChange: function(e2) {
        const { column, value } = e2.detail;
        if (column === 0) {
          let selectedProvince = this.multiArray[0][value];
          this.multiArray[1] = Object.keys(pcaData[selectedProvince]);
          this.multiArray[2] = pcaData[selectedProvince][this.multiArray[1][0]];
          this.multiIndex[0] = value;
          this.multiIndex[1] = 0;
          this.multiIndex[2] = 0;
        } else if (column === 1) {
          let selectedProvince = this.multiArray[0][this.multiIndex[0]];
          let selectedCity = this.multiArray[1][value];
          this.multiArray[2] = pcaData[selectedProvince][selectedCity];
          this.multiIndex[1] = value;
          this.multiIndex[2] = 0;
        }
        this.$forceUpdate();
      }
    }
  };
  function _sfc_render$U(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("picker", {
      mode: "multiSelector",
      range: $data.multiArray,
      value: $data.multiIndex,
      onChange: _cache[0] || (_cache[0] = (...args) => $options.bindMultiPickerChange && $options.bindMultiPickerChange(...args)),
      onColumnchange: _cache[1] || (_cache[1] = (...args) => $options.bindColumnChange && $options.bindColumnChange(...args))
    }, [
      vue.createElementVNode("view", {
        class: vue.normalizeClass(["picker", ["picker" + $props.type, { width100: $props.type == 2 }]])
      }, [
        vue.withDirectives(vue.createElementVNode("text", {
          class: vue.normalizeClass({ type2: $props.type == 2 })
        }, "\u5F53\u524D\u9009\u62E9\uFF1A", 2), [
          [vue.vShow, $props.type == 2]
        ]),
        vue.withDirectives(vue.createElementVNode("text", {
          class: vue.normalizeClass({ inputType2: $props.type == 2 })
        }, vue.toDisplayString($data.multiArray[0][$data.multiIndex[0]]) + " " + vue.toDisplayString($data.multiArray[1][$data.multiIndex[1]]) + " " + vue.toDisplayString($data.multiArray[2][$data.multiIndex[2]]), 3), [
          [vue.vShow, $props.type == 2]
        ]),
        vue.withDirectives(vue.createElementVNode("text", null, vue.toDisplayString($data.multiArray[2][$data.multiIndex[2]]), 513), [
          [vue.vShow, $props.type == 1]
        ]),
        vue.withDirectives(vue.createElementVNode("text", {
          class: vue.normalizeClass({ type3: $props.type == 3 })
        }, null, 2), [
          [vue.vShow, $props.type == 3]
        ]),
        vue.withDirectives(vue.createElementVNode("text", {
          class: vue.normalizeClass({ inputType3: $props.type == 3 })
        }, vue.toDisplayString($data.multiArray[0][$data.multiIndex[0]]) + " " + vue.toDisplayString($data.multiArray[1][$data.multiIndex[1]]) + " " + vue.toDisplayString($data.multiArray[2][$data.multiIndex[2]]), 3), [
          [vue.vShow, $props.type == 3]
        ])
      ], 2)
    ], 40, ["range", "value"]);
  }
  var myPicker = /* @__PURE__ */ _export_sfc(_sfc_main$V, [["render", _sfc_render$U], ["__scopeId", "data-v-b60cd6f8"], ["__file", "F:/work/ChuangDian/components/picker/picker.vue"]]);
  const _sfc_main$U = {
    components: {
      myPicker,
      tabbar: __easycom_1$2
    },
    onLoad() {
      uni.hideTabBar();
      if (uni.getStorageSync("addressDefault")) {
        this.address = uni.getStorageSync("addressDefault").name;
      }
    },
    onShow() {
      formatAppLog("log", "at pages/main/main.vue:228", "\u9996\u9875\u52A0\u8F7D");
      let that = this;
      uni.$once("address", function(data) {
        formatAppLog("log", "at pages/main/main.vue:234", "\u76D1\u542C\u5230\u4E8B\u4EF6\u6765\u81EA\u8FD4\u56DE\u7684\u53C2\u6570\uFF1A" + data.name);
        that.address = data.name;
      });
    },
    data() {
      return {
        notice: "99",
        address: "\u7701\u5E02",
        keyword: "",
        itemNum1: "180",
        itemNum2: "8",
        itemNum3: "160",
        itemNum4: "25",
        itemNum5: "1613",
        itemNum6: "876",
        itemNum7: "123",
        type: 1,
        dataList1: [
          {
            name: "\u7EB8\u5DFE",
            value: "1613",
            img: "/static/ic_main_grid_item1.png"
          },
          {
            name: "\u7CBE\u6CB9",
            value: "760",
            img: "/static/ic_main_grid_item2.png"
          },
          {
            name: "\u6D17\u624B\u6DB2",
            value: "1313",
            img: "/static/ic_main_grid_item3.png"
          },
          {
            name: "\u611F\u5E94\u5395\u7EB8\u673A",
            value: "",
            img: "/static/ic_main_grid_item4.png"
          },
          {
            name: "\u611F\u5E94\u6AAB\u624B\u7EB8\u673A",
            value: "",
            img: "/static/ic_main_grid_item5.png"
          },
          {
            name: "\u611F\u5E94\u7682\u6DB2\u5668",
            value: "",
            img: "/static/ic_main_grid_item6.png"
          },
          {
            name: "\u667A\u80FD\u9999\u6C1B\u673A",
            value: "",
            img: "/static/ic_main_grid_item7.png"
          },
          {
            name: "\u5927\u76D8\u7EB8\u5DFE\u76D2",
            value: "",
            img: "/static/ic_main_grid_item8.png"
          },
          {
            name: "\u6AAB\u624B\u7EB8\u76D2",
            value: "",
            img: "/static/ic_main_grid_item9.png"
          },
          {
            name: "\u4E2D\u5FC3\u62BD\u7EB8\u76D2",
            value: "",
            img: "/static/ic_main_grid_item10.png"
          },
          {
            name: "\u73AF\u5883\u5783\u573E\u6876",
            value: "",
            img: "/static/ic_main_grid_item11.png"
          }
        ],
        dataList2: [
          {
            name: "\u7A7A\u6C14\u8D28\u91CF",
            value: "",
            img: "/static/ic_main_grid_item12.png"
          },
          {
            name: "\u786B\u5316\u6C22\u6C14\u4F53\u6D53\u5EA6",
            value: "",
            img: "/static/ic_main_grid_item13.png"
          },
          {
            name: "\u6C28\u6C14\u4F53\u6D53\u5EA6",
            value: "",
            img: "/static/ic_main_grid_item14.png"
          },
          {
            name: "\u7A7A\u6C14\u6E29\u5EA6",
            value: "",
            img: "/static/ic_main_grid_item15.png"
          },
          {
            name: "\u7A7A\u6C14\u6E7F\u5EA6",
            value: "",
            img: "/static/ic_main_grid_item16.png"
          },
          {
            name: "\u4EBA\u6D41\u91CF",
            value: "",
            img: "/static/ic_main_grid_item17.png"
          },
          {
            name: "\u6E05\u6D01\u72B6\u6001",
            value: "",
            img: "/static/ic_main_grid_item18.png"
          },
          {
            name: "\u4F7F\u7528\u72B6\u6001",
            value: "",
            img: "/static/ic_main_grid_item19.png"
          }
        ],
        bannerList: [],
        overviewData: {}
      };
    },
    created() {
      formatAppLog("log", "at pages/main/main.vue:357", 1111);
      this.getOverViewData();
      this.getBannerList();
    },
    methods: {
      chooseAddress(data) {
        this.address = data;
      },
      async getOverViewData() {
        const res = await this.$myRequest({
          url: "api/Device/overview",
          method: "POST"
        });
        if (res.code == 1) {
          this.overviewData = res.data;
        }
      },
      async getBannerList() {
        const res = await this.$myRequest({
          url: "api/banner/bannerList",
          method: "POST",
          data: {
            banner_type: "home"
          }
        });
        if (res.code == 1) {
          this.bannerList = res.data;
        }
      },
      toggleTab(index) {
        this.tabIndex = index;
      },
      tabChange(e2) {
        formatAppLog("log", "at pages/main/main.vue:395", e2);
        this.tabIndex = e2.detail.current;
      },
      selectLeftTab(index) {
        this.leftIndex = index;
      },
      switchDate(type) {
        this.type = type;
      },
      toGo(url) {
        uni.navigateTo({
          url
        });
      },
      toDetail(id) {
        uni.navigateTo({
          url: "/pages/deviceDetail/deviceDetail?id=" + id
        });
      },
      search: function(event) {
        formatAppLog("log", "at pages/main/main.vue:419", "\u70B9\u51FB\u641C\u7D22", event.detail.value);
        this.toGo("/pages/deviceList/deviceList?title=\u5728\u7EBF\u8BBE\u5907&keyword=" + event.detail.value);
      }
    }
  };
  function _sfc_render$T(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_myPicker = vue.resolveComponent("myPicker");
    const _component_uni_grid_item = resolveEasycom(vue.resolveDynamicComponent("uni-grid-item"), __easycom_0$j);
    const _component_uni_grid = resolveEasycom(vue.resolveDynamicComponent("uni-grid"), __easycom_1$3);
    const _component_tabbar = resolveEasycom(vue.resolveDynamicComponent("tabbar"), __easycom_1$2);
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", { class: "status_bar" }, [
        vue.createElementVNode("view", { class: "top_view" })
      ]),
      vue.createCommentVNode(" \u9876\u90E8title "),
      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "position": "relative" } }, [
        vue.createElementVNode("view", { style: { "width": "100%", "display": "flex", "justify-content": "center", "align-items": "center", "padding": "30rpx 0 28rpx 0", "font-size": "32rpx", "font-weight": "600", "color": "#333333" } }, " \u9996\u9875 "),
        vue.createElementVNode("view", { style: { "position": "absolute", "display": "flex", "top": "0rpx", "right": "0rpx", "flex-direction": "row" } }, [
          vue.createElementVNode("image", {
            style: { "width": "40rpx", "height": "44rpx", "padding": "28rpx 17rpx 28rpx 17rpx" },
            src: "/static/ic_add.png",
            onClick: _cache[0] || (_cache[0] = ($event) => $options.toGo("/pages/scanQrCode/scanQrCode"))
          }, null, 8, ["src"]),
          vue.createCommentVNode(" \u901A\u77E5 "),
          vue.createElementVNode("view", {
            style: { "padding": "30rpx 17rpx 28rpx 17rpx" },
            onClick: _cache[1] || (_cache[1] = ($event) => $options.toGo("/pages/notice/notice"))
          }, [
            vue.createElementVNode("view", { class: "notice" }, [
              vue.createElementVNode("image", {
                style: { "width": "36rpx", "height": "40rpx" },
                src: "/static/ic_notice.png"
              }, null, 8, ["src"]),
              $data.notice ? (vue.openBlock(), vue.createElementBlock("text", {
                key: 0,
                class: "num"
              }, vue.toDisplayString($data.notice), 1)) : vue.createCommentVNode("v-if", true)
            ])
          ])
        ])
      ]),
      vue.createCommentVNode(" \u5B9A\u4F4D\u5730\u5740\u53CA\u641C\u7D22\u680F "),
      vue.createElementVNode("view", { class: "h-layout" }, [
        vue.createElementVNode("view", { style: { "display": "flex", "align-items": "center" } }, [
          vue.createElementVNode("image", {
            style: { "width": "32rpx", "height": "32rpx", "padding-left": "32rpx", "padding-right": "10rpx" },
            src: "/static/ic_address.png"
          }, null, 8, ["src"]),
          vue.createCommentVNode(` <text style="font-size: 28rpx;font-weight: 400;color: #333333;padding-right: 40rpx;"\r
					@click="toGo('/pages/selectAddress/selectAddress')">{{address}}</text> `),
          vue.createVNode(_component_myPicker, {
            type: "1",
            onChooseAddress: $options.chooseAddress,
            isEdit: _ctx.isEdit,
            region: _ctx.region,
            isSaveData: "1"
          }, null, 8, ["onChooseAddress", "isEdit", "region"])
        ]),
        vue.withDirectives(vue.createElementVNode("input", {
          style: { "flex": "auto", "height": "76rpx", "font-size": "28rpx", "color": "#333333", "margin-left": "10rpx", "margin-right": "32rpx", "background": "#FFFFFF", "border-radius": "38rpx", "padding": "0 34rpx" },
          "placeholder-style": "color:#999999",
          "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.keyword = $event),
          "confirm-type": "search",
          onConfirm: _cache[3] || (_cache[3] = (...args) => $options.search && $options.search(...args)),
          placeholder: "\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u67E5\u8BE2"
        }, null, 544), [
          [vue.vModelText, $data.keyword]
        ])
      ]),
      vue.createCommentVNode(" \u56FE\u7247 "),
      vue.createElementVNode("swiper", {
        style: { "width": "100%", "height": "280rpx" },
        "indicator-dots": "",
        circular: "",
        autoplay: "",
        "indicator-color": "#E9E9E9",
        "indicator-active-color": "#38CBD5"
      }, [
        (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.bannerList, (item, index) => {
          return vue.openBlock(), vue.createElementBlock("swiper-item", {
            key: item.id
          }, [
            vue.createElementVNode("image", {
              style: { "width": "100%", "height": "280rpx" },
              src: item.image,
              mode: "aspectFill",
              onError: _cache[4] || (_cache[4] = (...args) => _ctx.imageError && _ctx.imageError(...args))
            }, null, 40, ["src"])
          ]);
        }), 128))
      ]),
      vue.createCommentVNode(" \u56DB\u65B9\u683C "),
      vue.createElementVNode("view", { style: { "width": "100%", "display": "flex", "flex-direction": "row" } }, [
        vue.createCommentVNode(" \u6295\u653E\u8BBE\u5907 "),
        vue.createElementVNode("view", {
          style: { "flex": "auto", "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "32rpx 15rpx 32rpx 32rpx", "padding": "36rpx 32rpx 40rpx 32rpx" },
          onClick: _cache[5] || (_cache[5] = ($event) => $options.toGo("/pages/deviceList/deviceList?title=\u8BBE\u5907\u5217\u8868"))
        }, [
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "flex": "auto", "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "\u6295\u653E\u8BBE\u5907"),
            vue.createElementVNode("image", {
              style: { "width": "44rpx", "height": "44rpx" },
              src: "/static/ic_main_item1.png"
            }, null, 8, ["src"])
          ]),
          vue.createElementVNode("text", { style: { "font-size": "60rpx", "font-weight": "bold", "color": "#333333", "margin-top": "36rpx" } }, vue.toDisplayString($data.overviewData.device_count || 0), 1),
          vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "justify-content": "flex-end", "margin-top": "-30rpx" } }, [
            vue.createElementVNode("image", {
              style: { "width": "40rpx", "height": "40rpx" },
              src: "/static/ic_next_black.png"
            }, null, 8, ["src"])
          ])
        ]),
        vue.createCommentVNode(" \u8986\u76D6\u9879\u76EE "),
        vue.createElementVNode("view", {
          style: { "flex": "auto", "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "32rpx 32rpx 32rpx 15rpx", "padding": "36rpx 32rpx 40rpx 32rpx" },
          onClick: _cache[6] || (_cache[6] = ($event) => $options.toGo("/pages/propertyList/propertyList"))
        }, [
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "flex": "auto", "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "\u8986\u76D6\u9879\u76EE"),
            vue.createElementVNode("image", {
              style: { "width": "34rpx", "height": "36rpx" },
              src: "/static/ic_main_item2.png"
            }, null, 8, ["src"])
          ]),
          vue.createElementVNode("text", { style: { "font-size": "60rpx", "font-weight": "bold", "color": "#333333", "margin-top": "36rpx" } }, vue.toDisplayString($data.overviewData.event_count || 0), 1),
          vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "justify-content": "flex-end", "margin-top": "-30rpx" } }, [
            vue.createElementVNode("image", {
              style: { "width": "40rpx", "height": "40rpx" },
              src: "/static/ic_next_black.png"
            }, null, 8, ["src"])
          ])
        ])
      ]),
      vue.createElementVNode("view", { style: { "width": "100%", "display": "flex", "flex-direction": "row" } }, [
        vue.createCommentVNode(" \u8017\u6750\u5206\u6790 "),
        vue.createElementVNode("view", {
          style: { "flex": "auto", "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 15rpx 0 32rpx", "padding": "36rpx 32rpx 40rpx 32rpx" },
          onClick: _cache[7] || (_cache[7] = ($event) => $options.toGo("/pages/consumableAnalysis/consumableAnalysis"))
        }, [
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "flex": "auto", "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "\u8017\u6750\u5206\u6790"),
            vue.createElementVNode("image", {
              style: { "width": "52rpx", "height": "52rpx" },
              src: "/static/ic_main_item3.png"
            }, null, 8, ["src"])
          ]),
          vue.createElementVNode("view", { style: { "margin-top": "36rpx" } }, [
            vue.createElementVNode("text", { style: { "font-size": "60rpx", "font-weight": "bold", "color": "#333333" } }, vue.toDisplayString($data.overviewData.online_device_count || 0), 1),
            vue.createElementVNode("text", { style: { "font-size": "32rpx", "font-weight": "bold", "color": "#C1C1C1" } }, "/" + vue.toDisplayString($data.overviewData.device_count || 0), 1)
          ]),
          vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "justify-content": "flex-end", "margin-top": "-30rpx" } }, [
            vue.createElementVNode("image", {
              style: { "width": "40rpx", "height": "40rpx" },
              src: "/static/ic_next_black.png"
            }, null, 8, ["src"])
          ])
        ]),
        vue.createCommentVNode(" \u544A\u8B66\u8BBE\u5907 "),
        vue.createElementVNode("view", {
          style: { "flex": "auto", "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx 0 15rpx", "padding": "36rpx 32rpx 40rpx 32rpx" },
          onClick: _cache[8] || (_cache[8] = ($event) => $options.toGo("/pages/deviceList/deviceList?title=\u544A\u8B66\u8BBE\u5907"))
        }, [
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "flex": "auto", "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "\u544A\u8B66\u8BBE\u5907"),
            vue.createElementVNode("image", {
              style: { "width": "48rpx", "height": "48rpx" },
              src: "/static/ic_main_item4.png"
            }, null, 8, ["src"])
          ]),
          vue.createElementVNode("text", { style: { "font-size": "60rpx", "font-weight": "bold", "color": "#333333", "margin-top": "36rpx" } }, vue.toDisplayString($data.overviewData.warning_device_count || 0), 1),
          vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "justify-content": "flex-end", "margin-top": "-30rpx" } }, [
            vue.createElementVNode("image", {
              style: { "width": "40rpx", "height": "40rpx" },
              src: "/static/ic_next_black.png"
            }, null, 8, ["src"])
          ])
        ])
      ]),
      vue.createCommentVNode(" \u667A\u80FD\u8017\u6750\u68C0\u6D4B "),
      vue.createElementVNode("view", { style: { "position": "relative", "display": "flex", "flex-direction": "row", "background": "#38CBD5", "border-radius": "16rpx", "padding": "32rpx", "margin": "32rpx 32rpx 0 32rpx" } }, [
        vue.createElementVNode("image", {
          style: { "position": "absolute", "width": "30rpx", "height": "35rpx" },
          src: "/static/ic_more_white.png"
        }),
        vue.createElementVNode("view", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#FFFFFF", "text-align": "center", "width": "100%" } }, "\u667A\u80FD\u8017\u6750\u68C0\u6D4B ")
      ]),
      vue.createCommentVNode(" \u4E09\u89D2\u5F62 "),
      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "justify-content": "center" } }, [
        vue.createElementVNode("view", { style: { "height": "0", "width": "0", "border-width": "30rpx", "border-style": "solid", "border-color": "#38CBD5 transparent transparent transparent" } })
      ]),
      vue.createCommentVNode(" \u4ECA\u65E5 \u672C\u6708 \u5E74\u5EA6 "),
      vue.createElementVNode("view", { style: { "width": "100%", "flex-direction": "row", "display": "flex", "margin-top": "0rpx" } }, [
        vue.createElementVNode("view", {
          style: { "flex-direction": "column", "display": "flex", "align-items": "center", "margin-right": "17rpx", "margin-left": "32rpx" },
          onClick: _cache[9] || (_cache[9] = ($event) => $options.switchDate(1))
        }, [
          vue.createElementVNode("text", {
            class: vue.normalizeClass([$data.type == 1 ? "text-black" : "text-gray"])
          }, "\u4ECA\u65E5", 2),
          $data.type == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            style: { "width": "40rpx", "height": "8rpx", "background-color": "#38CBD5", "border-radius": "4rpx", "margin-top": "8rpx" }
          })) : vue.createCommentVNode("v-if", true)
        ]),
        vue.createElementVNode("view", {
          style: { "flex-direction": "column", "display": "flex", "align-items": "center", "margin-left": "17rpx", "margin-right": "17rpx" },
          onClick: _cache[10] || (_cache[10] = ($event) => $options.switchDate(2))
        }, [
          vue.createElementVNode("text", {
            class: vue.normalizeClass([$data.type == 2 ? "text-black" : "text-gray"])
          }, "\u672C\u6708", 2),
          $data.type == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            style: { "width": "40rpx", "height": "8rpx", "background-color": "#38CBD5", "border-radius": "4rpx", "margin-top": "8rpx" }
          })) : vue.createCommentVNode("v-if", true)
        ]),
        vue.createElementVNode("view", {
          style: { "flex-direction": "column", "display": "flex", "align-items": "center", "margin-left": "17rpx" },
          onClick: _cache[11] || (_cache[11] = ($event) => $options.switchDate(3))
        }, [
          vue.createElementVNode("text", {
            class: vue.normalizeClass([$data.type == 3 ? "text-black" : "text-gray"])
          }, "\u5E74\u5EA6", 2),
          $data.type == 3 ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            style: { "width": "40rpx", "height": "8rpx", "background-color": "#38CBD5", "border-radius": "4rpx", "margin-top": "8rpx" }
          })) : vue.createCommentVNode("v-if", true)
        ])
      ]),
      vue.createCommentVNode(" \u7EB8\u5DFE\u3001\u7CBE\u6CB9\u3001\u6D17\u624B\u6DB2 "),
      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "padding": "32rpx", "margin": "32rpx" } }, [
        vue.createVNode(_component_uni_grid, {
          style: { "width": "100%" },
          column: 3,
          showBorder: false,
          square: false,
          highlight: false
        }, {
          default: vue.withCtx(() => [
            (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.dataList1, (item, index) => {
              return vue.openBlock(), vue.createBlock(_component_uni_grid_item, {
                index,
                key: index
              }, {
                default: vue.withCtx(() => [
                  vue.createElementVNode("view", {
                    class: "content-layout",
                    onClick: ($event) => $options.toGo("/pages/deviceList/deviceList?title=" + item.name)
                  }, [
                    vue.createElementVNode("image", {
                      style: { "width": "92rpx", "height": "92rpx", "margin-top": "30rpx" },
                      src: item.img
                    }, null, 8, ["src"]),
                    item.value.length > 0 ? (vue.openBlock(), vue.createElementBlock("text", {
                      key: 0,
                      style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333", "margin-top": "10rpx" }
                    }, vue.toDisplayString(item.value), 1)) : vue.createCommentVNode("v-if", true),
                    vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#666666", "margin-top": "8rpx", "margin-bottom": "30rpx" } }, vue.toDisplayString(item.name), 1)
                  ], 8, ["onClick"])
                ]),
                _: 2
              }, 1032, ["index"]);
            }), 128))
          ]),
          _: 1
        })
      ]),
      vue.createCommentVNode(" \u667A\u80FD\u4FDD\u6D01\u7CFB\u7EDF "),
      vue.createElementVNode("view", { style: { "position": "relative", "display": "flex", "flex-direction": "row", "background": "#38CBD5", "border-radius": "16rpx", "padding": "32rpx", "margin": "32rpx 32rpx 0 32rpx" } }, [
        vue.createElementVNode("image", {
          style: { "position": "absolute", "width": "30rpx", "height": "35rpx" },
          src: "/static/ic_more_white.png"
        }),
        vue.createElementVNode("view", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#FFFFFF", "text-align": "center", "width": "100%" } }, "\u667A\u80FD\u4FDD\u6D01\u7CFB\u7EDF ")
      ]),
      vue.createCommentVNode(" \u4E09\u89D2\u5F62 "),
      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "justify-content": "center" } }, [
        vue.createElementVNode("view", { style: { "height": "0", "width": "0", "border-width": "30rpx", "border-style": "solid", "border-color": "#38CBD5 transparent transparent transparent" } })
      ]),
      vue.createCommentVNode(" \u5E95\u90E8\u5E03\u5C40 "),
      vue.createCommentVNode(" grid "),
      vue.createElementVNode("view", { style: { "flex-direction": "column", "display": "flex", "align-items": "center", "justify-content": "center", "background": "#FFFFFF", "border-radius": "16rpx", "padding": "32rpx 0", "margin": "0 32rpx 32rpx 32rpx" } }, [
        vue.createVNode(_component_uni_grid, {
          style: { "width": "100%" },
          column: 4,
          showBorder: false,
          square: false,
          highlight: false
        }, {
          default: vue.withCtx(() => [
            (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.dataList2, (item, index) => {
              return vue.openBlock(), vue.createBlock(_component_uni_grid_item, {
                index,
                key: index
              }, {
                default: vue.withCtx(() => [
                  vue.createElementVNode("view", {
                    style: { "display": "flex", "flex-direction": "column", "align-items": "center", "justify-content": "center", "padding": "36rpx 0" },
                    onClick: ($event) => $options.toGo("/pages/noticeDetail/noticeDetail?title=" + item.name)
                  }, [
                    vue.createElementVNode("image", {
                      style: { "width": "80rpx", "height": "80rpx", "margin-right": "4rpx" },
                      src: item.img,
                      mode: "heightFix"
                    }, null, 8, ["src"]),
                    vue.createElementVNode("text", { style: { "font-size": "20rpx", "color": "#666666" } }, vue.toDisplayString(item.name), 1),
                    vue.createCommentVNode(' <text style="font-size: 32rpx;color: #333333;">{{item.value}}</text>\r\n						<view\r\n							style="display: flex;flex-direction: row;align-items: center;justify-content: center;padding-top: 8rpx;padding-bottom: 48rpx;">\r\n							<image style="width: 32rpx;height: 32rpx;margin-right: 4rpx;" :src="item.img"\r\n								mode="heightFix"></image>\r\n							<text style="font-size: 28rpx;color: #666666;">{{item.name}}</text>\r\n						</view> ')
                  ], 8, ["onClick"])
                ]),
                _: 2
              }, 1032, ["index"]);
            }), 128))
          ]),
          _: 1
        }),
        vue.createCommentVNode(` <image :src="'/static/ic_main_item8.png'" mode="widthFix"></image> `)
      ]),
      vue.createVNode(_component_tabbar, { initCurrIndex: "0" })
    ]);
  }
  var PagesMainMain = /* @__PURE__ */ _export_sfc(_sfc_main$U, [["render", _sfc_render$T], ["__file", "F:/work/ChuangDian/pages/main/main.vue"]]);
  var icons = {
    "id": "2852637",
    "name": "uniui\u56FE\u6807\u5E93",
    "font_family": "uniicons",
    "css_prefix_text": "uniui-",
    "description": "",
    "glyphs": [
      {
        "icon_id": "25027049",
        "name": "yanse",
        "font_class": "color",
        "unicode": "e6cf",
        "unicode_decimal": 59087
      },
      {
        "icon_id": "25027048",
        "name": "wallet",
        "font_class": "wallet",
        "unicode": "e6b1",
        "unicode_decimal": 59057
      },
      {
        "icon_id": "25015720",
        "name": "settings-filled",
        "font_class": "settings-filled",
        "unicode": "e6ce",
        "unicode_decimal": 59086
      },
      {
        "icon_id": "25015434",
        "name": "shimingrenzheng-filled",
        "font_class": "auth-filled",
        "unicode": "e6cc",
        "unicode_decimal": 59084
      },
      {
        "icon_id": "24934246",
        "name": "shop-filled",
        "font_class": "shop-filled",
        "unicode": "e6cd",
        "unicode_decimal": 59085
      },
      {
        "icon_id": "24934159",
        "name": "staff-filled-01",
        "font_class": "staff-filled",
        "unicode": "e6cb",
        "unicode_decimal": 59083
      },
      {
        "icon_id": "24932461",
        "name": "VIP-filled",
        "font_class": "vip-filled",
        "unicode": "e6c6",
        "unicode_decimal": 59078
      },
      {
        "icon_id": "24932462",
        "name": "plus_circle_fill",
        "font_class": "plus-filled",
        "unicode": "e6c7",
        "unicode_decimal": 59079
      },
      {
        "icon_id": "24932463",
        "name": "folder_add-filled",
        "font_class": "folder-add-filled",
        "unicode": "e6c8",
        "unicode_decimal": 59080
      },
      {
        "icon_id": "24932464",
        "name": "yanse-filled",
        "font_class": "color-filled",
        "unicode": "e6c9",
        "unicode_decimal": 59081
      },
      {
        "icon_id": "24932465",
        "name": "tune-filled",
        "font_class": "tune-filled",
        "unicode": "e6ca",
        "unicode_decimal": 59082
      },
      {
        "icon_id": "24932455",
        "name": "a-rilidaka-filled",
        "font_class": "calendar-filled",
        "unicode": "e6c0",
        "unicode_decimal": 59072
      },
      {
        "icon_id": "24932456",
        "name": "notification-filled",
        "font_class": "notification-filled",
        "unicode": "e6c1",
        "unicode_decimal": 59073
      },
      {
        "icon_id": "24932457",
        "name": "wallet-filled",
        "font_class": "wallet-filled",
        "unicode": "e6c2",
        "unicode_decimal": 59074
      },
      {
        "icon_id": "24932458",
        "name": "paihangbang-filled",
        "font_class": "medal-filled",
        "unicode": "e6c3",
        "unicode_decimal": 59075
      },
      {
        "icon_id": "24932459",
        "name": "gift-filled",
        "font_class": "gift-filled",
        "unicode": "e6c4",
        "unicode_decimal": 59076
      },
      {
        "icon_id": "24932460",
        "name": "fire-filled",
        "font_class": "fire-filled",
        "unicode": "e6c5",
        "unicode_decimal": 59077
      },
      {
        "icon_id": "24928001",
        "name": "refreshempty",
        "font_class": "refreshempty",
        "unicode": "e6bf",
        "unicode_decimal": 59071
      },
      {
        "icon_id": "24926853",
        "name": "location-ellipse",
        "font_class": "location-filled",
        "unicode": "e6af",
        "unicode_decimal": 59055
      },
      {
        "icon_id": "24926735",
        "name": "person-filled",
        "font_class": "person-filled",
        "unicode": "e69d",
        "unicode_decimal": 59037
      },
      {
        "icon_id": "24926703",
        "name": "personadd-filled",
        "font_class": "personadd-filled",
        "unicode": "e698",
        "unicode_decimal": 59032
      },
      {
        "icon_id": "24923351",
        "name": "back",
        "font_class": "back",
        "unicode": "e6b9",
        "unicode_decimal": 59065
      },
      {
        "icon_id": "24923352",
        "name": "forward",
        "font_class": "forward",
        "unicode": "e6ba",
        "unicode_decimal": 59066
      },
      {
        "icon_id": "24923353",
        "name": "arrowthinright",
        "font_class": "arrow-right",
        "unicode": "e6bb",
        "unicode_decimal": 59067
      },
      {
        "icon_id": "24923353",
        "name": "arrowthinright",
        "font_class": "arrowthinright",
        "unicode": "e6bb",
        "unicode_decimal": 59067
      },
      {
        "icon_id": "24923354",
        "name": "arrowthinleft",
        "font_class": "arrow-left",
        "unicode": "e6bc",
        "unicode_decimal": 59068
      },
      {
        "icon_id": "24923354",
        "name": "arrowthinleft",
        "font_class": "arrowthinleft",
        "unicode": "e6bc",
        "unicode_decimal": 59068
      },
      {
        "icon_id": "24923355",
        "name": "arrowthinup",
        "font_class": "arrow-up",
        "unicode": "e6bd",
        "unicode_decimal": 59069
      },
      {
        "icon_id": "24923355",
        "name": "arrowthinup",
        "font_class": "arrowthinup",
        "unicode": "e6bd",
        "unicode_decimal": 59069
      },
      {
        "icon_id": "24923356",
        "name": "arrowthindown",
        "font_class": "arrow-down",
        "unicode": "e6be",
        "unicode_decimal": 59070
      },
      {
        "icon_id": "24923356",
        "name": "arrowthindown",
        "font_class": "arrowthindown",
        "unicode": "e6be",
        "unicode_decimal": 59070
      },
      {
        "icon_id": "24923349",
        "name": "arrowdown",
        "font_class": "bottom",
        "unicode": "e6b8",
        "unicode_decimal": 59064
      },
      {
        "icon_id": "24923349",
        "name": "arrowdown",
        "font_class": "arrowdown",
        "unicode": "e6b8",
        "unicode_decimal": 59064
      },
      {
        "icon_id": "24923346",
        "name": "arrowright",
        "font_class": "right",
        "unicode": "e6b5",
        "unicode_decimal": 59061
      },
      {
        "icon_id": "24923346",
        "name": "arrowright",
        "font_class": "arrowright",
        "unicode": "e6b5",
        "unicode_decimal": 59061
      },
      {
        "icon_id": "24923347",
        "name": "arrowup",
        "font_class": "top",
        "unicode": "e6b6",
        "unicode_decimal": 59062
      },
      {
        "icon_id": "24923347",
        "name": "arrowup",
        "font_class": "arrowup",
        "unicode": "e6b6",
        "unicode_decimal": 59062
      },
      {
        "icon_id": "24923348",
        "name": "arrowleft",
        "font_class": "left",
        "unicode": "e6b7",
        "unicode_decimal": 59063
      },
      {
        "icon_id": "24923348",
        "name": "arrowleft",
        "font_class": "arrowleft",
        "unicode": "e6b7",
        "unicode_decimal": 59063
      },
      {
        "icon_id": "24923334",
        "name": "eye",
        "font_class": "eye",
        "unicode": "e651",
        "unicode_decimal": 58961
      },
      {
        "icon_id": "24923335",
        "name": "eye-filled",
        "font_class": "eye-filled",
        "unicode": "e66a",
        "unicode_decimal": 58986
      },
      {
        "icon_id": "24923336",
        "name": "eye-slash",
        "font_class": "eye-slash",
        "unicode": "e6b3",
        "unicode_decimal": 59059
      },
      {
        "icon_id": "24923337",
        "name": "eye-slash-filled",
        "font_class": "eye-slash-filled",
        "unicode": "e6b4",
        "unicode_decimal": 59060
      },
      {
        "icon_id": "24923305",
        "name": "info-filled",
        "font_class": "info-filled",
        "unicode": "e649",
        "unicode_decimal": 58953
      },
      {
        "icon_id": "24923299",
        "name": "reload-01",
        "font_class": "reload",
        "unicode": "e6b2",
        "unicode_decimal": 59058
      },
      {
        "icon_id": "24923195",
        "name": "mic_slash_fill",
        "font_class": "micoff-filled",
        "unicode": "e6b0",
        "unicode_decimal": 59056
      },
      {
        "icon_id": "24923165",
        "name": "map-pin-ellipse",
        "font_class": "map-pin-ellipse",
        "unicode": "e6ac",
        "unicode_decimal": 59052
      },
      {
        "icon_id": "24923166",
        "name": "map-pin",
        "font_class": "map-pin",
        "unicode": "e6ad",
        "unicode_decimal": 59053
      },
      {
        "icon_id": "24923167",
        "name": "location",
        "font_class": "location",
        "unicode": "e6ae",
        "unicode_decimal": 59054
      },
      {
        "icon_id": "24923064",
        "name": "starhalf",
        "font_class": "starhalf",
        "unicode": "e683",
        "unicode_decimal": 59011
      },
      {
        "icon_id": "24923065",
        "name": "star",
        "font_class": "star",
        "unicode": "e688",
        "unicode_decimal": 59016
      },
      {
        "icon_id": "24923066",
        "name": "star-filled",
        "font_class": "star-filled",
        "unicode": "e68f",
        "unicode_decimal": 59023
      },
      {
        "icon_id": "24899646",
        "name": "a-rilidaka",
        "font_class": "calendar",
        "unicode": "e6a0",
        "unicode_decimal": 59040
      },
      {
        "icon_id": "24899647",
        "name": "fire",
        "font_class": "fire",
        "unicode": "e6a1",
        "unicode_decimal": 59041
      },
      {
        "icon_id": "24899648",
        "name": "paihangbang",
        "font_class": "medal",
        "unicode": "e6a2",
        "unicode_decimal": 59042
      },
      {
        "icon_id": "24899649",
        "name": "font",
        "font_class": "font",
        "unicode": "e6a3",
        "unicode_decimal": 59043
      },
      {
        "icon_id": "24899650",
        "name": "gift",
        "font_class": "gift",
        "unicode": "e6a4",
        "unicode_decimal": 59044
      },
      {
        "icon_id": "24899651",
        "name": "link",
        "font_class": "link",
        "unicode": "e6a5",
        "unicode_decimal": 59045
      },
      {
        "icon_id": "24899652",
        "name": "notification",
        "font_class": "notification",
        "unicode": "e6a6",
        "unicode_decimal": 59046
      },
      {
        "icon_id": "24899653",
        "name": "staff",
        "font_class": "staff",
        "unicode": "e6a7",
        "unicode_decimal": 59047
      },
      {
        "icon_id": "24899654",
        "name": "VIP",
        "font_class": "vip",
        "unicode": "e6a8",
        "unicode_decimal": 59048
      },
      {
        "icon_id": "24899655",
        "name": "folder_add",
        "font_class": "folder-add",
        "unicode": "e6a9",
        "unicode_decimal": 59049
      },
      {
        "icon_id": "24899656",
        "name": "tune",
        "font_class": "tune",
        "unicode": "e6aa",
        "unicode_decimal": 59050
      },
      {
        "icon_id": "24899657",
        "name": "shimingrenzheng",
        "font_class": "auth",
        "unicode": "e6ab",
        "unicode_decimal": 59051
      },
      {
        "icon_id": "24899565",
        "name": "person",
        "font_class": "person",
        "unicode": "e699",
        "unicode_decimal": 59033
      },
      {
        "icon_id": "24899566",
        "name": "email-filled",
        "font_class": "email-filled",
        "unicode": "e69a",
        "unicode_decimal": 59034
      },
      {
        "icon_id": "24899567",
        "name": "phone-filled",
        "font_class": "phone-filled",
        "unicode": "e69b",
        "unicode_decimal": 59035
      },
      {
        "icon_id": "24899568",
        "name": "phone",
        "font_class": "phone",
        "unicode": "e69c",
        "unicode_decimal": 59036
      },
      {
        "icon_id": "24899570",
        "name": "email",
        "font_class": "email",
        "unicode": "e69e",
        "unicode_decimal": 59038
      },
      {
        "icon_id": "24899571",
        "name": "personadd",
        "font_class": "personadd",
        "unicode": "e69f",
        "unicode_decimal": 59039
      },
      {
        "icon_id": "24899558",
        "name": "chatboxes-filled",
        "font_class": "chatboxes-filled",
        "unicode": "e692",
        "unicode_decimal": 59026
      },
      {
        "icon_id": "24899559",
        "name": "contact",
        "font_class": "contact",
        "unicode": "e693",
        "unicode_decimal": 59027
      },
      {
        "icon_id": "24899560",
        "name": "chatbubble-filled",
        "font_class": "chatbubble-filled",
        "unicode": "e694",
        "unicode_decimal": 59028
      },
      {
        "icon_id": "24899561",
        "name": "contact-filled",
        "font_class": "contact-filled",
        "unicode": "e695",
        "unicode_decimal": 59029
      },
      {
        "icon_id": "24899562",
        "name": "chatboxes",
        "font_class": "chatboxes",
        "unicode": "e696",
        "unicode_decimal": 59030
      },
      {
        "icon_id": "24899563",
        "name": "chatbubble",
        "font_class": "chatbubble",
        "unicode": "e697",
        "unicode_decimal": 59031
      },
      {
        "icon_id": "24881290",
        "name": "upload-filled",
        "font_class": "upload-filled",
        "unicode": "e68e",
        "unicode_decimal": 59022
      },
      {
        "icon_id": "24881292",
        "name": "upload",
        "font_class": "upload",
        "unicode": "e690",
        "unicode_decimal": 59024
      },
      {
        "icon_id": "24881293",
        "name": "weixin",
        "font_class": "weixin",
        "unicode": "e691",
        "unicode_decimal": 59025
      },
      {
        "icon_id": "24881274",
        "name": "compose",
        "font_class": "compose",
        "unicode": "e67f",
        "unicode_decimal": 59007
      },
      {
        "icon_id": "24881275",
        "name": "qq",
        "font_class": "qq",
        "unicode": "e680",
        "unicode_decimal": 59008
      },
      {
        "icon_id": "24881276",
        "name": "download-filled",
        "font_class": "download-filled",
        "unicode": "e681",
        "unicode_decimal": 59009
      },
      {
        "icon_id": "24881277",
        "name": "pengyouquan",
        "font_class": "pyq",
        "unicode": "e682",
        "unicode_decimal": 59010
      },
      {
        "icon_id": "24881279",
        "name": "sound",
        "font_class": "sound",
        "unicode": "e684",
        "unicode_decimal": 59012
      },
      {
        "icon_id": "24881280",
        "name": "trash-filled",
        "font_class": "trash-filled",
        "unicode": "e685",
        "unicode_decimal": 59013
      },
      {
        "icon_id": "24881281",
        "name": "sound-filled",
        "font_class": "sound-filled",
        "unicode": "e686",
        "unicode_decimal": 59014
      },
      {
        "icon_id": "24881282",
        "name": "trash",
        "font_class": "trash",
        "unicode": "e687",
        "unicode_decimal": 59015
      },
      {
        "icon_id": "24881284",
        "name": "videocam-filled",
        "font_class": "videocam-filled",
        "unicode": "e689",
        "unicode_decimal": 59017
      },
      {
        "icon_id": "24881285",
        "name": "spinner-cycle",
        "font_class": "spinner-cycle",
        "unicode": "e68a",
        "unicode_decimal": 59018
      },
      {
        "icon_id": "24881286",
        "name": "weibo",
        "font_class": "weibo",
        "unicode": "e68b",
        "unicode_decimal": 59019
      },
      {
        "icon_id": "24881288",
        "name": "videocam",
        "font_class": "videocam",
        "unicode": "e68c",
        "unicode_decimal": 59020
      },
      {
        "icon_id": "24881289",
        "name": "download",
        "font_class": "download",
        "unicode": "e68d",
        "unicode_decimal": 59021
      },
      {
        "icon_id": "24879601",
        "name": "help",
        "font_class": "help",
        "unicode": "e679",
        "unicode_decimal": 59001
      },
      {
        "icon_id": "24879602",
        "name": "navigate-filled",
        "font_class": "navigate-filled",
        "unicode": "e67a",
        "unicode_decimal": 59002
      },
      {
        "icon_id": "24879603",
        "name": "plusempty",
        "font_class": "plusempty",
        "unicode": "e67b",
        "unicode_decimal": 59003
      },
      {
        "icon_id": "24879604",
        "name": "smallcircle",
        "font_class": "smallcircle",
        "unicode": "e67c",
        "unicode_decimal": 59004
      },
      {
        "icon_id": "24879605",
        "name": "minus-filled",
        "font_class": "minus-filled",
        "unicode": "e67d",
        "unicode_decimal": 59005
      },
      {
        "icon_id": "24879606",
        "name": "micoff",
        "font_class": "micoff",
        "unicode": "e67e",
        "unicode_decimal": 59006
      },
      {
        "icon_id": "24879588",
        "name": "closeempty",
        "font_class": "closeempty",
        "unicode": "e66c",
        "unicode_decimal": 58988
      },
      {
        "icon_id": "24879589",
        "name": "clear",
        "font_class": "clear",
        "unicode": "e66d",
        "unicode_decimal": 58989
      },
      {
        "icon_id": "24879590",
        "name": "navigate",
        "font_class": "navigate",
        "unicode": "e66e",
        "unicode_decimal": 58990
      },
      {
        "icon_id": "24879591",
        "name": "minus",
        "font_class": "minus",
        "unicode": "e66f",
        "unicode_decimal": 58991
      },
      {
        "icon_id": "24879592",
        "name": "image",
        "font_class": "image",
        "unicode": "e670",
        "unicode_decimal": 58992
      },
      {
        "icon_id": "24879593",
        "name": "mic",
        "font_class": "mic",
        "unicode": "e671",
        "unicode_decimal": 58993
      },
      {
        "icon_id": "24879594",
        "name": "paperplane",
        "font_class": "paperplane",
        "unicode": "e672",
        "unicode_decimal": 58994
      },
      {
        "icon_id": "24879595",
        "name": "close",
        "font_class": "close",
        "unicode": "e673",
        "unicode_decimal": 58995
      },
      {
        "icon_id": "24879596",
        "name": "help-filled",
        "font_class": "help-filled",
        "unicode": "e674",
        "unicode_decimal": 58996
      },
      {
        "icon_id": "24879597",
        "name": "plus-filled",
        "font_class": "paperplane-filled",
        "unicode": "e675",
        "unicode_decimal": 58997
      },
      {
        "icon_id": "24879598",
        "name": "plus",
        "font_class": "plus",
        "unicode": "e676",
        "unicode_decimal": 58998
      },
      {
        "icon_id": "24879599",
        "name": "mic-filled",
        "font_class": "mic-filled",
        "unicode": "e677",
        "unicode_decimal": 58999
      },
      {
        "icon_id": "24879600",
        "name": "image-filled",
        "font_class": "image-filled",
        "unicode": "e678",
        "unicode_decimal": 59e3
      },
      {
        "icon_id": "24855900",
        "name": "locked-filled",
        "font_class": "locked-filled",
        "unicode": "e668",
        "unicode_decimal": 58984
      },
      {
        "icon_id": "24855901",
        "name": "info",
        "font_class": "info",
        "unicode": "e669",
        "unicode_decimal": 58985
      },
      {
        "icon_id": "24855903",
        "name": "locked",
        "font_class": "locked",
        "unicode": "e66b",
        "unicode_decimal": 58987
      },
      {
        "icon_id": "24855884",
        "name": "camera-filled",
        "font_class": "camera-filled",
        "unicode": "e658",
        "unicode_decimal": 58968
      },
      {
        "icon_id": "24855885",
        "name": "chat-filled",
        "font_class": "chat-filled",
        "unicode": "e659",
        "unicode_decimal": 58969
      },
      {
        "icon_id": "24855886",
        "name": "camera",
        "font_class": "camera",
        "unicode": "e65a",
        "unicode_decimal": 58970
      },
      {
        "icon_id": "24855887",
        "name": "circle",
        "font_class": "circle",
        "unicode": "e65b",
        "unicode_decimal": 58971
      },
      {
        "icon_id": "24855888",
        "name": "checkmarkempty",
        "font_class": "checkmarkempty",
        "unicode": "e65c",
        "unicode_decimal": 58972
      },
      {
        "icon_id": "24855889",
        "name": "chat",
        "font_class": "chat",
        "unicode": "e65d",
        "unicode_decimal": 58973
      },
      {
        "icon_id": "24855890",
        "name": "circle-filled",
        "font_class": "circle-filled",
        "unicode": "e65e",
        "unicode_decimal": 58974
      },
      {
        "icon_id": "24855891",
        "name": "flag",
        "font_class": "flag",
        "unicode": "e65f",
        "unicode_decimal": 58975
      },
      {
        "icon_id": "24855892",
        "name": "flag-filled",
        "font_class": "flag-filled",
        "unicode": "e660",
        "unicode_decimal": 58976
      },
      {
        "icon_id": "24855893",
        "name": "gear-filled",
        "font_class": "gear-filled",
        "unicode": "e661",
        "unicode_decimal": 58977
      },
      {
        "icon_id": "24855894",
        "name": "home",
        "font_class": "home",
        "unicode": "e662",
        "unicode_decimal": 58978
      },
      {
        "icon_id": "24855895",
        "name": "home-filled",
        "font_class": "home-filled",
        "unicode": "e663",
        "unicode_decimal": 58979
      },
      {
        "icon_id": "24855896",
        "name": "gear",
        "font_class": "gear",
        "unicode": "e664",
        "unicode_decimal": 58980
      },
      {
        "icon_id": "24855897",
        "name": "smallcircle-filled",
        "font_class": "smallcircle-filled",
        "unicode": "e665",
        "unicode_decimal": 58981
      },
      {
        "icon_id": "24855898",
        "name": "map-filled",
        "font_class": "map-filled",
        "unicode": "e666",
        "unicode_decimal": 58982
      },
      {
        "icon_id": "24855899",
        "name": "map",
        "font_class": "map",
        "unicode": "e667",
        "unicode_decimal": 58983
      },
      {
        "icon_id": "24855825",
        "name": "refresh-filled",
        "font_class": "refresh-filled",
        "unicode": "e656",
        "unicode_decimal": 58966
      },
      {
        "icon_id": "24855826",
        "name": "refresh",
        "font_class": "refresh",
        "unicode": "e657",
        "unicode_decimal": 58967
      },
      {
        "icon_id": "24855808",
        "name": "cloud-upload",
        "font_class": "cloud-upload",
        "unicode": "e645",
        "unicode_decimal": 58949
      },
      {
        "icon_id": "24855809",
        "name": "cloud-download-filled",
        "font_class": "cloud-download-filled",
        "unicode": "e646",
        "unicode_decimal": 58950
      },
      {
        "icon_id": "24855810",
        "name": "cloud-download",
        "font_class": "cloud-download",
        "unicode": "e647",
        "unicode_decimal": 58951
      },
      {
        "icon_id": "24855811",
        "name": "cloud-upload-filled",
        "font_class": "cloud-upload-filled",
        "unicode": "e648",
        "unicode_decimal": 58952
      },
      {
        "icon_id": "24855813",
        "name": "redo",
        "font_class": "redo",
        "unicode": "e64a",
        "unicode_decimal": 58954
      },
      {
        "icon_id": "24855814",
        "name": "images-filled",
        "font_class": "images-filled",
        "unicode": "e64b",
        "unicode_decimal": 58955
      },
      {
        "icon_id": "24855815",
        "name": "undo-filled",
        "font_class": "undo-filled",
        "unicode": "e64c",
        "unicode_decimal": 58956
      },
      {
        "icon_id": "24855816",
        "name": "more",
        "font_class": "more",
        "unicode": "e64d",
        "unicode_decimal": 58957
      },
      {
        "icon_id": "24855817",
        "name": "more-filled",
        "font_class": "more-filled",
        "unicode": "e64e",
        "unicode_decimal": 58958
      },
      {
        "icon_id": "24855818",
        "name": "undo",
        "font_class": "undo",
        "unicode": "e64f",
        "unicode_decimal": 58959
      },
      {
        "icon_id": "24855819",
        "name": "images",
        "font_class": "images",
        "unicode": "e650",
        "unicode_decimal": 58960
      },
      {
        "icon_id": "24855821",
        "name": "paperclip",
        "font_class": "paperclip",
        "unicode": "e652",
        "unicode_decimal": 58962
      },
      {
        "icon_id": "24855822",
        "name": "settings",
        "font_class": "settings",
        "unicode": "e653",
        "unicode_decimal": 58963
      },
      {
        "icon_id": "24855823",
        "name": "search",
        "font_class": "search",
        "unicode": "e654",
        "unicode_decimal": 58964
      },
      {
        "icon_id": "24855824",
        "name": "redo-filled",
        "font_class": "redo-filled",
        "unicode": "e655",
        "unicode_decimal": 58965
      },
      {
        "icon_id": "24841702",
        "name": "list",
        "font_class": "list",
        "unicode": "e644",
        "unicode_decimal": 58948
      },
      {
        "icon_id": "24841489",
        "name": "mail-open-filled",
        "font_class": "mail-open-filled",
        "unicode": "e63a",
        "unicode_decimal": 58938
      },
      {
        "icon_id": "24841491",
        "name": "hand-thumbsdown-filled",
        "font_class": "hand-down-filled",
        "unicode": "e63c",
        "unicode_decimal": 58940
      },
      {
        "icon_id": "24841492",
        "name": "hand-thumbsdown",
        "font_class": "hand-down",
        "unicode": "e63d",
        "unicode_decimal": 58941
      },
      {
        "icon_id": "24841493",
        "name": "hand-thumbsup-filled",
        "font_class": "hand-up-filled",
        "unicode": "e63e",
        "unicode_decimal": 58942
      },
      {
        "icon_id": "24841494",
        "name": "hand-thumbsup",
        "font_class": "hand-up",
        "unicode": "e63f",
        "unicode_decimal": 58943
      },
      {
        "icon_id": "24841496",
        "name": "heart-filled",
        "font_class": "heart-filled",
        "unicode": "e641",
        "unicode_decimal": 58945
      },
      {
        "icon_id": "24841498",
        "name": "mail-open",
        "font_class": "mail-open",
        "unicode": "e643",
        "unicode_decimal": 58947
      },
      {
        "icon_id": "24841488",
        "name": "heart",
        "font_class": "heart",
        "unicode": "e639",
        "unicode_decimal": 58937
      },
      {
        "icon_id": "24839963",
        "name": "loop",
        "font_class": "loop",
        "unicode": "e633",
        "unicode_decimal": 58931
      },
      {
        "icon_id": "24839866",
        "name": "pulldown",
        "font_class": "pulldown",
        "unicode": "e632",
        "unicode_decimal": 58930
      },
      {
        "icon_id": "24813798",
        "name": "scan",
        "font_class": "scan",
        "unicode": "e62a",
        "unicode_decimal": 58922
      },
      {
        "icon_id": "24813786",
        "name": "bars",
        "font_class": "bars",
        "unicode": "e627",
        "unicode_decimal": 58919
      },
      {
        "icon_id": "24813788",
        "name": "cart-filled",
        "font_class": "cart-filled",
        "unicode": "e629",
        "unicode_decimal": 58921
      },
      {
        "icon_id": "24813790",
        "name": "checkbox",
        "font_class": "checkbox",
        "unicode": "e62b",
        "unicode_decimal": 58923
      },
      {
        "icon_id": "24813791",
        "name": "checkbox-filled",
        "font_class": "checkbox-filled",
        "unicode": "e62c",
        "unicode_decimal": 58924
      },
      {
        "icon_id": "24813794",
        "name": "shop",
        "font_class": "shop",
        "unicode": "e62f",
        "unicode_decimal": 58927
      },
      {
        "icon_id": "24813795",
        "name": "headphones",
        "font_class": "headphones",
        "unicode": "e630",
        "unicode_decimal": 58928
      },
      {
        "icon_id": "24813796",
        "name": "cart",
        "font_class": "cart",
        "unicode": "e631",
        "unicode_decimal": 58929
      }
    ]
  };
  const getVal = (val) => {
    const reg = /^[0-9]*$/g;
    return typeof val === "number" || reg.test(val) ? val + "px" : val;
  };
  const _sfc_main$T = {
    name: "UniIcons",
    emits: ["click"],
    props: {
      type: {
        type: String,
        default: ""
      },
      color: {
        type: String,
        default: "#333333"
      },
      size: {
        type: [Number, String],
        default: 16
      },
      customPrefix: {
        type: String,
        default: ""
      }
    },
    data() {
      return {
        icons: icons.glyphs
      };
    },
    computed: {
      unicode() {
        let code = this.icons.find((v2) => v2.font_class === this.type);
        if (code) {
          return unescape(`%u${code.unicode}`);
        }
        return "";
      },
      iconSize() {
        return getVal(this.size);
      }
    },
    methods: {
      _onClick() {
        this.$emit("click");
      }
    }
  };
  function _sfc_render$S(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("text", {
      style: vue.normalizeStyle({ color: $props.color, "font-size": $options.iconSize }),
      class: vue.normalizeClass(["uni-icons", ["uniui-" + $props.type, $props.customPrefix, $props.customPrefix ? $props.type : ""]]),
      onClick: _cache[0] || (_cache[0] = (...args) => $options._onClick && $options._onClick(...args))
    }, null, 6);
  }
  var __easycom_0$i = /* @__PURE__ */ _export_sfc(_sfc_main$T, [["render", _sfc_render$S], ["__scopeId", "data-v-a2e81f6e"], ["__file", "F:/work/ChuangDian/uni_modules/uni-icons/components/uni-icons/uni-icons.vue"]]);
  const _sfc_main$S = {
    name: "UniRate",
    props: {
      isFill: {
        type: [Boolean, String],
        default: true
      },
      color: {
        type: String,
        default: "#ececec"
      },
      activeColor: {
        type: String,
        default: "#ffca3e"
      },
      disabledColor: {
        type: String,
        default: "#c0c0c0"
      },
      size: {
        type: [Number, String],
        default: 24
      },
      value: {
        type: [Number, String],
        default: 0
      },
      modelValue: {
        type: [Number, String],
        default: 0
      },
      max: {
        type: [Number, String],
        default: 5
      },
      margin: {
        type: [Number, String],
        default: 0
      },
      disabled: {
        type: [Boolean, String],
        default: false
      },
      readonly: {
        type: [Boolean, String],
        default: false
      },
      allowHalf: {
        type: [Boolean, String],
        default: false
      },
      touchable: {
        type: [Boolean, String],
        default: true
      }
    },
    data() {
      return {
        valueSync: "",
        userMouseFristMove: true,
        userRated: false,
        userLastRate: 1
      };
    },
    watch: {
      value(newVal) {
        this.valueSync = Number(newVal);
      },
      modelValue(newVal) {
        this.valueSync = Number(newVal);
      }
    },
    computed: {
      stars() {
        const value = this.valueSync ? this.valueSync : 0;
        const starList = [];
        const floorValue = Math.floor(value);
        const ceilValue = Math.ceil(value);
        for (let i2 = 0; i2 < this.max; i2++) {
          if (floorValue > i2) {
            starList.push({
              activeWitch: "100%"
            });
          } else if (ceilValue - 1 === i2) {
            starList.push({
              activeWitch: (value - floorValue) * 100 + "%"
            });
          } else {
            starList.push({
              activeWitch: "0"
            });
          }
        }
        return starList;
      },
      marginNumber() {
        return Number(this.margin);
      }
    },
    created() {
      this.valueSync = Number(this.value || this.modelValue);
      this._rateBoxLeft = 0;
      this._oldValue = null;
    },
    mounted() {
      setTimeout(() => {
        this._getSize();
      }, 100);
    },
    methods: {
      touchstart(e2) {
        if (this.readonly || this.disabled)
          return;
        const {
          clientX,
          screenX
        } = e2.changedTouches[0];
        this._getRateCount(clientX || screenX);
      },
      touchmove(e2) {
        if (this.readonly || this.disabled || !this.touchable)
          return;
        const {
          clientX,
          screenX
        } = e2.changedTouches[0];
        this._getRateCount(clientX || screenX);
      },
      mousedown(e2) {
      },
      mousemove(e2) {
      },
      mouseleave(e2) {
      },
      _getRateCount(clientX) {
        this._getSize();
        const size = Number(this.size);
        if (isNaN(size)) {
          return new Error("size \u5C5E\u6027\u53EA\u80FD\u8BBE\u7F6E\u4E3A\u6570\u5B57");
        }
        const rateMoveRange = clientX - this._rateBoxLeft;
        let index = parseInt(rateMoveRange / (size + this.marginNumber));
        index = index < 0 ? 0 : index;
        index = index > this.max ? this.max : index;
        const range = parseInt(rateMoveRange - (size + this.marginNumber) * index);
        let value = 0;
        if (this._oldValue === index && !this.PC)
          return;
        this._oldValue = index;
        if (this.allowHalf) {
          if (range > size / 2) {
            value = index + 1;
          } else {
            value = index + 0.5;
          }
        } else {
          value = index + 1;
        }
        value = Math.max(0.5, Math.min(value, this.max));
        this.valueSync = value;
        this._onChange();
      },
      _onChange() {
        this.$emit("input", this.valueSync);
        this.$emit("update:modelValue", this.valueSync);
        this.$emit("change", {
          value: this.valueSync
        });
      },
      _getSize() {
        uni.createSelectorQuery().in(this).select(".uni-rate").boundingClientRect().exec((ret) => {
          if (ret) {
            this._rateBoxLeft = ret[0].left;
          }
        });
      }
    }
  };
  function _sfc_render$R(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$i);
    return vue.openBlock(), vue.createElementBlock("view", null, [
      vue.createElementVNode("view", {
        ref: "uni-rate",
        class: "uni-rate"
      }, [
        (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($options.stars, (star, index) => {
          return vue.openBlock(), vue.createElementBlock("view", {
            class: vue.normalizeClass(["uni-rate__icon", { "uni-cursor-not-allowed": $props.disabled }]),
            style: vue.normalizeStyle({ "margin-right": $options.marginNumber + "px" }),
            key: index,
            onTouchstart: _cache[0] || (_cache[0] = vue.withModifiers((...args) => $options.touchstart && $options.touchstart(...args), ["stop"])),
            onTouchmove: _cache[1] || (_cache[1] = vue.withModifiers((...args) => $options.touchmove && $options.touchmove(...args), ["stop"])),
            onMousedown: _cache[2] || (_cache[2] = vue.withModifiers((...args) => $options.mousedown && $options.mousedown(...args), ["stop"])),
            onMousemove: _cache[3] || (_cache[3] = vue.withModifiers((...args) => $options.mousemove && $options.mousemove(...args), ["stop"])),
            onMouseleave: _cache[4] || (_cache[4] = (...args) => $options.mouseleave && $options.mouseleave(...args))
          }, [
            vue.createVNode(_component_uni_icons, {
              color: $props.color,
              size: $props.size,
              type: $props.isFill ? "heart-filled" : "heart"
            }, null, 8, ["color", "size", "type"]),
            vue.createElementVNode("view", {
              style: vue.normalizeStyle({ width: star.activeWitch }),
              class: "uni-rate__icon-on"
            }, [
              vue.createVNode(_component_uni_icons, {
                color: $props.disabled ? $props.disabledColor : $props.activeColor,
                size: $props.size,
                type: "heart-filled"
              }, null, 8, ["color", "size"])
            ], 4)
          ], 38);
        }), 128))
      ], 512)
    ]);
  }
  var __easycom_0$h = /* @__PURE__ */ _export_sfc(_sfc_main$S, [["render", _sfc_render$R], ["__scopeId", "data-v-978a5ada"], ["__file", "F:/work/ChuangDian/uni_modules/uni-rate/components/uni-rate/uni-rate.vue"]]);
  const _sfc_main$R = {
    components: {
      myPicker,
      tabbar: __easycom_1$2
    },
    onLoad() {
      uni.hideTabBar();
      if (uni.getStorageSync("addressDefault")) {
        this.address = uni.getStorageSync("addressDefault").name;
      }
      formatAppLog("log", "at pages/scene/scene.vue:141", "\u8FDB\u5165\u4E86\u573A\u666F\u9875\u9762");
      this.getEventList();
    },
    onShow() {
      let that = this;
      uni.$once("address", function(data) {
        formatAppLog("log", "at pages/scene/scene.vue:150", "\u76D1\u542C\u5230\u4E8B\u4EF6\u6765\u81EA\u8FD4\u56DE\u7684\u53C2\u6570\uFF1A" + data.name);
        that.address = data.name;
      });
    },
    data() {
      return {
        projects_id: "0",
        address: "\u7701\u5E02",
        leftIndex: 0,
        keyword: "",
        leftList: [],
        tabIndex: 0,
        tabBars: [
          {
            name: "\u9879\u76EEA",
            id: "guanzhu"
          },
          {
            name: "\u9879\u76EEB",
            id: "tuijian"
          },
          {
            name: "\u9879\u76EEC",
            id: "redian"
          },
          {
            name: "\u9879\u76EED",
            id: "tiyu"
          },
          {
            name: "\u9879\u76EEE",
            id: "caijing"
          },
          {
            name: "\u9879\u76EEF",
            id: "yule"
          }
        ],
        toView: "",
        rightList: [{
          name: "1\u697C-\u7537\u5395",
          rate: 3,
          list: [{
            img: "/static/ic_head.png",
            name: "101A"
          }, {
            img: "/static/ic_head.png",
            name: "102B"
          }, {
            img: "/static/ic_head.png",
            name: "103A"
          }, {
            img: "/static/ic_head.png",
            name: "104A"
          }, {
            img: "/static/ic_head.png",
            name: "105B"
          }]
        }, {
          name: "2\u697C-\u5973\u5395",
          rate: 4,
          list: [{
            img: "/static/ic_head.png",
            name: "201A"
          }, {
            img: "/static/ic_head.png",
            name: "202B"
          }, {
            img: "/static/ic_head.png",
            name: "203A"
          }, {
            img: "/static/ic_head.png",
            name: "204A"
          }, {
            img: "/static/ic_head.png",
            name: "205B"
          }, {
            img: "/static/ic_head.png",
            name: "206B"
          }]
        }, {
          name: "3\u697C-\u5973\u5395",
          rate: 2,
          list: [{
            img: "/static/ic_head.png",
            name: "301A"
          }, {
            img: "/static/ic_head.png",
            name: "302B"
          }, {
            img: "/static/ic_head.png",
            name: "303A"
          }, {
            img: "/static/ic_head.png",
            name: "304A"
          }]
        }, {
          name: "4\u697C-\u7537\u5395",
          rate: 1,
          list: [{
            img: "/static/ic_head.png",
            name: "401A"
          }, {
            img: "/static/ic_head.png",
            name: "402B"
          }, {
            img: "/static/ic_head.png",
            name: "403A"
          }, {
            img: "/static/ic_head.png",
            name: "404A"
          }]
        }],
        yuanquIndex: 0,
        tabbarId: 0,
        selectLeftTabId: 0,
        yuanquId: 0,
        scenceData: {},
        yuanquData: [],
        buildingData: [],
        isParkData: false
      };
    },
    methods: {
      async getEventList() {
        const res = await this.$myRequest({
          url: "api/Device/getEventList",
          method: "POST"
        });
        if (res.code == 1) {
          this.tabBars = res.data;
          this.projects_id = this.tabBars[0].id;
          this.getList(this.projects_id);
        }
      },
      processBuildData() {
        formatAppLog("log", "at pages/scene/scene.vue:289", "\u5904\u7406\u4E0D\u5E26\u56ED\u533A\u7684\u6570\u636E", this.buildingData);
        this.leftList = this.buildingData.map((item) => {
          return {
            name: item.name,
            id: item.id
          };
        });
        let data = this.buildingData.filter((item) => item.id == this.selectLeftTabId)[0];
        formatAppLog("log", "at pages/scene/scene.vue:297", data);
        this.$nextTick(() => {
          this.rightList = data.story_data;
        });
      },
      processParkData() {
        formatAppLog("log", "at pages/scene/scene.vue:305", "\u5904\u7406\u5E26\u56ED\u533A\u7684\u6570\u636E", this.scenceData);
        this.yuanquData = this.scenceData.park_data.map((park) => {
          return {
            name: park.name,
            id: park.id
          };
        });
        this.yuanquId = this.yuanquData[0].id;
        this.processBuildData();
      },
      async getList(projects_id) {
        let _this = this;
        const res = await this.$myRequest({
          url: "api/take/getDeviceDistribute",
          method: "POST",
          data: {
            projects_id
          }
        });
        formatAppLog("log", "at pages/scene/scene.vue:325", "\u573A\u666F\u9875\u6570\u636E", res);
        if (res.code == 1) {
          _this.scenceData = res.data;
          const hasParkData = res.data.hasOwnProperty("park_data");
          formatAppLog("log", "at pages/scene/scene.vue:333", hasParkData);
          if (hasParkData) {
            this.isParkData = true;
            this.buildingData = _this.scenceData.park_data[0].building_data;
            this.selectLeftTabId = this.buildingData[0].id;
            this.processParkData();
          } else {
            this.isParkData = false;
            this.buildingData = _this.scenceData.building_data;
            this.selectLeftTabId = this.buildingData[0].id;
            this.processBuildData();
          }
          formatAppLog("log", "at pages/scene/scene.vue:346", this.selectLeftTabId);
        }
      },
      toggleTab(item, index) {
        this.tabbarId = item._id;
        if (this.tabIndex !== index) {
          this.getList(item.id);
        }
        this.tabIndex = index;
      },
      tabChange(e2) {
        formatAppLog("log", "at pages/scene/scene.vue:365", e2);
        this.tabIndex = e2.detail.current;
      },
      toggleYuanqu(item, index) {
        this.yuanquId = item.id;
        formatAppLog("log", "at pages/scene/scene.vue:371", item, index);
        let data = this.scenceData.park_data.filter((item2) => item2.id == this.yuanquId)[0];
        this.buildingData = data.building_data;
        this.yuanquIndex = index;
      },
      selectLeftTab(item, index) {
        formatAppLog("log", "at pages/scene/scene.vue:380", "selectLeftTab", item);
        this.selectLeftTabId = item.id;
        this.leftIndex = index;
        this.processBuildData();
      },
      toDetail(id) {
        uni.navigateTo({
          url: "/pages/deviceDetail/deviceDetail?id=" + id
        });
      },
      toGo(url) {
        uni.navigateTo({
          url
        });
      },
      search: function(event) {
        formatAppLog("log", "at pages/scene/scene.vue:396", "\u70B9\u51FB\u641C\u7D22", event.detail.value);
        this.toGo("/pages/deviceList/deviceList?title=\u5728\u7EBF\u8BBE\u5907&keyword=" + event.detail.value);
      },
      toSelectIndex(item) {
        this.toView = item;
      }
    }
  };
  function _sfc_render$Q(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_myPicker = vue.resolveComponent("myPicker");
    const _component_uni_rate = resolveEasycom(vue.resolveDynamicComponent("uni-rate"), __easycom_0$h);
    const _component_uni_grid_item = resolveEasycom(vue.resolveDynamicComponent("uni-grid-item"), __easycom_0$j);
    const _component_uni_grid = resolveEasycom(vue.resolveDynamicComponent("uni-grid"), __easycom_1$3);
    const _component_tabbar = resolveEasycom(vue.resolveDynamicComponent("tabbar"), __easycom_1$2);
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createCommentVNode(' <view class="status_bar">\r\n			<view class="top_view"></view>\r\n		</view> '),
      vue.createCommentVNode(" \u9876\u90E8title "),
      vue.createCommentVNode(' <view\r\n			style="width: 100%;display: flex;justify-content: center;align-items: center;padding: 30rpx 0 28rpx 0; font-size: 32rpx;font-weight: 600;color: #333333;">\r\n			\u573A\u666F\r\n		</view> '),
      vue.createElementVNode("view", { style: { "height": "100%", "display": "flex", "flex-direction": "column" } }, [
        vue.createCommentVNode(" \u4E0A\u90E8\u5206\u4E0D\u52A8 "),
        vue.createElementVNode("view", { style: { "background-color": "#FFF", "border-radius": "16rpx 16rpx 0 0", "margin": "0 32rpx", "display": "flex", "flex-direction": "column" } }, [
          vue.createCommentVNode(" \u7701\u5E02\u533A\u53CA\u641C\u7D22\u680F "),
          vue.createElementVNode("view", {
            class: "h-layout",
            style: { "margin": "32rpx 32rpx 40rpx 32rpx" }
          }, [
            vue.createVNode(_component_myPicker, {
              type: "1",
              onChooseAddress: _ctx.chooseAddress,
              isEdit: _ctx.isEdit,
              isSaveData: "1",
              region: _ctx.region
            }, null, 8, ["onChooseAddress", "isEdit", "region"]),
            vue.createElementVNode("image", {
              style: { "width": "20rpx", "height": "20rpx", "padding-left": "16rpx", "padding-right": "32rpx" },
              onClick: _cache[0] || (_cache[0] = ($event) => $options.toGo("/pages/selectAddress/selectAddress")),
              src: "/static/ic_down.png"
            }, null, 8, ["src"]),
            vue.withDirectives(vue.createElementVNode("input", {
              style: { "flex": "auto", "height": "76rpx", "font-size": "24rpx", "color": "#999999", "background": "#F7F8FA", "border-radius": "38rpx", "padding": "0 34rpx" },
              "placeholder-style": "color:#999999",
              "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.keyword = $event),
              "confirm-type": "search",
              onConfirm: _cache[2] || (_cache[2] = (...args) => $options.search && $options.search(...args)),
              placeholder: "\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u67E5\u8BE2"
            }, null, 544), [
              [vue.vModelText, $data.keyword]
            ])
          ]),
          vue.createCommentVNode(" \u6A2A\u5411tab "),
          vue.createElementVNode("view", {
            class: "horizonal-tab",
            style: { "margin-bottom": "30rpx" }
          }, [
            vue.createElementVNode("scroll-view", {
              "scroll-x": "true",
              "scroll-with-animation": "",
              class: "scroll-tab"
            }, [
              (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.tabBars, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: index,
                  class: vue.normalizeClass(["scroll-tab-item", { "active": $data.tabIndex == index }]),
                  onClick: ($event) => $options.toggleTab(item, index)
                }, [
                  vue.createTextVNode(vue.toDisplayString(item.name) + " ", 1),
                  vue.createElementVNode("view", { style: { "display": "flex", "justify-content": "center", "margin-top": "4rpx", "background-color": "#38CBD5", "border-radius": "4rpx" } }, [
                    vue.createCommentVNode(' <view style="background-color: #38CBD5;width: 40rpx;height: 8rpx; border-radius: 4rpx;">\r\n			\r\n								</view> '),
                    vue.createElementVNode("view", { class: "scroll-tab-line" })
                  ])
                ], 10, ["onClick"]);
              }), 128))
            ])
          ])
        ]),
        vue.createCommentVNode(" \u4E0B\u90E8\u5206\u6ED1\u52A8 "),
        vue.createElementVNode("view", { style: { "flex": "1", "overflow": "scroll", "background-color": "#FFF", "border-radius": "0 0 16rpx 16rpx", "margin": "0 32rpx 32rpx 32rpx", "padding-bottom": "32rpx", "display": "flex", "flex-direction": "column" } }, [
          vue.createCommentVNode(" \u6A2A\u5411\u5E03\u5C40 "),
          vue.createElementVNode("view", { style: { "width": "100%", "height": "100%", "display": "flex", "flex-direction": "row" } }, [
            vue.createCommentVNode(" \u5DE6\u8FB9\u7AD6\u5411\u5217\u8868 "),
            vue.createElementVNode("view", { style: { "width": "130rpx", "display": "flex", "flex-direction": "column", "margin": "0 32rpx", "background-color": "#F7F8FA", "border-radius": "8rpx" } }, [
              vue.createElementVNode("view", null, [
                (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.yuanquData, (item, i2) => {
                  return vue.openBlock(), vue.createElementBlock("view", {
                    onClick: ($event) => $options.toggleYuanqu(item, i2),
                    class: vue.normalizeClass([$data.yuanquIndex == i2 ? "txt_color_blue" : "txt_color_gray"]),
                    key: i2
                  }, vue.toDisplayString(item.name), 11, ["onClick"]);
                }), 128))
              ]),
              (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.leftList, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  style: { "width": "130rpx", "display": "flex", "flex-direction": "column", "margin": "32rpx 0" },
                  onClick: ($event) => $options.selectLeftTab(item, index)
                }, [
                  vue.createElementVNode("view", {
                    style: { "display": "flex", "justify-content": "center", "padding": "32rpx 0" },
                    class: vue.normalizeClass([$data.leftIndex == index ? "txt_color_blue" : "txt_color_gray"])
                  }, vue.toDisplayString(item.name), 3)
                ], 8, ["onClick"]);
              }), 256))
            ]),
            vue.createCommentVNode(" \u53F3\u8FB9\u5217\u8868 "),
            $data.rightList.length > 0 ? (vue.openBlock(), vue.createElementBlock("scroll-view", {
              key: 0,
              "scroll-y": "true",
              "scroll-into-view": $data.toView,
              "scroll-with-animation": "true",
              style: { "flex": "1", "overflow": "scroll", "display": "flex", "flex-direction": "column" }
            }, [
              (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.rightList, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  id: "i" + index,
                  style: { "display": "flex", "flex-direction": "column" }
                }, [
                  (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList(item.list, (box, i2) => {
                    return vue.openBlock(), vue.createElementBlock("view", { key: i2 }, [
                      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                        vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#666666", "margin-right": "30rpx" } }, vue.toDisplayString(item.name) + vue.toDisplayString(box.toilet_type_text), 1),
                        vue.createCommentVNode(" \u8BC4\u5206\u7B49\u7EA7 "),
                        vue.createVNode(_component_uni_rate, {
                          value: item.rate,
                          size: 16,
                          margin: "2",
                          touchable: "false",
                          "active-color": "#FF6966"
                        }, null, 8, ["value"])
                      ]),
                      vue.createCommentVNode(" grid "),
                      vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "align-items": "center", "justify-content": "center", "margin-top": "40rpx" } }, [
                        vue.createVNode(_component_uni_grid, {
                          style: {},
                          column: 3,
                          showBorder: false,
                          square: false,
                          highlight: false
                        }, {
                          default: vue.withCtx(() => [
                            (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList(box.list, (device, j2) => {
                              return vue.openBlock(), vue.createBlock(_component_uni_grid_item, {
                                index: j2,
                                key: j2
                              }, {
                                default: vue.withCtx(() => [
                                  vue.createElementVNode("view", {
                                    style: { "display": "flex", "flex-direction": "column", "align-items": "center", "justify-content": "center" },
                                    onClick: ($event) => $options.toDetail(device.id)
                                  }, [
                                    vue.createElementVNode("image", {
                                      src: device.device_image,
                                      mode: "aspectFit",
                                      style: { "width": "100rpx", "height": "100rpx", "background-color": "#FFF", "border-radius": "8px" }
                                    }, null, 8, ["src"]),
                                    vue.createElementVNode("text", { style: { "font-size": "24rpx", "color": "#666666", "padding-top": "16rpx", "padding-bottom": "30rpx" } }, vue.toDisplayString(device.device_name), 1)
                                  ], 8, ["onClick"])
                                ]),
                                _: 2
                              }, 1032, ["index"]);
                            }), 128))
                          ]),
                          _: 2
                        }, 1024)
                      ]),
                      vue.createCommentVNode(" \u6A2A\u7EBF "),
                      vue.createElementVNode("view", { style: { "height": "4rpx", "background": "#F7F8FA", "border-radius": "4rpx", "margin-bottom": "30rpx" } })
                    ]);
                  }), 128))
                ], 8, ["id"]);
              }), 256))
            ], 8, ["scroll-into-view"])) : (vue.openBlock(), vue.createElementBlock("view", { key: 1 }, "\u6682\u65E0\u6570\u636E")),
            vue.createCommentVNode(" \u7D22\u5F15\u5217\u8868 "),
            vue.createCommentVNode(" \u53F3\u4FA7\u5B57\u6BCD\u5BFC\u822A\u6761 "),
            vue.createElementVNode("view", { style: { "width": "50rpx", "height": "100%", "display": "flex", "flex-direction": "column" } }, [
              (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.rightList, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  style: { "font-size": "20rpx", "color": "#333333", "padding": "10rpx 0" },
                  key: index,
                  onClick: ($event) => $options.toSelectIndex("i" + index)
                }, vue.toDisplayString(index + 1) + "\u697C ", 9, ["onClick"]);
              }), 128))
            ])
          ])
        ]),
        vue.createVNode(_component_tabbar, { initCurrIndex: "1" })
      ])
    ]);
  }
  var PagesSceneScene = /* @__PURE__ */ _export_sfc(_sfc_main$R, [["render", _sfc_render$Q], ["__file", "F:/work/ChuangDian/pages/scene/scene.vue"]]);
  const _sfc_main$Q = {
    name: "vk-data-input-number-box",
    emits: ["update:modelValue", "input", "change", "blur", "plus", "minus"],
    props: {
      value: {
        type: Number,
        default: 1
      },
      modelValue: {
        type: Number,
        default: 1
      },
      bgColor: {
        type: String,
        default: "#FFFFFF"
      },
      min: {
        type: Number,
        default: 0
      },
      max: {
        type: Number,
        default: 99999
      },
      step: {
        type: Number,
        default: 1
      },
      stepFirst: {
        type: Number,
        default: 0
      },
      stepStrictly: {
        type: Boolean,
        default: false
      },
      disabled: {
        type: Boolean,
        default: false
      },
      size: {
        type: [Number, String],
        default: 26
      },
      color: {
        type: String,
        default: "#323233"
      },
      inputWidth: {
        type: [Number, String],
        default: 80
      },
      inputHeight: {
        type: [Number, String],
        default: 50
      },
      index: {
        type: [Number, String],
        default: ""
      },
      disabledInput: {
        type: Boolean,
        default: false
      },
      cursorSpacing: {
        type: [Number, String],
        default: 100
      },
      longPress: {
        type: Boolean,
        default: true
      },
      pressTime: {
        type: [Number, String],
        default: 250
      },
      positiveInteger: {
        type: Boolean,
        default: true
      }
    },
    watch: {
      valueCom(v1, v2) {
        if (!this.changeFromInner) {
          this.inputVal = v1;
          this.$nextTick(function() {
            this.changeFromInner = false;
          });
        }
      },
      inputVal(v1, v2) {
        if (v1 == "")
          return;
        let value = 0;
        let tmp = this.isNumber(v1);
        if (tmp && v1 >= this.min && v1 <= this.max)
          value = v1;
        else
          value = v2;
        if (this.positiveInteger) {
          if (v1 < 0 || String(v1).indexOf(".") !== -1) {
            value = v2;
            this.$nextTick(() => {
              this.inputVal = v2;
            });
          }
        }
        this.handleChange(value, "change");
      },
      min(v1) {
        if (v1 !== void 0 && v1 != "" && this.valueCom < v1) {
          this.$emit("input", v1);
          this.$emit("update:modelValue", v1);
        }
      },
      max(v1) {
        if (v1 !== void 0 && v1 != "" && this.valueCom > v1) {
          this.$emit("input", v1);
          this.$emit("update:modelValue", v1);
        }
      }
    },
    data() {
      return {
        inputVal: 1,
        timer: null,
        changeFromInner: false,
        innerChangeTimer: null,
        showInput: false
      };
    },
    created() {
      this.inputVal = Number(this.valueCom);
    },
    computed: {
      valueCom() {
        return this.modelValue;
      },
      getCursorSpacing() {
        return Number(uni.upx2px(this.cursorSpacing));
      }
    },
    methods: {
      emptyClick() {
      },
      btnTouchStart(callback) {
        this[callback]();
        if (!this.longPress)
          return;
        clearInterval(this.timer);
        this.timer = null;
        this.timer = setInterval(() => {
          this[callback]();
        }, this.pressTime);
      },
      clearTimer() {
        this.$nextTick(() => {
          clearInterval(this.timer);
          this.timer = null;
        });
      },
      minus() {
        this.computeVal("minus");
      },
      plus() {
        this.computeVal("plus");
      },
      calcPlus(num1, num2) {
        let baseNum, baseNum1, baseNum2;
        try {
          baseNum1 = num1.toString().split(".")[1].length;
        } catch (e2) {
          baseNum1 = 0;
        }
        try {
          baseNum2 = num2.toString().split(".")[1].length;
        } catch (e2) {
          baseNum2 = 0;
        }
        baseNum = Math.pow(10, Math.max(baseNum1, baseNum2));
        let precision = baseNum1 >= baseNum2 ? baseNum1 : baseNum2;
        return ((num1 * baseNum + num2 * baseNum) / baseNum).toFixed(precision);
      },
      calcMinus(num1, num2) {
        let baseNum, baseNum1, baseNum2;
        try {
          baseNum1 = num1.toString().split(".")[1].length;
        } catch (e2) {
          baseNum1 = 0;
        }
        try {
          baseNum2 = num2.toString().split(".")[1].length;
        } catch (e2) {
          baseNum2 = 0;
        }
        baseNum = Math.pow(10, Math.max(baseNum1, baseNum2));
        let precision = baseNum1 >= baseNum2 ? baseNum1 : baseNum2;
        return ((num1 * baseNum - num2 * baseNum) / baseNum).toFixed(precision);
      },
      computeVal(type) {
        uni.hideKeyboard();
        if (this.disabled)
          return;
        let value = 0;
        if (type === "minus") {
          if (this.stepFirst > 0 && this.inputVal == this.stepFirst) {
            value = this.min;
          } else {
            value = this.calcMinus(this.inputVal, this.step);
          }
        } else if (type === "plus") {
          if (this.stepFirst > 0 && this.inputVal < this.stepFirst) {
            value = this.stepFirst;
          } else {
            value = this.calcPlus(this.inputVal, this.step);
          }
        }
        if (this.stepStrictly) {
          let strictly = value % this.step;
          if (strictly > 0) {
            value -= strictly;
          }
        }
        if (value > this.max) {
          value = this.max;
        } else if (value < this.min) {
          value = this.min;
        }
        this.inputVal = value;
        this.handleChange(value, type);
      },
      onBlur(event) {
        let val = 0;
        let value = event.detail.value;
        if (!/(^\d+$)/.test(value) || value[0] == 0)
          val = this.min;
        val = +value;
        if (this.stepFirst > 0 && this.inputVal < this.stepFirst && this.inputVal > 0) {
          val = this.stepFirst;
        }
        if (this.stepStrictly) {
          let strictly = val % this.step;
          if (strictly > 0) {
            val -= strictly;
          }
        }
        if (val > this.max) {
          val = this.max;
        } else if (val < this.min) {
          val = this.min;
        }
        this.$nextTick(() => {
          this.inputVal = val;
        });
        this.handleChange(val, "blur");
      },
      handleChange(value, type) {
        if (this.disabled)
          return;
        if (this.innerChangeTimer) {
          clearTimeout(this.innerChangeTimer);
          this.innerChangeTimer = null;
        }
        this.changeFromInner = true;
        this.innerChangeTimer = setTimeout(() => {
          this.changeFromInner = false;
        }, 150);
        this.$emit("input", Number(value));
        this.$emit("update:modelValue", Number(value));
        this.$emit(type, {
          value: Number(value),
          index: this.index
        });
      },
      isNumber(value) {
        return /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(value);
      }
    }
  };
  function _sfc_render$P(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "vk-data-input-number-box" }, [
      vue.createElementVNode("view", {
        class: vue.normalizeClass(["u-icon-minus", { "u-icon-disabled": $props.disabled || $data.inputVal <= $props.min }]),
        style: vue.normalizeStyle({
          background: $props.bgColor,
          height: $props.inputHeight + "rpx",
          color: $props.color,
          fontSize: $props.size + "rpx",
          minHeight: "1.4em"
        }),
        onClick: _cache[0] || (_cache[0] = (...args) => $options.emptyClick && $options.emptyClick(...args)),
        onTouchstart: _cache[1] || (_cache[1] = vue.withModifiers(($event) => $options.btnTouchStart("minus"), ["prevent"])),
        onTouchend: _cache[2] || (_cache[2] = vue.withModifiers((...args) => $options.clearTimer && $options.clearTimer(...args), ["stop", "prevent"]))
      }, [
        vue.createElementVNode("view", {
          style: vue.normalizeStyle("font-size:" + (Number($props.size) + 10) + "rpx"),
          class: "num-btn"
        }, "\uFF0D", 4)
      ], 38),
      vue.withDirectives(vue.createElementVNode("input", {
        "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $data.inputVal = $event),
        disabled: $props.disabledInput || $props.disabled,
        "cursor-spacing": $options.getCursorSpacing,
        class: vue.normalizeClass([{ "u-input-disabled": $props.disabled }, "u-number-input"]),
        type: "number",
        style: vue.normalizeStyle({
          color: $props.color,
          fontSize: $props.size + "rpx",
          background: $props.bgColor,
          height: $props.inputHeight + "rpx",
          width: $props.inputWidth + "rpx"
        }),
        onBlur: _cache[4] || (_cache[4] = (...args) => $options.onBlur && $options.onBlur(...args)),
        onClick: _cache[5] || (_cache[5] = ($event) => $data.showInput = true)
      }, null, 46, ["disabled", "cursor-spacing"]), [
        [vue.vModelText, $data.inputVal]
      ]),
      vue.createElementVNode("view", {
        class: vue.normalizeClass(["u-icon-plus", { "u-icon-disabled": $props.disabled || $data.inputVal >= $props.max }]),
        style: vue.normalizeStyle({
          background: $props.bgColor,
          height: $props.inputHeight + "rpx",
          color: $props.color,
          fontSize: $props.size + "rpx",
          minHeight: "1.4em"
        }),
        onClick: _cache[6] || (_cache[6] = (...args) => $options.emptyClick && $options.emptyClick(...args)),
        onTouchstart: _cache[7] || (_cache[7] = vue.withModifiers(($event) => $options.btnTouchStart("plus"), ["prevent"])),
        onTouchend: _cache[8] || (_cache[8] = vue.withModifiers((...args) => $options.clearTimer && $options.clearTimer(...args), ["stop", "prevent"]))
      }, [
        vue.createElementVNode("view", {
          style: vue.normalizeStyle("font-size:" + (Number($props.size) + 10) + "rpx"),
          class: "num-btn"
        }, "\uFF0B", 4)
      ], 38)
    ]);
  }
  var __easycom_0$g = /* @__PURE__ */ _export_sfc(_sfc_main$Q, [["render", _sfc_render$P], ["__scopeId", "data-v-cee45cb8"], ["__file", "F:/work/ChuangDian/components/vk-data-input-number-box/vk-data-input-number-box.vue"]]);
  var vk;
  var goodsCache = {};
  const _sfc_main$P = {
    name: "vk-data-goods-sku-popup",
    emits: ["update:modelValue", "input", "update-goods", "open", "close", "add-cart", "buy-now", "cart", "buy", "num-change"],
    props: {
      value: {
        Type: Boolean,
        default: false
      },
      modelValue: {
        Type: Boolean,
        default: false
      },
      goodsId: {
        Type: String,
        default: ""
      },
      action: {
        Type: String,
        default: ""
      },
      noStockText: {
        Type: String,
        default: "\u8BE5\u5546\u54C1\u5DF2\u62A2\u5B8C"
      },
      stockText: {
        Type: String,
        default: "\u5E93\u5B58"
      },
      goodsIdName: {
        Type: String,
        default: "_id"
      },
      skuIdName: {
        Type: String,
        default: "_id"
      },
      skuListName: {
        Type: String,
        default: "sku_list"
      },
      specListName: {
        Type: String,
        default: "spec_list"
      },
      stockName: {
        Type: String,
        default: "stock"
      },
      skuArrName: {
        Type: String,
        default: "sku_name_arr"
      },
      defaultSingleSkuName: {
        Type: String,
        default: "\u9ED8\u8BA4"
      },
      mode: {
        Type: Number,
        default: 1
      },
      maskCloseAble: {
        Type: Boolean,
        default: true
      },
      borderRadius: {
        Type: [String, Number],
        default: 0
      },
      goodsThumbName: {
        Type: [String],
        default: "goods_thumb"
      },
      goodsThumbBackgroundColor: {
        Type: String,
        default: "transparent"
      },
      minBuyNum: {
        Type: [Number, String],
        default: 1
      },
      maxBuyNum: {
        Type: [Number, String],
        default: 1e5
      },
      stepBuyNum: {
        Type: [Number, String],
        default: 1
      },
      stepStrictly: {
        Type: Boolean,
        default: false
      },
      customAction: {
        Type: [Function],
        default: null
      },
      localdata: {
        type: Object
      },
      priceColor: {
        Type: String
      },
      buyNowText: {
        Type: String,
        default: "\u7ACB\u5373\u8D2D\u4E70"
      },
      buyNowColor: {
        Type: String
      },
      buyNowBackgroundColor: {
        Type: String
      },
      addCartText: {
        Type: String,
        default: "\u52A0\u5165\u8D2D\u7269\u8F66"
      },
      addCartColor: {
        Type: String
      },
      addCartBackgroundColor: {
        Type: String
      },
      disableStyle: {
        Type: Object,
        default: null
      },
      activedStyle: {
        Type: Object,
        default: null
      },
      btnStyle: {
        Type: Object,
        default: null
      },
      showClose: {
        Type: Boolean,
        default: true
      },
      closeImage: {
        Type: String,
        default: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAEyUlEQVR42sSZeWwNURTGp4OqtBo7sSXELragdkpQsRRJ1Zr4hyJiJ9YgxNIg1qANiT+E1i5IY0kVVWtQEbuEKLFGUSH27/ANN5PXmTvzupzkl/tm8t6b7517lnvvC0lKSjJ8WmnQAUSDFqABqALKgl8gD7wE90E2SAeXwFf1SxISErQeVtKHwCgwFsSDSIf3hYFKoCkYDBaDdyAViHdueHmoF6FtwDLQ23b/E7gM7oIcejIERIDaoBFoC8qA8mA8SQNz6W1XC9GY+nCQCCYAk/c+gF0gBZwH312+IxR0BCPBUIaH2A+wHsxHCHxx+gLT5QGN6a2JfG8uvVCDws9oiDQYlxkMGfHyQvARlADTwcXk5OT6foV2kS8ATXidymlcyen1a/Jjl9IJh3hPkjELYqO8Cu0KjjNZvtETw5jFBWXPmGSTGQKSeOn5iQ0kVLL0CINfPNcPbDMKyRCbGzEMBJ+ZD8cChYFdqGTqfsWT8otPGoVsEHsMwxDFs3shNsxJ6BrQ0Po8OGUUkVHsNCVml+cntB1jUWwn2GEUsTEMrASbDK+2CCQ0kYX6nfLLisMmKqUr0S60M+jG10vAm+JSCa8+x7CKlzHwaktV6DiObzUzPJIxFO1BQ12wGtTReO9GetVgY/kjNJzZbcWmTjHfxw51AsRqvL8eOAtmsJuFu3g1l+1ZLB5eDTVZ3K0P7tL0TkWOpSg61kVkBtuuNRthGs+wtJST5aQI7cEbkkRXNYVKgX6kIdYuUhYzMQwxN8tiExCLFqHNeSF9/aem0BzGp5PYQCJ7c/Gsk1RfuSD6U1dNpcDf9ZigTmKbMRZ9iVTsHscGJluW2FMf1SSQWGnBmaB6kCJVTVVNJZE++Cx9drEllS1KMCINpURFmEbBWA63Fz9s95cGIdJgp/zXmT4pZcOvSUzuZttTbblmnc3PIjjmidDXvKgdhMh0JdbzuCjWrbNOVovjS5P7bkPJ/mBESkz2BO0166ybNeJ431S2q+01NntuIq3E0amzjiZtk9tssWyTDzO4525bACK9NAUn68TtkNhpEXpOSagRml+S6iLSSeweHv242Qhl13rRyvoDvDlKyTQny/ZQJ+1iH7vVbEx7OR5UiKVIO7VicgvHCtwrudloMIV7/0uadVYW57O4Wvvi8v4pymlKkrpwvsDeLLZAY2pkwbAB3PSQfC+4cH7l4k1ZH8zkZRq8ecO+Z5rN40JJqnXFuGfaxPCTLjcn0OZOpnArXw8HY4paIbw5CcMgXq6HN2/mt6+XGLrN15tBryIUGavMpCTrfKcDCKkAceA9S8nhAOehhSUyhXpkBxxnP4YM1InugP7cBkjBPcqVUWFYCEROxXiQz5JlXV+IfKh7mpfJac+lZ6V87QXVClBkTc7YWsWTPSDyitfzUTlJlj8TbvE6jluDOdwZ+jX57GLO3ADeuyZrDYi86vV81FD2UVGsmT+5Zl0BnkhoseOEaogL46pqO4v/IqUEyalIR4h85BgjHv6+aUWRMbb7EstX6O0cpT1Gco0ry8fWygLDMjmDnQeBt3Qe7uVfkeugDwVLcsVzGsuwLXbV+I63XNAkG5r/hvgRqgqWs6pJPKrsbvz/Q6yyun0w/h6lP+BnzrCpfPMT2L8FGAA7k1GZ/vnaqAAAAABJRU5ErkJggg=="
      },
      hideStock: {
        Type: Boolean,
        default: false
      },
      theme: {
        Type: String,
        default: "default"
      },
      actionTips: {
        Type: String,
        default: "\u8BF7\u6C42\u4E2D..."
      },
      defaultSelect: {
        Type: Object
      },
      useCache: {
        Type: Boolean,
        default: true
      },
      defaultGoods: {
        Type: Object
      },
      amountType: {
        Type: Number,
        default: 1
      },
      selectedInit: {
        Type: Boolean,
        default: false
      },
      safeAreaInsetBottom: {
        Type: Boolean,
        default: true
      }
    },
    data() {
      return {
        complete: false,
        goodsInfo: {},
        isShow: false,
        initKey: true,
        shopItemInfo: {},
        selectArr: [],
        subIndex: [],
        selectShop: {},
        selectNum: this.minBuyNum || 1,
        outFoStock: false,
        openTime: 0,
        themeColor: {
          default: {
            priceColor: "rgb(254, 86, 10)",
            buyNowColor: "#ffffff",
            buyNowBackgroundColor: "rgb(254, 86, 10)",
            addCartColor: "#ffffff",
            addCartBackgroundColor: "rgb(255, 148, 2)",
            btnStyle: {
              color: "#333333",
              borderColor: "#f4f4f4",
              backgroundColor: "#ffffff"
            },
            activedStyle: {
              color: "rgb(254, 86, 10)",
              borderColor: "rgb(254, 86, 10)",
              backgroundColor: "rgba(254,86,10,0.1)"
            },
            disableStyle: {
              color: "#c3c3c3",
              borderColor: "#f6f6f6",
              backgroundColor: "#f6f6f6"
            }
          },
          "red-black": {
            priceColor: "rgb(255, 68, 68)",
            buyNowColor: "#ffffff",
            buyNowBackgroundColor: "rgb(255, 68, 68)",
            addCartColor: "#ffffff",
            addCartBackgroundColor: "rgb(85, 85, 85)",
            activedStyle: {
              color: "rgb(255, 68, 68)",
              borderColor: "rgb(255, 68, 68)",
              backgroundColor: "rgba(255,68,68,0.1)"
            }
          },
          "black-white": {
            priceColor: "rgb(47, 47, 52)",
            buyNowColor: "#ffffff",
            buyNowBackgroundColor: "rgb(47, 47, 52)",
            addCartColor: "rgb(47, 47, 52)",
            addCartBackgroundColor: "rgb(235, 236, 242)",
            activedStyle: {
              color: "rgb(47, 47, 52)",
              borderColor: "rgba(47,47,52,0.12)",
              backgroundColor: "rgba(47,47,52,0.12)"
            }
          },
          coffee: {
            priceColor: "rgb(195, 167, 105)",
            buyNowColor: "#ffffff",
            buyNowBackgroundColor: "rgb(195, 167, 105)",
            addCartColor: "rgb(195, 167, 105)",
            addCartBackgroundColor: "rgb(243, 238, 225)",
            activedStyle: {
              color: "rgb(195, 167, 105)",
              borderColor: "rgb(195, 167, 105)",
              backgroundColor: "rgba(195, 167, 105,0.1)"
            }
          },
          green: {
            priceColor: "rgb(99, 190, 114)",
            buyNowColor: "#ffffff",
            buyNowBackgroundColor: "rgb(99, 190, 114)",
            addCartColor: "rgb(99, 190, 114)",
            addCartBackgroundColor: "rgb(225, 244, 227)",
            activedStyle: {
              color: "rgb(99, 190, 114)",
              borderColor: "rgb(99, 190, 114)",
              backgroundColor: "rgba(99, 190, 114,0.1)"
            }
          }
        }
      };
    },
    created() {
      let that = this;
      vk = that.vk;
      if (that.valueCom) {
        that.open();
      }
    },
    mounted() {
    },
    methods: {
      init(notAutoClick) {
        let that = this;
        that.selectArr = [];
        that.subIndex = [];
        that.selectShop = {};
        that.selectNum = that.minBuyNum || 1;
        that.outFoStock = false;
        that.shopItemInfo = {};
        let specListName = that.specListName;
        that.goodsInfo[specListName].map((item) => {
          that.selectArr.push("");
          that.subIndex.push(-1);
        });
        that.checkItem();
        that.checkInpath(-1);
        if (!notAutoClick)
          that.autoClickSku();
      },
      findGoodsInfo(obj = {}) {
        let that = this;
        let { useCache } = obj;
        if (typeof vk == "undefined") {
          that.toast("custom-action\u5FC5\u987B\u662Ffunction", "none");
          return false;
        }
        let { actionTips } = that;
        let actionTitle = "";
        let actionAoading = false;
        if (actionTips !== "custom") {
          actionTitle = useCache ? "" : "\u8BF7\u6C42\u4E2D...";
        } else {
          actionAoading = useCache ? false : true;
        }
        vk.callFunction({
          url: that.action,
          title: actionTitle,
          loading: actionAoading,
          data: {
            goods_id: that.goodsId
          },
          success(data) {
            that.updateGoodsInfo(data.goodsInfo);
            goodsCache[that.goodsId] = data.goodsInfo;
            that.$emit("update-goods", data.goodsInfo);
          },
          fail() {
            that.updateValue(false);
          }
        });
      },
      updateValue(value) {
        let that = this;
        if (value) {
          that.$emit("open", true);
          that.$emit("input", true);
          that.$emit("update:modelValue", true);
        } else {
          that.$emit("input", false);
          that.$emit("close", "close");
          that.$emit("update:modelValue", false);
        }
      },
      updateGoodsInfo(goodsInfo) {
        let that = this;
        let { skuListName } = that;
        if (JSON.stringify(that.goodsInfo) === "{}" || that.goodsInfo[that.goodsIdName] !== goodsInfo[that.goodsIdName]) {
          that.goodsInfo = goodsInfo;
          that.initKey = true;
        } else {
          that.goodsInfo[skuListName] = goodsInfo[skuListName];
        }
        if (that.initKey) {
          that.initKey = false;
          that.init();
        }
        let select_sku_info = that.getListItem(that.goodsInfo[skuListName], that.skuIdName, that.selectShop[that.skuIdName]);
        Object.assign(that.selectShop, select_sku_info);
        that.defaultSelectSku();
        that.complete = true;
      },
      async open() {
        let that = this;
        that.openTime = new Date().getTime();
        let findGoodsInfoRun = true;
        that.skuListName;
        let useCache = false;
        let goodsInfo = goodsCache[that.goodsId];
        if (goodsInfo && that.useCache) {
          useCache = true;
          that.updateGoodsInfo(goodsInfo);
        } else {
          that.complete = false;
        }
        if (that.customAction && typeof that.customAction === "function") {
          try {
            goodsInfo = await that.customAction({
              useCache,
              goodsId: that.goodsId,
              goodsInfo,
              close: function() {
                setTimeout(function() {
                  that.close();
                }, 500);
              }
            }).catch((err2) => {
              setTimeout(function() {
                that.close();
              }, 500);
            });
          } catch (err2) {
            let { message = "" } = err2;
            if (message.indexOf(".catch is not a function") > -1) {
              that.toast("custom-action\u5FC5\u987B\u8FD4\u56DE\u4E00\u4E2APromise", "none");
              setTimeout(function() {
                that.close();
              }, 500);
              return false;
            }
          }
          goodsCache[that.goodsId] = goodsInfo;
          if (goodsInfo && typeof goodsInfo == "object" && JSON.stringify(goodsInfo) != "{}") {
            findGoodsInfoRun = false;
            that.updateGoodsInfo(goodsInfo);
            that.updateValue(true);
          } else {
            that.toast("\u672A\u83B7\u53D6\u5230\u5546\u54C1\u4FE1\u606F", "none");
            that.$emit("input", false);
            return false;
          }
        } else if (typeof that.localdata !== "undefined" && that.localdata !== null) {
          goodsInfo = that.localdata;
          if (goodsInfo && typeof goodsInfo == "object" && JSON.stringify(goodsInfo) != "{}") {
            findGoodsInfoRun = false;
            that.updateGoodsInfo(goodsInfo);
            that.updateValue(true);
          } else {
            that.toast("\u672A\u83B7\u53D6\u5230\u5546\u54C1\u4FE1\u606F", "none");
            that.$emit("input", false);
            return false;
          }
        } else {
          if (findGoodsInfoRun)
            that.findGoodsInfo({ useCache });
        }
      },
      close(s2) {
        let that = this;
        if (new Date().getTime() - that.openTime < 400) {
          return false;
        }
        if (s2 == "mask") {
          if (that.maskCloseAble !== false) {
            that.$emit("input", false);
            that.$emit("close", "mask");
            that.$emit("update:modelValue", false);
          }
        } else {
          that.$emit("input", false);
          that.$emit("close", "close");
          that.$emit("update:modelValue", false);
        }
      },
      moveHandle() {
      },
      skuClick(value, index1, index2) {
        let that = this;
        if (value.ishow) {
          if (that.selectArr[index1] != value.name) {
            that.$set(that.selectArr, index1, value.name);
            that.$set(that.subIndex, index1, index2);
          } else {
            that.$set(that.selectArr, index1, "");
            that.$set(that.subIndex, index1, -1);
          }
          that.checkInpath(index1);
          that.checkSelectShop();
        }
      },
      checkSelectShop() {
        let that = this;
        if (that.selectArr.every((item) => item != "")) {
          that.selectShop = that.shopItemInfo[that.getArrayToSting(that.selectArr)];
          let stock = that.selectShop[that.stockName];
          if (typeof stock !== "undefined" && that.selectNum > stock) {
            that.selectNum = stock;
          }
          if (that.selectNum > that.maxBuyNum) {
            that.selectNum = that.maxBuyNum;
          }
          if (that.selectNum < that.minBuyNum) {
            that.selectNum = that.minBuyNum;
          }
          if (that.selectedInit) {
            that.selectNum = that.minBuyNum || 1;
          }
        } else {
          that.selectShop = {};
        }
      },
      checkInpath(clickIndex) {
        let that = this;
        let specListName = that.specListName;
        let specList = that.goodsInfo[specListName];
        for (let i2 = 0, len2 = specList.length; i2 < len2; i2++) {
          if (i2 == clickIndex) {
            continue;
          }
          let len22 = specList[i2].list.length;
          for (let j2 = 0; j2 < len22; j2++) {
            if (that.subIndex[i2] != -1 && j2 == that.subIndex[i2]) {
              continue;
            }
            let choosed_copy = [...that.selectArr];
            that.$set(choosed_copy, i2, specList[i2].list[j2].name);
            let choosed_copy2 = choosed_copy.filter((item) => item !== "" && typeof item !== "undefined");
            if (that.shopItemInfo.hasOwnProperty(that.getArrayToSting(choosed_copy2))) {
              specList[i2].list[j2].ishow = true;
            } else {
              specList[i2].list[j2].ishow = false;
            }
          }
        }
        that.$set(that.goodsInfo, specListName, specList);
      },
      checkItem() {
        let that = this;
        let { stockName } = that;
        let skuListName = that.skuListName;
        let originalSkuList = that.goodsInfo[skuListName];
        let skuList = [];
        let stockNum = 0;
        originalSkuList.map((skuItem, index) => {
          if (skuItem[stockName] > 0) {
            skuList.push(skuItem);
            stockNum += skuItem[stockName];
          }
        });
        if (stockNum <= 0) {
          that.outFoStock = true;
        }
        skuList.reduce((arrs, items) => {
          return arrs.concat(items[that.skuArrName].reduce((arr, item) => {
            return arr.concat(arr.map((item2) => {
              if (!that.shopItemInfo.hasOwnProperty(that.getArrayToSting([...item2, item]))) {
                that.shopItemInfo[that.getArrayToSting([...item2, item])] = items;
              }
              return [...item2, item];
            }));
          }, [[]]));
        }, [[]]);
      },
      getArrayToSting(arr) {
        let str = "";
        arr.map((item, index) => {
          item = item.replace(/\./g, "\u3002");
          if (index == 0) {
            str += item;
          } else {
            str += "," + item;
          }
        });
        return str;
      },
      checkSelectComplete(obj = {}) {
        let that = this;
        let clickTime = new Date().getTime();
        if (that.clickTime && clickTime - that.clickTime < 400) {
          return false;
        }
        that.clickTime = clickTime;
        let { selectShop, selectNum, stockText, stockName } = that;
        if (!selectShop || !selectShop[that.skuIdName]) {
          that.toast("\u8BF7\u5148\u9009\u62E9\u5BF9\u5E94\u89C4\u683C", "none");
          return false;
        }
        if (selectNum <= 0) {
          that.toast("\u8D2D\u4E70\u6570\u91CF\u5FC5\u987B>0", "none");
          return false;
        }
        if (selectNum > selectShop[stockName]) {
          that.toast(stockText + "\u4E0D\u8DB3", "none");
          return false;
        }
        if (typeof obj.success == "function")
          obj.success(selectShop);
      },
      addCart() {
        let that = this;
        that.checkSelectComplete({
          success: function(selectShop) {
            selectShop.buy_num = that.selectNum;
            that.$emit("add-cart", selectShop);
            that.$emit("cart", selectShop);
          }
        });
      },
      buyNow() {
        let that = this;
        that.checkSelectComplete({
          success: function(selectShop) {
            selectShop.buy_num = that.selectNum;
            that.$emit("buy-now", selectShop);
            that.$emit("buy", selectShop);
          }
        });
      },
      toast(title, icon) {
        uni.showToast({
          title,
          icon
        });
      },
      getListItem(list, key, value) {
        let item;
        for (let i2 in list) {
          if (typeof value == "object") {
            if (JSON.stringify(list[i2][key]) === JSON.stringify(value)) {
              item = list[i2];
              break;
            }
          } else {
            if (list[i2][key] === value) {
              item = list[i2];
              break;
            }
          }
        }
        return item;
      },
      getListIndex(list, key, value) {
        let index = -1;
        for (let i2 = 0; i2 < list.length; i2++) {
          if (list[i2][key] === value) {
            index = i2;
            break;
          }
        }
        return index;
      },
      autoClickSku() {
        let that = this;
        let { stockName } = that;
        let skuList = that.goodsInfo[that.skuListName];
        let specListArr = that.goodsInfo[that.specListName];
        if (specListArr.length == 1) {
          let specList = specListArr[0].list;
          for (let i2 = 0; i2 < specList.length; i2++) {
            let sku = that.getListItem(skuList, that.skuArrName, [specList[i2].name]);
            if (sku && sku[stockName] > 0) {
              that.skuClick(specList[i2], 0, i2);
              break;
            }
          }
        }
      },
      themeColorFn(name) {
        let that = this;
        let { theme: theme2, themeColor } = that;
        let color2 = that[name] ? that[name] : themeColor[theme2][name];
        return color2;
      },
      defaultSelectSku() {
        let that = this;
        let { defaultSelect } = that;
        if (defaultSelect && defaultSelect.sku && defaultSelect.sku.length > 0) {
          that.selectSku(defaultSelect);
        }
      },
      selectSku(obj = {}) {
        let that = this;
        let { sku: skuArr, num: selectNum } = obj;
        let specListArr = that.goodsInfo[that.specListName];
        if (skuArr && specListArr.length === skuArr.length) {
          let skuClickArr = [];
          let clickKey = true;
          for (let index = 0; index < skuArr.length; index++) {
            let skuName = skuArr[index];
            let specList = specListArr[index].list;
            let index1 = index;
            let index2 = that.getListIndex(specList, "name", skuName);
            if (index2 == -1) {
              clickKey = false;
              break;
            }
            skuClickArr.push({
              spec: specList[index2],
              index1,
              index2
            });
          }
          if (clickKey) {
            that.init(true);
            skuClickArr.map((item) => {
              that.skuClick(item.spec, item.index1, item.index2);
            });
          }
        }
        if (selectNum > 0)
          that.selectNum = selectNum;
      },
      priceFilter(n2 = 0) {
        let that = this;
        if (typeof n2 == "string") {
          n2 = parseFloat(n2);
        }
        if (that.amountType === 0) {
          return n2.toFixed(2);
        } else {
          return (n2 / 100).toFixed(2);
        }
      },
      pushGoodsCache(goodsInfo) {
        let that = this;
        let { goodsIdName } = that;
        goodsCache[goodsInfo[goodsIdName]] = goodsInfo;
      },
      stop() {
      },
      previewImage() {
        let that = this;
        let { selectShop, goodsInfo, goodsThumbName } = that;
        let src = selectShop.image ? selectShop.image : goodsInfo[goodsThumbName];
        if (src) {
          uni.previewImage({
            urls: [src]
          });
        }
      },
      getMaxStock() {
        let maxStock = 0;
        let that = this;
        let { selectShop = {}, goodsInfo = {}, skuListName, stockName } = that;
        if (selectShop[stockName]) {
          maxStock = selectShop[stockName];
        } else {
          let skuList = goodsInfo[skuListName];
          if (skuList && skuList.length > 0) {
            let valueArr = [];
            skuList.map((skuItem, index) => {
              valueArr.push(skuItem[stockName]);
            });
            let max3 = Math.max(...valueArr);
            maxStock = max3;
          }
        }
        return maxStock;
      },
      numChange(e2) {
        this.$emit("num-change", e2.value);
      }
    },
    computed: {
      valueCom() {
        return this.modelValue;
      },
      maxBuyNumCom() {
        let that = this;
        let maxStock = that.getMaxStock();
        let max3 = that.maxBuyNum || 1e5;
        if (max3 > maxStock) {
          max3 = maxStock;
        }
        return max3;
      },
      isManyCom() {
        let that = this;
        let { goodsInfo, defaultSingleSkuName, specListName } = that;
        let isMany = true;
        if (goodsInfo[specListName] && goodsInfo[specListName].length === 1 && goodsInfo[specListName][0].list.length === 1 && goodsInfo[specListName][0].name === defaultSingleSkuName) {
          isMany = false;
        }
        return isMany;
      },
      priceCom() {
        let str = "";
        let that = this;
        let { selectShop = {}, goodsInfo = {}, skuListName, skuIdName } = that;
        if (selectShop[skuIdName]) {
          str = that.priceFilter(selectShop.price);
        } else {
          let skuList = goodsInfo[skuListName];
          if (skuList && skuList.length > 0) {
            let valueArr = [];
            skuList.map((skuItem, index) => {
              valueArr.push(skuItem.price);
            });
            let min3 = that.priceFilter(Math.min(...valueArr));
            let max3 = that.priceFilter(Math.max(...valueArr));
            if (min3 === max3) {
              str = min3 + "";
            } else {
              str = `${min3} - ${max3}`;
            }
          }
        }
        return str;
      },
      stockCom() {
        let str = "";
        let that = this;
        let { selectShop = {}, goodsInfo = {}, skuListName, stockName } = that;
        if (selectShop[stockName]) {
          str = selectShop[stockName];
        } else {
          let skuList = goodsInfo[skuListName];
          if (skuList && skuList.length > 0) {
            let valueArr = [];
            skuList.map((skuItem, index) => {
              valueArr.push(skuItem[stockName]);
            });
            let min3 = Math.min(...valueArr);
            let max3 = Math.max(...valueArr);
            if (min3 === max3) {
              str = min3;
            } else {
              str = `${min3} - ${max3}`;
            }
          }
        }
        return str;
      }
    },
    watch: {
      valueCom(newVal, oldValue) {
        let that = this;
        if (newVal) {
          that.open();
        }
      },
      defaultGoods: {
        immediate: true,
        handler: function(newVal, oldValue) {
          let that = this;
          let { goodsIdName } = that;
          if (typeof newVal === "object" && newVal && newVal[goodsIdName] && !goodsCache[newVal[goodsIdName]]) {
            that.pushGoodsCache(newVal);
          }
        }
      }
    }
  };
  function _sfc_render$O(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_vk_data_input_number_box = resolveEasycom(vue.resolveDynamicComponent("vk-data-input-number-box"), __easycom_0$g);
    return vue.openBlock(), vue.createElementBlock("view", {
      class: vue.normalizeClass(["vk-data-goods-sku-popup", $options.valueCom && $data.complete ? "show" : "none"]),
      catchtouchmove: "true",
      onTouchmove: _cache[8] || (_cache[8] = vue.withModifiers((...args) => $options.moveHandle && $options.moveHandle(...args), ["stop", "prevent"])),
      onClick: _cache[9] || (_cache[9] = vue.withModifiers((...args) => $options.stop && $options.stop(...args), ["stop"]))
    }, [
      vue.createCommentVNode(" \u9875\u9762\u5185\u5BB9\u5F00\u59CB "),
      vue.createElementVNode("view", {
        class: "mask",
        onClick: _cache[0] || (_cache[0] = ($event) => $options.close("mask"))
      }),
      vue.createElementVNode("view", {
        class: vue.normalizeClass(["layer attr-content", { "safe-area-inset-bottom": $props.safeAreaInsetBottom }]),
        style: vue.normalizeStyle({ borderRadius: $props.borderRadius + "rpx " + $props.borderRadius + "rpx 0 0" })
      }, [
        vue.createElementVNode("view", { class: "specification-wrapper" }, [
          vue.createElementVNode("scroll-view", {
            class: "specification-wrapper-content",
            "scroll-y": "true"
          }, [
            vue.createElementVNode("view", { class: "specification-header" }, [
              vue.createElementVNode("view", { class: "specification-left" }, [
                vue.createElementVNode("image", {
                  class: "product-img",
                  src: $data.selectShop.image ? $data.selectShop.image : $data.goodsInfo[$props.goodsThumbName],
                  style: vue.normalizeStyle({ backgroundColor: $props.goodsThumbBackgroundColor }),
                  mode: "aspectFill",
                  onClick: _cache[1] || (_cache[1] = (...args) => $options.previewImage && $options.previewImage(...args))
                }, null, 12, ["src"])
              ]),
              vue.createElementVNode("view", { class: "specification-right" }, [
                vue.createElementVNode("view", {
                  class: "price-content",
                  style: vue.normalizeStyle({ color: $options.themeColorFn("priceColor") })
                }, [
                  vue.createElementVNode("text", { class: "sign" }, "\xA5"),
                  vue.createElementVNode("text", {
                    class: vue.normalizeClass(["price", $options.priceCom.length > 16 ? "price2" : ""])
                  }, vue.toDisplayString($options.priceCom), 3)
                ], 4),
                !$props.hideStock ? (vue.openBlock(), vue.createElementBlock("view", {
                  key: 0,
                  class: "inventory"
                }, vue.toDisplayString($props.stockText) + "\uFF1A" + vue.toDisplayString($options.stockCom), 1)) : (vue.openBlock(), vue.createElementBlock("view", {
                  key: 1,
                  class: "inventory"
                })),
                vue.withDirectives(vue.createElementVNode("view", { class: "choose" }, "\u5DF2\u9009\uFF1A" + vue.toDisplayString($data.selectArr.join(" ")), 513), [
                  [vue.vShow, $options.isManyCom]
                ])
              ])
            ]),
            vue.createElementVNode("view", { class: "specification-content" }, [
              (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.goodsInfo[$props.specListName], (item, index1) => {
                return vue.withDirectives((vue.openBlock(), vue.createElementBlock("view", {
                  class: "specification-item",
                  key: index1
                }, [
                  vue.createElementVNode("view", { class: "item-title" }, vue.toDisplayString(item.name), 1),
                  vue.createElementVNode("view", { class: "item-wrapper" }, [
                    (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList(item.list, (item_value, index2) => {
                      return vue.openBlock(), vue.createElementBlock("view", {
                        class: vue.normalizeClass(["item-content", [item_value.ishow ? "" : "noactived", $data.subIndex[index1] == index2 ? "actived" : ""]]),
                        key: index2,
                        style: vue.normalizeStyle([
                          item_value.ishow ? "" : $options.themeColorFn("disableStyle"),
                          item_value.ishow ? $options.themeColorFn("btnStyle") : "",
                          $data.subIndex[index1] == index2 ? $options.themeColorFn("activedStyle") : ""
                        ]),
                        onClick: ($event) => $options.skuClick(item_value, index1, index2)
                      }, vue.toDisplayString(item_value.name), 15, ["onClick"]);
                    }), 128))
                  ])
                ])), [
                  [vue.vShow, $options.isManyCom]
                ]);
              }), 128)),
              vue.createElementVNode("view", { class: "number-box-view" }, [
                vue.createElementVNode("view", { style: { "flex": "1" } }, "\u6570\u91CF"),
                vue.createElementVNode("view", { style: { "flex": "4", "text-align": "right" } }, [
                  vue.createVNode(_component_vk_data_input_number_box, {
                    modelValue: $data.selectNum,
                    "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.selectNum = $event),
                    min: $props.minBuyNum || 1,
                    max: $options.maxBuyNumCom,
                    step: $props.stepBuyNum || 1,
                    "step-strictly": $props.stepStrictly,
                    "positive-integer": true,
                    onChange: $options.numChange
                  }, null, 8, ["modelValue", "min", "max", "step", "step-strictly", "onChange"])
                ])
              ])
            ])
          ]),
          $props.showClose != false ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "close",
            onClick: _cache[3] || (_cache[3] = ($event) => $options.close("close"))
          }, [
            vue.createElementVNode("image", {
              class: "close-item",
              src: $props.closeImage
            }, null, 8, ["src"])
          ])) : vue.createCommentVNode("v-if", true)
        ]),
        $data.outFoStock || $props.mode == 4 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          class: "btn-wrapper"
        }, [
          vue.createElementVNode("view", {
            class: "sure",
            style: { "color": "#ffffff", "background-color": "#cccccc" }
          }, vue.toDisplayString($props.noStockText), 1)
        ])) : $props.mode == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "btn-wrapper"
        }, [
          vue.createElementVNode("view", {
            class: "sure add-cart",
            style: vue.normalizeStyle([{ "border-radius": "38rpx 0rpx 0rpx 38rpx" }, {
              color: $options.themeColorFn("addCartColor"),
              backgroundColor: $options.themeColorFn("addCartBackgroundColor")
            }]),
            onClick: _cache[4] || (_cache[4] = (...args) => $options.addCart && $options.addCart(...args))
          }, vue.toDisplayString($props.addCartText), 5),
          vue.createElementVNode("view", {
            class: "sure",
            style: vue.normalizeStyle([{ "border-radius": "0rpx 38rpx 38rpx 0rpx" }, {
              color: $options.themeColorFn("buyNowColor"),
              backgroundColor: $options.themeColorFn("buyNowBackgroundColor")
            }]),
            onClick: _cache[5] || (_cache[5] = (...args) => $options.buyNow && $options.buyNow(...args))
          }, vue.toDisplayString($props.buyNowText), 5)
        ])) : $props.mode == 2 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 2,
          class: "btn-wrapper"
        }, [
          vue.createElementVNode("view", {
            class: "sure add-cart",
            style: vue.normalizeStyle({
              color: $options.themeColorFn("addCartColor"),
              backgroundColor: $options.themeColorFn("addCartBackgroundColor")
            }),
            onClick: _cache[6] || (_cache[6] = (...args) => $options.addCart && $options.addCart(...args))
          }, vue.toDisplayString($props.addCartText), 5)
        ])) : $props.mode == 3 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 3,
          class: "btn-wrapper"
        }, [
          vue.createElementVNode("view", {
            class: "sure",
            style: vue.normalizeStyle({
              color: $options.themeColorFn("buyNowColor"),
              backgroundColor: $options.themeColorFn("buyNowBackgroundColor")
            }),
            onClick: _cache[7] || (_cache[7] = (...args) => $options.buyNow && $options.buyNow(...args))
          }, vue.toDisplayString($props.buyNowText), 5)
        ])) : vue.createCommentVNode("v-if", true)
      ], 6),
      vue.createCommentVNode(" \u9875\u9762\u5185\u5BB9\u7ED3\u675F ")
    ], 34);
  }
  var __easycom_0$f = /* @__PURE__ */ _export_sfc(_sfc_main$P, [["render", _sfc_render$O], ["__scopeId", "data-v-1d216e7a"], ["__file", "F:/work/ChuangDian/components/vk-data-goods-sku-popup/vk-data-goods-sku-popup.vue"]]);
  const _sfc_main$O = {
    name: "shopListView",
    props: ["list"],
    data() {
      return {
        skuKey: false,
        skuMode: 3,
        goodsInfo: {},
        buyData: {},
        specIdArr: [],
        specId: ""
      };
    },
    onLoad(options) {
      let that = this;
      that.init(options);
    },
    methods: {
      init(options = {}) {
      },
      transformData(inputData) {
        let _this = this;
        const transformedData = {
          _id: inputData.id.toString(),
          name: inputData.goods_name,
          goods_thumb: inputData.image,
          sku_list: [],
          spec_list: []
        };
        if (inputData.specData && inputData.specData.spec_attr) {
          inputData.specData.spec_attr.forEach((specAttr) => {
            const specName = specAttr.group_name;
            const specValues = specAttr.spec_items.map((item) => ({ name: item.spec_value, id: item.item_id }));
            transformedData.spec_list.push({
              name: specName,
              list: specValues
            });
          });
          if (inputData.specData.spec_list) {
            _this.specIdArr = inputData.specData.spec_list;
            inputData.specData.spec_list.forEach((specItem) => {
              const matchingSpecValues = specItem.spec_sku_id.split("_").map((specId) => {
                const specValue = inputData.specData.spec_attr.flatMap((attr) => attr.spec_items).find((item) => {
                  return item.item_id === parseInt(specId);
                });
                return specValue ? specValue.spec_value : null;
              }).filter((value) => value !== null);
              const sku = {
                _id: specItem.form.goods_no,
                goods_id: transformedData._id,
                goods_name: transformedData.name,
                image: specItem.form.spec_image,
                price: parseFloat(specItem.form.goods_price.replace(".", "")),
                sku_name_arr: matchingSpecValues,
                stock: specItem.form.stock_num
              };
              transformedData.sku_list.push(sku);
            });
          }
        }
        return transformedData;
      },
      openSkuPopup(e2, item) {
        formatAppLog("log", "at components/shopListView/shopListView.vue:119", "\u5546\u54C1\u4FE1\u606F", item);
        let that = this;
        that.buyData = item;
        if (item.spec_type_text == "\u5355\u89C4\u683C") {
          that.specId = "";
          formatAppLog("log", "at components/shopListView/shopListView.vue:124", "\u5355\u89C4\u683C\uFF0C\u4E0D\u5F39\u51FA");
          that.buy(e2);
          return;
        } else {
          that.goodsInfo = that.transformData(item);
        }
        that.skuKey = true;
      },
      onOpenSkuPopup() {
        formatAppLog("log", "at components/shopListView/shopListView.vue:134", "\u76D1\u542C - \u6253\u5F00sku\u7EC4\u4EF6");
      },
      SkuPopup() {
        formatAppLog("log", "at components/shopListView/shopListView.vue:137", "\u76D1\u542C - \u5173\u95EDsku\u7EC4\u4EF6");
      },
      addCartFn(obj) {
        let { selectShop } = obj;
        let res = {};
        let name = selectShop.goods_name;
        if (selectShop.sku_name != "\u9ED8\u8BA4") {
          name += "-" + selectShop.sku_name_arr;
        }
        res.msg = `${name} \u5DF2\u6DFB\u52A0\u5230\u8D2D\u7269\u8F66`;
        if (typeof obj.success == "function")
          obj.success(res);
      },
      addCart(selectShop) {
        let that = this;
        formatAppLog("log", "at components/shopListView/shopListView.vue:154", "\u76D1\u542C - \u52A0\u5165\u8D2D\u7269\u8F66");
        that.addCartFn({
          selectShop,
          success: function(res) {
            that.toast(res.msg);
            setTimeout(function() {
              that.skuKey = false;
            }, 300);
          }
        });
      },
      buyNow(selectShop) {
        let that = this;
        formatAppLog("log", "at components/shopListView/shopListView.vue:169", "\u76D1\u542C - \u7ACB\u5373\u8D2D\u4E70", "selectShop", selectShop);
        that.buyData.buy_num = selectShop.buy_num;
        const specData = that.buyData.specData;
        const specItems = specData.spec_attr.flatMap((group) => group.spec_items);
        const matchingSpecValues = selectShop.sku_name_arr.map((value) => {
          const matchedItem = specItems.find((item) => item.spec_value === value);
          return matchedItem ? matchedItem.item_id : null;
        });
        const specId = matchingSpecValues.filter((id) => id !== null).join("_");
        that.specId = specId;
        that.addCartFn({
          selectShop,
          success: function(res) {
            that.buy();
          }
        });
      },
      toast(msg) {
        uni.showToast({
          title: msg,
          icon: "none"
        });
      },
      async buy(e2) {
        let _this = this;
        if (e2) {
          e2.preventDefault();
        }
        let data = {
          goods_id: _this.buyData.id,
          goods_num: _this.buyData.buy_num || 1,
          goods_sku_id: _this.specId || ""
        };
        formatAppLog("log", "at components/shopListView/shopListView.vue:207", _this.buyData);
        formatAppLog("log", "at components/shopListView/shopListView.vue:208", "\u4E70\u4E1C\u897F\u54AF", this.buyData);
        const res = await this.$myRequest({
          url: "api/Order/buyNow",
          method: "POST",
          data
        });
        let goods = {
          goods_name: res.data.goods_list[0].goods_name,
          name: res.data.address.name,
          phone: res.data.address.phone,
          addressDetail: res.data.address.detail,
          address_id: res.data.address.address_id,
          category_id: res.data.goods_list[0].category_id,
          goods_id: res.data.goods_list[0].goods_id,
          goods_attr: res.data.goods_list[0].goods_sku.goods_attr,
          goods_price: res.data.goods_list[0].goods_sku.goods_price,
          order_total_price: res.data.order_total_price,
          order_pay_price: res.data.order_pay_price,
          order_total_num: res.data.order_total_num,
          image: res.data.goods_list[0].image,
          spec_sku_id: res.data.goods_list[0].goods_sku.spec_sku_id
        };
        const queryString = Object.keys(goods).map((key) => `${key}=${encodeURIComponent(goods[key])}`).join("&");
        formatAppLog("log", "at components/shopListView/shopListView.vue:234", "\u4E70\u4E1C\u897F\u54AF", res);
        formatAppLog("log", "at components/shopListView/shopListView.vue:235", "\u4E70\u4E1C\u897F\u54AF", goods);
        formatAppLog("log", "at components/shopListView/shopListView.vue:236", "\u4E70\u4E1C\u897F\u54AF", queryString);
        if (res.code == 1) {
          uni.navigateTo({
            url: `/pages/goodsConfirm/goodsConfirm?${queryString}`
          });
        } else {
          uni.showToast({
            title: res.msg,
            icon: "error"
          });
        }
      },
      shopDetail(item) {
        uni.navigateTo({
          url: "/pages/goodsDetail/goodsDetail?id=" + item.id
        });
      }
    }
  };
  function _sfc_render$N(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_vk_data_goods_sku_popup = resolveEasycom(vue.resolveDynamicComponent("vk-data-goods-sku-popup"), __easycom_0$f);
    return vue.openBlock(), vue.createElementBlock(vue.Fragment, null, [
      (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($props.list, (item) => {
        return vue.openBlock(), vue.createElementBlock("view", { style: { "width": "100%", "display": "flex", "flex-direction": "column" } }, [
          vue.createElementVNode("view", {
            class: "h-layout",
            onClick: ($event) => $options.shopDetail(item)
          }, [
            vue.createElementVNode("image", {
              style: { "width": "188rpx", "height": "188rpx" },
              src: item.image
            }, null, 8, ["src"]),
            vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column", "margin-left": "30rpx" } }, [
              vue.createElementVNode("view", { style: { "color": "#333333", "font-size": "24rpx", "font-weight": "400" } }, vue.toDisplayString(item.goods_name), 1),
              vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "align-items": "baseline", "margin-top": "14rpx" } }, [
                vue.createCommentVNode(' <text style="flex: 1;font-size: 24rpx;font-weight: 400;color: #666666;">100ml</text> '),
                vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, "\u5DF2\u552E"),
                vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#FF5500", "margin": "8rpx" } }, vue.toDisplayString(item.sales_actual), 1),
                vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, "\u4EF6")
              ]),
              vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "align-items": "baseline", "margin-top": "20rpx" } }, [
                vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#FF5500" } }, "\xA5"),
                vue.createElementVNode("text", { style: { "flex": "1", "font-size": "32rpx", "font-weight": "500", "color": "#FF5500" } }, vue.toDisplayString(item.goods_price), 1),
                vue.createElementVNode("text", {
                  onClick: vue.withModifiers(($event) => $options.openSkuPopup($event, item), ["stop"]),
                  style: { "font-size": "24rpx", "color": "#FFF", "font-weight": "400", "padding": "8rpx 22rpx", "background-color": "#38CBD5", "border-radius": "26rpx" }
                }, " \u7ACB\u5373\u8D2D\u4E70", 8, ["onClick"])
              ])
            ])
          ], 8, ["onClick"])
        ]);
      }), 256)),
      vue.createVNode(_component_vk_data_goods_sku_popup, {
        ref: "skuPopup",
        modelValue: $data.skuKey,
        "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.skuKey = $event),
        "border-radius": "20",
        localdata: $data.goodsInfo,
        mode: $data.skuMode,
        onOpen: $options.onOpenSkuPopup,
        onClose: $options.SkuPopup,
        onAddCart: $options.addCart,
        onBuyNow: $options.buyNow
      }, null, 8, ["modelValue", "localdata", "mode", "onOpen", "onClose", "onAddCart", "onBuyNow"])
    ], 64);
  }
  var __easycom_0$e = /* @__PURE__ */ _export_sfc(_sfc_main$O, [["render", _sfc_render$N], ["__scopeId", "data-v-67e62bb8"], ["__file", "F:/work/ChuangDian/components/shopListView/shopListView.vue"]]);
  class MPAnimation {
    constructor(options, _this) {
      this.options = options;
      this.animation = uni.createAnimation(__spreadValues({}, options));
      this.currentStepAnimates = {};
      this.next = 0;
      this.$ = _this;
    }
    _nvuePushAnimates(type, args) {
      let aniObj = this.currentStepAnimates[this.next];
      let styles = {};
      if (!aniObj) {
        styles = {
          styles: {},
          config: {}
        };
      } else {
        styles = aniObj;
      }
      if (animateTypes1.includes(type)) {
        if (!styles.styles.transform) {
          styles.styles.transform = "";
        }
        let unit = "";
        if (type === "rotate") {
          unit = "deg";
        }
        styles.styles.transform += `${type}(${args + unit}) `;
      } else {
        styles.styles[type] = `${args}`;
      }
      this.currentStepAnimates[this.next] = styles;
    }
    _animateRun(styles = {}, config = {}) {
      let ref = this.$.$refs["ani"].ref;
      if (!ref)
        return;
      return new Promise((resolve, reject2) => {
        nvueAnimation.transition(ref, __spreadValues({
          styles
        }, config), (res) => {
          resolve();
        });
      });
    }
    _nvueNextAnimate(animates, step = 0, fn2) {
      let obj = animates[step];
      if (obj) {
        let {
          styles,
          config
        } = obj;
        this._animateRun(styles, config).then(() => {
          step += 1;
          this._nvueNextAnimate(animates, step, fn2);
        });
      } else {
        this.currentStepAnimates = {};
        typeof fn2 === "function" && fn2();
        this.isEnd = true;
      }
    }
    step(config = {}) {
      this.animation.step(config);
      return this;
    }
    run(fn2) {
      this.$.animationData = this.animation.export();
      this.$.timer = setTimeout(() => {
        typeof fn2 === "function" && fn2();
      }, this.$.durationTime);
    }
  }
  const animateTypes1 = [
    "matrix",
    "matrix3d",
    "rotate",
    "rotate3d",
    "rotateX",
    "rotateY",
    "rotateZ",
    "scale",
    "scale3d",
    "scaleX",
    "scaleY",
    "scaleZ",
    "skew",
    "skewX",
    "skewY",
    "translate",
    "translate3d",
    "translateX",
    "translateY",
    "translateZ"
  ];
  const animateTypes2 = ["opacity", "backgroundColor"];
  const animateTypes3 = ["width", "height", "left", "right", "top", "bottom"];
  animateTypes1.concat(animateTypes2, animateTypes3).forEach((type) => {
    MPAnimation.prototype[type] = function(...args) {
      this.animation[type](...args);
      return this;
    };
  });
  function createAnimation(option, _this) {
    if (!_this)
      return;
    clearTimeout(_this.timer);
    return new MPAnimation(option, _this);
  }
  const _sfc_main$N = {
    name: "uniTransition",
    emits: ["click", "change"],
    props: {
      show: {
        type: Boolean,
        default: false
      },
      modeClass: {
        type: [Array, String],
        default() {
          return "fade";
        }
      },
      duration: {
        type: Number,
        default: 300
      },
      styles: {
        type: Object,
        default() {
          return {};
        }
      },
      customClass: {
        type: String,
        default: ""
      },
      onceRender: {
        type: Boolean,
        default: false
      }
    },
    data() {
      return {
        isShow: false,
        transform: "",
        opacity: 1,
        animationData: {},
        durationTime: 300,
        config: {}
      };
    },
    watch: {
      show: {
        handler(newVal) {
          if (newVal) {
            this.open();
          } else {
            if (this.isShow) {
              this.close();
            }
          }
        },
        immediate: true
      }
    },
    computed: {
      stylesObject() {
        let styles = __spreadProps(__spreadValues({}, this.styles), {
          "transition-duration": this.duration / 1e3 + "s"
        });
        let transform = "";
        for (let i2 in styles) {
          let line = this.toLine(i2);
          transform += line + ":" + styles[i2] + ";";
        }
        return transform;
      },
      transformStyles() {
        return "transform:" + this.transform + ";opacity:" + this.opacity + ";" + this.stylesObject;
      }
    },
    created() {
      this.config = {
        duration: this.duration,
        timingFunction: "ease",
        transformOrigin: "50% 50%",
        delay: 0
      };
      this.durationTime = this.duration;
    },
    methods: {
      init(obj = {}) {
        if (obj.duration) {
          this.durationTime = obj.duration;
        }
        this.animation = createAnimation(Object.assign(this.config, obj), this);
      },
      onClick() {
        this.$emit("click", {
          detail: this.isShow
        });
      },
      step(obj, config = {}) {
        if (!this.animation)
          return;
        for (let i2 in obj) {
          try {
            if (typeof obj[i2] === "object") {
              this.animation[i2](...obj[i2]);
            } else {
              this.animation[i2](obj[i2]);
            }
          } catch (e2) {
            formatAppLog("error", "at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:148", `\u65B9\u6CD5 ${i2} \u4E0D\u5B58\u5728`);
          }
        }
        this.animation.step(config);
        return this;
      },
      run(fn2) {
        if (!this.animation)
          return;
        this.animation.run(fn2);
      },
      open() {
        clearTimeout(this.timer);
        this.transform = "";
        this.isShow = true;
        let { opacity, transform } = this.styleInit(false);
        if (typeof opacity !== "undefined") {
          this.opacity = opacity;
        }
        this.transform = transform;
        this.$nextTick(() => {
          this.timer = setTimeout(() => {
            this.animation = createAnimation(this.config, this);
            this.tranfromInit(false).step();
            this.animation.run();
            this.$emit("change", {
              detail: this.isShow
            });
          }, 20);
        });
      },
      close(type) {
        if (!this.animation)
          return;
        this.tranfromInit(true).step().run(() => {
          this.isShow = false;
          this.animationData = null;
          this.animation = null;
          let { opacity, transform } = this.styleInit(false);
          this.opacity = opacity || 1;
          this.transform = transform;
          this.$emit("change", {
            detail: this.isShow
          });
        });
      },
      styleInit(type) {
        let styles = {
          transform: ""
        };
        let buildStyle = (type2, mode) => {
          if (mode === "fade") {
            styles.opacity = this.animationType(type2)[mode];
          } else {
            styles.transform += this.animationType(type2)[mode] + " ";
          }
        };
        if (typeof this.modeClass === "string") {
          buildStyle(type, this.modeClass);
        } else {
          this.modeClass.forEach((mode) => {
            buildStyle(type, mode);
          });
        }
        return styles;
      },
      tranfromInit(type) {
        let buildTranfrom = (type2, mode) => {
          let aniNum = null;
          if (mode === "fade") {
            aniNum = type2 ? 0 : 1;
          } else {
            aniNum = type2 ? "-100%" : "0";
            if (mode === "zoom-in") {
              aniNum = type2 ? 0.8 : 1;
            }
            if (mode === "zoom-out") {
              aniNum = type2 ? 1.2 : 1;
            }
            if (mode === "slide-right") {
              aniNum = type2 ? "100%" : "0";
            }
            if (mode === "slide-bottom") {
              aniNum = type2 ? "100%" : "0";
            }
          }
          this.animation[this.animationMode()[mode]](aniNum);
        };
        if (typeof this.modeClass === "string") {
          buildTranfrom(type, this.modeClass);
        } else {
          this.modeClass.forEach((mode) => {
            buildTranfrom(type, mode);
          });
        }
        return this.animation;
      },
      animationType(type) {
        return {
          fade: type ? 1 : 0,
          "slide-top": `translateY(${type ? "0" : "-100%"})`,
          "slide-right": `translateX(${type ? "0" : "100%"})`,
          "slide-bottom": `translateY(${type ? "0" : "100%"})`,
          "slide-left": `translateX(${type ? "0" : "-100%"})`,
          "zoom-in": `scaleX(${type ? 1 : 0.8}) scaleY(${type ? 1 : 0.8})`,
          "zoom-out": `scaleX(${type ? 1 : 1.2}) scaleY(${type ? 1 : 1.2})`
        };
      },
      animationMode() {
        return {
          fade: "opacity",
          "slide-top": "translateY",
          "slide-right": "translateX",
          "slide-bottom": "translateY",
          "slide-left": "translateX",
          "zoom-in": "scale",
          "zoom-out": "scale"
        };
      },
      toLine(name) {
        return name.replace(/([A-Z])/g, "-$1").toLowerCase();
      }
    }
  };
  function _sfc_render$M(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.withDirectives((vue.openBlock(), vue.createElementBlock("view", {
      ref: "ani",
      animation: $data.animationData,
      class: vue.normalizeClass($props.customClass),
      style: vue.normalizeStyle($options.transformStyles),
      onClick: _cache[0] || (_cache[0] = (...args) => $options.onClick && $options.onClick(...args))
    }, [
      vue.renderSlot(_ctx.$slots, "default")
    ], 14, ["animation"])), [
      [vue.vShow, $data.isShow]
    ]);
  }
  var __easycom_0$d = /* @__PURE__ */ _export_sfc(_sfc_main$N, [["render", _sfc_render$M], ["__file", "F:/work/ChuangDian/uni_modules/uni-transition/components/uni-transition/uni-transition.vue"]]);
  const _sfc_main$M = {
    name: "uniPopup",
    components: {},
    emits: ["change", "maskClick"],
    props: {
      animation: {
        type: Boolean,
        default: true
      },
      type: {
        type: String,
        default: "center"
      },
      isMaskClick: {
        type: Boolean,
        default: null
      },
      maskClick: {
        type: Boolean,
        default: null
      },
      backgroundColor: {
        type: String,
        default: "none"
      },
      safeArea: {
        type: Boolean,
        default: true
      },
      maskBackgroundColor: {
        type: String,
        default: "rgba(0, 0, 0, 0.4)"
      }
    },
    watch: {
      type: {
        handler: function(type) {
          if (!this.config[type])
            return;
          this[this.config[type]](true);
        },
        immediate: true
      },
      isDesktop: {
        handler: function(newVal) {
          if (!this.config[newVal])
            return;
          this[this.config[this.type]](true);
        },
        immediate: true
      },
      maskClick: {
        handler: function(val) {
          this.mkclick = val;
        },
        immediate: true
      },
      isMaskClick: {
        handler: function(val) {
          this.mkclick = val;
        },
        immediate: true
      },
      showPopup(show) {
      }
    },
    data() {
      return {
        duration: 300,
        ani: [],
        showPopup: false,
        showTrans: false,
        popupWidth: 0,
        popupHeight: 0,
        config: {
          top: "top",
          bottom: "bottom",
          center: "center",
          left: "left",
          right: "right",
          message: "top",
          dialog: "center",
          share: "bottom"
        },
        maskClass: {
          position: "fixed",
          bottom: 0,
          top: 0,
          left: 0,
          right: 0,
          backgroundColor: "rgba(0, 0, 0, 0.4)"
        },
        transClass: {
          position: "fixed",
          left: 0,
          right: 0
        },
        maskShow: true,
        mkclick: true,
        popupstyle: this.isDesktop ? "fixforpc-top" : "top"
      };
    },
    computed: {
      isDesktop() {
        return this.popupWidth >= 500 && this.popupHeight >= 500;
      },
      bg() {
        if (this.backgroundColor === "" || this.backgroundColor === "none") {
          return "transparent";
        }
        return this.backgroundColor;
      }
    },
    mounted() {
      const fixSize = () => {
        const {
          windowWidth,
          windowHeight,
          windowTop,
          safeArea,
          screenHeight,
          safeAreaInsets
        } = uni.getSystemInfoSync();
        this.popupWidth = windowWidth;
        this.popupHeight = windowHeight + (windowTop || 0);
        if (safeArea && this.safeArea) {
          this.safeAreaInsets = safeAreaInsets.bottom;
        } else {
          this.safeAreaInsets = 0;
        }
      };
      fixSize();
    },
    unmounted() {
      this.setH5Visible();
    },
    created() {
      if (this.isMaskClick === null && this.maskClick === null) {
        this.mkclick = true;
      } else {
        this.mkclick = this.isMaskClick !== null ? this.isMaskClick : this.maskClick;
      }
      if (this.animation) {
        this.duration = 300;
      } else {
        this.duration = 0;
      }
      this.messageChild = null;
      this.clearPropagation = false;
      this.maskClass.backgroundColor = this.maskBackgroundColor;
    },
    methods: {
      setH5Visible() {
      },
      closeMask() {
        this.maskShow = false;
      },
      disableMask() {
        this.mkclick = false;
      },
      clear(e2) {
        e2.stopPropagation();
        this.clearPropagation = true;
      },
      open(direction) {
        if (this.showPopup) {
          return;
        }
        let innerType = ["top", "center", "bottom", "left", "right", "message", "dialog", "share"];
        if (!(direction && innerType.indexOf(direction) !== -1)) {
          direction = this.type;
        }
        if (!this.config[direction]) {
          formatAppLog("error", "at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:279", "\u7F3A\u5C11\u7C7B\u578B\uFF1A", direction);
          return;
        }
        this[this.config[direction]]();
        this.$emit("change", {
          show: true,
          type: direction
        });
      },
      close(type) {
        this.showTrans = false;
        this.$emit("change", {
          show: false,
          type: this.type
        });
        clearTimeout(this.timer);
        this.timer = setTimeout(() => {
          this.showPopup = false;
        }, 300);
      },
      touchstart() {
        this.clearPropagation = false;
      },
      onTap() {
        if (this.clearPropagation) {
          this.clearPropagation = false;
          return;
        }
        this.$emit("maskClick");
        if (!this.mkclick)
          return;
        this.close();
      },
      top(type) {
        this.popupstyle = this.isDesktop ? "fixforpc-top" : "top";
        this.ani = ["slide-top"];
        this.transClass = {
          position: "fixed",
          left: 0,
          right: 0,
          backgroundColor: this.bg
        };
        if (type)
          return;
        this.showPopup = true;
        this.showTrans = true;
        this.$nextTick(() => {
          if (this.messageChild && this.type === "message") {
            this.messageChild.timerClose();
          }
        });
      },
      bottom(type) {
        this.popupstyle = "bottom";
        this.ani = ["slide-bottom"];
        this.transClass = {
          position: "fixed",
          left: 0,
          right: 0,
          bottom: 0,
          paddingBottom: this.safeAreaInsets + "px",
          backgroundColor: this.bg
        };
        if (type)
          return;
        this.showPopup = true;
        this.showTrans = true;
      },
      center(type) {
        this.popupstyle = "center";
        this.ani = ["zoom-out", "fade"];
        this.transClass = {
          position: "fixed",
          display: "flex",
          flexDirection: "column",
          bottom: 0,
          left: 0,
          right: 0,
          top: 0,
          justifyContent: "center",
          alignItems: "center"
        };
        if (type)
          return;
        this.showPopup = true;
        this.showTrans = true;
      },
      left(type) {
        this.popupstyle = "left";
        this.ani = ["slide-left"];
        this.transClass = {
          position: "fixed",
          left: 0,
          bottom: 0,
          top: 0,
          backgroundColor: this.bg,
          display: "flex",
          flexDirection: "column"
        };
        if (type)
          return;
        this.showPopup = true;
        this.showTrans = true;
      },
      right(type) {
        this.popupstyle = "right";
        this.ani = ["slide-right"];
        this.transClass = {
          position: "fixed",
          bottom: 0,
          right: 0,
          top: 0,
          backgroundColor: this.bg,
          display: "flex",
          flexDirection: "column"
        };
        if (type)
          return;
        this.showPopup = true;
        this.showTrans = true;
      }
    }
  };
  function _sfc_render$L(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_transition = resolveEasycom(vue.resolveDynamicComponent("uni-transition"), __easycom_0$d);
    return $data.showPopup ? (vue.openBlock(), vue.createElementBlock("view", {
      key: 0,
      class: vue.normalizeClass(["uni-popup", [$data.popupstyle, $options.isDesktop ? "fixforpc-z-index" : ""]])
    }, [
      vue.createElementVNode("view", {
        onTouchstart: _cache[1] || (_cache[1] = (...args) => $options.touchstart && $options.touchstart(...args))
      }, [
        $data.maskShow ? (vue.openBlock(), vue.createBlock(_component_uni_transition, {
          key: "1",
          name: "mask",
          "mode-class": "fade",
          styles: $data.maskClass,
          duration: $data.duration,
          show: $data.showTrans,
          onClick: $options.onTap
        }, null, 8, ["styles", "duration", "show", "onClick"])) : vue.createCommentVNode("v-if", true),
        vue.createVNode(_component_uni_transition, {
          key: "2",
          "mode-class": $data.ani,
          name: "content",
          styles: $data.transClass,
          duration: $data.duration,
          show: $data.showTrans,
          onClick: $options.onTap
        }, {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", {
              class: vue.normalizeClass(["uni-popup__wrapper", [$data.popupstyle]]),
              style: vue.normalizeStyle({ backgroundColor: $options.bg }),
              onClick: _cache[0] || (_cache[0] = (...args) => $options.clear && $options.clear(...args))
            }, [
              vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
            ], 6)
          ]),
          _: 3
        }, 8, ["mode-class", "styles", "duration", "show", "onClick"])
      ], 32)
    ], 2)) : vue.createCommentVNode("v-if", true);
  }
  var __easycom_1$1 = /* @__PURE__ */ _export_sfc(_sfc_main$M, [["render", _sfc_render$L], ["__scopeId", "data-v-7c43d41b"], ["__file", "F:/work/ChuangDian/uni_modules/uni-popup/components/uni-popup/uni-popup.vue"]]);
  const _sfc_main$L = {
    components: {
      tabbar: __easycom_1$2
    },
    onLoad() {
      uni.hideTabBar();
      this.getBannerList();
      this.getGoodsTypeList();
      this.loadMoreData();
      this.getProposeList();
    },
    onReady() {
    },
    data() {
      return {
        keyword: "",
        bannerList: [],
        goodsTypeList: [],
        list: [],
        isShowPopup: false,
        popupList: [
          {
            money: 10,
            time: "2023-07-08"
          },
          {
            money: 10,
            time: "2023-07-08"
          }
        ],
        user: uni.getStorageSync("userinfo"),
        triggered: false,
        _freshing: false,
        page: 1,
        hasMore: true
      };
    },
    onReachBottom() {
      this.loadMoreData();
    },
    methods: {
      refresh() {
        if (this._freshing)
          return;
        this._freshing = true;
        formatAppLog("log", "at pages/shop/shop.vue:163", "\u4E0B\u62C9\u5237\u65B0");
        this.triggered = true;
        this.page = 1;
        this.hasMore = true;
        this.loadMoreData(1);
      },
      async getProposeList() {
        const res = await this.$myRequest({
          url: "api/Coupon/getProposeList",
          method: "POST"
        });
        formatAppLog("log", "at pages/shop/shop.vue:178", "\u63A8\u8350\u4F18\u60E0\u5238", res);
        if (res.code == 1) {
          if (res.data.length > 0) {
            this.isShowPopup = true;
          }
          if (this.isShowPopup) {
            this.$refs.popup.open("center");
            this.isShowPopup = false;
          }
          this.popupList = res.data;
        }
      },
      async loadMoreData(isRefresh) {
        if (!this.hasMore)
          return;
        const res = await this.$myRequest({
          url: "api/Goods/featuredList",
          method: "POST",
          data: {
            page: this.page,
            key: ""
          }
        });
        if (res.code == 1) {
          if (res.data.list.length <= 0) {
            this.hasMore = false;
          }
          if (this.page > 1) {
            this.list = this.list.concat(res.data.list);
          } else {
            this.list = res.data.list;
          }
          this.page++;
        } else {
          this.hasMore = false;
        }
        if (isRefresh) {
          this._freshing = false;
          this.triggered = false;
        }
      },
      async getBannerList() {
        const res = await this.$myRequest({
          url: "api/banner/bannerList",
          method: "POST",
          data: {
            banner_type: "mall"
          }
        });
        if (res.code == 1) {
          this.bannerList = res.data;
        }
      },
      async getGoodsTypeList(callBack) {
        let _this = this;
        const res = await this.$myRequest({
          url: "api/Goods/goodsTypeList",
          method: "POST"
        });
        if (res.code == 1) {
          _this.goodsTypeList = res.data;
        }
      },
      toGo(good) {
        let url = good.name == "\u9886\u4F18\u60E0\u5238" ? "/pages/couponList/couponList" : `/pages/goodsList/goodsList?title=${good.name}&id=${good.id}`;
        uni.navigateTo({
          url
        });
      },
      search: function(event) {
        formatAppLog("log", "at pages/shop/shop.vue:255", "\u70B9\u51FB\u641C\u7D22", event.detail.value);
        this.toGo("/pages/goodsList/goodsList?title=\u641C\u7D22\u5546\u54C1&keyword=" + event.detail.value);
      },
      closePopup() {
        this.$refs.popup.close();
      },
      async claimCoupons(item) {
        if (item.isGet && item.isGet == 1) {
          uni.showToast({
            title: "\u5DF2\u9886\u53D6",
            icon: "none"
          });
          return;
        }
        const res = await this.$myRequest({
          url: "api/Coupon/draw",
          method: "POST",
          data: {
            coupons_id: item.id
          }
        });
        formatAppLog("log", "at pages/shop/shop.vue:278", "\u9886\u53D6\u4F18\u60E0\u5238", res);
        if (res.code == 1) {
          item.isGet = "1";
          uni.showToast({
            title: res.msg,
            icon: "success"
          });
        } else {
          uni.showToast({
            title: res.msg,
            icon: "none"
          });
        }
      }
    }
  };
  function _sfc_render$K(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_shopListView = resolveEasycom(vue.resolveDynamicComponent("shopListView"), __easycom_0$e);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_1$1);
    const _component_tabbar = resolveEasycom(vue.resolveDynamicComponent("tabbar"), __easycom_1$2);
    return vue.openBlock(), vue.createElementBlock("scroll-view", {
      "refresher-enabled": "",
      onRefresherrefresh: _cache[4] || (_cache[4] = (...args) => $options.refresh && $options.refresh(...args)),
      "refresher-triggered": $data.triggered
    }, [
      vue.createElementVNode("view", { class: "bg" }, [
        vue.createCommentVNode(' <view class="status_bar">\r\n			<view class="top_view"></view>\r\n		</view> '),
        vue.createCommentVNode(" \u9876\u90E8title "),
        vue.createCommentVNode(' <view\r\n			style="width: 100%;display: flex;justify-content: center;align-items: center;padding: 30rpx 0 28rpx 0; font-size: 32rpx;font-weight: 600;color: #333333;">\r\n			\u5546\u57CE\r\n		</view> '),
        vue.createElementVNode("view", null, [
          vue.createCommentVNode(" \u641C\u7D22 "),
          vue.createElementVNode("view", { style: { "height": "76rpx", "display": "flex", "flex-direction": "row", "align-items": "center", "background": "#FFFFFF", "border-radius": "38rpx", "border": "2rpx solid #F0F0F0", "margin": "0 30rpx" } }, [
            vue.createElementVNode("image", {
              style: { "width": "26rpx", "height": "26rpx", "margin-left": "28rpx" },
              src: "/static/ic_search.png"
            }, null, 8, ["src"]),
            vue.withDirectives(vue.createElementVNode("input", {
              style: { "flex": "auto", "height": "100%", "font-size": "24rpx", "color": "#999999", "padding": "0 26rpx" },
              "placeholder-style": "color:#999999",
              "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.keyword = $event),
              "confirm-type": "search",
              onConfirm: _cache[1] || (_cache[1] = (...args) => $options.search && $options.search(...args)),
              placeholder: "\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u67E5\u8BE2"
            }, null, 544), [
              [vue.vModelText, $data.keyword]
            ])
          ]),
          vue.createCommentVNode(" banner "),
          vue.createElementVNode("view", { style: { "width": "100%", "height": "280rpx", "margin-top": "30rpx" } }, [
            vue.createElementVNode("swiper", {
              style: { "width": "100%", "height": "280rpx" },
              "indicator-dots": "",
              circular: "",
              autoplay: "",
              "indicator-color": "#E9E9E9",
              "indicator-active-color": "#38CBD5"
            }, [
              (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList(this.bannerList, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("swiper-item", {
                  key: item.id
                }, [
                  vue.createElementVNode("image", {
                    style: { "width": "100%", "height": "280rpx" },
                    src: item.image,
                    mode: "aspectFill",
                    onError: _cache[2] || (_cache[2] = (...args) => _ctx.imageError && _ctx.imageError(...args))
                  }, null, 40, ["src"])
                ]);
              }), 128))
            ])
          ]),
          vue.createCommentVNode(" \u6807\u7B7E "),
          vue.createElementVNode("view", {
            class: "h-layout",
            style: { "margin": "48rpx 0" }
          }, [
            vue.createElementVNode("view", {
              class: "h-layout",
              style: { "flex": "auto", "justify-content": "center", "align-items": "center" }
            }, [
              vue.createElementVNode("image", {
                style: { "width": "24rpx", "height": "24rpx" },
                src: "/static/ic_check_black.png"
              }, null, 8, ["src"]),
              vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#333333", "margin-left": "6rpx" } }, "\u6B63\u54C1\u4FDD\u8BC1")
            ]),
            vue.createElementVNode("view", {
              class: "h-layout",
              style: { "flex": "auto", "justify-content": "center", "align-items": "center" }
            }, [
              vue.createElementVNode("image", {
                style: { "width": "24rpx", "height": "24rpx" },
                src: "/static/ic_check_black.png"
              }, null, 8, ["src"]),
              vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#333333", "margin-left": "6rpx" } }, "7\u5929\u65E0\u7406\u7531\u9000\u6362\u8D27")
            ]),
            vue.createElementVNode("view", {
              class: "h-layout",
              style: { "flex": "auto", "justify-content": "center", "align-items": "center" }
            }, [
              vue.createElementVNode("image", {
                style: { "width": "24rpx", "height": "24rpx" },
                src: "/static/ic_check_black.png"
              }, null, 8, ["src"]),
              vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#333333", "margin-left": "6rpx" } }, "\u5047\u4E00\u8D54\u5341")
            ])
          ]),
          vue.createCommentVNode(" tab "),
          vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "background": "#FFFFFF", "border-radius": "16rpx", "padding": "24rpx 0", "margin": "0 30rpx" } }, [
            (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.goodsTypeList, (good, i2) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "content-layout",
                onClick: ($event) => $options.toGo(good),
                key: i2
              }, [
                vue.createElementVNode("image", {
                  style: { "width": "100rpx", "height": "100rpx" },
                  src: good.image
                }, null, 8, ["src"]),
                vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#333333", "margin-top": "4rpx" } }, vue.toDisplayString(good.name), 1)
              ], 8, ["onClick"]);
            }), 128))
          ]),
          vue.createCommentVNode(" \u5217\u8868 "),
          vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "30rpx" } }, [
            vue.createElementVNode("view", {
              class: "h-layout",
              style: { "align-items": "center", "padding": "32rpx" }
            }, [
              vue.createElementVNode("image", {
                style: { "width": "32rpx", "height": "32rpx" },
                src: "/static/ic_shop_fire.png"
              }, null, 8, ["src"]),
              vue.createElementVNode("text", { style: { "font-size": "32rpx", "font-weight": "600", "color": "#333333", "margin-left": "16rpx" } }, "\u7CBE\u9009\u63A8\u8350")
            ]),
            vue.createVNode(_component_shopListView, { list: $data.list }, null, 8, ["list"])
          ])
        ]),
        vue.createCommentVNode(" \u4F18\u60E0\u5238\u5F39\u7A97 "),
        vue.createVNode(_component_uni_popup, {
          ref: "popup",
          "mask-click": false
        }, {
          default: vue.withCtx(() => [
            vue.createElementVNode("view", { style: { "width": "544rpx", "display": "flex", "flex-direction": "column", "position": "relative" } }, [
              vue.createElementVNode("image", {
                style: { "width": "100%", "margin-left": "10rpx" },
                src: "/static/bg_coupon.png",
                mode: "widthFix"
              }, null, 8, ["src"]),
              vue.createElementVNode("view", { style: { "width": "100%", "height": "100%", "position": "absolute", "display": "flex", "flex-direction": "column", "align-items": "center" } }, [
                vue.createElementVNode("text", { style: { "font-size": "48rpx", "font-weight": "500", "color": "#F42B00", "margin-top": "200rpx" } }, "\u606D\u559C\u4F60"),
                vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#F42B00" } }, "\u83B7\u5F97" + vue.toDisplayString($data.popupList.length) + "\u5F20\u4F18\u60E0\u5238", 1),
                (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.popupList, (item, index) => {
                  return vue.openBlock(), vue.createElementBlock("view", { style: { "width": "100%", "display": "flex", "flex-direction": "column", "align-items": "center", "margin-left": "6rpx" } }, [
                    vue.createElementVNode("view", { style: { "width": "426rpx", "display": "flex", "flex-direction": "column", "position": "relative", "margin-top": "16rpx" } }, [
                      vue.createElementVNode("image", {
                        style: { "width": "100%" },
                        src: "/static/bg_coupon_item.png",
                        mode: "widthFix"
                      }, null, 8, ["src"]),
                      vue.createElementVNode("view", { style: { "width": "100%", "height": "100%", "position": "absolute", "display": "flex", "flex-direction": "row", "justify-content": "center", "align-items": "center" } }, [
                        vue.createElementVNode("view", { style: { "margin-left": "20rpx" } }, [
                          vue.createElementVNode("text", { style: { "font-size": "32rpx", "font-weight": "bold", "color": "#F42B00" } }, "\xA5"),
                          vue.createElementVNode("text", { style: { "font-size": "72rpx", "font-weight": "bold", "color": "#F42B00" } }, vue.toDisplayString(Math.floor(item.coupons_money)), 1)
                        ]),
                        vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column", "justify-content": "center", "margin-left": "30rpx" } }, [
                          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#8E480D" } }, "\u65E0\u95E8\u69DB\u4F18\u60E0\u5238"),
                          vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#8E480D" } }, "\u6709\u6548\u671F\u81F3 " + vue.toDisplayString(item.end_time), 1),
                          vue.createElementVNode("text", {
                            class: vue.normalizeClass({ isGet: item.isGet == 1 }),
                            style: { "width": "150rpx", "font-size": "12rpx", "font-weight": "400", "color": "#FFFFFF", "text-align": "center", "background-color": "#FC001A", "border-radius": "26rpx", "padding": "6rpx 0", "margin-top": "10rpx" },
                            onClick: ($event) => $options.claimCoupons(item)
                          }, vue.toDisplayString(item.isGet == "1" ? "\u5DF2\u9886\u53D6" : "\u7ACB\u5373\u9886\u53D6"), 11, ["onClick"])
                        ])
                      ])
                    ])
                  ]);
                }), 256))
              ])
            ]),
            vue.createCommentVNode(" \u5173\u95ED\u6309\u94AE "),
            vue.createElementVNode("view", {
              style: { "width": "100%", "height": "80rpx", "padding": "30rpx", "display": "flex", "justify-content": "center" },
              onClick: _cache[3] || (_cache[3] = ($event) => $options.closePopup())
            }, [
              vue.createElementVNode("image", {
                style: { "width": "50rpx", "height": "50rpx" },
                src: "/static/ic_close.png"
              }, null, 8, ["src"])
            ])
          ]),
          _: 1
        }, 512),
        vue.createVNode(_component_tabbar, {
          initCurrIndex: $data.user.group_id == 2 ? "2" : "0"
        }, null, 8, ["initCurrIndex"])
      ])
    ], 40, ["refresher-triggered"]);
  }
  var PagesShopShop = /* @__PURE__ */ _export_sfc(_sfc_main$L, [["render", _sfc_render$K], ["__file", "F:/work/ChuangDian/pages/shop/shop.vue"]]);
  const _sfc_main$K = {
    name: "mineListView",
    props: ["list"],
    data() {
      return {};
    },
    methods: {
      goTo(url) {
        uni.navigateTo({
          url
        });
      }
    }
  };
  function _sfc_render$J(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($props.list, (item) => {
      return vue.openBlock(), vue.createElementBlock("view", { style: { "flex-direction": "column" } }, [
        vue.createElementVNode("view", {
          class: "h-layout",
          onClick: ($event) => $options.goTo(item.url)
        }, [
          vue.createElementVNode("image", {
            style: { "width": "52rpx", "height": "52rpx" },
            src: item.img
          }, null, 8, ["src"]),
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "color": "#333333", "padding-left": "16rpx" } }, vue.toDisplayString(item.txt), 1),
          vue.createElementVNode("image", {
            style: { "width": "12rpx", "height": "16rpx" },
            src: "/static/ic_next.png"
          }, null, 8, ["src"])
        ], 8, ["onClick"]),
        vue.createElementVNode("view", { class: "line" })
      ]);
    }), 256);
  }
  var __easycom_0$c = /* @__PURE__ */ _export_sfc(_sfc_main$K, [["render", _sfc_render$J], ["__scopeId", "data-v-66481944"], ["__file", "F:/work/ChuangDian/components/mineListView/mineListView.vue"]]);
  const _sfc_main$J = {
    components: {
      tabbar: __easycom_1$2
    },
    onLoad() {
      uni.hideTabBar();
      formatAppLog("log", "at pages/mine/mine.vue:55", "\u8FDB\u5165\u4E86\u6211\u7684\u9875\u9762", uni.getStorageSync("userinfo"));
      if (uni.getStorageSync("userinfo")) {
        let userinfo = uni.getStorageSync("userinfo");
        this.userName = userinfo.nickname;
        this.phone = userinfo.mobile;
        this.avatar = userinfo.avatar;
      }
    },
    data() {
      return {
        avatar: "",
        userName: "\u4E03\u4E03\u4E03\u4E03",
        phone: "1234567890",
        notice: "99",
        user: uni.getStorageSync("userinfo"),
        list: [
          {
            img: "/static/ic_mine_item1.png",
            txt: "\u5171\u4EAB\u7BA1\u7406",
            url: "/pages/shareDevice/shareDevice"
          },
          {
            img: "/static/switch.png",
            txt: "\u7F51\u5173\u7BA1\u7406",
            url: "/pages/gateway/gateway"
          },
          {
            img: "/static/ic_mine_item2.png",
            txt: "\u5730\u5740\u7BA1\u7406",
            url: "/pages/addressManage/addressManage"
          },
          {
            img: "/static/ic_mine_item3.png",
            txt: "\u6211\u7684\u8BA2\u5355",
            url: "/pages/orderList/orderList"
          },
          {
            img: "/static/ic_mine_item4.png",
            txt: "\u4F18\u60E0\u5238",
            url: "/pages/couponList/couponList?type=user"
          },
          {
            img: "/static/ic_mine_item5.png",
            txt: "\u5E2E\u52A9\u4E0E\u8BBE\u7F6E",
            url: "/pages/help/help"
          },
          {
            img: "/static/ic_mine_item6.png",
            txt: "\u5173\u4E8E\u6211\u4EEC",
            url: "/pages/aboutUs/aboutUs"
          }
        ]
      };
    },
    methods: {
      async loginOut() {
        uni.showModal({
          title: "\u63D0\u793A",
          content: "\u786E\u8BA4\u9000\u51FA\u5417\uFF1F",
          showCancel: true,
          cancelText: "\u53D6\u6D88",
          confirmText: "\u786E\u8BA4",
          success: (res) => {
            if (res.confirm) {
              this.$myRequest({
                url: "api/user/logout",
                method: "POST",
                data: {}
              });
              uni.clearStorageSync();
              uni.reLaunch({
                url: "/pages/login/login"
              });
            }
          }
        });
      },
      toNotice() {
        uni.navigateTo({
          url: "/pages/notice/notice"
        });
      },
      information() {
        uni.navigateTo({
          url: "/pages/information/information"
        });
      }
    }
  };
  function _sfc_render$I(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_mineListView = resolveEasycom(vue.resolveDynamicComponent("mineListView"), __easycom_0$c);
    const _component_tabbar = resolveEasycom(vue.resolveDynamicComponent("tabbar"), __easycom_1$2);
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", { class: "status_bar" }, [
        vue.createElementVNode("view", { class: "top_view" })
      ]),
      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "padding": "28rpx" } }, [
        vue.createElementVNode("view", { style: { "flex": "auto" } }),
        vue.createCommentVNode(" \u901A\u77E5 "),
        vue.createElementVNode("view", {
          class: "notice",
          onClick: _cache[0] || (_cache[0] = ($event) => $options.toNotice())
        }, [
          vue.createElementVNode("image", {
            style: { "width": "36rpx", "height": "40rpx" },
            src: "/static/ic_notice.png"
          }, null, 8, ["src"]),
          $data.notice ? (vue.openBlock(), vue.createElementBlock("text", {
            key: 0,
            class: "num"
          }, vue.toDisplayString($data.notice), 1)) : vue.createCommentVNode("v-if", true)
        ])
      ]),
      vue.createCommentVNode(" \u4E2A\u4EBA\u4FE1\u606F "),
      vue.createElementVNode("view", {
        style: { "display": "flex", "flex-direction": "row", "margin-bottom": "44rpx" },
        class: "center",
        onClick: _cache[1] || (_cache[1] = ($event) => $options.information())
      }, [
        vue.createCommentVNode(" \u5934\u50CF "),
        vue.createElementVNode("image", {
          style: { "width": "156rpx", "height": "156rpx", "margin-left": "34rpx", "border-radius": "50%" },
          src: $data.avatar ? $data.avatar : "/static/ic_head.png"
        }, null, 8, ["src"]),
        vue.createCommentVNode(" \u6635\u79F0\u3001\u90AE\u7BB1 "),
        vue.createElementVNode("view", { style: { "flex": "1", "isplay": "flex", "flex-direction": "column", "margin-left": "26rpx" } }, [
          vue.createElementVNode("view", { style: { "font-size": "40rpx", "color": "#333333", "font-weight": "600" } }, vue.toDisplayString($data.userName), 1),
          vue.createElementVNode("view", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#666666", "margin-top": "10rpx" } }, vue.toDisplayString($data.phone), 1)
        ]),
        vue.createCommentVNode(" \u4E8C\u7EF4\u7801 "),
        vue.createElementVNode("image", {
          style: { "width": "90rpx", "height": "90rpx", "margin-right": "30rpx" },
          src: "/static/web_qrcode.png"
        }, null, 8, ["src"])
      ]),
      vue.createElementVNode("view", { style: { "flex": "auto", "display": "flex", "flex-direction": "column", "border-radius": "32rpx 32rpx 0rpx 0rpx", "background-color": "white" } }, [
        vue.createCommentVNode(" \u5217\u8868\u6570\u636E "),
        vue.createVNode(_component_mineListView, { list: $data.list }, null, 8, ["list"]),
        vue.createElementVNode("view", { style: { "flex": "auto" } }),
        vue.createCommentVNode(" \u767B\u5F55\u6309\u94AE "),
        vue.createElementVNode("button", {
          class: "btn",
          onClick: _cache[2] || (_cache[2] = ($event) => $options.loginOut()),
          type: "default",
          plain: "true"
        }, "\u9000\u51FA\u767B\u5F55")
      ]),
      vue.createVNode(_component_tabbar, {
        initCurrIndex: $data.user.group_id == 2 ? "3" : "1"
      }, null, 8, ["initCurrIndex"])
    ]);
  }
  var PagesMineMine = /* @__PURE__ */ _export_sfc(_sfc_main$J, [["render", _sfc_render$I], ["__file", "F:/work/ChuangDian/pages/mine/mine.vue"]]);
  const _sfc_main$I = {
    data() {
      return {
        name: "\u4E03\u4E03\u4E03\u4E03",
        phone: "1234567890",
        eamil: "1234567890@qq.com",
        idCrad: "1234567890987654321",
        education: "\u672C\u79D1",
        address: "\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02"
      };
    },
    onLoad() {
      formatAppLog("log", "at pages/information/information.vue:45", uni.getStorageSync("userinfo"));
      if (uni.getStorageSync("userinfo")) {
        let user = uni.getStorageSync("userinfo");
        this.idCrad = user.id_number;
        this.phone = user.mobile;
        this.address = user.locality;
        this.education = user.educational_level;
        this.name = user.nickname;
        this.eamil = user.eamil;
      }
    },
    methods: {}
  };
  function _sfc_render$H(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#333333", "font-weight": "600", "padding": "60rpx 48rpx", "background-color": "#FFFFFF" } }, "\u57FA\u672C\u8D44\u6599"),
      vue.withDirectives(vue.createElementVNode("view", { class: "h-layout" }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u771F\u5B9E\u59D3\u540D"),
        vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#666666", "font-weight": "400" } }, vue.toDisplayString($data.name), 1)
      ], 512), [
        [vue.vShow, $data.name]
      ]),
      vue.withDirectives(vue.createElementVNode("view", { class: "h-layout" }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u624B\u673A\u53F7\u7801"),
        vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#666666", "font-weight": "400" } }, vue.toDisplayString($data.phone), 1)
      ], 512), [
        [vue.vShow, $data.phone]
      ]),
      vue.withDirectives(vue.createElementVNode("view", { class: "h-layout" }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u90AE\u7BB1\u5730\u5740"),
        vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#666666", "font-weight": "400" } }, vue.toDisplayString($data.eamil), 1)
      ], 512), [
        [vue.vShow, $data.eamil]
      ]),
      vue.withDirectives(vue.createElementVNode("view", { class: "h-layout" }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u8EAB\u4EFD\u8BC1\u53F7"),
        vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#666666", "font-weight": "400" } }, vue.toDisplayString($data.idCrad), 1)
      ], 512), [
        [vue.vShow, $data.idCrad]
      ]),
      vue.withDirectives(vue.createElementVNode("view", { class: "h-layout" }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u6559\u80B2\u7A0B\u5EA6"),
        vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#666666", "font-weight": "400" } }, vue.toDisplayString($data.education), 1)
      ], 512), [
        [vue.vShow, $data.education]
      ]),
      vue.withDirectives(vue.createElementVNode("view", { class: "h-layout" }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u6240\u5728\u5730"),
        vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#666666", "font-weight": "400" } }, vue.toDisplayString($data.address), 1)
      ], 512), [
        [vue.vShow, $data.address]
      ])
    ]);
  }
  var PagesInformationInformation = /* @__PURE__ */ _export_sfc(_sfc_main$I, [["render", _sfc_render$H], ["__file", "F:/work/ChuangDian/pages/information/information.vue"]]);
  const _sfc_main$H = {
    name: "noticeListView",
    props: ["list"],
    data() {
      return {};
    },
    methods: {
      toDetail(id) {
        uni.navigateTo({
          url: "/pages/noticeDetail/noticeDetail?id=" + id + "&title=\u6D88\u606F\u8BE6\u60C5"
        });
      }
    }
  };
  function _sfc_render$G(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($props.list, (item) => {
      return vue.openBlock(), vue.createElementBlock("view", {
        style: { "width": "100%", "display": "flex", "flex-direction": "column" },
        onClick: ($event) => $options.toDetail(item.id)
      }, [
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("image", {
            class: vue.normalizeClass([item.isRead == 1 ? "img-read" : "img-noread"]),
            src: item.isRead == 1 ? "/static/ic_notice_read.png" : "/static/ic_notice_noread.png"
          }, null, 10, ["src"]),
          vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column", "margin-right": "20rpx" } }, [
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, vue.toDisplayString(item.title), 1),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#666666", "margin-top": "8rpx" } }, vue.toDisplayString(item.content), 1)
          ]),
          vue.createElementVNode("image", {
            style: { "width": "12rpx", "height": "16rpx" },
            src: "/static/ic_next.png"
          }, null, 8, ["src"])
        ]),
        vue.createElementVNode("view", { style: { "background-color": "rgba(204,204,204,0.2)", "height": "2rpx", "margin-left": "144rpx", "margin-right": "48rpx" } })
      ], 8, ["onClick"]);
    }), 256);
  }
  var __easycom_0$b = /* @__PURE__ */ _export_sfc(_sfc_main$H, [["render", _sfc_render$G], ["__scopeId", "data-v-012ff438"], ["__file", "F:/work/ChuangDian/components/noticeListView/noticeListView.vue"]]);
  const _sfc_main$G = {
    data() {
      return {
        page: 1,
        count: 10,
        list: [{
          id: "1",
          title: "\u8FD9\u662F\u6807\u9898",
          content: "\u8FD9\u662F\u5185\u5BB9\u8FD9\u662F\u5185\u5BB9",
          isRead: 1
        }, {
          id: "1",
          title: "\u8FD9\u662F\u6807\u9898",
          content: "\u8FD9\u662F\u5185\u5BB9\u8FD9\u662F\u5185\u5BB9",
          isRead: 2
        }, {
          id: "1",
          title: "\u8FD9\u662F\u6807\u9898",
          content: "\u8FD9\u662F\u5185\u5BB9\u8FD9\u662F\u5185\u5BB9",
          isRead: 1
        }],
        isOver: false,
        isEmpty: false
      };
    },
    onShow() {
    },
    onPullDownRefresh() {
      formatAppLog("log", "at pages/notice/notice.vue:44", "onPullDownRefresh\uFF0C\u4E0B\u62C9\u5237\u65B0");
      this.isOver = false;
      this.page = 1;
      this.list = [];
      this.getList(() => {
        uni.stopPullDownRefresh();
      });
    },
    onReachBottom() {
      if (this.isOver == false) {
        formatAppLog("log", "at pages/notice/notice.vue:54", "\u9875\u9762\u89E6\u5E95\u4E86\uFF0C\u52A0\u8F7D\u66F4\u591A");
        this.page++;
        this.getList(() => {
        });
      }
    },
    methods: {
      async getList(callBack) {
        const res = await this.$myRequest({
          url: "api/message/index",
          method: "POST",
          data: {
            page: this.page,
            limit: this.count
          }
        });
        if (this.page == 1) {
          uni.stopPullDownRefresh();
          this.list = res.data.rows;
        } else {
          this.list = [...this.list, ...res.data.rows];
        }
        this.total = res.data.total;
        callBack && callBack();
        if (this.list.length == 0) {
          this.isEmpty = true;
        } else
          this.isEmpty = false;
        if (this.total == this.list.length) {
          this.isOver = true;
        } else
          this.isOver = false;
      }
    }
  };
  function _sfc_render$F(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_noticeListView = resolveEasycom(vue.resolveDynamicComponent("noticeListView"), __easycom_0$b);
    return vue.openBlock(), vue.createElementBlock("view", { style: { "height": "100%", "display": "flex", "flex-direction": "column" } }, [
      vue.createCommentVNode(" \u6682\u65E0\u6570\u636E "),
      $data.isEmpty ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "center"
      }, [
        vue.createElementVNode("image", {
          src: "/static/ic_testlist_empty.png",
          style: { "width": "400rpx", "height": "300rpx" }
        }, null, 8, ["src"]),
        vue.createElementVNode("text", { style: { "font-size": "32rpx", "color": "#7C8493", "margin-top": "15rpx", "font-weight": "500" } }, "\u6682\u65E0\u6570\u636E")
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" \u5217\u8868\u6570\u636E "),
      vue.createVNode(_component_noticeListView, { list: $data.list }, null, 8, ["list"]),
      $data.isOver ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        class: "diXian"
      }, "--------\u6CA1\u6709\u66F4\u591A\u4E86--------")) : vue.createCommentVNode("v-if", true)
    ]);
  }
  var PagesNoticeNotice = /* @__PURE__ */ _export_sfc(_sfc_main$G, [["render", _sfc_render$F], ["__file", "F:/work/ChuangDian/pages/notice/notice.vue"]]);
  const _sfc_main$F = {
    onLoad(options) {
      formatAppLog("log", "at pages/noticeDetail/noticeDetail.vue:17", options);
      this.url = options.title == "\u8BBE\u5907\u94FE\u63A5\u4ECB\u7ECD" ? "api/Help/getEquipmentList" : options.title == "\u6545\u969C\u6392\u9664" ? "api/Help/getTroublesHootList" : "api/Help/aboutUs";
      formatAppLog("log", "at pages/noticeDetail/noticeDetail.vue:19", this.url);
      this.title = options.title;
      this.getDetail(options);
      uni.setNavigationBarTitle({
        title: options.title
      });
    },
    data() {
      return {
        title: "",
        aboutUs: {},
        url: "",
        page: 1,
        list: [],
        titleArr: ["\u9690\u79C1\u534F\u8BAE", "\u7528\u6237\u534F\u8BAE", "\u9690\u79C1\u653F\u7B56"],
        detail: "<h1>\u8FD9\u662F\u4E00\u4E2Ah1\u6807\u9898</h1> <u>HTML\u8F6C\u6362\u5DE5\u5177\uFF0C\u53EF\u4EE5\u5C06HTML\u4EE3\u7801\u8F6C\u6362\u4E3AHTML\u8F6C\u4E49\u5B57\u7B26\u4E32</u> <p>\u76F4\u63A5\u5C06\u4F60\u6240\u8981\u7528\u7A0B\u5E8F\u8F93\u51FA\u7684\u5927\u4E32HTML\u4EE3\u7801\u8D34\u5230\u8F93\u5165\u6846\u4E2D\uFF0C\u5373\u53EF\u4E00\u952E\u751F\u6210</p> <p>\u5982\u679C\u60A8\u89C9\u5F97\u597D\u7528\uFF0C\u8BF7\u8BB0\u5F97\u6536\u85CF\u6211\u4EEC\u7684\u5730\u5740\uFF01</p>"
      };
    },
    methods: {
      async getDetail(options) {
        let _this = this;
        let params = {};
        _this.titleArr.includes(options.title) ? params.type = options.noticeType : params.page = _this.page;
        const res = await this.$myRequest({
          url: _this.url,
          method: "POST",
          data: params
        });
        if (res.code == 1) {
          if (_this.titleArr.includes(options.title)) {
            _this.aboutUs = res.data;
          } else {
            _this.list = res.data.data;
          }
          formatAppLog("log", "at pages/noticeDetail/noticeDetail.vue:53", "_this.aboutUs", _this.aboutUs);
        } else {
          uni.showToast({
            title: res.msg
          });
        }
      }
    },
    props: {
      noticeType: {
        type: String,
        default: "0"
      }
    }
  };
  function _sfc_render$E(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { style: { "display": "flex", "flex-direction": "column", "padding": "24px" } }, [
      !$data.titleArr.includes($data.title) ? (vue.openBlock(true), vue.createElementBlock(vue.Fragment, { key: 0 }, vue.renderList($data.list, (item, i2) => {
        return vue.openBlock(), vue.createElementBlock("div", {
          class: "list",
          key: i2
        }, [
          vue.createElementVNode("h1", {
            style: { "font-size": "14px", "color": "#333333", "margin-bottom": "15px" },
            innerHTML: item.name
          }, null, 8, ["innerHTML"]),
          vue.createElementVNode("div", {
            style: { "color": "#666666", "font-size": "28rpx", "line-height": "48rpx" },
            innerHTML: item.content
          }, null, 8, ["innerHTML"])
        ]);
      }), 128)) : (vue.openBlock(), vue.createElementBlock("div", { key: 1 }, [
        vue.createCommentVNode(' <h1 style="font-size: 14px;color: #333333;margin-bottom: 15px;" v-html="aboutUs.name"></h1> '),
        vue.createElementVNode("div", {
          innerHTML: $data.aboutUs.content
        }, null, 8, ["innerHTML"])
      ]))
    ]);
  }
  var PagesNoticeDetailNoticeDetail = /* @__PURE__ */ _export_sfc(_sfc_main$F, [["render", _sfc_render$E], ["__file", "F:/work/ChuangDian/pages/noticeDetail/noticeDetail.vue"]]);
  const _sfc_main$E = {
    data() {
      return {};
    },
    methods: {
      scan() {
        uni.navigateTo({
          url: "/pages/scanQrCode/scanQrCode"
        });
      },
      searchDevice() {
        uni.navigateTo({
          url: "/pages/searchDevice/searchDevice"
        });
      },
      search: function(event) {
        formatAppLog("log", "at pages/inputDevice/inputDevice.vue:45", "\u70B9\u51FB\u641C\u7D22", event.detail.value);
        uni.redirectTo({
          url: "/pages/bindDevice/bindDevice?sn=" + event.detail.value
        });
      }
    }
  };
  function _sfc_render$D(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", { style: { "width": "750rpx", "flex": "1", "display": "flex", "justify-content": "center", "align-items": "center" } }, [
        vue.createElementVNode("view", { style: { "width": "560rpx", "height": "76rpx", "display": "flex", "flex-direction": "row", "align-items": "center", "background": "#FFFFFF", "border-radius": "38rpx", "border": "2rpx solid #F0F0F0" } }, [
          vue.createElementVNode("image", {
            style: { "width": "26rpx", "height": "32rpx", "margin-left": "34rpx" },
            src: "/static/ic_input_device.png"
          }, null, 8, ["src"]),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "auto", "height": "100%", "font-size": "24rpx", "color": "#999999", "padding": "0 26rpx" },
            "placeholder-style": "color:#999999",
            "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => _ctx.keyword = $event),
            "confirm-type": "search",
            onConfirm: _cache[1] || (_cache[1] = (...args) => $options.search && $options.search(...args)),
            placeholder: "\u8BF7\u8F93\u5165\u8BBE\u5907SN\u7801"
          }, null, 544), [
            [vue.vModelText, _ctx.keyword]
          ])
        ])
      ]),
      vue.createElementVNode("view", { style: { "width": "750rpx", "position": "absolute", "bottom": "0rpx", "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center" } }, [
        vue.createElementVNode("view", {
          style: { "width": "560rpx", "height": "84rpx", "background-color": "#38CBD5", "border-radius": "40rpx", "border": "2rpx solid rgba(60,148,255,0.16)", "color": "#FFFFFF", "font-size": "28rpx", "display": "flex", "justify-content": "center", "align-items": "center" },
          onClick: _cache[2] || (_cache[2] = ($event) => $options.scan())
        }, "\u626B\u7801\u7ED1\u5B9A "),
        vue.createElementVNode("view", {
          style: { "width": "560rpx", "height": "84rpx", "background": "#FFFFFF", "border-radius": "40rpx", "border": "4rpx solid #38CBD5", "margin-top": "32rpx", "margin-bottom": "100rpx", "color": "#333333", "font-size": "28rpx", "display": "flex", "justify-content": "center", "align-items": "center" },
          onClick: _cache[3] || (_cache[3] = ($event) => $options.searchDevice())
        }, "\u626B\u63CF\u8BBE\u5907")
      ])
    ]);
  }
  var PagesInputDeviceInputDevice = /* @__PURE__ */ _export_sfc(_sfc_main$E, [["render", _sfc_render$D], ["__file", "F:/work/ChuangDian/pages/inputDevice/inputDevice.vue"]]);
  const _sfc_main$D = {
    onLoad() {
      plus.runtime.getProperty(plus.runtime.appid, (appInfo) => {
        formatAppLog("log", "at pages/help/help.vue:42", JSON.stringify(appInfo));
        formatAppLog("log", "at pages/help/help.vue:44", appInfo.version);
        if (appInfo.version) {
          this.version = "v" + appInfo.version;
        }
        formatAppLog("log", "at pages/help/help.vue:49", appInfo.versionCode);
        if (appInfo.versionCode) {
          this.versionCode = appInfo.versionCode;
        }
        formatAppLog("log", "at pages/help/help.vue:54", appInfo.appid);
      });
      switch (uni.getSystemInfoSync().platform) {
        case "android":
          this.type = 2;
          break;
        case "ios":
          this.type = 1;
          break;
        default:
          this.type = 3;
          break;
      }
    },
    data() {
      return {
        version: "v1.0.0",
        versionCode: 100
      };
    },
    methods: {
      async versionNum() {
        const res = await this.$myRequest({
          url: "api/app/version",
          method: "POST",
          data: {
            type: this.type,
            compare_version: this.versionCode,
            version: this.version
          }
        });
        if (res.data != "") {
          uni.showModal({
            title: this.$t("app.tip"),
            content: this.$t("app.renew"),
            showCancel: true,
            cancelText: this.$t("app.cancel"),
            confirmText: this.$t("app.confirm"),
            success: (res2) => {
              if (res2.confirm)
                ;
            }
          });
        } else {
          uni.showToast({
            title: this.$t("app.noRenew"),
            icon: "success"
          });
        }
      },
      goTo(url) {
        uni.navigateTo({
          url
        });
      }
    }
  };
  function _sfc_render$C(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", {
        class: "h-layout",
        style: { "padding-top": "60rpx" },
        onClick: _cache[0] || (_cache[0] = ($event) => $options.goTo("/pages/question/question"))
      }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u5E38\u89C1\u95EE\u9898"),
        vue.createElementVNode("image", {
          style: { "width": "12rpx", "height": "16rpx" },
          src: "/static/ic_next.png"
        }, null, 8, ["src"])
      ]),
      vue.createElementVNode("view", {
        class: "h-layout",
        onClick: _cache[1] || (_cache[1] = ($event) => $options.goTo("/pages/noticeDetail/noticeDetail?id=0&title=\u8BBE\u5907\u94FE\u63A5\u4ECB\u7ECD"))
      }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u8BBE\u5907\u94FE\u63A5\u4ECB\u7ECD"),
        vue.createElementVNode("image", {
          style: { "width": "12rpx", "height": "16rpx" },
          src: "/static/ic_next.png"
        }, null, 8, ["src"])
      ]),
      vue.createElementVNode("view", {
        class: "h-layout",
        onClick: _cache[2] || (_cache[2] = ($event) => $options.goTo("/pages/noticeDetail/noticeDetail?id=1&title=\u6545\u969C\u6392\u9664"))
      }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u6545\u969C\u6392\u9664"),
        vue.createElementVNode("image", {
          style: { "width": "12rpx", "height": "16rpx" },
          src: "/static/ic_next.png"
        }, null, 8, ["src"])
      ]),
      vue.createElementVNode("view", {
        class: "h-layout",
        onClick: _cache[3] || (_cache[3] = ($event) => $options.goTo("/pages/onlineFeedback/onlineFeedback"))
      }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u5728\u7EBF\u53CD\u9988"),
        vue.createElementVNode("image", {
          style: { "width": "12rpx", "height": "16rpx" },
          src: "/static/ic_next.png"
        }, null, 8, ["src"])
      ]),
      vue.createElementVNode("view", {
        class: "h-layout",
        onClick: _cache[4] || (_cache[4] = ($event) => $options.goTo("/pages/messagePushSetup/messagePushSetup"))
      }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u6D88\u606F\u63A8\u9001\u8BBE\u7F6E"),
        vue.createElementVNode("image", {
          style: { "width": "12rpx", "height": "16rpx" },
          src: "/static/ic_next.png"
        }, null, 8, ["src"])
      ]),
      vue.createElementVNode("view", {
        class: "h-layout",
        onClick: _cache[5] || (_cache[5] = ($event) => $options.goTo("/pages/noticeDetail/noticeDetail?id=1&title=\u9690\u79C1\u534F\u8BAE&noticeType=2"))
      }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u9690\u79C1\u534F\u8BAE"),
        vue.createElementVNode("image", {
          style: { "width": "12rpx", "height": "16rpx" },
          src: "/static/ic_next.png"
        }, null, 8, ["src"])
      ]),
      vue.createElementVNode("view", {
        class: "h-layout",
        onClick: _cache[6] || (_cache[6] = ($event) => $options.versionNum())
      }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u7248\u672C\u53F7"),
        vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#666666", "font-weight": "400", "margin-right": "32rpx" } }, vue.toDisplayString($data.version), 1),
        vue.createElementVNode("image", {
          style: { "width": "12rpx", "height": "16rpx" },
          src: "/static/ic_next.png"
        }, null, 8, ["src"])
      ])
    ]);
  }
  var PagesHelpHelp = /* @__PURE__ */ _export_sfc(_sfc_main$D, [["render", _sfc_render$C], ["__file", "F:/work/ChuangDian/pages/help/help.vue"]]);
  const _sfc_main$C = {
    name: "questionListView",
    props: ["list"],
    data() {
      return {};
    },
    methods: {
      onShow(index) {
        if (this.list[index].isShow == 1) {
          this.list[index].isShow = 0;
        } else {
          this.list[index].isShow = 1;
        }
        formatAppLog("log", "at components/questionListView/questionListView.vue:35", ">>>>" + index + this.list[index].isShow);
      }
    }
  };
  function _sfc_render$B(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($props.list, (item, index) => {
      return vue.openBlock(), vue.createElementBlock("view", { style: { "display": "flex", "flex-direction": "column" } }, [
        vue.createElementVNode("view", {
          class: "h-layout",
          onClick: ($event) => $options.onShow(index)
        }, [
          vue.createElementVNode("text", { style: { "background": "#38CBD5", "padding": "4rpx", "font-size": "28rpx", "font-weight": "400", "color": "#FFFFFF" } }, "Q" + vue.toDisplayString(index + 1), 1),
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "500", "color": "#333333", "margin-left": "16rpx" } }, vue.toDisplayString(item.name), 1),
          vue.createElementVNode("image", {
            style: { "width": "26rpx", "height": "26rpx" },
            src: item.isShow == 1 ? "/static/ic_jiao_up.png" : "/static/ic_jiao_down.png"
          }, null, 8, ["src"])
        ], 8, ["onClick"]),
        item.isShow == 1 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333", "margin": "0 30rpx 32rpx 90rpx" },
          innerHTML: item.content
        }, null, 8, ["innerHTML"])) : vue.createCommentVNode("v-if", true)
      ]);
    }), 256);
  }
  var __easycom_0$a = /* @__PURE__ */ _export_sfc(_sfc_main$C, [["render", _sfc_render$B], ["__scopeId", "data-v-70610024"], ["__file", "F:/work/ChuangDian/components/questionListView/questionListView.vue"]]);
  const _sfc_main$B = {
    onLoad() {
      formatAppLog("log", "at pages/question/question.vue:13", "\u5E38\u89C1\u95EE\u9898");
      this.getQuestion();
    },
    data() {
      return {
        list: [],
        page: 1
      };
    },
    methods: {
      async getQuestion() {
        let _this = this;
        const res = await this.$myRequest({
          url: "api/Help/getConcernList",
          method: "POST",
          data: {
            page: _this.page
          }
        });
        if (res.code == 1) {
          _this.list = res.data.data;
        }
      }
    }
  };
  function _sfc_render$A(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_questionListView = resolveEasycom(vue.resolveDynamicComponent("questionListView"), __easycom_0$a);
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createCommentVNode(" \u5217\u8868 "),
      vue.createElementVNode("view", { style: { "overflow": "auto", "background": "#FFFFFF" } }, [
        vue.createVNode(_component_questionListView, { list: $data.list }, null, 8, ["list"])
      ])
    ]);
  }
  var PagesQuestionQuestion = /* @__PURE__ */ _export_sfc(_sfc_main$B, [["render", _sfc_render$A], ["__file", "F:/work/ChuangDian/pages/question/question.vue"]]);
  const _sfc_main$A = {
    data() {
      return {};
    },
    methods: {
      switchChange: function(e2) {
        formatAppLog("log", "at pages/messagePushSetup/messagePushSetup.vue:18", "switch1 \u53D1\u751F change \u4E8B\u4EF6\uFF0C\u643A\u5E26\u503C\u4E3A", e2.detail.value);
      }
    }
  };
  function _sfc_render$z(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "h-layout" }, [
      vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u6D88\u606F\u63A8\u9001\u8BBE\u7F6E"),
      vue.createElementVNode("switch", {
        checked: "",
        onChange: _cache[0] || (_cache[0] = (...args) => $options.switchChange && $options.switchChange(...args)),
        color: "#38CBD5",
        style: { "transform": "scale(0.7)" }
      }, null, 32)
    ]);
  }
  var PagesMessagePushSetupMessagePushSetup = /* @__PURE__ */ _export_sfc(_sfc_main$A, [["render", _sfc_render$z], ["__file", "F:/work/ChuangDian/pages/messagePushSetup/messagePushSetup.vue"]]);
  const _sfc_main$z = {
    data() {
      return {
        list: [{
          img: "/static/ic_feedback1.png",
          imgUnSelect: "/static/ic_feedback1_unselect.png",
          name: "\u9875\u9762\u95EA\u9000",
          select: false
        }, {
          img: "/static/ic_feedback2.png",
          imgUnSelect: "/static/ic_feedback2_unselect.png",
          name: "\u4F7F\u7528\u5EFA\u8BAE",
          select: false
        }, {
          img: "/static/ic_feedback3.png",
          imgUnSelect: "/static/ic_feedback3_unselect.png",
          name: "\u5410\u69FD",
          select: false
        }, {
          img: "/static/ic_feedback4.png",
          imgUnSelect: "/static/ic_feedback4_unselect.png",
          name: "\u7CFB\u7EDFBUG",
          select: false
        }, {
          img: "/static/ic_feedback5.png",
          imgUnSelect: "/static/ic_feedback5_unselect.png",
          name: "\u529F\u80FD\u5EFA\u8BAE",
          select: false
        }, {
          img: "/static/ic_feedback6.png",
          imgUnSelect: "/static/ic_feedback6_unselect.png",
          name: "\u4E0D\u826F\u4FE1\u606F\u4E3E\u62A5",
          select: false
        }],
        typeIndex: 0,
        description: "",
        contact: ""
      };
    },
    methods: {
      change(e2) {
        const selectedIndex = e2.detail.index;
        this.list.forEach((item, index) => {
          item.select = false;
        });
        this.list[selectedIndex].select = true;
        formatAppLog("log", "at pages/onlineFeedback/onlineFeedback.vue:102", `\u9009\u4E2D\u7D22\u5F15: ${selectedIndex}`);
        this.typeIndex = this.typeIndex;
      },
      toDetail(id) {
        formatAppLog("log", "at pages/onlineFeedback/onlineFeedback.vue:106", id);
      },
      save() {
        if (this.list.every((item) => !item.select)) {
          uni.showToast({
            title: "\u8BF7\u9009\u62E9\u53CD\u9988\u7C7B\u578B",
            icon: "none"
          });
          return;
        }
        if (!this.description) {
          uni.showToast({
            title: "\u8BF7\u586B\u5199\u8BE6\u7EC6\u63CF\u8FF0",
            icon: "none"
          });
          return;
        }
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!this.email) {
          uni.showToast({
            title: "\u8BF7\u586B\u5199\u90AE\u7BB1",
            icon: "none"
          });
          return;
        } else if (!emailPattern.test(this.email)) {
          uni.showToast({
            title: "\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E",
            icon: "none"
          });
          return;
        }
        if (!this.contact) {
          uni.showToast({
            title: "\u8BF7\u586B\u5199\u8054\u7CFB\u65B9\u5F0F",
            icon: "none"
          });
          return;
        }
        const feedbackType = this.typeIndex;
        const postData = {
          feedback_type: feedbackType,
          content: this.description,
          email: this.email,
          other: this.contact
        };
        this.submitFeedback(postData);
      },
      async submitFeedback(data) {
        formatAppLog("log", "at pages/onlineFeedback/onlineFeedback.vue:165", data);
        const res = await this.$myRequest({
          url: "api/Help/feedback",
          method: "POST",
          data
        });
        if (res.code == 1) {
          uni.showToast({
            title: "\u53CD\u9988\u6210\u529F"
          });
          setTimeout(() => {
            uni.navigateBack();
          }, 1500);
        }
        formatAppLog("log", "at pages/onlineFeedback/onlineFeedback.vue:179", "\u53CD\u9988", res);
      }
    }
  };
  function _sfc_render$y(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_font = vue.resolveComponent("font");
    const _component_uni_grid_item = resolveEasycom(vue.resolveDynamicComponent("uni-grid-item"), __easycom_0$j);
    const _component_uni_grid = resolveEasycom(vue.resolveDynamicComponent("uni-grid"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { style: { "display": "flex", "flex-direction": "column" } }, [
      vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "600", "color": "#333333", "padding": "32rpx" } }, [
        vue.createVNode(_component_font, { style: { "color": "#FF3838" } }, {
          default: vue.withCtx(() => [
            vue.createTextVNode("*")
          ]),
          _: 1
        }),
        vue.createTextVNode("\u53CD\u9988\u7C7B\u578B ")
      ]),
      vue.createCommentVNode(" grid "),
      vue.createElementVNode("view", { style: { "display": "flex", "align-items": "center", "justify-content": "center", "margin": "0 16rpx" } }, [
        vue.createVNode(_component_uni_grid, {
          column: 3,
          showBorder: false,
          square: false,
          onChange: $options.change
        }, {
          default: vue.withCtx(() => [
            (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.list, (item, index) => {
              return vue.openBlock(), vue.createBlock(_component_uni_grid_item, {
                index,
                key: index
              }, {
                default: vue.withCtx(() => [
                  vue.createElementVNode("view", {
                    class: vue.normalizeClass([item.select == true ? "bg-select" : "bg-unselect"]),
                    onClick: ($event) => $options.toDetail(item.id)
                  }, [
                    vue.createElementVNode("image", {
                      src: item.select == true ? item.img : item.imgUnSelect,
                      style: { "width": "56rpx", "height": "56rpx", "margin-top": "18rpx" }
                    }, null, 8, ["src"]),
                    vue.createElementVNode("text", {
                      class: vue.normalizeClass([item.select == true ? "txt-select" : "txt-unselect"])
                    }, vue.toDisplayString(item.name), 3)
                  ], 10, ["onClick"])
                ]),
                _: 2
              }, 1032, ["index"]);
            }), 128))
          ]),
          _: 1
        }, 8, ["onChange"])
      ]),
      vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "600", "color": "#333333", "padding": "32rpx", "margin-top": "32rpx" } }, [
        vue.createVNode(_component_font, { style: { "color": "#FF3838" } }, {
          default: vue.withCtx(() => [
            vue.createTextVNode("*")
          ]),
          _: 1
        }),
        vue.createTextVNode("\u8BE6\u7EC6\u63CF\u8FF0 ")
      ]),
      vue.createElementVNode("view", { style: { "border-radius": "16rpx", "padding": "24rpx", "margin": "0 32rpx", "background-color": "#F2F4F6" } }, [
        vue.withDirectives(vue.createElementVNode("textarea", {
          style: { "width": "100%" },
          "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.description = $event),
          "placeholder-style": "color:#7C8493",
          placeholder: "\u4F60\u60F3\u8BF4\u70B9\u4EC0\u4E48\uFF1F"
        }, null, 512), [
          [vue.vModelText, $data.description]
        ])
      ]),
      vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "600", "color": "#333333", "padding": "32rpx", "margin-top": "32rpx" } }, [
        vue.createVNode(_component_font, { style: { "color": "#FF3838" } }, {
          default: vue.withCtx(() => [
            vue.createTextVNode("*")
          ]),
          _: 1
        }),
        vue.createTextVNode("\u90AE\u7BB1 ")
      ]),
      vue.withDirectives(vue.createElementVNode("input", {
        style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "background": "#F5F7FB", "border-radius": "16rpx", "padding": "32rpx", "margin": "0 32rpx" },
        type: "text",
        "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => _ctx.email = $event),
        disabled: false,
        trim: "all",
        inputBorder: false,
        placeholder: "\u8BF7\u8F93\u5165\u90AE\u7BB1"
      }, null, 512), [
        [vue.vModelText, _ctx.email]
      ]),
      vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "600", "color": "#333333", "padding": "32rpx", "margin-top": "32rpx" } }, [
        vue.createVNode(_component_font, { style: { "color": "#FF3838" } }, {
          default: vue.withCtx(() => [
            vue.createTextVNode("*")
          ]),
          _: 1
        }),
        vue.createTextVNode("\u5FAE\u4FE1/QQ/\u5176\u4ED6\u8054\u7CFB\u65B9\u5F0F ")
      ]),
      vue.withDirectives(vue.createElementVNode("input", {
        style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "background": "#F5F7FB", "border-radius": "16rpx", "padding": "32rpx", "margin": "0 32rpx" },
        type: "text",
        "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.contact = $event),
        disabled: false,
        trim: "all",
        inputBorder: false,
        placeholder: "\u8BF7\u8F93\u5165\u8054\u7CFB\u65B9\u5F0F"
      }, null, 512), [
        [vue.vModelText, $data.contact]
      ]),
      vue.createCommentVNode(" \u6309\u94AE "),
      vue.createElementVNode("button", {
        class: "btn",
        onClick: _cache[3] || (_cache[3] = ($event) => $options.save())
      }, "\u63D0\u4EA4")
    ]);
  }
  var PagesOnlineFeedbackOnlineFeedback = /* @__PURE__ */ _export_sfc(_sfc_main$z, [["render", _sfc_render$y], ["__file", "F:/work/ChuangDian/pages/onlineFeedback/onlineFeedback.vue"]]);
  const _sfc_main$y = {
    onLoad() {
      this.getAboutUs();
    },
    data() {
      return {
        aboutUs: {}
      };
    },
    methods: {
      goTo(url) {
        uni.navigateTo({
          url
        });
      },
      async getAboutUs(options) {
        let _this = this;
        const res = await this.$myRequest({
          url: "api/Help/aboutUs",
          method: "POST",
          data: {
            type: "0"
          }
        });
        formatAppLog("log", "at pages/aboutUs/aboutUs.vue:65", "\u83B7\u53D6\u5173\u4E8E\u6211\u4EEC\u7684\u6570\u636E", res);
        if (res.code == 1) {
          _this.aboutUs = res.data;
        } else {
          uni.showToast({
            title: res.msg
          });
        }
      }
    }
  };
  function _sfc_render$x(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createCommentVNode(" \u5176\u4ED6\u5185\u5BB9\u6839\u636E\u5B9E\u9645\u9700\u8981\u52A8\u6001\u52A0\u8F7D "),
      Object.keys($data.aboutUs).length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "content",
        innerHTML: $data.aboutUs.content
      }, null, 8, ["innerHTML"])) : (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        class: "content-layout"
      }, [
        vue.createCommentVNode(" Logo "),
        vue.createElementVNode("image", {
          class: "logo",
          src: "/static/ic_logo.png"
        }),
        vue.createCommentVNode(" \u7535\u8BDD\u4FE1\u606F "),
        vue.createElementVNode("view", { class: "info-block" }, [
          vue.createElementVNode("image", {
            class: "icon",
            src: "/static/ic_phone.png"
          }),
          vue.createElementVNode("text", { class: "info-label" }, "\u7535\u8BDD"),
          vue.createElementVNode("text", { class: "info-content" }, "158 9984 0587")
        ]),
        vue.createCommentVNode(" \u5206\u5272\u7EBF "),
        vue.createElementVNode("view", { class: "divider" }),
        vue.createCommentVNode(" \u90AE\u7BB1\u4FE1\u606F "),
        vue.createElementVNode("view", { class: "info-block" }, [
          vue.createElementVNode("image", {
            class: "icon",
            src: "/static/ic_email.png"
          }),
          vue.createElementVNode("text", { class: "info-label" }, "\u90AE\u7BB1"),
          vue.createElementVNode("text", { class: "info-content" }, "1804533852@qq.com")
        ])
      ])),
      vue.createElementVNode("view", { style: { "display": "flex", "flex-flow": "column" } }, [
        vue.createCommentVNode(" \u534F\u8BAE\u90E8\u5206 "),
        vue.createElementVNode("view", { class: "agreement" }, [
          vue.createElementVNode("text", {
            class: "agreement-text",
            onClick: _cache[0] || (_cache[0] = ($event) => $options.goTo("/pages/noticeDetail/noticeDetail?id=1&title=\u9690\u79C1\u534F\u8BAE&noticeType=2"))
          }, "\u9690\u79C1\u534F\u8BAE"),
          vue.createTextVNode("| "),
          vue.createElementVNode("text", {
            class: "agreement-text",
            onClick: _cache[1] || (_cache[1] = ($event) => $options.goTo("/pages/noticeDetail/noticeDetail?id=1&title=\u7528\u6237\u534F\u8BAE&noticeType=1"))
          }, "\u7528\u6237\u534F\u8BAE")
        ]),
        vue.createCommentVNode(" \u5E95\u90E8\u7248\u6743\u4FE1\u606F "),
        vue.createElementVNode("view", {
          class: "footer",
          style: { "flex-flow": "column" }
        }, [
          vue.createElementVNode("text", { class: "footer-text" }, "\u6DF1\u5733\u79D1\u6280\u6709\u9650\u516C\u53F8"),
          vue.createElementVNode("text", { class: "footer-text" }, "CopyRight \xA9www.AuxerU.com, All Rights Reserved")
        ])
      ])
    ]);
  }
  var PagesAboutUsAboutUs = /* @__PURE__ */ _export_sfc(_sfc_main$y, [["render", _sfc_render$x], ["__file", "F:/work/ChuangDian/pages/aboutUs/aboutUs.vue"]]);
  const _sfc_main$x = {
    data() {
      return {};
    },
    props: {
      processColor: {
        type: String,
        default: "#42b983"
      },
      originalColor: {
        type: String,
        default: "#EEEEEE"
      },
      innerbgColor: {
        type: String,
        default: "#FFFFFF"
      },
      process: {
        type: Number,
        default: 0
      },
      radius: {
        type: Number,
        default: 100
      },
      barWidth: {
        type: Number,
        default: 3
      },
      startPosDegree: {
        type: Number,
        default: 0
      }
    },
    computed: {
      processCss() {
        const { radius, processColor } = this;
        return {
          borderRadius: `${radius}rpx`,
          height: `${radius * 2}rpx`,
          width: `${radius * 2}rpx`,
          backgroundColor: processColor
        };
      },
      parentCss() {
        const { radius, startPosDegree } = this;
        return {
          borderRadius: `${radius}rpx`,
          height: `${radius * 2}rpx`,
          width: `${radius * 2}rpx`,
          transform: "rotate(" + startPosDegree + "deg )"
        };
      },
      leftCss() {
        let { radius, originalColor, process } = this;
        let leftTransformerDegree = (process > 50 ? ((process > 100 ? 100 : process) - 50) * 3.6 : 0) + "deg";
        return {
          height: `${radius * 2}rpx`,
          width: `${radius}rpx`,
          backgroundColor: originalColor,
          transform: "rotate(" + leftTransformerDegree + ")",
          transformOrigin: "right center",
          borderTopLeftRadius: `${radius}rpx`,
          borderBottomLeftRadius: `${radius}rpx`,
          left: 0,
          top: 0
        };
      },
      rightCss() {
        let { radius, processColor, originalColor, process } = this;
        let rightTransformerDegree = (process > 50 ? 0 : process) * 3.6 + "deg";
        return {
          height: `${radius * 2}rpx`,
          width: `${radius}rpx`,
          backgroundColor: process > 50 ? processColor : originalColor,
          transform: "rotate(" + rightTransformerDegree + ")",
          transformOrigin: "left center",
          borderTopRightRadius: `${radius}rpx`,
          borderBottomRightRadius: `${radius}rpx`,
          left: `${radius}rpx`,
          top: 0
        };
      },
      innerCircleCss() {
        const { radius, innerbgColor, barWidth, startPosDegree } = this;
        return {
          borderRadius: `${radius - barWidth}rpx`,
          height: `${(radius - barWidth) * 2}rpx`,
          width: `${(radius - barWidth) * 2}rpx`,
          transform: "rotate(" + (0 - startPosDegree) + "deg )",
          backgroundColor: innerbgColor,
          left: `${barWidth}rpx`,
          top: `${barWidth}rpx`
        };
      }
    },
    mounted() {
    },
    methods: {}
  };
  function _sfc_render$w(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", {
      class: "huihui_parent",
      style: vue.normalizeStyle($options.parentCss)
    }, [
      vue.createElementVNode("view", {
        class: "huihui_process",
        style: vue.normalizeStyle($options.processCss)
      }, null, 4),
      vue.createElementVNode("view", {
        class: "huihui_left_part",
        style: vue.normalizeStyle($options.leftCss)
      }, null, 4),
      vue.createElementVNode("view", {
        class: "huihui_right_part",
        style: vue.normalizeStyle($options.rightCss)
      }, null, 4),
      vue.createElementVNode("view", {
        class: "huihui_inner_circle",
        style: vue.normalizeStyle($options.innerCircleCss)
      }, [
        vue.renderSlot(_ctx.$slots, "default", {}, void 0, true)
      ], 4)
    ], 4);
  }
  var __easycom_0$9 = /* @__PURE__ */ _export_sfc(_sfc_main$x, [["render", _sfc_render$w], ["__scopeId", "data-v-4ed8768c"], ["__file", "F:/work/ChuangDian/components/huihui-progress/huihui-progress.vue"]]);
  const _sfc_main$w = {
    name: "deviceListView",
    props: ["list"],
    data() {
      return {};
    },
    methods: {
      toDetail(item) {
        formatAppLog("log", "at components/deviceListView/deviceListView.vue:86", item);
        uni.navigateTo({
          url: `/pages/deviceOperate/deviceOperate?id=${item.id}&remain=${item.remain}&device_number=${item.device_number}&batlevel=${item.batlevel}&state_text=${item.state_text}`
        });
      }
    }
  };
  function _sfc_render$v(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_huihui_progress = resolveEasycom(vue.resolveDynamicComponent("huihui-progress"), __easycom_0$9);
    const _component_font = vue.resolveComponent("font");
    return vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($props.list, (item, i2) => {
      return vue.openBlock(), vue.createElementBlock("view", {
        style: { "display": "flex", "flex-direction": "column" },
        onClick: ($event) => $options.toDetail(item)
      }, [
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createCommentVNode(` <image style="width: 232rpx;height: 232rpx;" :src="'/static/logo.png'"></image> `),
          vue.createCommentVNode(" \u5DE6\u8FB9\u5E03\u5C40 "),
          vue.createElementVNode("view", { style: { "width": "200rpx", "height": "232rpx", "background": "#F3F4F6", "border-radius": "16rpx", "display": "flex", "flex-direction": "column" } }, [
            vue.createCommentVNode(" \u5DE6\u4E0A\u89D2\u56FE\u7247 "),
            vue.createElementVNode("image", {
              class: vue.normalizeClass({ opacity: item.state_text !== "\u5728\u7EBF" }),
              style: { "width": "28rpx", "height": "28rpx", "background": "#FFFFFF", "border-radius": "16rpx 4rpx 4rpx 0rpx", "padding": "8rpx 12rpx" },
              src: "/static/ic_circle_check.png"
            }, null, 10, ["src"]),
            vue.createElementVNode("view", { style: { "width": "200rpx", "border-radius": "16rpx", "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center" } }, [
              vue.createCommentVNode(" \u8017\u6750\u5269\u4F59\u91CF "),
              vue.createVNode(_component_huihui_progress, {
                originalColor: "#FFFFFF",
                processColor: item.remain <= 40 ? "#FE5100" : item.remain > 40 && item.remain <= 70 ? "#f8e197" : "#38CBD5",
                innerbgColor: "#F3F4F6",
                process: item.remain,
                startPosDegree: 0,
                radius: 60,
                barWidth: 15
              }, {
                default: vue.withCtx(() => [
                  vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, vue.toDisplayString(item.remain) + "%", 1),
                  vue.createCommentVNode(` <view style="display:flex; flex-direction: column;justify-content: center;align-items: center;">\r
							<view style="align-items:baseline">\r
								<text style="font-size: 60rpx;font-weight: 500;color: #666666;">{{process}}</text>\r
								\r
							</view>\r
							<image style="width: 38rpx;height: 38rpx;" :src="'/static/ic_battery.png'"></image>\r
						</view> `)
                ]),
                _: 2
              }, 1032, ["processColor", "process"]),
              vue.createElementVNode("view", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#999999", "margin-top": "4rpx" } }, "\u5269\u4F59\u7EB8\u91CF")
            ])
          ]),
          vue.createElementVNode("view", { style: { "flex": "1", "height": "232rpx", "display": "flex", "flex-direction": "column", "margin-left": "30rpx" } }, [
            vue.createCommentVNode(" SN "),
            vue.createCommentVNode(' <text\r\n					style="font-size: 32rpx;font-weight: bold;color: #333333;margin-top: 15rpx;">{{ item.device_name }} | {{ item.device_number }}</text> '),
            vue.createElementVNode("text", { style: { "font-size": "32rpx", "font-weight": "bold", "color": "#333333", "margin-top": "15rpx" } }, vue.toDisplayString(item.device_number), 1),
            vue.createCommentVNode(" \u5730\u5740 "),
            vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "margin-top": "20rpx", "align-items": "flex-start" } }, [
              vue.createElementVNode("image", {
                style: { "width": "30rpx", "height": "28rpx", "margin-top": "6rpx" },
                src: "/static/ic_address.png"
              }, null, 8, ["src"]),
              vue.createCommentVNode(` <text :class="[item.online == 1?'txt-blue':'txt-yellow']">{{item.online == 1?'\u5728\u7EBF':'\u79BB\u7EBF'}}</text> `),
              vue.createElementVNode("text", { style: { "font-size": "24rpx", "color": "#666666", "font-weight": "400", "margin-left": "10rpx", "margin-top": "4rpx" } }, vue.toDisplayString(item.drop_address), 1)
            ]),
            vue.createElementVNode("view", { style: { "flex": "1" } }),
            vue.createCommentVNode(" \u5269\u4F59 "),
            vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#999999", "background": "#F3F4F6", "border-radius": "16rpx", "padding": "12rpx 20rpx" } }, [
              vue.createTextVNode(" \u7535\u91CF\u5269\u4F59\u7EA6"),
              vue.createVNode(_component_font, { style: { "color": "#38CBD5" } }, {
                default: vue.withCtx(() => [
                  vue.createTextVNode(vue.toDisplayString(item.batlevel), 1)
                ]),
                _: 2
              }, 1024),
              vue.createTextVNode("%\xA0|\xA0\u70B9\u5269\u4F59\u7EA6"),
              vue.createVNode(_component_font, { style: { "color": "#38CBD5" } }, {
                default: vue.withCtx(() => [
                  vue.createTextVNode("234 ")
                ]),
                _: 1
              }),
              vue.createTextVNode("\u5929 ")
            ]),
            vue.createCommentVNode(" \u8FDB\u5EA6\u6761 "),
            vue.createCommentVNode(' <view style="display: flex; flex-direction: row;align-items: baseline;margin-top: 10rpx;">\r\n					<ai-progress style="flex: 1;" :percentage="item.value" noData="true" bgColor="#38CBD5"\r\n						inBgColor="#EBF9FA"></ai-progress>\r\n\r\n					<text\r\n						style="font-size: 24rpx;font-weight: 400;color: #666666;margin-left: 32rpx;">\u4F59{{item.value}}%</text>\r\n\r\n				</view> ')
          ])
        ])
      ], 8, ["onClick"]);
    }), 256);
  }
  var __easycom_0$8 = /* @__PURE__ */ _export_sfc(_sfc_main$w, [["render", _sfc_render$v], ["__scopeId", "data-v-48900bb8"], ["__file", "F:/work/ChuangDian/components/deviceListView/deviceListView.vue"]]);
  const _sfc_main$v = {
    components: {
      myPicker
    },
    onLoad(options) {
      if (options.title) {
        uni.setNavigationBarTitle({
          title: options.title
        });
        this.requestUrl = options.title == "\u8BBE\u5907\u5217\u8868" ? "api/Device/getDeviceList" : "api/Device/getWarningDeviceList";
        formatAppLog("log", "at pages/deviceList/deviceList.vue:211", "\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8\u54C8", this.requestUrl);
        this.getEventList();
      }
      if (options.keyword) {
        this.keyword = options.keyword;
      }
      if (uni.getStorageSync("addressDefault")) {
        this.address = uni.getStorageSync("addressDefault").name;
      }
      this.isShowAddDevice = options.title == "\u8BBE\u5907\u5217\u8868";
    },
    onShow() {
      let that = this;
      uni.$once("address", function(data) {
        formatAppLog("log", "at pages/deviceList/deviceList.vue:229", "\u76D1\u542C\u5230\u4E8B\u4EF6\u6765\u81EA\u8FD4\u56DE\u7684\u53C2\u6570\uFF1A" + data.name);
        that.address = data.name;
        that.getList();
      });
      that.getList();
    },
    data() {
      return {
        onlineNum: 0,
        searchKeyword: "",
        snKeyword: "",
        address: "\u7701\u5E02",
        isShowAddDevice: true,
        tabIndex: 0,
        tabBars: [
          {
            name: "\u9879\u76EEA",
            id: "guanzhu"
          },
          {
            name: "\u9879\u76EEB",
            id: "tuijian"
          },
          {
            name: "\u9879\u76EEC",
            id: "redian"
          },
          {
            name: "\u9879\u76EED",
            id: "tiyu"
          },
          {
            name: "\u9879\u76EEE",
            id: "caijing"
          },
          {
            name: "\u9879\u76EEF",
            id: "yule"
          }
        ],
        deviceNum: 180,
        list: [
          {
            title: "\u8D1F\u79BB\u5B50\u514D\u6253\u5B54\u5439\u98CE\u673A",
            online: 1,
            value: 70,
            address: "\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02\u5927\u534E\u533A \u660E\u79BB\u8DEF\u79D1\u6280\u56ED880\u53F71\u680B2\u697C203\u5BA4"
          },
          {
            title: "\u8D1F\u79BB\u5B50\u514D\u6253\u5B54\u5439\u98CE\u673A",
            online: 2,
            value: 60,
            address: "\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02\u5927\u534E\u533A \u660E\u79BB\u8DEF\u79D1\u6280\u56ED880\u53F71\u680B2\u697C203\u5BA4"
          },
          {
            title: "\u8D1F\u79BB\u5B50\u514D\u6253\u5B54\u5439\u98CE\u673A",
            online: 1,
            value: 80,
            address: "\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02\u5927\u534E\u533A \u660E\u79BB\u8DEF\u79D1\u6280\u56ED880\u53F71\u680B2\u697C203\u5BA4"
          },
          {
            title: "\u8D1F\u79BB\u5B50\u514D\u6253\u5B54\u5439\u98CE\u673A",
            online: 1,
            value: 70,
            address: "\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02\u5927\u534E\u533A \u660E\u79BB\u8DEF\u79D1\u6280\u56ED880\u53F71\u680B2\u697C203\u5BA4"
          },
          {
            title: "\u8D1F\u79BB\u5B50\u514D\u6253\u5B54\u5439\u98CE\u673A",
            online: 2,
            value: 75,
            address: "\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02\u5927\u534E\u533A \u660E\u79BB\u8DEF\u79D1\u6280\u56ED880\u53F71\u680B2\u697C203\u5BA4"
          }
        ],
        page: 1,
        count: 10,
        isOver: false,
        isEmpty: false,
        projects_id: 0,
        requestUrl: "api/Device/getDeviceList"
      };
    },
    created() {
    },
    methods: {
      chooseAddress(data) {
        this.address = data;
      },
      async getEventList() {
        const res = await this.$myRequest({
          url: "api/Device/getEventList",
          method: "POST"
        });
        if (res.code == 1) {
          this.tabBars = res.data;
          this.projects_id = this.tabBars[0].id;
          this.getList();
        }
      },
      async getList(key = "", callBack) {
        const res = await this.$myRequest({
          url: this.requestUrl,
          method: "POST",
          data: {
            page: this.page,
            limit: this.count,
            area: this.address,
            key,
            projects_id: this.projects_id
          }
        });
        formatAppLog("log", "at pages/deviceList/deviceList.vue:342", "\u83B7\u53D6\u5217\u8868\u6570\u636E", res);
        if (this.page == 1) {
          uni.stopPullDownRefresh();
          this.list = res.data.data.data;
        } else {
          this.list = [...this.list, ...res.data.data.data];
        }
        formatAppLog("log", "at pages/deviceList/deviceList.vue:351", this.list);
        this.onlineNum = this.list.filter((item) => {
          return item.state_text == "\u5728\u7EBF";
        });
        callBack && callBack();
        if (this.list.length == 0) {
          this.isEmpty = true;
        } else
          this.isEmpty = false;
        if (res.data.total == this.list.length) {
          this.isOver = true;
        } else
          this.isOver = false;
      },
      toggleTab(item, index) {
        this.tabIndex = index;
        this.projects_id = item.id;
        this.getList();
      },
      tabChange(e2) {
        formatAppLog("log", "at pages/deviceList/deviceList.vue:374", e2);
        this.tabIndex = e2.detail.current;
      },
      toGo(url) {
        uni.navigateTo({
          url
        });
      },
      search: function(event) {
        formatAppLog("log", "at pages/deviceList/deviceList.vue:384", "\u70B9\u51FB\u641C\u7D22", event.detail.value);
        this.getList(event.detail.value);
      },
      addDevice() {
        uni.navigateTo({
          url: "/pages/scanQrCode/scanQrCode"
        });
      },
      openPopup() {
        this.$refs.popup.open("right");
      }
    },
    props: {
      keyword: {
        type: String,
        default: "\u8BBE\u5907\u5217\u8868"
      }
    }
  };
  function _sfc_render$u(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_myPicker = vue.resolveComponent("myPicker");
    const _component_deviceListView = resolveEasycom(vue.resolveDynamicComponent("deviceListView"), __easycom_0$8);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_1$1);
    return vue.openBlock(), vue.createElementBlock(vue.Fragment, null, [
      vue.createElementVNode("view", { class: "bg" }, [
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("image", {
            style: { "width": "32rpx", "height": "32rpx", "padding-left": "32rpx", "padding-right": "10rpx" },
            src: "/static/ic_address.png"
          }, null, 8, ["src"]),
          vue.createCommentVNode(` <text style="font-size: 28rpx;font-weight: 400;color: #333333;"\r
				@click="toGo('/pages/selectAddress/selectAddress')">{{address}}</text> `),
          vue.createVNode(_component_myPicker, {
            type: "1",
            onChooseAddress: $options.chooseAddress,
            isEdit: _ctx.isEdit,
            isSaveData: "1",
            region: _ctx.region
          }, null, 8, ["onChooseAddress", "isEdit", "region"]),
          vue.createElementVNode("image", {
            style: { "width": "14rpx", "height": "14rpx", "padding-left": "16rpx", "padding-right": "32rpx" },
            onClick: _cache[0] || (_cache[0] = ($event) => $options.toGo("/pages/selectAddress/selectAddress")),
            src: "/static/ic_down.png"
          }, null, 8, ["src"]),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "auto", "height": "76rpx", "font-size": "28rpx", "color": "#333333", "margin-right": "32rpx", "background": "#FFFFFF", "border-radius": "38rpx", "padding": "0 34rpx" },
            "placeholder-style": "color:#999999",
            "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.searchKeyword = $event),
            "confirm-type": "search",
            onConfirm: _cache[2] || (_cache[2] = (...args) => $options.search && $options.search(...args)),
            placeholder: "\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u67E5\u8BE2"
          }, null, 544), [
            [vue.vModelText, $data.searchKeyword]
          ])
        ]),
        vue.createCommentVNode(" \u4E2D\u95F4\u5E03\u5C40 "),
        vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "32rpx 32rpx 28rpx 32rpx", "padding-bottom": "22rpx" } }, [
          vue.createCommentVNode(" \u6A2A\u5411tab "),
          vue.createElementVNode("view", {
            class: "horizonal-tab",
            style: { "margin-bottom": "20rpx" }
          }, [
            vue.createElementVNode("scroll-view", {
              "scroll-x": "true",
              "scroll-with-animation": "",
              class: "scroll-tab"
            }, [
              (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.tabBars, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: index,
                  class: vue.normalizeClass(["scroll-tab-item", { "active": $data.tabIndex == index }]),
                  onClick: ($event) => $options.toggleTab(item, index)
                }, [
                  vue.createTextVNode(vue.toDisplayString(item.name) + " ", 1),
                  vue.createElementVNode("view", { style: { "display": "flex", "justify-content": "center", "margin-top": "4rpx", "background-color": "#38CBD5", "border-radius": "4rpx" } }, [
                    vue.createCommentVNode(' <view style="background-color: #38CBD5;width: 40rpx;height: 8rpx; border-radius: 4rpx;">\r\n			\r\n								</view> '),
                    vue.createElementVNode("view", { class: "scroll-tab-line" })
                  ])
                ], 10, ["onClick"]);
              }), 128))
            ])
          ]),
          vue.createCommentVNode(" \u8BBE\u5907\u6570 "),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column", "padding-left": "32rpx" } }, [
              vue.createElementVNode("view", { class: "h-layout" }, [
                vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u8BBE\u5907\u6570"),
                vue.createElementVNode("text", { style: { "flex": "1", "font-size": "32rpx", "font-weight": "bold", "color": "#333333", "margin-left": "10rpx" } }, vue.toDisplayString($data.list.length), 1)
              ]),
              $data.isShowAddDevice ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "h-layout",
                style: { "margin-top": "10rpx" }
              }, [
                vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u5728\u7EBF\xA0\xA0" + vue.toDisplayString($data.onlineNum.length) + "\xA0\xA0\xA0\xA0\xA0\xA0\u79BB\u7EBF\xA0\xA0" + vue.toDisplayString($data.list.length - $data.onlineNum.length), 1)
              ])) : vue.createCommentVNode("v-if", true)
            ]),
            $data.isShowAddDevice ? (vue.openBlock(), vue.createElementBlock("image", {
              key: 0,
              style: { "width": "44rpx", "height": "44rpx", "padding-left": "8rpx", "padding-right": "8rpx" },
              src: "/static/ic_add_blue.png"
            }, null, 8, ["src"])) : vue.createCommentVNode("v-if", true),
            $data.isShowAddDevice ? (vue.openBlock(), vue.createElementBlock("text", {
              key: 1,
              style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "padding-right": "32rpx" },
              onClick: _cache[3] || (_cache[3] = ($event) => $options.addDevice())
            }, "\u65B0\u589E\u8BBE\u5907")) : vue.createCommentVNode("v-if", true)
          ]),
          vue.createCommentVNode(" \u641C\u7D22 "),
          $data.isShowAddDevice ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "h-layout",
            style: { "margin-top": "32rpx" }
          }, [
            vue.withDirectives(vue.createElementVNode("input", {
              style: { "flex": "1", "height": "76rpx", "font-size": "24rpx", "color": "#333333", "margin-left": "24rpx", "background": "#F3F4F6", "border-radius": "38rpx", "padding": "0 34rpx" },
              "placeholder-style": "color:#999999",
              "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $data.snKeyword = $event),
              "confirm-type": "search",
              onConfirm: _cache[5] || (_cache[5] = (...args) => $options.search && $options.search(...args)),
              placeholder: "\u8BF7\u8F93\u5165SN\u53F7\u67E5\u8BE2"
            }, null, 544), [
              [vue.vModelText, $data.snKeyword]
            ]),
            vue.createElementVNode("image", {
              style: { "width": "32rpx", "height": "32rpx", "padding-left": "32rpx", "padding-right": "32rpx" },
              src: "/static/ic_screen.png",
              onClick: _cache[6] || (_cache[6] = (...args) => $options.openPopup && $options.openPopup(...args))
            }, null, 8, ["src"])
          ])) : vue.createCommentVNode("v-if", true)
        ]),
        vue.createCommentVNode(' <uv-line-progress activeColor="#38CBD5" inactiveColor="#EBF9FA"\r\n			:percentage="30" height="8"></uv-line-progress> '),
        vue.createCommentVNode(" \u5217\u8868  overflow: auto\uFF1B\u56FA\u5B9A\u9876\u90E8\u4E0D\u52A8"),
        vue.createElementVNode("view", { style: { "flex": "1", "overflow": "auto" } }, [
          vue.createVNode(_component_deviceListView, { list: $data.list }, null, 8, ["list"])
        ])
      ]),
      vue.createCommentVNode(" \u7B5B\u9009\u53F3\u4FA7\u5F39\u7A97 "),
      vue.createVNode(_component_uni_popup, {
        ref: "popup",
        type: "right"
      }, {
        default: vue.withCtx(() => [
          vue.createElementVNode("view", { style: { "width": "556rpx", "height": "100%", "background-color": "white", "display": "flex", "flex-direction": "column", "padding": "40rpx" } }, [
            vue.createElementVNode("view", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, " \u8BBE\u5907\u7B5B\u9009 "),
            vue.createElementVNode("scroll-view", {
              "scroll-y": "true",
              style: { "flex": "1", "overflow": "auto", "display": "flex", "flex-direction": "column" }
            }, [
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u641C\u7D22\u5395\u6240 "),
                vue.createElementVNode("input", {
                  style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 24rpx", "margin-top": "24rpx", "font-size": "24rpx", "font-weight": "400", "color": "#CCCCCC" },
                  placeholder: "\u8F93\u5165\u8981\u67E5\u627E\u7684\u5395\u6240\u7F16\u53F7"
                })
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u8BBE\u5907\u7C7B\u578B "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u641C\u7D22\u8BBE\u5907 "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u641C\u7D22\u9879\u76EE "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u641C\u7D22\u697C\u5EA7 "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u9009\u62E9\u697C\u5C42 "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u9009\u62E9\u5395\u6240 "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "margin-bottom": "32rpx", "margin-top": "32rpx", "display": "flex", "flex-direction": "row", "justify-content": "flex-end" } }, [
                vue.createElementVNode("view", { style: { "padding": "16rpx 72rpx", "background": "#38CBD5", "border-radius": "36rpx", "font-size": "28rpx", "font-weight": "500", "color": "#FFFFFF", "text-align": "center", "justify-content": "center" } }, " \u786E\u5B9A ")
              ])
            ])
          ])
        ]),
        _: 1
      }, 512)
    ], 64);
  }
  var PagesDeviceListDeviceList = /* @__PURE__ */ _export_sfc(_sfc_main$v, [["render", _sfc_render$u], ["__file", "F:/work/ChuangDian/pages/deviceList/deviceList.vue"]]);
  const _sfc_main$u = {
    name: "propertyListView",
    props: ["list"],
    data() {
      return {};
    }
  };
  function _sfc_render$t(_ctx, _cache, $props, $setup, $data, $options) {
    return $props.list && $props.list.length > 0 ? (vue.openBlock(), vue.createElementBlock("div", { key: 0 }, [
      (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($props.list, (item) => {
        return vue.openBlock(), vue.createElementBlock("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, vue.toDisplayString(item.name), 1),
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u8BBE\u5907\u6570"),
          vue.createElementVNode("text", { style: { "font-size": "32rpx", "font-weight": "bold", "color": "#333333", "margin-left": "26rpx" } }, vue.toDisplayString(item.count), 1)
        ]);
      }), 256))
    ])) : (vue.openBlock(), vue.createElementBlock("div", {
      key: 1,
      style: { "color": "#ccc", "background": "#f3f5f7", "text-align": "center" }
    }, " \u6682\u65E0\u6570\u636E "));
  }
  var __easycom_0$7 = /* @__PURE__ */ _export_sfc(_sfc_main$u, [["render", _sfc_render$t], ["__scopeId", "data-v-2c4e6c04"], ["__file", "F:/work/ChuangDian/components/propertyListView/propertyListView.vue"]]);
  const _sfc_main$t = {
    components: {
      myPicker
    },
    onLoad() {
      this.getEventList();
      if (uni.getStorageSync("addressDefault")) {
        this.address = uni.getStorageSync("addressDefault").name;
      }
    },
    onShow() {
      let that = this;
      uni.$once("address", function(data) {
        formatAppLog("log", "at pages/propertyList/propertyList.vue:64", "\u76D1\u542C\u5230\u4E8B\u4EF6\u6765\u81EA\u8FD4\u56DE\u7684\u53C2\u6570\uFF1A" + data.name);
        that.address = data.name;
      });
    },
    data() {
      return {
        address: "\u7701\u5E02",
        tabIndex: 0,
        tabBars: [
          {
            name: "\u9879\u76EEA",
            id: "guanzhu"
          },
          {
            name: "\u9879\u76EEB",
            id: "tuijian"
          },
          {
            name: "\u9879\u76EEC",
            id: "redian"
          },
          {
            name: "\u9879\u76EED",
            id: "tiyu"
          },
          {
            name: "\u9879\u76EEE",
            id: "caijing"
          },
          {
            name: "\u9879\u76EEF",
            id: "yule"
          }
        ],
        list: [
          {
            title: "\u5929\u6CB3\u7269\u4E1A",
            num: 170
          },
          {
            title: "\u5357\u5C71\u7269\u4E1A",
            num: 180
          },
          {
            title: "\u5B9D\u5B89\u7269\u4E1A",
            num: 160
          },
          {
            title: "\u957F\u57CE\u7269\u4E1A",
            num: 190
          },
          {
            title: "\u5929\u6CB3\u7269\u4E1A",
            num: 170
          }
        ],
        projects_id: 0,
        page: 1,
        count: 10
      };
    },
    methods: {
      chooseAddress(data) {
        this.region = data;
      },
      async getEventList() {
        const res = await this.$myRequest({
          url: "api/Device/getEventList",
          method: "POST"
        });
        if (res.code == 1) {
          this.tabBars = res.data;
          this.projects_id = this.tabBars[0].id;
          this.getList();
        }
      },
      async getList() {
        const res = await this.$myRequest({
          url: "api/Device/getPropertyList",
          method: "POST",
          data: {
            projects_id: this.projects_id,
            page: this.page,
            limit: this.count
          }
        });
        formatAppLog("log", "at pages/propertyList/propertyList.vue:151", "\u83B7\u53D6\u7269\u4E1A\u5217\u8868", res);
        if (res.code == 1) {
          this.list = res.data.data.data;
        }
      },
      toggleTab(item, index) {
        this.tabIndex = index;
        this.projects_id = item.id;
        this.getList();
      },
      tabChange(e2) {
        formatAppLog("log", "at pages/propertyList/propertyList.vue:164", e2);
        this.tabIndex = e2.detail.current;
      },
      toGo(url) {
        uni.navigateTo({
          url
        });
      }
    }
  };
  function _sfc_render$s(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_myPicker = vue.resolveComponent("myPicker");
    const _component_propertyListView = resolveEasycom(vue.resolveDynamicComponent("propertyListView"), __easycom_0$7);
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", { class: "h-layout" }, [
        vue.createElementVNode("image", {
          style: { "width": "32rpx", "height": "32rpx", "padding-left": "32rpx", "padding-right": "10rpx" },
          src: "/static/ic_address.png"
        }, null, 8, ["src"]),
        vue.createCommentVNode(` <text style="font-size: 28rpx;font-weight: 400;color: #333333;" @click="toGo('/pages/selectAddress/selectAddress')">{{address}}</text> `),
        vue.createVNode(_component_myPicker, {
          type: "1",
          onChooseAddress: $options.chooseAddress,
          isEdit: _ctx.isEdit,
          isSaveData: "1",
          region: _ctx.region
        }, null, 8, ["onChooseAddress", "isEdit", "region"]),
        vue.createElementVNode("image", {
          style: { "width": "14rpx", "height": "14rpx", "padding-left": "16rpx", "padding-right": "32rpx" },
          onClick: _cache[0] || (_cache[0] = ($event) => $options.toGo("/pages/selectAddress/selectAddress")),
          src: "/static/ic_down.png"
        }, null, 8, ["src"]),
        vue.withDirectives(vue.createElementVNode("input", {
          style: { "flex": "auto", "height": "76rpx", "font-size": "28rpx", "color": "#333333", "margin-right": "32rpx", "background": "#FFFFFF", "border-radius": "38rpx", "padding": "0 34rpx" },
          "placeholder-style": "color:#999999",
          "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => _ctx.keyword = $event),
          placeholder: "\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u67E5\u8BE2"
        }, null, 512), [
          [vue.vModelText, _ctx.keyword]
        ])
      ]),
      vue.createCommentVNode(" \u4E2D\u95F4\u5E03\u5C40 "),
      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "32rpx 32rpx 28rpx 32rpx" } }, [
        vue.createCommentVNode(" \u6A2A\u5411tab "),
        vue.createElementVNode("view", {
          class: "horizonal-tab",
          style: { "margin-bottom": "4rpx" }
        }, [
          vue.createElementVNode("scroll-view", {
            "scroll-x": "true",
            "scroll-with-animation": "",
            class: "scroll-tab"
          }, [
            (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.tabBars, (item, index) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                key: index,
                class: vue.normalizeClass(["scroll-tab-item", { "active": $data.tabIndex == index }]),
                onClick: ($event) => $options.toggleTab(item, index)
              }, [
                vue.createTextVNode(vue.toDisplayString(item.name) + " ", 1),
                vue.createElementVNode("view", { style: { "display": "flex", "justify-content": "center", "margin-top": "4rpx", "background-color": "#38CBD5", "border-radius": "4rpx" } }, [
                  vue.createCommentVNode(' <view style="background-color: #38CBD5;width: 40rpx;height: 8rpx; border-radius: 4rpx;">\r\n			\r\n								</view> '),
                  vue.createElementVNode("view", { class: "scroll-tab-line" })
                ])
              ], 10, ["onClick"]);
            }), 128))
          ])
        ])
      ]),
      vue.createCommentVNode(" \u5217\u8868 "),
      vue.createElementVNode("view", { style: { "overflow": "auto", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx 32rpx 32rpx" } }, [
        vue.createVNode(_component_propertyListView, { list: $data.list }, null, 8, ["list"])
      ])
    ]);
  }
  var PagesPropertyListPropertyList = /* @__PURE__ */ _export_sfc(_sfc_main$t, [["render", _sfc_render$s], ["__file", "F:/work/ChuangDian/pages/propertyList/propertyList.vue"]]);
  const _sfc_main$s = {
    onLoad(options) {
      formatAppLog("log", "at pages/deviceOperate/deviceOperate.vue:74", "\u8FDB\u5165\u4E86\u8BBE\u5907\u64CD\u4F5C\u9875\u9762", options);
      this.options = options;
    },
    onShow() {
      formatAppLog("log", "at pages/deviceOperate/deviceOperate.vue:78", "\u8FDB\u6765\u4E86\u4E2D\u4E13\u4E1A");
      this.getHdStatus(this.options.device_number);
    },
    data() {
      return {
        options: {},
        id: "",
        deviceName: "\u9999\u6C1B",
        deviceId: "XX2031",
        address: "\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02\u5927\u534E\u533A\u660E\u79BB\u8DEF\u79D1\u6280\u56ED880\u53F71\u680B2\u697C203\u5BA4",
        process: 75
      };
    },
    methods: {
      async getHdStatus(nodeid) {
        const res = await this.$myRequest({
          url: "api/mqtt/getHdStatus",
          method: "POST",
          data: {
            nodeid
          }
        });
        if (res.code == 1) {
          this.options.device_number = res.data.nodeid;
          this.options.remain = res.data.remain;
          this.options.batlevel = res.data.batlevel;
        }
        formatAppLog("log", "at pages/deviceOperate/deviceOperate.vue:107", "\u8BBE\u5907\u8BE6\u60C5\u4E2D\u8F6C\u9875", res);
      },
      toDetail() {
        uni.navigateTo({
          url: "/pages/deviceDetail/deviceDetail?id=" + this.options.id
        });
      }
    }
  };
  function _sfc_render$r(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_font = vue.resolveComponent("font");
    const _component_huihui_progress = resolveEasycom(vue.resolveDynamicComponent("huihui-progress"), __easycom_0$9);
    return vue.openBlock(), vue.createElementBlock("scroll-view", {
      "scroll-y": "true",
      class: "bg"
    }, [
      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column" } }, [
        vue.createCommentVNode(" \u4E0A\u90E8\u5206 "),
        vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background-color": "#FFFFFF", "padding": "0 78rpx" } }, [
          vue.createCommentVNode(" \u7D2F\u8BA1 "),
          vue.createElementVNode("view", {
            class: "h-layout",
            style: { "background-color": "#F7FAFF", "padding": "36rpx 28rpx" }
          }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, [
              vue.createTextVNode(" \u7D2F\u8BA1\u7528\u7EB8\xA0 "),
              vue.createVNode(_component_font, { style: { "color": "#333333", "font-size": "28rpx", "font-weight": "500" } }, {
                default: vue.withCtx(() => [
                  vue.createTextVNode("234\u5377")
                ]),
                _: 1
              })
            ]),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, [
              vue.createTextVNode(" \u7D2F\u8BA1\u8FD0\u884C\xA0 "),
              vue.createVNode(_component_font, { style: { "color": "#333333", "font-size": "28rpx", "font-weight": "500" } }, {
                default: vue.withCtx(() => [
                  vue.createTextVNode("234\u6B21")
                ]),
                _: 1
              })
            ])
          ]),
          vue.createCommentVNode(" \u5706\u73AF\u8FDB\u5EA6 "),
          vue.createElementVNode("view", { style: { "background-color": "#F3F4F6", "padding": "24rpx", "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center" } }, [
            vue.createElementVNode("view", {
              class: "h-layout",
              style: { "width": "100%" }
            }, [
              vue.createElementVNode("view", { style: { "flex": "1", "text-align": "center", "margin-left": "48rpx" } }, vue.toDisplayString($data.options.batlevel) + "%", 1),
              vue.createElementVNode("image", {
                class: vue.normalizeClass({ opacity: $data.options.state_text !== "\u5728\u7EBF" }),
                style: { "width": "48rpx", "height": "48rpx" },
                src: "/static/ic_circle_check.png"
              }, null, 10, ["src"])
            ]),
            vue.createElementVNode("image", {
              style: { "width": "38rpx", "height": "38rpx", "margin-top": "10rpx", "margin-bottom": "48rpx" },
              src: "/static/ic_battery.png"
            }, null, 8, ["src"]),
            vue.createVNode(_component_huihui_progress, {
              originalColor: "#FFFFFF",
              processColor: $data.options.remain <= 40 ? "#FE5100" : $data.options.remain > 40 && $data.options.remain <= 70 ? "#f8e197" : "#38CBD5",
              innerbgColor: "#F3F4F6",
              process: $data.options.remain,
              startPosDegree: 0,
              radius: 174,
              barWidth: 40
            }, {
              default: vue.withCtx(() => [
                vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center" } }, [
                  vue.createElementVNode("view", { style: { "align-items": "baseline" } }, [
                    vue.createElementVNode("text", { style: { "font-size": "60rpx", "font-weight": "400", "color": "#333333" } }, vue.toDisplayString($data.options.remain) + "%", 1),
                    vue.createCommentVNode(' <text style="font-size: 28rpx;font-weight: 500;color: #666666;">%</text> ')
                  ])
                ])
              ]),
              _: 1
            }, 8, ["processColor", "process"]),
            vue.createElementVNode("view", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#999999", "margin-top": "20rpx", "margin-bottom": "32rpx" } }, " \u5269\u4F59\u7EB8\u91CF"),
            vue.createElementVNode("view", { style: { "width": "100%" } }, [
              vue.createElementVNode("view", { style: { "background-color": "#FFFFFF", "border-radius": "16rpx", "padding": "42rpx", "font-weight": "500", "color": "#333333", "font-size": "28rpx", "text-align": "center" } }, [
                vue.createCommentVNode(" SN123456&nbsp;&nbsp;|&nbsp;&nbsp;BH123456 "),
                vue.createTextVNode(vue.toDisplayString($data.options.device_number), 1)
              ])
            ])
          ]),
          vue.createElementVNode("view", {
            onClick: _cache[0] || (_cache[0] = ($event) => $options.toDetail()),
            style: { "text-align": "center", "padding": "48rpx" }
          }, "\u8BE6\u60C5>")
        ]),
        vue.createElementVNode("view", { style: { "flex": "1" } }),
        vue.createCommentVNode(" \u4E0B\u90E8\u5206 "),
        vue.createElementVNode("view", {
          class: "h-layout",
          style: { "justify-content": "center", "margin": "70rpx 0" }
        }, [
          vue.createElementVNode("view", { style: { "width": "244rpx", "height": "244rpx", "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center", "background": "#FFFFFF", "border-radius": "122rpx", "margin-right": "50rpx" } }, [
            vue.createElementVNode("image", {
              style: { "width": "64rpx", "height": "64rpx" },
              src: "/static/ic_open_lock.png"
            }, null, 8, ["src"]),
            vue.createElementVNode("view", { style: { "font-size": "36rpx", "font-weight": "500", "color": "#333333", "margin-top": "10rpx" } }, "\u5F00\u9501")
          ]),
          vue.createElementVNode("view", { style: { "width": "244rpx", "height": "244rpx", "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center", "background": "#FFFFFF", "border-radius": "122rpx", "margin-left": "50rpx" } }, [
            vue.createElementVNode("image", {
              style: { "width": "64rpx", "height": "64rpx" },
              src: "/static/ic_clock_in.png"
            }, null, 8, ["src"]),
            vue.createElementVNode("view", { style: { "font-size": "36rpx", "font-weight": "500", "color": "#333333", "margin-top": "10rpx" } }, "\u6253\u5361")
          ])
        ])
      ])
    ]);
  }
  var PagesDeviceOperateDeviceOperate = /* @__PURE__ */ _export_sfc(_sfc_main$s, [["render", _sfc_render$r], ["__file", "F:/work/ChuangDian/pages/deviceOperate/deviceOperate.vue"]]);
  const _sfc_main$r = {
    onLoad(options) {
      let _this = this;
      _this.device_id = options.id;
      _this.getDeviceValue(_this.device_id);
    },
    onShow() {
      let _this = this;
      if (this.timer) {
        clearInterval(this.timer);
        this.timer = null;
      }
      _this.timer = setInterval(() => {
        _this.getDeviceValue(_this.device_id);
      }, 5e3);
    },
    onHide() {
      formatAppLog("log", "at pages/deviceDetail/deviceDetail.vue:115", "\u63A8\u51FA\u4E86\u9875\u9762");
    },
    data() {
      return {
        timer: null,
        device_id: "",
        deviceName: "\u9999\u6C1B",
        deviceId: "XX2031",
        address: "\u5E7F\u4E1C\u7701\u5E7F\u5DDE\u5E02\u5927\u534E\u533A\u660E\u79BB\u8DEF\u79D1\u6280\u56ED880\u53F71\u680B2\u697C203\u5BA4",
        process: 75,
        detail: {}
      };
    },
    onBackPress() {
      if (this.timer) {
        clearInterval(this.timer);
        this.timer = null;
      }
    },
    methods: {
      async getDeviceValue(device_id) {
        const res = await this.$myRequest({
          url: "api/Device/getDeviceValue",
          method: "POST",
          data: {
            device_id
          }
        });
        this.detail = res.data;
        formatAppLog("log", "at pages/deviceDetail/deviceDetail.vue:147", "\u8BBE\u5907\u8BE6\u60C5", res);
      }
    }
  };
  function _sfc_render$q(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_huihui_progress = resolveEasycom(vue.resolveDynamicComponent("huihui-progress"), __easycom_0$9);
    return vue.openBlock(), vue.createElementBlock("scroll-view", {
      "scroll-y": "true",
      class: "bg"
    }, [
      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column" } }, [
        vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx 32rpx 32rpx" } }, [
          vue.createCommentVNode(" \u8BBE\u5907\u540D\u79F0 "),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333", "padding": "32rpx" } }, "\u8BBE\u5907\u540D\u79F0"),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "padding": "32rpx" } }, vue.toDisplayString($data.detail.device_name), 1)
          ]),
          vue.createElementVNode("view", { class: "line" }),
          vue.createCommentVNode(" \u8BBE\u5907ID "),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333", "padding": "32rpx" } }, "\u8BBE\u5907ID"),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "padding": "32rpx" } }, vue.toDisplayString($data.detail.device_number), 1)
          ]),
          vue.createElementVNode("view", { class: "line" }),
          vue.createCommentVNode(" \u6295\u653E\u5730\u5740 "),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "padding": "32rpx" } }, "\u6295\u653E\u5730\u5740"),
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333", "padding": "32rpx", "text-align": "right" } }, vue.toDisplayString($data.detail.drop_address), 1)
          ]),
          vue.createElementVNode("view", { class: "line" }),
          vue.createCommentVNode(" \u8017\u6750\u72B6\u6001 "),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#333333", "padding": "32rpx" } }, "\u8017\u6750\u72B6\u6001"),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#3390FA", "padding": "32rpx" } }, vue.toDisplayString($data.detail.state_text), 1)
          ])
        ]),
        vue.createCommentVNode(" \u8017\u6750\u8BB0\u5F55 "),
        vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx 32rpx 32rpx" } }, [
          vue.createElementVNode("view", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "padding": "32rpx" } }, "\u8017\u6750\u8BB0\u5F55"),
          vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row" } }, [
            vue.createCommentVNode(" \u5269\u4F59\u7535\u91CF "),
            vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center" } }, [
              vue.createVNode(_component_huihui_progress, {
                originalColor: "#F2F2F2",
                processColor: $data.detail.batlevel <= 40 ? "#FE5100" : $data.detail.batlevel > 40 && $data.detail.batlevel <= 70 ? "#f8e197" : "#38CBD5",
                innerbgColor: "#FFFFFF",
                process: $data.detail.batlevel,
                startPosDegree: 0,
                radius: 114,
                barWidth: 15
              }, {
                default: vue.withCtx(() => [
                  vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center" } }, [
                    vue.createElementVNode("view", { style: { "align-items": "baseline" } }, [
                      vue.createElementVNode("text", { style: { "font-size": "60rpx", "font-weight": "500", "color": "#666666" } }, vue.toDisplayString($data.detail.batlevel), 1),
                      vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#666666" } }, "%")
                    ]),
                    vue.createElementVNode("image", {
                      style: { "width": "38rpx", "height": "38rpx" },
                      src: "/static/ic_battery.png"
                    }, null, 8, ["src"])
                  ])
                ]),
                _: 1
              }, 8, ["processColor", "process"]),
              vue.createElementVNode("view", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "margin-top": "20rpx" } }, "\u5269\u4F59\u7535\u91CF")
            ]),
            vue.createCommentVNode(" \u5269\u4F59\u8017\u6750 "),
            vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center", "margin": "48rpx 0" } }, [
              vue.createVNode(_component_huihui_progress, {
                originalColor: "#F2F2F2",
                processColor: $data.detail.remain <= 40 ? "#FE5100" : $data.detail.remain > 40 && $data.detail.remain <= 70 ? "#f8e197" : "#38CBD5",
                innerbgColor: "#FFFFFF",
                process: $data.detail.remain,
                startPosDegree: 0,
                radius: 114,
                barWidth: 15
              }, {
                default: vue.withCtx(() => [
                  vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center" } }, [
                    vue.createElementVNode("view", { style: { "align-items": "baseline" } }, [
                      vue.createElementVNode("text", { style: { "font-size": "60rpx", "font-weight": "500", "color": "#666666" } }, vue.toDisplayString($data.detail.remain), 1),
                      vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#666666" } }, "%")
                    ]),
                    vue.createElementVNode("image", {
                      style: { "width": "38rpx", "height": "38rpx" },
                      src: "/static/ic_consumables.png"
                    }, null, 8, ["src"])
                  ])
                ]),
                _: 1
              }, 8, ["processColor", "process"]),
              vue.createElementVNode("view", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "margin-top": "20rpx" } }, "\u5269\u4F59\u8017\u6750")
            ])
          ]),
          vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "margin": "120rpx 36rpx 48rpx 36rpx" } }, [
            vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center", "background-color": "#EBF9FA", "border-radius": "16rpx", "padding": "24rpx 0", "margin-right": "16rpx" } }, [
              vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "500", "color": "#333333" } }, "\u51FA\u6DB2\u6B21\u6570"),
              vue.createElementVNode("text", { style: { "font-size": "36rpx", "font-weight": "500", "color": "#666666", "margin-top": "12rpx" } }, "200")
            ]),
            vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center", "background-color": "#EBF9FA", "border-radius": "16rpx", "padding": "24rpx 0", "margin-left": "16rpx" } }, [
              vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "justify-content": "center", "align-items": "center" } }, [
                vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "500", "color": "#333333" } }, "\u51FA\u6DB2\u6863\u4F4D"),
                vue.createElementVNode("image", {
                  style: { "width": "14rpx", "height": "14rpx", "margin-left": "16rpx" },
                  src: "/static/ic_down.png"
                }, null, 8, ["src"])
              ]),
              vue.createElementVNode("text", { style: { "font-size": "36rpx", "font-weight": "500", "color": "#666666", "margin-top": "12rpx" } }, "1")
            ])
          ]),
          vue.createElementVNode("view", { style: { "height": "2rpx", "background-color": "#979797", "opacity": "0.1" } }),
          vue.createElementVNode("view", {
            class: "h-layout",
            style: { "height": "114rpx" }
          }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "500", "color": "#333333", "text-align": "center" } }, "\u590D\u4F4D \u2192"),
            vue.createElementVNode("view", { style: { "height": "114rpx", "width": "2rpx", "background-color": "#979797", "opacity": "0.1" } }),
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "500", "color": "#333333", "text-align": "center" } }, "\u62A5\u4FEE \u2192")
          ])
        ])
      ])
    ]);
  }
  var PagesDeviceDetailDeviceDetail = /* @__PURE__ */ _export_sfc(_sfc_main$r, [["render", _sfc_render$q], ["__file", "F:/work/ChuangDian/pages/deviceDetail/deviceDetail.vue"]]);
  const _sfc_main$q = {
    data() {
      return {
        list: [],
        page: 1,
        hasMoreData: true
      };
    },
    onLoad() {
      this.getAgentList();
    },
    onReachBottom() {
      formatAppLog("log", "at pages/shareDevice/shareDevice.vue:32", "\u6ED1\u5012\u5E95\u90E8");
    },
    methods: {
      shareDevice(item) {
        formatAppLog("log", "at pages/shareDevice/shareDevice.vue:37", item);
        uni.navigateTo({
          url: "/pages/shareDeviceList/shareDeviceList?id=" + item.id + "&admin_id=" + item.admin_id
        });
      },
      toDetail() {
      },
      deviceList() {
        uni.navigateTo({
          url: "/pages/deviceList/deviceList?title=\u8BBE\u5907\u5217\u8868"
        });
      },
      async getAgentList(order_id) {
        let _this = this;
        const res = await this.$myRequest({
          url: "api/Share/agentList",
          method: "POST",
          data: {
            page: _this.page
          }
        });
        if (res.code == 1) {
          if (res.data.data && res.data.data.length > 0) {
            this.hasMoreData = true;
            this.list = [...this.list, ...res.data.data];
          } else {
            this.hasMoreData = false;
          }
        } else {
          uni.showToast({
            title: res.msg,
            icon: "error"
          });
        }
        formatAppLog("log", "at pages/shareDevice/shareDevice.vue:73", "\u8BA2\u5355\u8BE6\u60C5", res);
      },
      async loadNextPage() {
        if (this.hasMoreData) {
          this.page++;
          await this.getAgentList();
        }
      }
    }
  };
  function _sfc_render$p(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("scroll-view", {
        style: { "height": "100vh" },
        "scroll-y": "true",
        onScrolltolower: _cache[1] || (_cache[1] = (...args) => $options.loadNextPage && $options.loadNextPage(...args))
      }, [
        (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.list, (item) => {
          return vue.openBlock(), vue.createElementBlock("view", {
            style: { "display": "flex", "flex-direction": "column" },
            onClick: ($event) => $options.toDetail(item.id)
          }, [
            vue.createElementVNode("view", { class: "h-layout" }, [
              vue.createElementVNode("image", {
                style: { "width": "84rpx", "height": "84rpx" },
                src: item.avatar || "/static/ic_head.png"
              }, null, 8, ["src"]),
              vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "500", "color": "#333333", "margin-left": "28rpx" } }, vue.toDisplayString(item.nickname), 1),
              vue.createElementVNode("text", {
                style: { "font-size": "28rpx", "font-weight": "500", "color": "#38CBD5", "margin-right": "8rpx", "background": "#FFFFFF", "border-radius": "16rpx", "border": "2rpx solid #38CBD5", "text-align": "center", "padding": "8rpx 24rpx" },
                onClick: vue.withModifiers(($event) => $options.shareDevice(item), ["stop"])
              }, "\u5206\u914D\u8BBE\u5907", 8, ["onClick"]),
              vue.createElementVNode("text", {
                style: { "font-size": "28rpx", "font-weight": "500", "color": "#FFFFFF", "margin-left": "8rpx", "background": "#38CBD5", "border-radius": "16rpx", "text-align": "center", "padding": "8rpx 24rpx" },
                onClick: _cache[0] || (_cache[0] = ($event) => $options.deviceList(_ctx.e))
              }, "\u8BBE\u5907\u5217\u8868")
            ])
          ], 8, ["onClick"]);
        }), 256))
      ], 32)
    ]);
  }
  var PagesShareDeviceShareDevice = /* @__PURE__ */ _export_sfc(_sfc_main$q, [["render", _sfc_render$p], ["__file", "F:/work/ChuangDian/pages/shareDevice/shareDevice.vue"]]);
  const _sfc_main$p = {
    name: "addressListView",
    props: ["list"],
    data() {
      return {
        selectedIndex: 0
      };
    },
    onReachBottom() {
      formatAppLog("log", "at components/addressListView/addressListView.vue:45", "\u6EDA\u52A8\u5230\u4E86\u5E95\u90E8");
    },
    methods: {
      chooseAddress(item) {
        uni.$emit("chooseAddress", item);
      },
      selectAddress(item, index) {
        formatAppLog("log", "at components/addressListView/addressListView.vue:52", item.isdefault);
        if (item.isdefault == "1")
          return;
        this.setDefault(item, index);
      },
      async setDefault(item, index) {
        let data = {
          address_id: item.address_id
        };
        const res = await this.$myRequest({
          url: "api/address/setDefault",
          method: "POST",
          data
        });
        if (res.code == 1) {
          this.list.forEach((address2) => {
            address2.isdefault = "0";
          });
          this.list[index].isdefault = "1";
          this.selectedIndex = index;
          this.$emit("update:selected", this.list[index]);
          uni.showToast({
            title: "\u9ED8\u8BA4\u5730\u5740\u8BBE\u7F6E\u6210\u529F",
            icon: "none"
          });
        }
        formatAppLog("log", "at components/addressListView/addressListView.vue:81", "\u53CD\u9988", res);
      },
      del(item, index) {
        formatAppLog("log", "at components/addressListView/addressListView.vue:84", item);
        uni.showModal({
          title: "\u786E\u8BA4\u5220\u9664",
          content: "\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u4E2A\u5730\u5740\u5417\uFF1F",
          success: (res) => {
            if (res.confirm) {
              formatAppLog("log", "at components/addressListView/addressListView.vue:90", "\u7528\u6237\u70B9\u51FB\u786E\u5B9A");
              this.deleteAddress(item.address_id);
              this.$emit("delAddress");
            } else if (res.cancel) {
              formatAppLog("log", "at components/addressListView/addressListView.vue:95", "\u7528\u6237\u70B9\u51FB\u53D6\u6D88");
            }
          }
        });
      },
      async deleteAddress(address_id) {
        const res = await this.$myRequest({
          url: "api/address/del",
          method: "POST",
          data: { address_id }
        });
        if (res.code == 1) {
          uni.showToast({
            title: "\u5220\u9664\u6210\u529F"
          });
          this.list = this.list.filter((item) => item.address_id !== address_id);
          this.$emit("delete:address", address_id);
        } else {
          uni.showToast({
            title: "\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5",
            icon: "none"
          });
        }
      },
      toDetail(item, type = "") {
        formatAppLog("log", "at components/addressListView/addressListView.vue:128", item, type);
        let query = `?name=${encodeURIComponent(item.name)}&phone=${encodeURIComponent(item.phone)}&region=${encodeURIComponent(item.Area.province + "," + item.Area.city + "," + item.Area.region)}&detail=${encodeURIComponent(item.detail)}&isdefault=${item.isdefault}&address_id=${item.address_id}`;
        if (type == "edit") {
          query += "&isEdit=1";
        }
        formatAppLog("log", "at components/addressListView/addressListView.vue:133", query);
        uni.navigateTo({
          url: "/pages/addAddress/addAddress" + query
        });
      }
    }
  };
  function _sfc_render$o(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($props.list, (item, index) => {
      return vue.openBlock(), vue.createElementBlock("view", {
        style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx 20rpx 32rpx", "padding": "32rpx" },
        onClick: ($event) => $options.chooseAddress(item)
      }, [
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "\u6536\u8D27\u4EBA\uFF1A" + vue.toDisplayString(item.name), 1),
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, vue.toDisplayString(item.phone), 1)
        ]),
        vue.createElementVNode("view", {
          class: "h-layout",
          style: { "margin-top": "10rpx" }
        }, [
          vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, vue.toDisplayString(item.Area.province || "") + " " + vue.toDisplayString(item.Area.city || "") + " " + vue.toDisplayString(item.Area.region || "") + " " + vue.toDisplayString(item.detail || ""), 1)
        ]),
        vue.createElementVNode("view", { style: { "height": "2rpx", "background": "#979797", "opacity": "0.1", "margin": "28rpx 0" } }),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("view", {
            style: { "height": "100%" },
            onClick: vue.withModifiers(($event) => $options.selectAddress(item, index), ["stop"])
          }, [
            vue.createElementVNode("image", {
              style: { "width": "26rpx", "height": "26rpx" },
              src: item.isdefault == "1" ? "/static/ic_circle_check.png" : "/static/ic_check_black.png"
            }, null, 8, ["src"]),
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "500", "color": "#38CBD5", "margin-left": "16rpx" } }, "\u9ED8\u8BA4\u5730\u5740")
          ], 8, ["onClick"]),
          vue.createElementVNode("view", null, [
            vue.createElementVNode("image", {
              style: { "width": "26rpx", "height": "28rpx" },
              src: "/static/ic_edit.png"
            }, null, 8, ["src"]),
            vue.createElementVNode("text", {
              style: { "font-size": "24rpx", "font-weight": "500", "color": "#333333", "margin-left": "4rpx" },
              onClick: vue.withModifiers(($event) => $options.toDetail(item, "edit"), ["stop"])
            }, "\u7F16\u8F91", 8, ["onClick"]),
            vue.createElementVNode("image", {
              style: { "width": "24rpx", "height": "28rpx", "margin-left": "54rpx" },
              src: "/static/ic_delete.png"
            }, null, 8, ["src"]),
            vue.createElementVNode("text", {
              style: { "font-size": "24rpx", "font-weight": "500", "color": "#333333", "margin-left": "4rpx" },
              onClick: vue.withModifiers(($event) => $options.del(item, index), ["stop"])
            }, "\u5220\u9664", 8, ["onClick"])
          ])
        ])
      ], 8, ["onClick"]);
    }), 256);
  }
  var __easycom_0$6 = /* @__PURE__ */ _export_sfc(_sfc_main$p, [["render", _sfc_render$o], ["__scopeId", "data-v-ed7fee18"], ["__file", "F:/work/ChuangDian/components/addressListView/addressListView.vue"]]);
  const _sfc_main$o = {
    data() {
      return {
        list: [],
        currentPage: 1,
        pageSize: 10,
        hasMore: true,
        selectAddress: null
      };
    },
    onLoad(options) {
      if (options.selectAddress) {
        formatAppLog("log", "at pages/addressManage/addressManage.vue:25", "\u4ECE\u5546\u54C1\u786E\u8BA4\u9875\u8FDB\u5165\u4E86\u7B5B\u9009\u5730\u5740\u9875\u9762", options);
        this.selectAddress = options.selectAddress;
      }
      this.loadMoreData();
    },
    onUnload() {
      uni.$off("refreshPage");
      uni.$off("chooseAddress");
    },
    onHide() {
      uni.$off("refreshPage");
      uni.$off("chooseAddress");
    },
    onShow() {
      let _this = this;
      uni.$on("refreshPage", (data) => {
        formatAppLog("log", "at pages/addressManage/addressManage.vue:45", "\u76D1\u542C\u81EA\u5B9A\u4E49\u7684\u4E8B\u4EF6", data);
        if (data.needRefresh) {
          this.loadMoreData();
        }
        if (data.selectAddress) {
          _this.selectAddress = data.selectAddress;
        }
      });
      uni.$on("chooseAddress", (data) => {
        formatAppLog("log", "at pages/addressManage/addressManage.vue:54", "\u9009\u62E9\u4E86\u5730\u5740", data);
        if (_this.selectAddress) {
          uni.navigateBack({
            delta: 1,
            success: function() {
              uni.$emit("updateAddress", data);
            }
          });
        }
      });
    },
    methods: {
      delAddress() {
        this.loadMoreData();
      },
      async loadMoreData() {
        formatAppLog("log", "at pages/addressManage/addressManage.vue:71", "\u89E6\u53D1\u4E86\u52A0\u8F7D");
        if (!this.hasMore)
          return;
        const res = await this.$myRequest({
          url: "api/address/lists",
          method: "POST"
        });
        if (res.code == 1 && res.data.length) {
          this.list = res.data;
        } else {
          this.hasMore = false;
        }
      },
      addAddress() {
        let url = "/pages/addAddress/addAddress";
        if (this.selectAddress) {
          url = "/pages/addAddress/addAddress?selectAddress=" + this.selectAddress;
        }
        uni.navigateTo({
          url
        });
      }
    }
  };
  function _sfc_render$n(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_addressListView = resolveEasycom(vue.resolveDynamicComponent("addressListView"), __easycom_0$6);
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", { style: { "flex": "1", "overflow": "auto" } }, [
        $data.list && $data.list.length > 0 ? (vue.openBlock(), vue.createBlock(_component_addressListView, {
          key: 0,
          selectAddress: $data.selectAddress,
          list: $data.list,
          onDelAddress: $options.delAddress
        }, null, 8, ["selectAddress", "list", "onDelAddress"])) : (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "empty-data"
        }, [
          vue.createElementVNode("text", { class: "empty-text" }, "\u6682\u65E0\u6536\u8D27\u5730\u5740")
        ]))
      ]),
      vue.createCommentVNode(" \u6309\u94AE "),
      vue.createElementVNode("button", {
        class: "btn",
        onClick: _cache[0] || (_cache[0] = ($event) => $options.addAddress())
      }, "\u65B0\u589E\u6536\u8D27\u5730\u5740")
    ]);
  }
  var PagesAddressManageAddressManage = /* @__PURE__ */ _export_sfc(_sfc_main$o, [["render", _sfc_render$n], ["__file", "F:/work/ChuangDian/pages/addressManage/addressManage.vue"]]);
  const _sfc_main$n = {
    data() {
      return {
        name: "",
        phone: "",
        region: "",
        detail: "",
        isDefault: "0",
        isEdit: "0",
        selectAddress: null,
        address_id: "0"
      };
    },
    onLoad(options) {
      formatAppLog("log", "at pages/addAddress/addAddress.vue:74", options, this.isEdit);
      if (options.isEdit == "1") {
        formatAppLog("log", "at pages/addAddress/addAddress.vue:76", "\u6B64\u5904\u662F\u7F16\u8F91");
        uni.setNavigationBarTitle({
          title: "\u7F16\u8F91\u5730\u5740"
        });
        this.isEdit = options.isEdit;
        this.address_id = options.address_id;
        this.name = decodeURIComponent(options.name);
        this.phone = options.phone;
        this.isDefault = options.isdefault;
        formatAppLog("log", "at pages/addAddress/addAddress.vue:85", "isDefault", this.isDefault, options.isdefault);
        this.region = options.region;
        this.detail = decodeURIComponent(options.detail);
        formatAppLog("log", "at pages/addAddress/addAddress.vue:89", decodeURIComponent(this.region));
      }
      if (options.selectAddress) {
        formatAppLog("log", "at pages/addAddress/addAddress.vue:92", "\u4ECE\u5546\u54C1\u786E\u8BA4\u9875\u8FDB\u5165\u4E86\u7B5B\u9009\u5730\u5740\u9875\u9762", options);
        this.selectAddress = options.selectAddress;
      }
    },
    components: {
      myPicker
    },
    created() {
    },
    methods: {
      chooseAddress(data) {
        this.region = data;
      },
      toggleDefault() {
        this.isDefault = !this.isDefault;
        formatAppLog("log", "at pages/addAddress/addAddress.vue:109", this.isDefault);
      },
      save() {
        if (!this.name.trim()) {
          uni.showToast({
            title: "\u8BF7\u8F93\u5165\u6536\u8D27\u4EBA\u59D3\u540D",
            icon: "none"
          });
          return;
        }
        if (!this.phone.trim()) {
          uni.showToast({
            title: "\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",
            icon: "none"
          });
          return;
        }
        if (!this.region.trim()) {
          uni.showToast({
            title: "\u8BF7\u9009\u62E9\u7701\u5E02\u533A",
            icon: "none"
          });
          return;
        }
        if (!this.detail.trim()) {
          uni.showToast({
            title: "\u8BF7\u8F93\u5165\u8BE6\u7EC6\u5730\u5740",
            icon: "none"
          });
          return;
        }
        const phonePattern = /^1[3-9]\d{9}$/;
        if (!phonePattern.test(this.phone)) {
          uni.showToast({
            title: "\u624B\u673A\u53F7\u7801\u683C\u5F0F\u4E0D\u6B63\u786E",
            icon: "none"
          });
          return;
        }
        this.submitFeedback();
      },
      async submitFeedback() {
        let _this = this;
        let data = {
          name: this.name,
          phone: this.phone,
          region: this.region,
          detail: this.detail,
          isdefault: this.isDefault ? "1" : "0"
        };
        if (this.isEdit == "1") {
          data.address_id = this.address_id;
        }
        const res = await this.$myRequest({
          url: this.isEdit == "1" ? "api/address/edit" : "api/address/add",
          method: "POST",
          data
        });
        if (res.code == 1) {
          uni.showToast({
            title: this.isEdit == 1 ? "\u7F16\u8F91\u6210\u529F" : "\u4FDD\u5B58\u6210\u529F"
          });
          setTimeout(() => {
            uni.navigateBack({
              delta: 1,
              success: function() {
                let data2 = {
                  needRefresh: true
                };
                if (_this.selectAddress) {
                  data2.selectAddress = _this.selectAddress;
                }
                uni.$emit("refreshPage", data2);
              }
            });
          }, 1500);
        } else {
          ni.showToast({
            title: res.msg
          });
        }
        formatAppLog("log", "at pages/addAddress/addAddress.vue:194", "\u53CD\u9988", res);
      }
    }
  };
  function _sfc_render$m(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_myPicker = vue.resolveComponent("myPicker");
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", { style: { "flex": "1", "overflow": "auto", "display": "flex", "flex-direction": "column" } }, [
        vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx 20rpx 32rpx" } }, [
          vue.createCommentVNode(" \u6536\u8D27\u4EBA\uFF1A "),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#666666", "width": "180rpx" } }, "\u6536\u8D27\u4EBA\uFF1A"),
            vue.withDirectives(vue.createElementVNode("input", {
              style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" },
              type: "text",
              "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.name = $event),
              disabled: false,
              trim: "all",
              inputBorder: false,
              placeholder: "\u8BF7\u8F93\u5165\u6536\u8D27\u4EBA"
            }, null, 512), [
              [vue.vModelText, $data.name]
            ])
          ]),
          vue.createElementVNode("view", { class: "line" }),
          vue.createCommentVNode(" \u624B\u673A\u53F7\uFF1A "),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#666666", "width": "180rpx" } }, "\u624B\u673A\u53F7\uFF1A"),
            vue.withDirectives(vue.createElementVNode("input", {
              style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" },
              type: "number",
              "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.phone = $event),
              disabled: false,
              trim: "all",
              maxlength: "11",
              inputBorder: false,
              placeholder: "\u8BF7\u8F93\u5165\u624B\u673A\u53F7"
            }, null, 512), [
              [vue.vModelText, $data.phone]
            ])
          ]),
          vue.createElementVNode("view", { class: "line" }),
          vue.createCommentVNode(" \u7701\u5E02\u533A\uFF1A "),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createCommentVNode(' <text style="font-size: 28rpx;font-weight: 400;color: #666666;width: 180rpx;">\u7701\u5E02\u533A\uFF1A</text> '),
            vue.createCommentVNode(' <input style="font-size: 28rpx;font-weight: 400;color: #333333;" type="text" v-model="region" '),
            vue.createCommentVNode(' :disabled="false" trim="all" :inputBorder="true" placeholder="\u8BF7\u9009\u62E9\u7701\u5E02\u533A" /> '),
            vue.createVNode(_component_myPicker, {
              type: "2",
              onChooseAddress: $options.chooseAddress,
              isEdit: $data.isEdit,
              region: $data.region
            }, null, 8, ["onChooseAddress", "isEdit", "region"])
          ]),
          vue.createElementVNode("view", { class: "line" }),
          vue.createCommentVNode(" \u8BE6\u7EC6\u5730\u5740\uFF1A "),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#666666", "width": "180rpx" } }, "\u8BE6\u7EC6\u5730\u5740\uFF1A"),
            vue.withDirectives(vue.createElementVNode("input", {
              style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" },
              type: "text",
              "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.detail = $event),
              disabled: false,
              trim: "all",
              inputBorder: false,
              placeholder: "\u8BF7\u8F93\u5165\u8BE6\u7EC6\u5730\u5740"
            }, null, 512), [
              [vue.vModelText, $data.detail]
            ])
          ]),
          vue.createElementVNode("view", { class: "line" })
        ]),
        vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx 20rpx 32rpx" } }, [
          vue.createCommentVNode(' <view class="h-layout">\r\n					<text style="flex: 1; font-size: 28rpx;font-weight: 400;color: #666666;">\u8BBE\u7F6E\u9ED8\u8BA4\u5730\u5740</text>\r\n					\r\n				</view> '),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#666666" } }, "\u8BBE\u7F6E\u9ED8\u8BA4\u5730\u5740"),
            vue.createCommentVNode(` <label class="checkbox-label">\r
				    <input type="checkbox" class="checkbox-input" :checked="isDefault === '1'" @change="toggleDefault"/>\r
				  </label> `),
            vue.createElementVNode("image", {
              class: "checkbox-image",
              onClick: _cache[3] || (_cache[3] = (...args) => $options.toggleDefault && $options.toggleDefault(...args)),
              src: $data.isDefault == "1" ? "/static/ic_circle_check.png" : "/static/ic_check_black.png"
            }, null, 8, ["src"])
          ])
        ])
      ]),
      vue.createCommentVNode(" \u6309\u94AE "),
      vue.createElementVNode("button", {
        class: "btn",
        onClick: _cache[4] || (_cache[4] = ($event) => $options.save())
      }, "\u4FDD\u5B58")
    ]);
  }
  var PagesAddAddressAddAddress = /* @__PURE__ */ _export_sfc(_sfc_main$n, [["render", _sfc_render$m], ["__file", "F:/work/ChuangDian/pages/addAddress/addAddress.vue"]]);
  const _sfc_main$m = {
    name: "couponListView",
    props: {
      type: {
        type: String,
        default: ""
      }
    },
    data() {
      return {
        hasMore: true,
        page: 1,
        list: []
      };
    },
    created() {
      formatAppLog("log", "at components/couponListView/couponListView.vue:51", "\u8FDB\u5165\u4E86\u4F18\u60E0\u5238\u5217\u8868\u7EC4\u4EF6");
      this.getCouponList();
    },
    methods: {
      onReachBottom() {
        formatAppLog("log", "at components/couponListView/couponListView.vue:56", "\u5212\u5230\u5E95\u4E86");
        if (this.type == "user" && this.hasMore) {
          this.getCouponList();
        }
      },
      async getCouponList() {
        let _this = this;
        let params = {};
        _this.type == "user" ? params.page = _this.page : "";
        const res = await this.$myRequest({
          url: _this.type == "user" ? "api/Coupon/getUserCouponList" : "api/Coupon/getCouponList",
          method: "POST",
          data: params
        });
        formatAppLog("log", "at components/couponListView/couponListView.vue:71", "\u83B7\u53D6" + (this.type == "user" ? "\u7528\u6237" : "\u9886\u53D6") + "\u4F18\u60E0\u5238\u5217\u8868", res);
        if (res.code == 1) {
          if (_this.type == "user") {
            if (res.data.data.length <= 0) {
              this.hasMore = false;
            }
            this.list = this.list.concat(res.data.data);
            this.page++;
          } else {
            this.list = res.data;
          }
        }
      },
      async claimCoupons(item) {
        let _this = this;
        formatAppLog("log", "at components/couponListView/couponListView.vue:89", "hehhehe", this.type);
        if (_this.type == "user") {
          formatAppLog("log", "at components/couponListView/couponListView.vue:91", "\u8FDB\u5165\u5230\u8DF3\u8F6C\u65B9\u6848\u4E86");
          uni.switchTab({
            url: "/pages/shop/shop"
          });
        } else {
          if (item.isGet && item.isGet == 1) {
            uni.showToast({
              title: "\u5DF2\u9886\u53D6",
              icon: "none"
            });
            return;
          }
          const res = await this.$myRequest({
            url: "api/Coupon/draw",
            method: "POST",
            data: {
              coupons_id: item.id
            }
          });
          formatAppLog("log", "at components/couponListView/couponListView.vue:110", "\u9886\u53D6\u4F18\u60E0\u5238", res);
          if (res.code == 1) {
            item.isGet = "1";
            uni.showToast({
              title: res.msg,
              icon: "success"
            });
          } else {
            uni.showToast({
              title: res.msg,
              icon: "none"
            });
          }
        }
      }
    }
  };
  function _sfc_render$l(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("scroll-view", {
      class: "coupon-scroll-view",
      "scroll-y": "true",
      onScrolltolower: _cache[0] || (_cache[0] = (...args) => $options.onReachBottom && $options.onReachBottom(...args))
    }, [
      (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.list, (item) => {
        return vue.openBlock(), vue.createElementBlock("view", { style: { "display": "flex", "flex-direction": "column" } }, [
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createCommentVNode(" \u91D1\u989D "),
            vue.createElementVNode("view", { style: { "display": "flex", "align-items": "baseline", "width": "140rpx", "justify-content": "center", "margin-right": "32rpx" } }, [
              vue.createElementVNode("text", { style: { "font-size": "32rpx", "font-weight": "bold", "color": "#F42B00" } }, "\xA5"),
              vue.createElementVNode("text", { style: { "font-size": "72rpx", "font-weight": "bold", "color": "#F42B00" } }, vue.toDisplayString(Math.floor($props.type == "user" ? item.coupons.coupons_money : item.coupons_money)), 1)
            ]),
            vue.createCommentVNode(" \u4E2D\u95F4\u90E8\u5206 "),
            vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column" } }, [
              vue.createElementVNode("view", { style: { "font-size": "32rpx", "font-weight": "600", "color": "#333333" } }, vue.toDisplayString($props.type == "user" ? item.coupons.coupons_name : item.coupons_name), 1),
              vue.createElementVNode("view", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#80848F", "margin-top": "16rpx" } }, " \u6709\u6548\u671F\u81F3 " + vue.toDisplayString($props.type == "user" ? item.coupons.end_time : item.end_time), 1),
              vue.createElementVNode("view", { style: { "font-size": "20rpx", "font-weight": "400", "color": "#999999", "margin-top": "32rpx" } }, " \u4F7F\u7528\u89C4\u5219 > ")
            ]),
            vue.createCommentVNode(" \u53BB\u4F7F\u7528 "),
            vue.createElementVNode("text", {
              onClick: vue.withModifiers(($event) => $options.claimCoupons(item), ["stop"]),
              class: vue.normalizeClass({ isGet: item.isGet == 1 }),
              style: { "font-size": "24rpx", "font-weight": "600", "color": "#FFFFFF", "background": "#38CBD5", "border-radius": "8rpx", "text-align": "center", "padding": "8rpx 18rpx" }
            }, vue.toDisplayString(item.isGet == "1" ? "\u5DF2\u9886\u53D6" : $props.type == "user" ? "\u53BB\u4F7F\u7528" : "\u53EF\u9886\u53D6"), 11, ["onClick"])
          ])
        ]);
      }), 256))
    ], 32);
  }
  var __easycom_0$5 = /* @__PURE__ */ _export_sfc(_sfc_main$m, [["render", _sfc_render$l], ["__scopeId", "data-v-15abbfb8"], ["__file", "F:/work/ChuangDian/components/couponListView/couponListView.vue"]]);
  const _sfc_main$l = {
    data() {
      return {
        type: ""
      };
    },
    onLoad(options) {
      formatAppLog("log", "at pages/couponList/couponList.vue:17", options);
      if (options.type) {
        this.type = options.type;
      }
    },
    methods: {}
  };
  function _sfc_render$k(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_couponListView = resolveEasycom(vue.resolveDynamicComponent("couponListView"), __easycom_0$5);
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", { style: { "overflow": "auto" } }, [
        vue.createVNode(_component_couponListView, { type: $data.type }, null, 8, ["type"])
      ])
    ]);
  }
  var PagesCouponListCouponList = /* @__PURE__ */ _export_sfc(_sfc_main$l, [["render", _sfc_render$k], ["__file", "F:/work/ChuangDian/pages/couponList/couponList.vue"]]);
  const _sfc_main$k = {
    name: "selectShareDeviceListView",
    props: ["list"],
    data() {
      return {};
    },
    methods: {
      selectItem(index) {
        if (this.list[index].isSelect == 1) {
          this.list[index].isSelect = 2;
        } else {
          this.list[index].isSelect = 1;
        }
      }
    }
  };
  function _sfc_render$j(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_huihui_progress = resolveEasycom(vue.resolveDynamicComponent("huihui-progress"), __easycom_0$9);
    const _component_font = vue.resolveComponent("font");
    return vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($props.list, (item, index) => {
      return vue.openBlock(), vue.createElementBlock("view", {
        style: { "display": "flex", "flex-direction": "column" },
        onClick: ($event) => $options.selectItem(index)
      }, [
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("image", {
            style: { "width": "32rpx", "height": "32rpx", "padding": "24rpx" },
            src: item.isSelect == 1 ? "/static/ic_circle_check.png" : "/static/ic_circle_uncheck.png"
          }, null, 8, ["src"]),
          vue.createCommentVNode(" \u5DE6\u8FB9\u5E03\u5C40 "),
          vue.createElementVNode("view", { style: { "width": "200rpx", "height": "232rpx", "background": "#F3F4F6", "border-radius": "16rpx", "display": "flex", "flex-direction": "column" } }, [
            vue.createCommentVNode(" \u5DE6\u4E0A\u89D2\u56FE\u7247 "),
            vue.createElementVNode("image", {
              style: { "width": "28rpx", "height": "28rpx", "background": "#FFFFFF", "border-radius": "16rpx 4rpx 4rpx 0rpx", "padding": "8rpx 12rpx" },
              src: "/static/ic_circle_check.png"
            }, null, 8, ["src"]),
            vue.createElementVNode("view", { style: { "width": "200rpx", "border-radius": "16rpx", "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center" } }, [
              vue.createCommentVNode(" \u5269\u4F59\u7535\u91CF "),
              vue.createVNode(_component_huihui_progress, {
                originalColor: "#FFFFFF",
                processColor: "#FE5100",
                innerbgColor: "#F3F4F6",
                process: 70,
                startPosDegree: 0,
                radius: 60,
                barWidth: 15
              }, {
                default: vue.withCtx(() => [
                  vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, "70%"),
                  vue.createCommentVNode(` <view style="display:flex; flex-direction: column;justify-content: center;align-items: center;">
							<view style="align-items:baseline">
								<text style="font-size: 60rpx;font-weight: 500;color: #666666;">{{process}}</text>
								
							</view>
							<image style="width: 38rpx;height: 38rpx;" :src="'/static/ic_battery.png'"></image>
						</view> `)
                ]),
                _: 1
              }),
              vue.createElementVNode("view", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#999999", "margin-top": "4rpx" } }, "\u5269\u4F59\u7535\u91CF")
            ])
          ]),
          vue.createElementVNode("view", { style: { "flex": "1", "height": "232rpx", "display": "flex", "flex-direction": "column", "margin-left": "30rpx" } }, [
            vue.createCommentVNode(" SN "),
            vue.createElementVNode("text", { style: { "font-size": "32rpx", "font-weight": "bold", "color": "#333333", "margin-top": "15rpx" } }, "SN123456\xA0\xA0|\xA0\xA0BH123456"),
            vue.createCommentVNode(" \u5730\u5740 "),
            vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "margin-top": "20rpx", "align-items": "flex-start" } }, [
              vue.createElementVNode("image", {
                style: { "width": "40rpx", "height": "28rpx", "margin-top": "6rpx" },
                src: "/static/ic_address.png"
              }, null, 8, ["src"]),
              vue.createCommentVNode(` <text :class="[item.online == 1?'txt-blue':'txt-yellow']">{{item.online == 1?'\u5728\u7EBF':'\u79BB\u7EBF'}}</text> `),
              vue.createElementVNode("text", { style: { "font-size": "24rpx", "color": "#666666", "font-weight": "400", "margin-left": "10rpx" } }, vue.toDisplayString(item.address), 1)
            ]),
            vue.createElementVNode("view", { style: { "flex": "1" } }),
            vue.createCommentVNode(" \u5269\u4F59 "),
            vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#999999", "background": "#F3F4F6", "border-radius": "16rpx", "padding": "12rpx 20rpx" } }, [
              vue.createTextVNode(" \u7EB8\u5269\u4F59\u7EA6"),
              vue.createVNode(_component_font, { style: { "color": "#38CBD5" } }, {
                default: vue.withCtx(() => [
                  vue.createTextVNode("234")
                ]),
                _: 1
              }),
              vue.createTextVNode("\u6B21\xA0|\xA0\u70B9\u5269\u4F59\u7EA6"),
              vue.createVNode(_component_font, { style: { "color": "#38CBD5" } }, {
                default: vue.withCtx(() => [
                  vue.createTextVNode("234 ")
                ]),
                _: 1
              }),
              vue.createTextVNode("\u5929 ")
            ]),
            vue.createCommentVNode(" \u8FDB\u5EA6\u6761 "),
            vue.createCommentVNode(' <view style="display: flex; flex-direction: row;align-items: baseline;margin-top: 10rpx;">\n					<ai-progress style="flex: 1;" :percentage="item.value" noData="true" bgColor="#38CBD5"\n						inBgColor="#EBF9FA"></ai-progress>\n			\n					<text\n						style="font-size: 24rpx;font-weight: 400;color: #666666;margin-left: 32rpx;">\u4F59{{item.value}}%</text>\n			\n				</view> ')
          ])
        ])
      ], 8, ["onClick"]);
    }), 256);
  }
  var __easycom_0$4 = /* @__PURE__ */ _export_sfc(_sfc_main$k, [["render", _sfc_render$j], ["__scopeId", "data-v-58cb4c3e"], ["__file", "F:/work/ChuangDian/components/selectShareDeviceListView/selectShareDeviceListView.vue"]]);
  const isObject$3 = (val) => val !== null && typeof val === "object";
  const defaultDelimiters = ["{", "}"];
  class BaseFormatter {
    constructor() {
      this._caches = /* @__PURE__ */ Object.create(null);
    }
    interpolate(message, values, delimiters = defaultDelimiters) {
      if (!values) {
        return [message];
      }
      let tokens = this._caches[message];
      if (!tokens) {
        tokens = parse$1(message, delimiters);
        this._caches[message] = tokens;
      }
      return compile(tokens, values);
    }
  }
  const RE_TOKEN_LIST_VALUE = /^(?:\d)+/;
  const RE_TOKEN_NAMED_VALUE = /^(?:\w)+/;
  function parse$1(format2, [startDelimiter, endDelimiter]) {
    const tokens = [];
    let position = 0;
    let text = "";
    while (position < format2.length) {
      let char = format2[position++];
      if (char === startDelimiter) {
        if (text) {
          tokens.push({ type: "text", value: text });
        }
        text = "";
        let sub2 = "";
        char = format2[position++];
        while (char !== void 0 && char !== endDelimiter) {
          sub2 += char;
          char = format2[position++];
        }
        const isClosed = char === endDelimiter;
        const type = RE_TOKEN_LIST_VALUE.test(sub2) ? "list" : isClosed && RE_TOKEN_NAMED_VALUE.test(sub2) ? "named" : "unknown";
        tokens.push({ value: sub2, type });
      } else {
        text += char;
      }
    }
    text && tokens.push({ type: "text", value: text });
    return tokens;
  }
  function compile(tokens, values) {
    const compiled = [];
    let index = 0;
    const mode = Array.isArray(values) ? "list" : isObject$3(values) ? "named" : "unknown";
    if (mode === "unknown") {
      return compiled;
    }
    while (index < tokens.length) {
      const token = tokens[index];
      switch (token.type) {
        case "text":
          compiled.push(token.value);
          break;
        case "list":
          compiled.push(values[parseInt(token.value, 10)]);
          break;
        case "named":
          if (mode === "named") {
            compiled.push(values[token.value]);
          } else {
            {
              console.warn(`Type of token '${token.type}' and format of value '${mode}' don't match!`);
            }
          }
          break;
        case "unknown":
          {
            console.warn(`Detect 'unknown' type of token!`);
          }
          break;
      }
      index++;
    }
    return compiled;
  }
  const LOCALE_ZH_HANS = "zh-Hans";
  const LOCALE_ZH_HANT = "zh-Hant";
  const LOCALE_EN$1 = "en";
  const LOCALE_FR = "fr";
  const LOCALE_ES = "es";
  const hasOwnProperty = Object.prototype.hasOwnProperty;
  const hasOwn$1 = (val, key) => hasOwnProperty.call(val, key);
  const defaultFormatter = new BaseFormatter();
  function include(str, parts) {
    return !!parts.find((part) => str.indexOf(part) !== -1);
  }
  function startsWith(str, parts) {
    return parts.find((part) => str.indexOf(part) === 0);
  }
  function normalizeLocale(locale, messages) {
    if (!locale) {
      return;
    }
    locale = locale.trim().replace(/_/g, "-");
    if (messages && messages[locale]) {
      return locale;
    }
    locale = locale.toLowerCase();
    if (locale === "chinese") {
      return LOCALE_ZH_HANS;
    }
    if (locale.indexOf("zh") === 0) {
      if (locale.indexOf("-hans") > -1) {
        return LOCALE_ZH_HANS;
      }
      if (locale.indexOf("-hant") > -1) {
        return LOCALE_ZH_HANT;
      }
      if (include(locale, ["-tw", "-hk", "-mo", "-cht"])) {
        return LOCALE_ZH_HANT;
      }
      return LOCALE_ZH_HANS;
    }
    const lang = startsWith(locale, [LOCALE_EN$1, LOCALE_FR, LOCALE_ES]);
    if (lang) {
      return lang;
    }
  }
  class I18n {
    constructor({ locale, fallbackLocale, messages, watcher, formater }) {
      this.locale = LOCALE_EN$1;
      this.fallbackLocale = LOCALE_EN$1;
      this.message = {};
      this.messages = {};
      this.watchers = [];
      if (fallbackLocale) {
        this.fallbackLocale = fallbackLocale;
      }
      this.formater = formater || defaultFormatter;
      this.messages = messages || {};
      this.setLocale(locale || LOCALE_EN$1);
      if (watcher) {
        this.watchLocale(watcher);
      }
    }
    setLocale(locale) {
      const oldLocale = this.locale;
      this.locale = normalizeLocale(locale, this.messages) || this.fallbackLocale;
      if (!this.messages[this.locale]) {
        this.messages[this.locale] = {};
      }
      this.message = this.messages[this.locale];
      if (oldLocale !== this.locale) {
        this.watchers.forEach((watcher) => {
          watcher(this.locale, oldLocale);
        });
      }
    }
    getLocale() {
      return this.locale;
    }
    watchLocale(fn2) {
      const index = this.watchers.push(fn2) - 1;
      return () => {
        this.watchers.splice(index, 1);
      };
    }
    add(locale, message, override = true) {
      const curMessages = this.messages[locale];
      if (curMessages) {
        if (override) {
          Object.assign(curMessages, message);
        } else {
          Object.keys(message).forEach((key) => {
            if (!hasOwn$1(curMessages, key)) {
              curMessages[key] = message[key];
            }
          });
        }
      } else {
        this.messages[locale] = message;
      }
    }
    f(message, values, delimiters) {
      return this.formater.interpolate(message, values, delimiters).join("");
    }
    t(key, locale, values) {
      let message = this.message;
      if (typeof locale === "string") {
        locale = normalizeLocale(locale, this.messages);
        locale && (message = this.messages[locale]);
      } else {
        values = locale;
      }
      if (!hasOwn$1(message, key)) {
        console.warn(`Cannot translate the value of keypath ${key}. Use the value of keypath as default.`);
        return key;
      }
      return this.formater.interpolate(message[key], values).join("");
    }
  }
  function watchAppLocale(appVm, i18n) {
    if (appVm.$watchLocale) {
      appVm.$watchLocale((newLocale) => {
        i18n.setLocale(newLocale);
      });
    } else {
      appVm.$watch(() => appVm.$locale, (newLocale) => {
        i18n.setLocale(newLocale);
      });
    }
  }
  function getDefaultLocale() {
    if (typeof uni !== "undefined" && uni.getLocale) {
      return uni.getLocale();
    }
    if (typeof global !== "undefined" && global.getLocale) {
      return global.getLocale();
    }
    return LOCALE_EN$1;
  }
  function initVueI18n(locale, messages = {}, fallbackLocale, watcher) {
    if (typeof locale !== "string") {
      [locale, messages] = [
        messages,
        locale
      ];
    }
    if (typeof locale !== "string") {
      locale = getDefaultLocale();
    }
    if (typeof fallbackLocale !== "string") {
      fallbackLocale = typeof __uniConfig !== "undefined" && __uniConfig.fallbackLocale || LOCALE_EN$1;
    }
    const i18n = new I18n({
      locale,
      fallbackLocale,
      messages,
      watcher
    });
    let t2 = (key, values) => {
      if (typeof getApp !== "function") {
        t2 = function(key2, values2) {
          return i18n.t(key2, values2);
        };
      } else {
        let isWatchedAppLocale = false;
        t2 = function(key2, values2) {
          const appVm = getApp().$vm;
          if (appVm) {
            appVm.$locale;
            if (!isWatchedAppLocale) {
              isWatchedAppLocale = true;
              watchAppLocale(appVm, i18n);
            }
          }
          return i18n.t(key2, values2);
        };
      }
      return t2(key, values);
    };
    return {
      i18n,
      f(message, values, delimiters) {
        return i18n.f(message, values, delimiters);
      },
      t(key, values) {
        return t2(key, values);
      },
      add(locale2, message, override = true) {
        return i18n.add(locale2, message, override);
      },
      watch(fn2) {
        return i18n.watchLocale(fn2);
      },
      getLocale() {
        return i18n.getLocale();
      },
      setLocale(newLocale) {
        return i18n.setLocale(newLocale);
      }
    };
  }
  const pages = [
    {
      path: "pages/index/index",
      style: {
        navigationStyle: "custom"
      }
    },
    {
      path: "pages/login/login",
      style: {
        navigationStyle: "custom",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/forgetPassword/forgetPassword",
      style: {
        navigationStyle: "custom",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/main/main",
      style: {
        navigationStyle: "custom",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/scene/scene",
      style: {
        navigationBarTitleText: "\u573A\u666F",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/shop/shop",
      style: {
        navigationBarTitleText: "\u5546\u57CE",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/mine/mine",
      style: {
        navigationStyle: "custom",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/information/information",
      style: {
        navigationBarTitleText: "\u4E2A\u4EBA\u4FE1\u606F",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/notice/notice",
      style: {
        navigationBarTitleText: "\u6D88\u606F",
        enablePullDownRefresh: true
      }
    },
    {
      path: "pages/noticeDetail/noticeDetail",
      style: {
        navigationBarTitleText: "\u6D88\u606F\u8BE6\u60C5",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/scanQrCode/scanQrCode",
      style: {
        navigationBarTitleText: "\u626B\u7801\u7ED1\u5B9A",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/scanQrCodeForGateway/scanQrCodeForGateway",
      style: {
        navigationBarTitleText: "\u626B\u7801\u7ED1\u5B9A",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/inputDevice/inputDevice",
      style: {
        navigationBarTitleText: "\u624B\u52A8\u586B\u5199",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/help/help",
      style: {
        navigationBarTitleText: "\u5E2E\u52A9\u53CD\u9988",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/question/question",
      style: {
        navigationBarTitleText: "\u5E38\u89C1\u95EE\u9898",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/messagePushSetup/messagePushSetup",
      style: {
        navigationBarTitleText: "\u6D88\u606F\u63A8\u9001\u8BBE\u7F6E",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/onlineFeedback/onlineFeedback",
      style: {
        navigationBarTitleText: "\u5728\u7EBF\u53CD\u9988",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/aboutUs/aboutUs",
      style: {
        navigationBarTitleText: "\u5173\u4E8E\u6211\u4EEC",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/deviceList/deviceList",
      style: {
        navigationBarTitleText: "\u8BBE\u5907\u5217\u8868",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/propertyList/propertyList",
      style: {
        navigationBarTitleText: "\u7269\u4E1A\u5217\u8868",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/deviceOperate/deviceOperate",
      style: {
        navigationBarTitleText: "\u8BBE\u5907\u64CD\u4F5C",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#FFFFFF"
      }
    },
    {
      path: "pages/deviceDetail/deviceDetail",
      style: {
        navigationBarTitleText: "\u8BBE\u5907\u8BE6\u60C5",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/shareDevice/shareDevice",
      style: {
        navigationBarTitleText: "\u5171\u4EAB\u8BBE\u5907",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/addressManage/addressManage",
      style: {
        navigationBarTitleText: "\u5730\u5740\u7BA1\u7406",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/addAddress/addAddress",
      style: {
        navigationBarTitleText: "\u65B0\u589E\u5730\u5740",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/couponList/couponList",
      style: {
        navigationBarTitleText: "\u4F18\u60E0\u5238\u5217\u8868",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/shareDeviceList/shareDeviceList",
      style: {
        navigationBarTitleText: "\u5206\u914D\u8BBE\u5907",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/goodsList/goodsList",
      style: {
        navigationBarTitleText: "\u5546\u54C1\u5217\u8868",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/goodsDetail/goodsDetail",
      style: {
        navigationBarTitleText: "\u5546\u54C1\u8BE6\u60C5",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/goodsConfirm/goodsConfirm",
      style: {
        navigationBarTitleText: "\u5546\u54C1\u786E\u8BA4",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/searchDevice/searchDevice",
      style: {
        navigationBarTitleText: "\u641C\u7D22\u8BBE\u5907",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/orderList/orderList",
      style: {
        navigationBarTitleText: "\u8BA2\u5355\u5217\u8868",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/orderDetail/orderDetail",
      style: {
        navigationBarTitleText: "\u8BA2\u5355\u8BE6\u60C5",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/selectAddress/selectAddress",
      style: {
        navigationBarTitleText: "\u9009\u62E9\u57CE\u5E02",
        enablePullDownRefresh: false
      }
    },
    {
      path: "pages/bindDevice/bindDevice",
      style: {
        navigationBarTitleText: "\u7ED1\u5B9A\u8BBE\u5907",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/consumableAnalysis/consumableAnalysis",
      style: {
        navigationBarTitleText: "\u8017\u6750\u5206\u6790",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/analysisDetail/analysisDetail",
      style: {
        navigationBarTitleText: "\u5206\u6790\u8BE6\u60C5",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/gateway/gateway",
      style: {
        navigationBarTitleText: "\u7F51\u5173\u5217\u8868",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/deviceListForGateway/deviceListForGateway",
      style: {
        navigationBarTitleText: "\u8BBE\u5907\u5217\u8868",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    },
    {
      path: "pages/addGateway/addGateway",
      style: {
        navigationBarTitleText: "\u6DFB\u52A0\u7F51\u5173",
        enablePullDownRefresh: false,
        navigationBarBackgroundColor: "#F3F4F6"
      }
    }
  ];
  const globalStyle = {
    navigationBarTextStyle: "black",
    navigationBarTitleText: "\u521B\u70B9",
    navigationBarBackgroundColor: "#FFFFFF",
    backgroundColor: "#FFFFFF",
    enablePullDownRefresh: true,
    onReachBottomDistance: 50,
    backgroundTextStyle: "light"
  };
  const tabBar = {
    color: "#999999",
    selectedColor: "#333333",
    borderStyle: "white",
    backgroundColor: "white",
    list: [
      {
        pagePath: "pages/main/main",
        iconPath: "static/tabs/tab1_uncheck.png",
        selectedIconPath: "static/tabs/tab1_check.png",
        text: "\u9996\u9875"
      },
      {
        pagePath: "pages/scene/scene",
        iconPath: "static/tabs/tab2_uncheck.png",
        selectedIconPath: "static/tabs/tab2_check.png",
        text: "\u573A\u666F"
      },
      {
        pagePath: "pages/shop/shop",
        iconPath: "static/tabs/tab3_uncheck.png",
        selectedIconPath: "static/tabs/tab3_check.png",
        text: "\u5546\u57CE"
      },
      {
        pagePath: "pages/mine/mine",
        iconPath: "static/tabs/tab4_uncheck.png",
        selectedIconPath: "static/tabs/tab4_check.png",
        text: "\u6211\u7684"
      }
    ]
  };
  var t = {
    pages,
    globalStyle,
    tabBar
  };
  function n(e2) {
    return e2 && e2.__esModule && Object.prototype.hasOwnProperty.call(e2, "default") ? e2.default : e2;
  }
  function s(e2, t2, n2) {
    return e2(n2 = { path: t2, exports: {}, require: function(e3, t3) {
      return function() {
        throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");
      }(t3 == null && n2.path);
    } }, n2.exports), n2.exports;
  }
  var o = s(function(e2, t2) {
    var n2;
    e2.exports = (n2 = n2 || function(e3, t3) {
      var n3 = Object.create || function() {
        function e4() {
        }
        return function(t4) {
          var n4;
          return e4.prototype = t4, n4 = new e4(), e4.prototype = null, n4;
        };
      }(), s2 = {}, o2 = s2.lib = {}, r2 = o2.Base = { extend: function(e4) {
        var t4 = n3(this);
        return e4 && t4.mixIn(e4), t4.hasOwnProperty("init") && this.init !== t4.init || (t4.init = function() {
          t4.$super.init.apply(this, arguments);
        }), t4.init.prototype = t4, t4.$super = this, t4;
      }, create: function() {
        var e4 = this.extend();
        return e4.init.apply(e4, arguments), e4;
      }, init: function() {
      }, mixIn: function(e4) {
        for (var t4 in e4)
          e4.hasOwnProperty(t4) && (this[t4] = e4[t4]);
        e4.hasOwnProperty("toString") && (this.toString = e4.toString);
      }, clone: function() {
        return this.init.prototype.extend(this);
      } }, i2 = o2.WordArray = r2.extend({ init: function(e4, n4) {
        e4 = this.words = e4 || [], this.sigBytes = n4 != t3 ? n4 : 4 * e4.length;
      }, toString: function(e4) {
        return (e4 || c2).stringify(this);
      }, concat: function(e4) {
        var t4 = this.words, n4 = e4.words, s3 = this.sigBytes, o3 = e4.sigBytes;
        if (this.clamp(), s3 % 4)
          for (var r3 = 0; r3 < o3; r3++) {
            var i3 = n4[r3 >>> 2] >>> 24 - r3 % 4 * 8 & 255;
            t4[s3 + r3 >>> 2] |= i3 << 24 - (s3 + r3) % 4 * 8;
          }
        else
          for (r3 = 0; r3 < o3; r3 += 4)
            t4[s3 + r3 >>> 2] = n4[r3 >>> 2];
        return this.sigBytes += o3, this;
      }, clamp: function() {
        var t4 = this.words, n4 = this.sigBytes;
        t4[n4 >>> 2] &= 4294967295 << 32 - n4 % 4 * 8, t4.length = e3.ceil(n4 / 4);
      }, clone: function() {
        var e4 = r2.clone.call(this);
        return e4.words = this.words.slice(0), e4;
      }, random: function(t4) {
        for (var n4, s3 = [], o3 = function(t5) {
          t5 = t5;
          var n5 = 987654321, s4 = 4294967295;
          return function() {
            var o4 = ((n5 = 36969 * (65535 & n5) + (n5 >> 16) & s4) << 16) + (t5 = 18e3 * (65535 & t5) + (t5 >> 16) & s4) & s4;
            return o4 /= 4294967296, (o4 += 0.5) * (e3.random() > 0.5 ? 1 : -1);
          };
        }, r3 = 0; r3 < t4; r3 += 4) {
          var a3 = o3(4294967296 * (n4 || e3.random()));
          n4 = 987654071 * a3(), s3.push(4294967296 * a3() | 0);
        }
        return new i2.init(s3, t4);
      } }), a2 = s2.enc = {}, c2 = a2.Hex = { stringify: function(e4) {
        for (var t4 = e4.words, n4 = e4.sigBytes, s3 = [], o3 = 0; o3 < n4; o3++) {
          var r3 = t4[o3 >>> 2] >>> 24 - o3 % 4 * 8 & 255;
          s3.push((r3 >>> 4).toString(16)), s3.push((15 & r3).toString(16));
        }
        return s3.join("");
      }, parse: function(e4) {
        for (var t4 = e4.length, n4 = [], s3 = 0; s3 < t4; s3 += 2)
          n4[s3 >>> 3] |= parseInt(e4.substr(s3, 2), 16) << 24 - s3 % 8 * 4;
        return new i2.init(n4, t4 / 2);
      } }, u2 = a2.Latin1 = { stringify: function(e4) {
        for (var t4 = e4.words, n4 = e4.sigBytes, s3 = [], o3 = 0; o3 < n4; o3++) {
          var r3 = t4[o3 >>> 2] >>> 24 - o3 % 4 * 8 & 255;
          s3.push(String.fromCharCode(r3));
        }
        return s3.join("");
      }, parse: function(e4) {
        for (var t4 = e4.length, n4 = [], s3 = 0; s3 < t4; s3++)
          n4[s3 >>> 2] |= (255 & e4.charCodeAt(s3)) << 24 - s3 % 4 * 8;
        return new i2.init(n4, t4);
      } }, l2 = a2.Utf8 = { stringify: function(e4) {
        try {
          return decodeURIComponent(escape(u2.stringify(e4)));
        } catch (e5) {
          throw new Error("Malformed UTF-8 data");
        }
      }, parse: function(e4) {
        return u2.parse(unescape(encodeURIComponent(e4)));
      } }, h2 = o2.BufferedBlockAlgorithm = r2.extend({ reset: function() {
        this._data = new i2.init(), this._nDataBytes = 0;
      }, _append: function(e4) {
        typeof e4 == "string" && (e4 = l2.parse(e4)), this._data.concat(e4), this._nDataBytes += e4.sigBytes;
      }, _process: function(t4) {
        var n4 = this._data, s3 = n4.words, o3 = n4.sigBytes, r3 = this.blockSize, a3 = o3 / (4 * r3), c3 = (a3 = t4 ? e3.ceil(a3) : e3.max((0 | a3) - this._minBufferSize, 0)) * r3, u3 = e3.min(4 * c3, o3);
        if (c3) {
          for (var l3 = 0; l3 < c3; l3 += r3)
            this._doProcessBlock(s3, l3);
          var h3 = s3.splice(0, c3);
          n4.sigBytes -= u3;
        }
        return new i2.init(h3, u3);
      }, clone: function() {
        var e4 = r2.clone.call(this);
        return e4._data = this._data.clone(), e4;
      }, _minBufferSize: 0 });
      o2.Hasher = h2.extend({ cfg: r2.extend(), init: function(e4) {
        this.cfg = this.cfg.extend(e4), this.reset();
      }, reset: function() {
        h2.reset.call(this), this._doReset();
      }, update: function(e4) {
        return this._append(e4), this._process(), this;
      }, finalize: function(e4) {
        return e4 && this._append(e4), this._doFinalize();
      }, blockSize: 16, _createHelper: function(e4) {
        return function(t4, n4) {
          return new e4.init(n4).finalize(t4);
        };
      }, _createHmacHelper: function(e4) {
        return function(t4, n4) {
          return new d2.HMAC.init(e4, n4).finalize(t4);
        };
      } });
      var d2 = s2.algo = {};
      return s2;
    }(Math), n2);
  }), r = (s(function(e2, t2) {
    var n2;
    e2.exports = (n2 = o, function(e3) {
      var t3 = n2, s2 = t3.lib, o2 = s2.WordArray, r2 = s2.Hasher, i2 = t3.algo, a2 = [];
      !function() {
        for (var t4 = 0; t4 < 64; t4++)
          a2[t4] = 4294967296 * e3.abs(e3.sin(t4 + 1)) | 0;
      }();
      var c2 = i2.MD5 = r2.extend({ _doReset: function() {
        this._hash = new o2.init([1732584193, 4023233417, 2562383102, 271733878]);
      }, _doProcessBlock: function(e4, t4) {
        for (var n3 = 0; n3 < 16; n3++) {
          var s3 = t4 + n3, o3 = e4[s3];
          e4[s3] = 16711935 & (o3 << 8 | o3 >>> 24) | 4278255360 & (o3 << 24 | o3 >>> 8);
        }
        var r3 = this._hash.words, i3 = e4[t4 + 0], c3 = e4[t4 + 1], f2 = e4[t4 + 2], g2 = e4[t4 + 3], p2 = e4[t4 + 4], m2 = e4[t4 + 5], y = e4[t4 + 6], _2 = e4[t4 + 7], w2 = e4[t4 + 8], k2 = e4[t4 + 9], v2 = e4[t4 + 10], T2 = e4[t4 + 11], S2 = e4[t4 + 12], P2 = e4[t4 + 13], A2 = e4[t4 + 14], I2 = e4[t4 + 15], b2 = r3[0], O2 = r3[1], C2 = r3[2], E2 = r3[3];
        b2 = u2(b2, O2, C2, E2, i3, 7, a2[0]), E2 = u2(E2, b2, O2, C2, c3, 12, a2[1]), C2 = u2(C2, E2, b2, O2, f2, 17, a2[2]), O2 = u2(O2, C2, E2, b2, g2, 22, a2[3]), b2 = u2(b2, O2, C2, E2, p2, 7, a2[4]), E2 = u2(E2, b2, O2, C2, m2, 12, a2[5]), C2 = u2(C2, E2, b2, O2, y, 17, a2[6]), O2 = u2(O2, C2, E2, b2, _2, 22, a2[7]), b2 = u2(b2, O2, C2, E2, w2, 7, a2[8]), E2 = u2(E2, b2, O2, C2, k2, 12, a2[9]), C2 = u2(C2, E2, b2, O2, v2, 17, a2[10]), O2 = u2(O2, C2, E2, b2, T2, 22, a2[11]), b2 = u2(b2, O2, C2, E2, S2, 7, a2[12]), E2 = u2(E2, b2, O2, C2, P2, 12, a2[13]), C2 = u2(C2, E2, b2, O2, A2, 17, a2[14]), b2 = l2(b2, O2 = u2(O2, C2, E2, b2, I2, 22, a2[15]), C2, E2, c3, 5, a2[16]), E2 = l2(E2, b2, O2, C2, y, 9, a2[17]), C2 = l2(C2, E2, b2, O2, T2, 14, a2[18]), O2 = l2(O2, C2, E2, b2, i3, 20, a2[19]), b2 = l2(b2, O2, C2, E2, m2, 5, a2[20]), E2 = l2(E2, b2, O2, C2, v2, 9, a2[21]), C2 = l2(C2, E2, b2, O2, I2, 14, a2[22]), O2 = l2(O2, C2, E2, b2, p2, 20, a2[23]), b2 = l2(b2, O2, C2, E2, k2, 5, a2[24]), E2 = l2(E2, b2, O2, C2, A2, 9, a2[25]), C2 = l2(C2, E2, b2, O2, g2, 14, a2[26]), O2 = l2(O2, C2, E2, b2, w2, 20, a2[27]), b2 = l2(b2, O2, C2, E2, P2, 5, a2[28]), E2 = l2(E2, b2, O2, C2, f2, 9, a2[29]), C2 = l2(C2, E2, b2, O2, _2, 14, a2[30]), b2 = h2(b2, O2 = l2(O2, C2, E2, b2, S2, 20, a2[31]), C2, E2, m2, 4, a2[32]), E2 = h2(E2, b2, O2, C2, w2, 11, a2[33]), C2 = h2(C2, E2, b2, O2, T2, 16, a2[34]), O2 = h2(O2, C2, E2, b2, A2, 23, a2[35]), b2 = h2(b2, O2, C2, E2, c3, 4, a2[36]), E2 = h2(E2, b2, O2, C2, p2, 11, a2[37]), C2 = h2(C2, E2, b2, O2, _2, 16, a2[38]), O2 = h2(O2, C2, E2, b2, v2, 23, a2[39]), b2 = h2(b2, O2, C2, E2, P2, 4, a2[40]), E2 = h2(E2, b2, O2, C2, i3, 11, a2[41]), C2 = h2(C2, E2, b2, O2, g2, 16, a2[42]), O2 = h2(O2, C2, E2, b2, y, 23, a2[43]), b2 = h2(b2, O2, C2, E2, k2, 4, a2[44]), E2 = h2(E2, b2, O2, C2, S2, 11, a2[45]), C2 = h2(C2, E2, b2, O2, I2, 16, a2[46]), b2 = d2(b2, O2 = h2(O2, C2, E2, b2, f2, 23, a2[47]), C2, E2, i3, 6, a2[48]), E2 = d2(E2, b2, O2, C2, _2, 10, a2[49]), C2 = d2(C2, E2, b2, O2, A2, 15, a2[50]), O2 = d2(O2, C2, E2, b2, m2, 21, a2[51]), b2 = d2(b2, O2, C2, E2, S2, 6, a2[52]), E2 = d2(E2, b2, O2, C2, g2, 10, a2[53]), C2 = d2(C2, E2, b2, O2, v2, 15, a2[54]), O2 = d2(O2, C2, E2, b2, c3, 21, a2[55]), b2 = d2(b2, O2, C2, E2, w2, 6, a2[56]), E2 = d2(E2, b2, O2, C2, I2, 10, a2[57]), C2 = d2(C2, E2, b2, O2, y, 15, a2[58]), O2 = d2(O2, C2, E2, b2, P2, 21, a2[59]), b2 = d2(b2, O2, C2, E2, p2, 6, a2[60]), E2 = d2(E2, b2, O2, C2, T2, 10, a2[61]), C2 = d2(C2, E2, b2, O2, f2, 15, a2[62]), O2 = d2(O2, C2, E2, b2, k2, 21, a2[63]), r3[0] = r3[0] + b2 | 0, r3[1] = r3[1] + O2 | 0, r3[2] = r3[2] + C2 | 0, r3[3] = r3[3] + E2 | 0;
      }, _doFinalize: function() {
        var t4 = this._data, n3 = t4.words, s3 = 8 * this._nDataBytes, o3 = 8 * t4.sigBytes;
        n3[o3 >>> 5] |= 128 << 24 - o3 % 32;
        var r3 = e3.floor(s3 / 4294967296), i3 = s3;
        n3[15 + (o3 + 64 >>> 9 << 4)] = 16711935 & (r3 << 8 | r3 >>> 24) | 4278255360 & (r3 << 24 | r3 >>> 8), n3[14 + (o3 + 64 >>> 9 << 4)] = 16711935 & (i3 << 8 | i3 >>> 24) | 4278255360 & (i3 << 24 | i3 >>> 8), t4.sigBytes = 4 * (n3.length + 1), this._process();
        for (var a3 = this._hash, c3 = a3.words, u3 = 0; u3 < 4; u3++) {
          var l3 = c3[u3];
          c3[u3] = 16711935 & (l3 << 8 | l3 >>> 24) | 4278255360 & (l3 << 24 | l3 >>> 8);
        }
        return a3;
      }, clone: function() {
        var e4 = r2.clone.call(this);
        return e4._hash = this._hash.clone(), e4;
      } });
      function u2(e4, t4, n3, s3, o3, r3, i3) {
        var a3 = e4 + (t4 & n3 | ~t4 & s3) + o3 + i3;
        return (a3 << r3 | a3 >>> 32 - r3) + t4;
      }
      function l2(e4, t4, n3, s3, o3, r3, i3) {
        var a3 = e4 + (t4 & s3 | n3 & ~s3) + o3 + i3;
        return (a3 << r3 | a3 >>> 32 - r3) + t4;
      }
      function h2(e4, t4, n3, s3, o3, r3, i3) {
        var a3 = e4 + (t4 ^ n3 ^ s3) + o3 + i3;
        return (a3 << r3 | a3 >>> 32 - r3) + t4;
      }
      function d2(e4, t4, n3, s3, o3, r3, i3) {
        var a3 = e4 + (n3 ^ (t4 | ~s3)) + o3 + i3;
        return (a3 << r3 | a3 >>> 32 - r3) + t4;
      }
      t3.MD5 = r2._createHelper(c2), t3.HmacMD5 = r2._createHmacHelper(c2);
    }(Math), n2.MD5);
  }), s(function(e2, t2) {
    var n2, s2, r2;
    e2.exports = (s2 = (n2 = o).lib.Base, r2 = n2.enc.Utf8, void (n2.algo.HMAC = s2.extend({ init: function(e3, t3) {
      e3 = this._hasher = new e3.init(), typeof t3 == "string" && (t3 = r2.parse(t3));
      var n3 = e3.blockSize, s3 = 4 * n3;
      t3.sigBytes > s3 && (t3 = e3.finalize(t3)), t3.clamp();
      for (var o2 = this._oKey = t3.clone(), i2 = this._iKey = t3.clone(), a2 = o2.words, c2 = i2.words, u2 = 0; u2 < n3; u2++)
        a2[u2] ^= 1549556828, c2[u2] ^= 909522486;
      o2.sigBytes = i2.sigBytes = s3, this.reset();
    }, reset: function() {
      var e3 = this._hasher;
      e3.reset(), e3.update(this._iKey);
    }, update: function(e3) {
      return this._hasher.update(e3), this;
    }, finalize: function(e3) {
      var t3 = this._hasher, n3 = t3.finalize(e3);
      return t3.reset(), t3.finalize(this._oKey.clone().concat(n3));
    } })));
  }), s(function(e2, t2) {
    e2.exports = o.HmacMD5;
  }));
  const i = "FUNCTION", a = "OBJECT", c = "CLIENT_DB";
  function u(e2) {
    return Object.prototype.toString.call(e2).slice(8, -1).toLowerCase();
  }
  function l(e2) {
    return u(e2) === "object";
  }
  function h(e2) {
    return e2 && typeof e2 == "string" ? JSON.parse(e2) : e2;
  }
  const d = true, f = "app";
  let g;
  switch (f) {
    case "h5":
      g = "web";
      break;
    case "app-plus":
      g = "app";
      break;
    default:
      g = f;
  }
  const p = h({}.UNICLOUD_DEBUG), m$1 = h("[]") || [];
  let _ = "";
  try {
    _ = "__UNI__0BE6315";
  } catch (e2) {
  }
  let w = {};
  function k(e2, t2 = {}) {
    var n2, s2;
    return n2 = w, s2 = e2, Object.prototype.hasOwnProperty.call(n2, s2) || (w[e2] = t2), w[e2];
  }
  g === "app" && (w = uni._globalUniCloudObj ? uni._globalUniCloudObj : uni._globalUniCloudObj = {});
  const v = ["invoke", "success", "fail", "complete"], T = k("_globalUniCloudInterceptor");
  function S(e2, t2) {
    T[e2] || (T[e2] = {}), l(t2) && Object.keys(t2).forEach((n2) => {
      v.indexOf(n2) > -1 && function(e3, t3, n3) {
        let s2 = T[e3][t3];
        s2 || (s2 = T[e3][t3] = []), s2.indexOf(n3) === -1 && typeof n3 == "function" && s2.push(n3);
      }(e2, n2, t2[n2]);
    });
  }
  function P(e2, t2) {
    T[e2] || (T[e2] = {}), l(t2) ? Object.keys(t2).forEach((n2) => {
      v.indexOf(n2) > -1 && function(e3, t3, n3) {
        const s2 = T[e3][t3];
        if (!s2)
          return;
        const o2 = s2.indexOf(n3);
        o2 > -1 && s2.splice(o2, 1);
      }(e2, n2, t2[n2]);
    }) : delete T[e2];
  }
  function A(e2, t2) {
    return e2 && e2.length !== 0 ? e2.reduce((e3, n2) => e3.then(() => n2(t2)), Promise.resolve()) : Promise.resolve();
  }
  function I(e2, t2) {
    return T[e2] && T[e2][t2] || [];
  }
  function b(e2) {
    S("callObject", e2);
  }
  const O = k("_globalUniCloudListener"), C = "response", E = "needLogin", R = "refreshToken", U = "clientdb", x = "cloudfunction", L = "cloudobject";
  function D(e2) {
    return O[e2] || (O[e2] = []), O[e2];
  }
  function N(e2, t2) {
    const n2 = D(e2);
    n2.includes(t2) || n2.push(t2);
  }
  function q(e2, t2) {
    const n2 = D(e2), s2 = n2.indexOf(t2);
    s2 !== -1 && n2.splice(s2, 1);
  }
  function F(e2, t2) {
    const n2 = D(e2);
    for (let e3 = 0; e3 < n2.length; e3++) {
      (0, n2[e3])(t2);
    }
  }
  let M = false;
  const j = new Promise((e2) => {
    M && e2(), function t2() {
      if (typeof getCurrentPages == "function") {
        const t3 = getCurrentPages();
        t3 && t3[0] && (M = true, e2());
      }
      M || setTimeout(() => {
        t2();
      }, 30);
    }();
  });
  function $() {
    return j;
  }
  function K(e2, t2) {
    return t2 ? function(n2) {
      let s2 = false;
      if (t2 === "callFunction") {
        const e3 = n2 && n2.type || i;
        s2 = e3 !== i;
      }
      const o2 = t2 === "callFunction" && !s2;
      let r2;
      r2 = this.isReady ? Promise.resolve() : this.initUniCloud, n2 = n2 || {};
      const a2 = r2.then(() => s2 ? Promise.resolve() : A(I(t2, "invoke"), n2)).then(() => e2.call(this, n2)).then((e3) => s2 ? Promise.resolve(e3) : A(I(t2, "success"), e3).then(() => A(I(t2, "complete"), e3)).then(() => (o2 && F(C, { type: x, content: e3 }), Promise.resolve(e3))), (e3) => s2 ? Promise.reject(e3) : A(I(t2, "fail"), e3).then(() => A(I(t2, "complete"), e3)).then(() => (F(C, { type: x, content: e3 }), Promise.reject(e3))));
      if (!(n2.success || n2.fail || n2.complete))
        return a2;
      a2.then((e3) => {
        n2.success && n2.success(e3), n2.complete && n2.complete(e3), o2 && F(C, { type: x, content: e3 });
      }, (e3) => {
        n2.fail && n2.fail(e3), n2.complete && n2.complete(e3), o2 && F(C, { type: x, content: e3 });
      });
    } : function(t3) {
      if (!((t3 = t3 || {}).success || t3.fail || t3.complete))
        return e2.call(this, t3);
      e2.call(this, t3).then((e3) => {
        t3.success && t3.success(e3), t3.complete && t3.complete(e3);
      }, (e3) => {
        t3.fail && t3.fail(e3), t3.complete && t3.complete(e3);
      });
    };
  }
  class B extends Error {
    constructor(e2) {
      super(e2.message), this.errMsg = e2.message || "", this.errCode = this.code = e2.code || "SYSTEM_ERROR", this.requestId = e2.requestId;
    }
  }
  function H() {
    let e2, t2;
    try {
      if (uni.getLaunchOptionsSync) {
        if (uni.getLaunchOptionsSync.toString().indexOf("not yet implemented") > -1)
          return;
        const { scene: n2, channel: s2 } = uni.getLaunchOptionsSync();
        e2 = s2, t2 = n2;
      }
    } catch (e3) {
    }
    return { channel: e2, scene: t2 };
  }
  let W;
  function z() {
    const e2 = uni.getLocale && uni.getLocale() || "en";
    if (W)
      return __spreadProps(__spreadValues({}, W), { locale: e2, LOCALE: e2 });
    const t2 = uni.getSystemInfoSync(), { deviceId: n2, osName: s2, uniPlatform: o2, appId: r2 } = t2, i2 = ["pixelRatio", "brand", "model", "system", "language", "version", "platform", "host", "SDKVersion", "swanNativeVersion", "app", "AppPlatform", "fontSizeSetting"];
    for (let e3 = 0; e3 < i2.length; e3++) {
      delete t2[i2[e3]];
    }
    return W = __spreadValues(__spreadValues({ PLATFORM: o2, OS: s2, APPID: r2, DEVICEID: n2 }, H()), t2), __spreadProps(__spreadValues({}, W), { locale: e2, LOCALE: e2 });
  }
  var J = { sign: function(e2, t2) {
    let n2 = "";
    return Object.keys(e2).sort().forEach(function(t3) {
      e2[t3] && (n2 = n2 + "&" + t3 + "=" + e2[t3]);
    }), n2 = n2.slice(1), r(n2, t2).toString();
  }, wrappedRequest: function(e2, t2) {
    return new Promise((n2, s2) => {
      t2(Object.assign(e2, { complete(e3) {
        e3 || (e3 = {}), g === "web" && e3.errMsg && e3.errMsg.indexOf("request:fail") === 0 && console.warn("\u53D1\u5E03H5\uFF0C\u9700\u8981\u5728uniCloud\u540E\u53F0\u64CD\u4F5C\uFF0C\u7ED1\u5B9A\u5B89\u5168\u57DF\u540D\uFF0C\u5426\u5219\u4F1A\u56E0\u4E3A\u8DE8\u57DF\u95EE\u9898\u800C\u65E0\u6CD5\u8BBF\u95EE\u3002\u6559\u7A0B\u53C2\u8003\uFF1Ahttps://uniapp.dcloud.io/uniCloud/quickstart?id=useinh5");
        const t3 = e3.data && e3.data.header && e3.data.header["x-serverless-request-id"] || e3.header && e3.header["request-id"];
        if (!e3.statusCode || e3.statusCode >= 400)
          return s2(new B({ code: "SYS_ERR", message: e3.errMsg || "request:fail", requestId: t3 }));
        const o2 = e3.data;
        if (o2.error)
          return s2(new B({ code: o2.error.code, message: o2.error.message, requestId: t3 }));
        o2.result = o2.data, o2.requestId = t3, delete o2.data, n2(o2);
      } }));
    });
  } };
  var V = { request: (e2) => uni.request(e2), uploadFile: (e2) => uni.uploadFile(e2), setStorageSync: (e2, t2) => uni.setStorageSync(e2, t2), getStorageSync: (e2) => uni.getStorageSync(e2), removeStorageSync: (e2) => uni.removeStorageSync(e2), clearStorageSync: () => uni.clearStorageSync() }, Y = { "uniCloud.init.paramRequired": "{param} required", "uniCloud.uploadFile.fileError": "filePath should be instance of File" };
  const { t: X } = initVueI18n({ "zh-Hans": { "uniCloud.init.paramRequired": "\u7F3A\u5C11\u53C2\u6570\uFF1A{param}", "uniCloud.uploadFile.fileError": "filePath\u5E94\u4E3AFile\u5BF9\u8C61" }, "zh-Hant": { "uniCloud.init.paramRequired": "\u7F3A\u5C11\u53C2\u6570\uFF1A{param}", "uniCloud.uploadFile.fileError": "filePath\u5E94\u4E3AFile\u5BF9\u8C61" }, en: Y, fr: { "uniCloud.init.paramRequired": "{param} required", "uniCloud.uploadFile.fileError": "filePath should be instance of File" }, es: { "uniCloud.init.paramRequired": "{param} required", "uniCloud.uploadFile.fileError": "filePath should be instance of File" }, ja: Y }, "zh-Hans");
  var G = class {
    constructor(e2) {
      ["spaceId", "clientSecret"].forEach((t2) => {
        if (!Object.prototype.hasOwnProperty.call(e2, t2))
          throw new Error(X("uniCloud.init.paramRequired", { param: t2 }));
      }), this.config = Object.assign({}, { endpoint: "https://api.bspapp.com" }, e2), this.config.provider = "aliyun", this.config.requestUrl = this.config.endpoint + "/client", this.config.envType = this.config.envType || "public", this.config.accessTokenKey = "access_token_" + this.config.spaceId, this.adapter = V, this._getAccessTokenPromise = null, this._getAccessTokenPromiseStatus = null;
    }
    get hasAccessToken() {
      return !!this.accessToken;
    }
    setAccessToken(e2) {
      this.accessToken = e2;
    }
    requestWrapped(e2) {
      return J.wrappedRequest(e2, this.adapter.request);
    }
    requestAuth(e2) {
      return this.requestWrapped(e2);
    }
    request(e2, t2) {
      return Promise.resolve().then(() => this.hasAccessToken ? t2 ? this.requestWrapped(e2) : this.requestWrapped(e2).catch((t3) => new Promise((e3, n2) => {
        !t3 || t3.code !== "GATEWAY_INVALID_TOKEN" && t3.code !== "InvalidParameter.InvalidToken" ? n2(t3) : e3();
      }).then(() => this.getAccessToken()).then(() => {
        const t4 = this.rebuildRequest(e2);
        return this.request(t4, true);
      })) : this.getAccessToken().then(() => {
        const t3 = this.rebuildRequest(e2);
        return this.request(t3, true);
      }));
    }
    rebuildRequest(e2) {
      const t2 = Object.assign({}, e2);
      return t2.data.token = this.accessToken, t2.header["x-basement-token"] = this.accessToken, t2.header["x-serverless-sign"] = J.sign(t2.data, this.config.clientSecret), t2;
    }
    setupRequest(e2, t2) {
      const n2 = Object.assign({}, e2, { spaceId: this.config.spaceId, timestamp: Date.now() }), s2 = { "Content-Type": "application/json" };
      return t2 !== "auth" && (n2.token = this.accessToken, s2["x-basement-token"] = this.accessToken), s2["x-serverless-sign"] = J.sign(n2, this.config.clientSecret), { url: this.config.requestUrl, method: "POST", data: n2, dataType: "json", header: s2 };
    }
    getAccessToken() {
      if (this._getAccessTokenPromiseStatus === "pending")
        return this._getAccessTokenPromise;
      this._getAccessTokenPromiseStatus = "pending";
      return this._getAccessTokenPromise = this.requestAuth(this.setupRequest({ method: "serverless.auth.user.anonymousAuthorize", params: "{}" }, "auth")).then((e2) => new Promise((t2, n2) => {
        e2.result && e2.result.accessToken ? (this.setAccessToken(e2.result.accessToken), this._getAccessTokenPromiseStatus = "fulfilled", t2(this.accessToken)) : (this._getAccessTokenPromiseStatus = "rejected", n2(new B({ code: "AUTH_FAILED", message: "\u83B7\u53D6accessToken\u5931\u8D25" })));
      }), (e2) => (this._getAccessTokenPromiseStatus = "rejected", Promise.reject(e2))), this._getAccessTokenPromise;
    }
    authorize() {
      this.getAccessToken();
    }
    callFunction(e2) {
      const t2 = { method: "serverless.function.runtime.invoke", params: JSON.stringify({ functionTarget: e2.name, functionArgs: e2.data || {} }) };
      return this.request(this.setupRequest(t2));
    }
    getOSSUploadOptionsFromPath(e2) {
      const t2 = { method: "serverless.file.resource.generateProximalSign", params: JSON.stringify(e2) };
      return this.request(this.setupRequest(t2));
    }
    uploadFileToOSS({ url: e2, formData: t2, name: n2, filePath: s2, fileType: o2, onUploadProgress: r2 }) {
      return new Promise((i2, a2) => {
        const c2 = this.adapter.uploadFile({ url: e2, formData: t2, name: n2, filePath: s2, fileType: o2, header: { "X-OSS-server-side-encrpytion": "AES256" }, success(e3) {
          e3 && e3.statusCode < 400 ? i2(e3) : a2(new B({ code: "UPLOAD_FAILED", message: "\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25" }));
        }, fail(e3) {
          a2(new B({ code: e3.code || "UPLOAD_FAILED", message: e3.message || e3.errMsg || "\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25" }));
        } });
        typeof r2 == "function" && c2 && typeof c2.onProgressUpdate == "function" && c2.onProgressUpdate((e3) => {
          r2({ loaded: e3.totalBytesSent, total: e3.totalBytesExpectedToSend });
        });
      });
    }
    reportOSSUpload(e2) {
      const t2 = { method: "serverless.file.resource.report", params: JSON.stringify(e2) };
      return this.request(this.setupRequest(t2));
    }
    uploadFile({ filePath: e2, cloudPath: t2, fileType: n2 = "image", onUploadProgress: s2, config: o2 }) {
      if (u(t2) !== "string")
        throw new B({ code: "INVALID_PARAM", message: "cloudPath\u5FC5\u987B\u4E3A\u5B57\u7B26\u4E32\u7C7B\u578B" });
      if (!(t2 = t2.trim()))
        throw new B({ code: "CLOUDPATH_REQUIRED", message: "cloudPath\u4E0D\u53EF\u4E3A\u7A7A" });
      if (/:\/\//.test(t2))
        throw new B({ code: "INVALID_PARAM", message: "cloudPath\u4E0D\u5408\u6CD5" });
      const r2 = o2 && o2.envType || this.config.envType;
      let i2, a2;
      return this.getOSSUploadOptionsFromPath({ env: r2, filename: t2 }).then((t3) => {
        const o3 = t3.result;
        i2 = o3.id, a2 = "https://" + o3.cdnDomain + "/" + o3.ossPath;
        const r3 = { url: "https://" + o3.host, formData: { "Cache-Control": "max-age=2592000", "Content-Disposition": "attachment", OSSAccessKeyId: o3.accessKeyId, Signature: o3.signature, host: o3.host, id: i2, key: o3.ossPath, policy: o3.policy, success_action_status: 200 }, fileName: "file", name: "file", filePath: e2, fileType: n2 };
        return this.uploadFileToOSS(Object.assign({}, r3, { onUploadProgress: s2 }));
      }).then(() => this.reportOSSUpload({ id: i2 })).then((t3) => new Promise((n3, s3) => {
        t3.success ? n3({ success: true, filePath: e2, fileID: a2 }) : s3(new B({ code: "UPLOAD_FAILED", message: "\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25" }));
      }));
    }
    deleteFile({ fileList: e2 }) {
      const t2 = { method: "serverless.file.resource.delete", params: JSON.stringify({ id: e2[0] }) };
      return this.request(this.setupRequest(t2));
    }
    getTempFileURL({ fileList: e2 } = {}) {
      return new Promise((t2, n2) => {
        Array.isArray(e2) && e2.length !== 0 || n2(new B({ code: "INVALID_PARAM", message: "fileList\u7684\u5143\u7D20\u5FC5\u987B\u662F\u975E\u7A7A\u7684\u5B57\u7B26\u4E32" })), t2({ fileList: e2.map((e3) => ({ fileID: e3, tempFileURL: e3 })) });
      });
    }
  };
  var Q = { init(e2) {
    const t2 = new G(e2), n2 = { signInAnonymously: function() {
      return t2.authorize();
    }, getLoginState: function() {
      return Promise.resolve(false);
    } };
    return t2.auth = function() {
      return n2;
    }, t2.customAuth = t2.auth, t2;
  } };
  const Z = typeof location != "undefined" && location.protocol === "http:" ? "http:" : "https:";
  var ee;
  !function(e2) {
    e2.local = "local", e2.none = "none", e2.session = "session";
  }(ee || (ee = {}));
  var te = function() {
  };
  const ne = () => {
    let e2;
    if (!Promise) {
      e2 = () => {
      }, e2.promise = {};
      const t3 = () => {
        throw new B({ message: 'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.' });
      };
      return Object.defineProperty(e2.promise, "then", { get: t3 }), Object.defineProperty(e2.promise, "catch", { get: t3 }), e2;
    }
    const t2 = new Promise((t3, n2) => {
      e2 = (e3, s2) => e3 ? n2(e3) : t3(s2);
    });
    return e2.promise = t2, e2;
  };
  function se(e2) {
    return e2 === void 0;
  }
  function oe(e2) {
    return Object.prototype.toString.call(e2) === "[object Null]";
  }
  var re;
  function ie(e2) {
    const t2 = (n2 = e2, Object.prototype.toString.call(n2) === "[object Array]" ? e2 : [e2]);
    var n2;
    for (const e3 of t2) {
      const { isMatch: t3, genAdapter: n3, runtime: s2 } = e3;
      if (t3())
        return { adapter: n3(), runtime: s2 };
    }
  }
  !function(e2) {
    e2.WEB = "web", e2.WX_MP = "wx_mp";
  }(re || (re = {}));
  const ae = { adapter: null, runtime: void 0 }, ce = ["anonymousUuidKey"];
  class ue extends te {
    constructor() {
      super(), ae.adapter.root.tcbObject || (ae.adapter.root.tcbObject = {});
    }
    setItem(e2, t2) {
      ae.adapter.root.tcbObject[e2] = t2;
    }
    getItem(e2) {
      return ae.adapter.root.tcbObject[e2];
    }
    removeItem(e2) {
      delete ae.adapter.root.tcbObject[e2];
    }
    clear() {
      delete ae.adapter.root.tcbObject;
    }
  }
  function le(e2, t2) {
    switch (e2) {
      case "local":
        return t2.localStorage || new ue();
      case "none":
        return new ue();
      default:
        return t2.sessionStorage || new ue();
    }
  }
  class he {
    constructor(e2) {
      if (!this._storage) {
        this._persistence = ae.adapter.primaryStorage || e2.persistence, this._storage = le(this._persistence, ae.adapter);
        const t2 = `access_token_${e2.env}`, n2 = `access_token_expire_${e2.env}`, s2 = `refresh_token_${e2.env}`, o2 = `anonymous_uuid_${e2.env}`, r2 = `login_type_${e2.env}`, i2 = `user_info_${e2.env}`;
        this.keys = { accessTokenKey: t2, accessTokenExpireKey: n2, refreshTokenKey: s2, anonymousUuidKey: o2, loginTypeKey: r2, userInfoKey: i2 };
      }
    }
    updatePersistence(e2) {
      if (e2 === this._persistence)
        return;
      const t2 = this._persistence === "local";
      this._persistence = e2;
      const n2 = le(e2, ae.adapter);
      for (const e3 in this.keys) {
        const s2 = this.keys[e3];
        if (t2 && ce.includes(e3))
          continue;
        const o2 = this._storage.getItem(s2);
        se(o2) || oe(o2) || (n2.setItem(s2, o2), this._storage.removeItem(s2));
      }
      this._storage = n2;
    }
    setStore(e2, t2, n2) {
      if (!this._storage)
        return;
      const s2 = { version: n2 || "localCachev1", content: t2 }, o2 = JSON.stringify(s2);
      try {
        this._storage.setItem(e2, o2);
      } catch (e3) {
        throw e3;
      }
    }
    getStore(e2, t2) {
      try {
        if (!this._storage)
          return;
      } catch (e3) {
        return "";
      }
      t2 = t2 || "localCachev1";
      const n2 = this._storage.getItem(e2);
      if (!n2)
        return "";
      if (n2.indexOf(t2) >= 0) {
        return JSON.parse(n2).content;
      }
      return "";
    }
    removeStore(e2) {
      this._storage.removeItem(e2);
    }
  }
  const de = {}, fe = {};
  function ge(e2) {
    return de[e2];
  }
  class pe {
    constructor(e2, t2) {
      this.data = t2 || null, this.name = e2;
    }
  }
  class me extends pe {
    constructor(e2, t2) {
      super("error", { error: e2, data: t2 }), this.error = e2;
    }
  }
  const ye = new class {
    constructor() {
      this._listeners = {};
    }
    on(e2, t2) {
      return function(e3, t3, n2) {
        n2[e3] = n2[e3] || [], n2[e3].push(t3);
      }(e2, t2, this._listeners), this;
    }
    off(e2, t2) {
      return function(e3, t3, n2) {
        if (n2 && n2[e3]) {
          const s2 = n2[e3].indexOf(t3);
          s2 !== -1 && n2[e3].splice(s2, 1);
        }
      }(e2, t2, this._listeners), this;
    }
    fire(e2, t2) {
      if (e2 instanceof me)
        return console.error(e2.error), this;
      const n2 = typeof e2 == "string" ? new pe(e2, t2 || {}) : e2;
      const s2 = n2.name;
      if (this._listens(s2)) {
        n2.target = this;
        const e3 = this._listeners[s2] ? [...this._listeners[s2]] : [];
        for (const t3 of e3)
          t3.call(this, n2);
      }
      return this;
    }
    _listens(e2) {
      return this._listeners[e2] && this._listeners[e2].length > 0;
    }
  }();
  function _e(e2, t2) {
    ye.on(e2, t2);
  }
  function we(e2, t2 = {}) {
    ye.fire(e2, t2);
  }
  function ke(e2, t2) {
    ye.off(e2, t2);
  }
  const ve = "loginStateChanged", Te = "loginStateExpire", Se = "loginTypeChanged", Pe = "anonymousConverted", Ae = "refreshAccessToken";
  var Ie;
  !function(e2) {
    e2.ANONYMOUS = "ANONYMOUS", e2.WECHAT = "WECHAT", e2.WECHAT_PUBLIC = "WECHAT-PUBLIC", e2.WECHAT_OPEN = "WECHAT-OPEN", e2.CUSTOM = "CUSTOM", e2.EMAIL = "EMAIL", e2.USERNAME = "USERNAME", e2.NULL = "NULL";
  }(Ie || (Ie = {}));
  const be = ["auth.getJwt", "auth.logout", "auth.signInWithTicket", "auth.signInAnonymously", "auth.signIn", "auth.fetchAccessTokenWithRefreshToken", "auth.signUpWithEmailAndPassword", "auth.activateEndUserMail", "auth.sendPasswordResetEmail", "auth.resetPasswordWithToken", "auth.isUsernameRegistered"], Oe = { "X-SDK-Version": "1.3.5" };
  function Ce(e2, t2, n2) {
    const s2 = e2[t2];
    e2[t2] = function(t3) {
      const o2 = {}, r2 = {};
      n2.forEach((n3) => {
        const { data: s3, headers: i3 } = n3.call(e2, t3);
        Object.assign(o2, s3), Object.assign(r2, i3);
      });
      const i2 = t3.data;
      return i2 && (() => {
        var e3;
        if (e3 = i2, Object.prototype.toString.call(e3) !== "[object FormData]")
          t3.data = __spreadValues(__spreadValues({}, i2), o2);
        else
          for (const e4 in o2)
            i2.append(e4, o2[e4]);
      })(), t3.headers = __spreadValues(__spreadValues({}, t3.headers || {}), r2), s2.call(e2, t3);
    };
  }
  function Ee() {
    const e2 = Math.random().toString(16).slice(2);
    return { data: { seqId: e2 }, headers: __spreadProps(__spreadValues({}, Oe), { "x-seqid": e2 }) };
  }
  class Re {
    constructor(e2 = {}) {
      var t2;
      this.config = e2, this._reqClass = new ae.adapter.reqClass({ timeout: this.config.timeout, timeoutMsg: `\u8BF7\u6C42\u5728${this.config.timeout / 1e3}s\u5185\u672A\u5B8C\u6210\uFF0C\u5DF2\u4E2D\u65AD`, restrictedMethods: ["post"] }), this._cache = ge(this.config.env), this._localCache = (t2 = this.config.env, fe[t2]), Ce(this._reqClass, "post", [Ee]), Ce(this._reqClass, "upload", [Ee]), Ce(this._reqClass, "download", [Ee]);
    }
    async post(e2) {
      return await this._reqClass.post(e2);
    }
    async upload(e2) {
      return await this._reqClass.upload(e2);
    }
    async download(e2) {
      return await this._reqClass.download(e2);
    }
    async refreshAccessToken() {
      let e2, t2;
      this._refreshAccessTokenPromise || (this._refreshAccessTokenPromise = this._refreshAccessToken());
      try {
        e2 = await this._refreshAccessTokenPromise;
      } catch (e3) {
        t2 = e3;
      }
      if (this._refreshAccessTokenPromise = null, this._shouldRefreshAccessTokenHook = null, t2)
        throw t2;
      return e2;
    }
    async _refreshAccessToken() {
      const { accessTokenKey: e2, accessTokenExpireKey: t2, refreshTokenKey: n2, loginTypeKey: s2, anonymousUuidKey: o2 } = this._cache.keys;
      this._cache.removeStore(e2), this._cache.removeStore(t2);
      let r2 = this._cache.getStore(n2);
      if (!r2)
        throw new B({ message: "\u672A\u767B\u5F55CloudBase" });
      const i2 = { refresh_token: r2 }, a2 = await this.request("auth.fetchAccessTokenWithRefreshToken", i2);
      if (a2.data.code) {
        const { code: e3 } = a2.data;
        if (e3 === "SIGN_PARAM_INVALID" || e3 === "REFRESH_TOKEN_EXPIRED" || e3 === "INVALID_REFRESH_TOKEN") {
          if (this._cache.getStore(s2) === Ie.ANONYMOUS && e3 === "INVALID_REFRESH_TOKEN") {
            const e4 = this._cache.getStore(o2), t3 = this._cache.getStore(n2), s3 = await this.send("auth.signInAnonymously", { anonymous_uuid: e4, refresh_token: t3 });
            return this.setRefreshToken(s3.refresh_token), this._refreshAccessToken();
          }
          we(Te), this._cache.removeStore(n2);
        }
        throw new B({ code: a2.data.code, message: `\u5237\u65B0access token\u5931\u8D25\uFF1A${a2.data.code}` });
      }
      if (a2.data.access_token)
        return we(Ae), this._cache.setStore(e2, a2.data.access_token), this._cache.setStore(t2, a2.data.access_token_expire + Date.now()), { accessToken: a2.data.access_token, accessTokenExpire: a2.data.access_token_expire };
      a2.data.refresh_token && (this._cache.removeStore(n2), this._cache.setStore(n2, a2.data.refresh_token), this._refreshAccessToken());
    }
    async getAccessToken() {
      const { accessTokenKey: e2, accessTokenExpireKey: t2, refreshTokenKey: n2 } = this._cache.keys;
      if (!this._cache.getStore(n2))
        throw new B({ message: "refresh token\u4E0D\u5B58\u5728\uFF0C\u767B\u5F55\u72B6\u6001\u5F02\u5E38" });
      let s2 = this._cache.getStore(e2), o2 = this._cache.getStore(t2), r2 = true;
      return this._shouldRefreshAccessTokenHook && !await this._shouldRefreshAccessTokenHook(s2, o2) && (r2 = false), (!s2 || !o2 || o2 < Date.now()) && r2 ? this.refreshAccessToken() : { accessToken: s2, accessTokenExpire: o2 };
    }
    async request(e2, t2, n2) {
      const s2 = `x-tcb-trace_${this.config.env}`;
      let o2 = "application/x-www-form-urlencoded";
      const r2 = __spreadValues({ action: e2, env: this.config.env, dataVersion: "2019-08-16" }, t2);
      if (be.indexOf(e2) === -1) {
        const { refreshTokenKey: e3 } = this._cache.keys;
        this._cache.getStore(e3) && (r2.access_token = (await this.getAccessToken()).accessToken);
      }
      let i2;
      if (e2 === "storage.uploadFile") {
        i2 = new FormData();
        for (let e3 in i2)
          i2.hasOwnProperty(e3) && i2[e3] !== void 0 && i2.append(e3, r2[e3]);
        o2 = "multipart/form-data";
      } else {
        o2 = "application/json", i2 = {};
        for (let e3 in r2)
          r2[e3] !== void 0 && (i2[e3] = r2[e3]);
      }
      let a2 = { headers: { "content-type": o2 } };
      n2 && n2.onUploadProgress && (a2.onUploadProgress = n2.onUploadProgress);
      const c2 = this._localCache.getStore(s2);
      c2 && (a2.headers["X-TCB-Trace"] = c2);
      const { parse: u2, inQuery: l2, search: h2 } = t2;
      let d2 = { env: this.config.env };
      u2 && (d2.parse = true), l2 && (d2 = __spreadValues(__spreadValues({}, l2), d2));
      let f2 = function(e3, t3, n3 = {}) {
        const s3 = /\?/.test(t3);
        let o3 = "";
        for (let e4 in n3)
          o3 === "" ? !s3 && (t3 += "?") : o3 += "&", o3 += `${e4}=${encodeURIComponent(n3[e4])}`;
        return /^http(s)?\:\/\//.test(t3 += o3) ? t3 : `${e3}${t3}`;
      }(Z, "//tcb-api.tencentcloudapi.com/web", d2);
      h2 && (f2 += h2);
      const g2 = await this.post(__spreadValues({ url: f2, data: i2 }, a2)), p2 = g2.header && g2.header["x-tcb-trace"];
      if (p2 && this._localCache.setStore(s2, p2), Number(g2.status) !== 200 && Number(g2.statusCode) !== 200 || !g2.data)
        throw new B({ code: "NETWORK_ERROR", message: "network request error" });
      return g2;
    }
    async send(e2, t2 = {}) {
      const n2 = await this.request(e2, t2, { onUploadProgress: t2.onUploadProgress });
      if (n2.data.code === "ACCESS_TOKEN_EXPIRED" && be.indexOf(e2) === -1) {
        await this.refreshAccessToken();
        const n3 = await this.request(e2, t2, { onUploadProgress: t2.onUploadProgress });
        if (n3.data.code)
          throw new B({ code: n3.data.code, message: n3.data.message });
        return n3.data;
      }
      if (n2.data.code)
        throw new B({ code: n2.data.code, message: n2.data.message });
      return n2.data;
    }
    setRefreshToken(e2) {
      const { accessTokenKey: t2, accessTokenExpireKey: n2, refreshTokenKey: s2 } = this._cache.keys;
      this._cache.removeStore(t2), this._cache.removeStore(n2), this._cache.setStore(s2, e2);
    }
  }
  const Ue = {};
  function xe(e2) {
    return Ue[e2];
  }
  class Le {
    constructor(e2) {
      this.config = e2, this._cache = ge(e2.env), this._request = xe(e2.env);
    }
    setRefreshToken(e2) {
      const { accessTokenKey: t2, accessTokenExpireKey: n2, refreshTokenKey: s2 } = this._cache.keys;
      this._cache.removeStore(t2), this._cache.removeStore(n2), this._cache.setStore(s2, e2);
    }
    setAccessToken(e2, t2) {
      const { accessTokenKey: n2, accessTokenExpireKey: s2 } = this._cache.keys;
      this._cache.setStore(n2, e2), this._cache.setStore(s2, t2);
    }
    async refreshUserInfo() {
      const { data: e2 } = await this._request.send("auth.getUserInfo", {});
      return this.setLocalUserInfo(e2), e2;
    }
    setLocalUserInfo(e2) {
      const { userInfoKey: t2 } = this._cache.keys;
      this._cache.setStore(t2, e2);
    }
  }
  class De {
    constructor(e2) {
      if (!e2)
        throw new B({ code: "PARAM_ERROR", message: "envId is not defined" });
      this._envId = e2, this._cache = ge(this._envId), this._request = xe(this._envId), this.setUserInfo();
    }
    linkWithTicket(e2) {
      if (typeof e2 != "string")
        throw new B({ code: "PARAM_ERROR", message: "ticket must be string" });
      return this._request.send("auth.linkWithTicket", { ticket: e2 });
    }
    linkWithRedirect(e2) {
      e2.signInWithRedirect();
    }
    updatePassword(e2, t2) {
      return this._request.send("auth.updatePassword", { oldPassword: t2, newPassword: e2 });
    }
    updateEmail(e2) {
      return this._request.send("auth.updateEmail", { newEmail: e2 });
    }
    updateUsername(e2) {
      if (typeof e2 != "string")
        throw new B({ code: "PARAM_ERROR", message: "username must be a string" });
      return this._request.send("auth.updateUsername", { username: e2 });
    }
    async getLinkedUidList() {
      const { data: e2 } = await this._request.send("auth.getLinkedUidList", {});
      let t2 = false;
      const { users: n2 } = e2;
      return n2.forEach((e3) => {
        e3.wxOpenId && e3.wxPublicId && (t2 = true);
      }), { users: n2, hasPrimaryUid: t2 };
    }
    setPrimaryUid(e2) {
      return this._request.send("auth.setPrimaryUid", { uid: e2 });
    }
    unlink(e2) {
      return this._request.send("auth.unlink", { platform: e2 });
    }
    async update(e2) {
      const { nickName: t2, gender: n2, avatarUrl: s2, province: o2, country: r2, city: i2 } = e2, { data: a2 } = await this._request.send("auth.updateUserInfo", { nickName: t2, gender: n2, avatarUrl: s2, province: o2, country: r2, city: i2 });
      this.setLocalUserInfo(a2);
    }
    async refresh() {
      const { data: e2 } = await this._request.send("auth.getUserInfo", {});
      return this.setLocalUserInfo(e2), e2;
    }
    setUserInfo() {
      const { userInfoKey: e2 } = this._cache.keys, t2 = this._cache.getStore(e2);
      ["uid", "loginType", "openid", "wxOpenId", "wxPublicId", "unionId", "qqMiniOpenId", "email", "hasPassword", "customUserId", "nickName", "gender", "avatarUrl"].forEach((e3) => {
        this[e3] = t2[e3];
      }), this.location = { country: t2.country, province: t2.province, city: t2.city };
    }
    setLocalUserInfo(e2) {
      const { userInfoKey: t2 } = this._cache.keys;
      this._cache.setStore(t2, e2), this.setUserInfo();
    }
  }
  class Ne {
    constructor(e2) {
      if (!e2)
        throw new B({ code: "PARAM_ERROR", message: "envId is not defined" });
      this._cache = ge(e2);
      const { refreshTokenKey: t2, accessTokenKey: n2, accessTokenExpireKey: s2 } = this._cache.keys, o2 = this._cache.getStore(t2), r2 = this._cache.getStore(n2), i2 = this._cache.getStore(s2);
      this.credential = { refreshToken: o2, accessToken: r2, accessTokenExpire: i2 }, this.user = new De(e2);
    }
    get isAnonymousAuth() {
      return this.loginType === Ie.ANONYMOUS;
    }
    get isCustomAuth() {
      return this.loginType === Ie.CUSTOM;
    }
    get isWeixinAuth() {
      return this.loginType === Ie.WECHAT || this.loginType === Ie.WECHAT_OPEN || this.loginType === Ie.WECHAT_PUBLIC;
    }
    get loginType() {
      return this._cache.getStore(this._cache.keys.loginTypeKey);
    }
  }
  class qe extends Le {
    async signIn() {
      this._cache.updatePersistence("local");
      const { anonymousUuidKey: e2, refreshTokenKey: t2 } = this._cache.keys, n2 = this._cache.getStore(e2) || void 0, s2 = this._cache.getStore(t2) || void 0, o2 = await this._request.send("auth.signInAnonymously", { anonymous_uuid: n2, refresh_token: s2 });
      if (o2.uuid && o2.refresh_token) {
        this._setAnonymousUUID(o2.uuid), this.setRefreshToken(o2.refresh_token), await this._request.refreshAccessToken(), we(ve), we(Se, { env: this.config.env, loginType: Ie.ANONYMOUS, persistence: "local" });
        const e3 = new Ne(this.config.env);
        return await e3.user.refresh(), e3;
      }
      throw new B({ message: "\u533F\u540D\u767B\u5F55\u5931\u8D25" });
    }
    async linkAndRetrieveDataWithTicket(e2) {
      const { anonymousUuidKey: t2, refreshTokenKey: n2 } = this._cache.keys, s2 = this._cache.getStore(t2), o2 = this._cache.getStore(n2), r2 = await this._request.send("auth.linkAndRetrieveDataWithTicket", { anonymous_uuid: s2, refresh_token: o2, ticket: e2 });
      if (r2.refresh_token)
        return this._clearAnonymousUUID(), this.setRefreshToken(r2.refresh_token), await this._request.refreshAccessToken(), we(Pe, { env: this.config.env }), we(Se, { loginType: Ie.CUSTOM, persistence: "local" }), { credential: { refreshToken: r2.refresh_token } };
      throw new B({ message: "\u533F\u540D\u8F6C\u5316\u5931\u8D25" });
    }
    _setAnonymousUUID(e2) {
      const { anonymousUuidKey: t2, loginTypeKey: n2 } = this._cache.keys;
      this._cache.removeStore(t2), this._cache.setStore(t2, e2), this._cache.setStore(n2, Ie.ANONYMOUS);
    }
    _clearAnonymousUUID() {
      this._cache.removeStore(this._cache.keys.anonymousUuidKey);
    }
  }
  class Fe extends Le {
    async signIn(e2) {
      if (typeof e2 != "string")
        throw new B({ param: "PARAM_ERROR", message: "ticket must be a string" });
      const { refreshTokenKey: t2 } = this._cache.keys, n2 = await this._request.send("auth.signInWithTicket", { ticket: e2, refresh_token: this._cache.getStore(t2) || "" });
      if (n2.refresh_token)
        return this.setRefreshToken(n2.refresh_token), await this._request.refreshAccessToken(), we(ve), we(Se, { env: this.config.env, loginType: Ie.CUSTOM, persistence: this.config.persistence }), await this.refreshUserInfo(), new Ne(this.config.env);
      throw new B({ message: "\u81EA\u5B9A\u4E49\u767B\u5F55\u5931\u8D25" });
    }
  }
  class Me extends Le {
    async signIn(e2, t2) {
      if (typeof e2 != "string")
        throw new B({ code: "PARAM_ERROR", message: "email must be a string" });
      const { refreshTokenKey: n2 } = this._cache.keys, s2 = await this._request.send("auth.signIn", { loginType: "EMAIL", email: e2, password: t2, refresh_token: this._cache.getStore(n2) || "" }), { refresh_token: o2, access_token: r2, access_token_expire: i2 } = s2;
      if (o2)
        return this.setRefreshToken(o2), r2 && i2 ? this.setAccessToken(r2, i2) : await this._request.refreshAccessToken(), await this.refreshUserInfo(), we(ve), we(Se, { env: this.config.env, loginType: Ie.EMAIL, persistence: this.config.persistence }), new Ne(this.config.env);
      throw s2.code ? new B({ code: s2.code, message: `\u90AE\u7BB1\u767B\u5F55\u5931\u8D25: ${s2.message}` }) : new B({ message: "\u90AE\u7BB1\u767B\u5F55\u5931\u8D25" });
    }
    async activate(e2) {
      return this._request.send("auth.activateEndUserMail", { token: e2 });
    }
    async resetPasswordWithToken(e2, t2) {
      return this._request.send("auth.resetPasswordWithToken", { token: e2, newPassword: t2 });
    }
  }
  class je extends Le {
    async signIn(e2, t2) {
      if (typeof e2 != "string")
        throw new B({ code: "PARAM_ERROR", message: "username must be a string" });
      typeof t2 != "string" && (t2 = "", console.warn("password is empty"));
      const { refreshTokenKey: n2 } = this._cache.keys, s2 = await this._request.send("auth.signIn", { loginType: Ie.USERNAME, username: e2, password: t2, refresh_token: this._cache.getStore(n2) || "" }), { refresh_token: o2, access_token_expire: r2, access_token: i2 } = s2;
      if (o2)
        return this.setRefreshToken(o2), i2 && r2 ? this.setAccessToken(i2, r2) : await this._request.refreshAccessToken(), await this.refreshUserInfo(), we(ve), we(Se, { env: this.config.env, loginType: Ie.USERNAME, persistence: this.config.persistence }), new Ne(this.config.env);
      throw s2.code ? new B({ code: s2.code, message: `\u7528\u6237\u540D\u5BC6\u7801\u767B\u5F55\u5931\u8D25: ${s2.message}` }) : new B({ message: "\u7528\u6237\u540D\u5BC6\u7801\u767B\u5F55\u5931\u8D25" });
    }
  }
  class $e {
    constructor(e2) {
      this.config = e2, this._cache = ge(e2.env), this._request = xe(e2.env), this._onAnonymousConverted = this._onAnonymousConverted.bind(this), this._onLoginTypeChanged = this._onLoginTypeChanged.bind(this), _e(Se, this._onLoginTypeChanged);
    }
    get currentUser() {
      const e2 = this.hasLoginState();
      return e2 && e2.user || null;
    }
    get loginType() {
      return this._cache.getStore(this._cache.keys.loginTypeKey);
    }
    anonymousAuthProvider() {
      return new qe(this.config);
    }
    customAuthProvider() {
      return new Fe(this.config);
    }
    emailAuthProvider() {
      return new Me(this.config);
    }
    usernameAuthProvider() {
      return new je(this.config);
    }
    async signInAnonymously() {
      return new qe(this.config).signIn();
    }
    async signInWithEmailAndPassword(e2, t2) {
      return new Me(this.config).signIn(e2, t2);
    }
    signInWithUsernameAndPassword(e2, t2) {
      return new je(this.config).signIn(e2, t2);
    }
    async linkAndRetrieveDataWithTicket(e2) {
      this._anonymousAuthProvider || (this._anonymousAuthProvider = new qe(this.config)), _e(Pe, this._onAnonymousConverted);
      return await this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(e2);
    }
    async signOut() {
      if (this.loginType === Ie.ANONYMOUS)
        throw new B({ message: "\u533F\u540D\u7528\u6237\u4E0D\u652F\u6301\u767B\u51FA\u64CD\u4F5C" });
      const { refreshTokenKey: e2, accessTokenKey: t2, accessTokenExpireKey: n2 } = this._cache.keys, s2 = this._cache.getStore(e2);
      if (!s2)
        return;
      const o2 = await this._request.send("auth.logout", { refresh_token: s2 });
      return this._cache.removeStore(e2), this._cache.removeStore(t2), this._cache.removeStore(n2), we(ve), we(Se, { env: this.config.env, loginType: Ie.NULL, persistence: this.config.persistence }), o2;
    }
    async signUpWithEmailAndPassword(e2, t2) {
      return this._request.send("auth.signUpWithEmailAndPassword", { email: e2, password: t2 });
    }
    async sendPasswordResetEmail(e2) {
      return this._request.send("auth.sendPasswordResetEmail", { email: e2 });
    }
    onLoginStateChanged(e2) {
      _e(ve, () => {
        const t3 = this.hasLoginState();
        e2.call(this, t3);
      });
      const t2 = this.hasLoginState();
      e2.call(this, t2);
    }
    onLoginStateExpired(e2) {
      _e(Te, e2.bind(this));
    }
    onAccessTokenRefreshed(e2) {
      _e(Ae, e2.bind(this));
    }
    onAnonymousConverted(e2) {
      _e(Pe, e2.bind(this));
    }
    onLoginTypeChanged(e2) {
      _e(Se, () => {
        const t2 = this.hasLoginState();
        e2.call(this, t2);
      });
    }
    async getAccessToken() {
      return { accessToken: (await this._request.getAccessToken()).accessToken, env: this.config.env };
    }
    hasLoginState() {
      const { refreshTokenKey: e2 } = this._cache.keys;
      return this._cache.getStore(e2) ? new Ne(this.config.env) : null;
    }
    async isUsernameRegistered(e2) {
      if (typeof e2 != "string")
        throw new B({ code: "PARAM_ERROR", message: "username must be a string" });
      const { data: t2 } = await this._request.send("auth.isUsernameRegistered", { username: e2 });
      return t2 && t2.isRegistered;
    }
    getLoginState() {
      return Promise.resolve(this.hasLoginState());
    }
    async signInWithTicket(e2) {
      return new Fe(this.config).signIn(e2);
    }
    shouldRefreshAccessToken(e2) {
      this._request._shouldRefreshAccessTokenHook = e2.bind(this);
    }
    getUserInfo() {
      return this._request.send("auth.getUserInfo", {}).then((e2) => e2.code ? e2 : __spreadProps(__spreadValues({}, e2.data), { requestId: e2.seqId }));
    }
    getAuthHeader() {
      const { refreshTokenKey: e2, accessTokenKey: t2 } = this._cache.keys, n2 = this._cache.getStore(e2);
      return { "x-cloudbase-credentials": this._cache.getStore(t2) + "/@@/" + n2 };
    }
    _onAnonymousConverted(e2) {
      const { env: t2 } = e2.data;
      t2 === this.config.env && this._cache.updatePersistence(this.config.persistence);
    }
    _onLoginTypeChanged(e2) {
      const { loginType: t2, persistence: n2, env: s2 } = e2.data;
      s2 === this.config.env && (this._cache.updatePersistence(n2), this._cache.setStore(this._cache.keys.loginTypeKey, t2));
    }
  }
  const Ke = function(e2, t2) {
    t2 = t2 || ne();
    const n2 = xe(this.config.env), { cloudPath: s2, filePath: o2, onUploadProgress: r2, fileType: i2 = "image" } = e2;
    return n2.send("storage.getUploadMetadata", { path: s2 }).then((e3) => {
      const { data: { url: a2, authorization: c2, token: u2, fileId: l2, cosFileId: h2 }, requestId: d2 } = e3, f2 = { key: s2, signature: c2, "x-cos-meta-fileid": h2, success_action_status: "201", "x-cos-security-token": u2 };
      n2.upload({ url: a2, data: f2, file: o2, name: s2, fileType: i2, onUploadProgress: r2 }).then((e4) => {
        e4.statusCode === 201 ? t2(null, { fileID: l2, requestId: d2 }) : t2(new B({ code: "STORAGE_REQUEST_FAIL", message: `STORAGE_REQUEST_FAIL: ${e4.data}` }));
      }).catch((e4) => {
        t2(e4);
      });
    }).catch((e3) => {
      t2(e3);
    }), t2.promise;
  }, Be = function(e2, t2) {
    t2 = t2 || ne();
    const n2 = xe(this.config.env), { cloudPath: s2 } = e2;
    return n2.send("storage.getUploadMetadata", { path: s2 }).then((e3) => {
      t2(null, e3);
    }).catch((e3) => {
      t2(e3);
    }), t2.promise;
  }, He = function({ fileList: e2 }, t2) {
    if (t2 = t2 || ne(), !e2 || !Array.isArray(e2))
      return { code: "INVALID_PARAM", message: "fileList\u5FC5\u987B\u662F\u975E\u7A7A\u7684\u6570\u7EC4" };
    for (let t3 of e2)
      if (!t3 || typeof t3 != "string")
        return { code: "INVALID_PARAM", message: "fileList\u7684\u5143\u7D20\u5FC5\u987B\u662F\u975E\u7A7A\u7684\u5B57\u7B26\u4E32" };
    const n2 = { fileid_list: e2 };
    return xe(this.config.env).send("storage.batchDeleteFile", n2).then((e3) => {
      e3.code ? t2(null, e3) : t2(null, { fileList: e3.data.delete_list, requestId: e3.requestId });
    }).catch((e3) => {
      t2(e3);
    }), t2.promise;
  }, We = function({ fileList: e2 }, t2) {
    t2 = t2 || ne(), e2 && Array.isArray(e2) || t2(null, { code: "INVALID_PARAM", message: "fileList\u5FC5\u987B\u662F\u975E\u7A7A\u7684\u6570\u7EC4" });
    let n2 = [];
    for (let s3 of e2)
      typeof s3 == "object" ? (s3.hasOwnProperty("fileID") && s3.hasOwnProperty("maxAge") || t2(null, { code: "INVALID_PARAM", message: "fileList\u7684\u5143\u7D20\u5FC5\u987B\u662F\u5305\u542BfileID\u548CmaxAge\u7684\u5BF9\u8C61" }), n2.push({ fileid: s3.fileID, max_age: s3.maxAge })) : typeof s3 == "string" ? n2.push({ fileid: s3 }) : t2(null, { code: "INVALID_PARAM", message: "fileList\u7684\u5143\u7D20\u5FC5\u987B\u662F\u5B57\u7B26\u4E32" });
    const s2 = { file_list: n2 };
    return xe(this.config.env).send("storage.batchGetDownloadUrl", s2).then((e3) => {
      e3.code ? t2(null, e3) : t2(null, { fileList: e3.data.download_list, requestId: e3.requestId });
    }).catch((e3) => {
      t2(e3);
    }), t2.promise;
  }, ze = async function({ fileID: e2 }, t2) {
    const n2 = (await We.call(this, { fileList: [{ fileID: e2, maxAge: 600 }] })).fileList[0];
    if (n2.code !== "SUCCESS")
      return t2 ? t2(n2) : new Promise((e3) => {
        e3(n2);
      });
    const s2 = xe(this.config.env);
    let o2 = n2.download_url;
    if (o2 = encodeURI(o2), !t2)
      return s2.download({ url: o2 });
    t2(await s2.download({ url: o2 }));
  }, Je = function({ name: e2, data: t2, query: n2, parse: s2, search: o2 }, r2) {
    const i2 = r2 || ne();
    let a2;
    try {
      a2 = t2 ? JSON.stringify(t2) : "";
    } catch (e3) {
      return Promise.reject(e3);
    }
    if (!e2)
      return Promise.reject(new B({ code: "PARAM_ERROR", message: "\u51FD\u6570\u540D\u4E0D\u80FD\u4E3A\u7A7A" }));
    const c2 = { inQuery: n2, parse: s2, search: o2, function_name: e2, request_data: a2 };
    return xe(this.config.env).send("functions.invokeFunction", c2).then((e3) => {
      if (e3.code)
        i2(null, e3);
      else {
        let t3 = e3.data.response_data;
        if (s2)
          i2(null, { result: t3, requestId: e3.requestId });
        else
          try {
            t3 = JSON.parse(e3.data.response_data), i2(null, { result: t3, requestId: e3.requestId });
          } catch (e4) {
            i2(new B({ message: "response data must be json" }));
          }
      }
      return i2.promise;
    }).catch((e3) => {
      i2(e3);
    }), i2.promise;
  }, Ve = { timeout: 15e3, persistence: "session" }, Ye = {};
  class Xe {
    constructor(e2) {
      this.config = e2 || this.config, this.authObj = void 0;
    }
    init(e2) {
      switch (ae.adapter || (this.requestClient = new ae.adapter.reqClass({ timeout: e2.timeout || 5e3, timeoutMsg: `\u8BF7\u6C42\u5728${(e2.timeout || 5e3) / 1e3}s\u5185\u672A\u5B8C\u6210\uFF0C\u5DF2\u4E2D\u65AD` })), this.config = __spreadValues(__spreadValues({}, Ve), e2), true) {
        case this.config.timeout > 6e5:
          console.warn("timeout\u5927\u4E8E\u53EF\u914D\u7F6E\u4E0A\u9650[10\u5206\u949F]\uFF0C\u5DF2\u91CD\u7F6E\u4E3A\u4E0A\u9650\u6570\u503C"), this.config.timeout = 6e5;
          break;
        case this.config.timeout < 100:
          console.warn("timeout\u5C0F\u4E8E\u53EF\u914D\u7F6E\u4E0B\u9650[100ms]\uFF0C\u5DF2\u91CD\u7F6E\u4E3A\u4E0B\u9650\u6570\u503C"), this.config.timeout = 100;
      }
      return new Xe(this.config);
    }
    auth({ persistence: e2 } = {}) {
      if (this.authObj)
        return this.authObj;
      const t2 = e2 || ae.adapter.primaryStorage || Ve.persistence;
      var n2;
      return t2 !== this.config.persistence && (this.config.persistence = t2), function(e3) {
        const { env: t3 } = e3;
        de[t3] = new he(e3), fe[t3] = new he(__spreadProps(__spreadValues({}, e3), { persistence: "local" }));
      }(this.config), n2 = this.config, Ue[n2.env] = new Re(n2), this.authObj = new $e(this.config), this.authObj;
    }
    on(e2, t2) {
      return _e.apply(this, [e2, t2]);
    }
    off(e2, t2) {
      return ke.apply(this, [e2, t2]);
    }
    callFunction(e2, t2) {
      return Je.apply(this, [e2, t2]);
    }
    deleteFile(e2, t2) {
      return He.apply(this, [e2, t2]);
    }
    getTempFileURL(e2, t2) {
      return We.apply(this, [e2, t2]);
    }
    downloadFile(e2, t2) {
      return ze.apply(this, [e2, t2]);
    }
    uploadFile(e2, t2) {
      return Ke.apply(this, [e2, t2]);
    }
    getUploadMetadata(e2, t2) {
      return Be.apply(this, [e2, t2]);
    }
    registerExtension(e2) {
      Ye[e2.name] = e2;
    }
    async invokeExtension(e2, t2) {
      const n2 = Ye[e2];
      if (!n2)
        throw new B({ message: `\u6269\u5C55${e2} \u5FC5\u987B\u5148\u6CE8\u518C` });
      return await n2.invoke(t2, this);
    }
    useAdapters(e2) {
      const { adapter: t2, runtime: n2 } = ie(e2) || {};
      t2 && (ae.adapter = t2), n2 && (ae.runtime = n2);
    }
  }
  var Ge = new Xe();
  function Qe(e2, t2, n2) {
    n2 === void 0 && (n2 = {});
    var s2 = /\?/.test(t2), o2 = "";
    for (var r2 in n2)
      o2 === "" ? !s2 && (t2 += "?") : o2 += "&", o2 += r2 + "=" + encodeURIComponent(n2[r2]);
    return /^http(s)?:\/\//.test(t2 += o2) ? t2 : "" + e2 + t2;
  }
  class Ze {
    post(e2) {
      const { url: t2, data: n2, headers: s2 } = e2;
      return new Promise((e3, o2) => {
        V.request({ url: Qe("https:", t2), data: n2, method: "POST", header: s2, success(t3) {
          e3(t3);
        }, fail(e4) {
          o2(e4);
        } });
      });
    }
    upload(e2) {
      return new Promise((t2, n2) => {
        const { url: s2, file: o2, data: r2, headers: i2, fileType: a2 } = e2, c2 = V.uploadFile({ url: Qe("https:", s2), name: "file", formData: Object.assign({}, r2), filePath: o2, fileType: a2, header: i2, success(e3) {
          const n3 = { statusCode: e3.statusCode, data: e3.data || {} };
          e3.statusCode === 200 && r2.success_action_status && (n3.statusCode = parseInt(r2.success_action_status, 10)), t2(n3);
        }, fail(e3) {
          n2(new Error(e3.errMsg || "uploadFile:fail"));
        } });
        typeof e2.onUploadProgress == "function" && c2 && typeof c2.onProgressUpdate == "function" && c2.onProgressUpdate((t3) => {
          e2.onUploadProgress({ loaded: t3.totalBytesSent, total: t3.totalBytesExpectedToSend });
        });
      });
    }
  }
  const et = { setItem(e2, t2) {
    V.setStorageSync(e2, t2);
  }, getItem: (e2) => V.getStorageSync(e2), removeItem(e2) {
    V.removeStorageSync(e2);
  }, clear() {
    V.clearStorageSync();
  } };
  var tt = { genAdapter: function() {
    return { root: {}, reqClass: Ze, localStorage: et, primaryStorage: "local" };
  }, isMatch: function() {
    return true;
  }, runtime: "uni_app" };
  Ge.useAdapters(tt);
  const nt = Ge, st = nt.init;
  nt.init = function(e2) {
    e2.env = e2.spaceId;
    const t2 = st.call(this, e2);
    t2.config.provider = "tencent", t2.config.spaceId = e2.spaceId;
    const n2 = t2.auth;
    return t2.auth = function(e3) {
      const t3 = n2.call(this, e3);
      return ["linkAndRetrieveDataWithTicket", "signInAnonymously", "signOut", "getAccessToken", "getLoginState", "signInWithTicket", "getUserInfo"].forEach((e4) => {
        t3[e4] = K(t3[e4]).bind(t3);
      }), t3;
    }, t2.customAuth = t2.auth, t2;
  };
  var ot = nt;
  function rt$1(e2) {
    return e2 && rt$1(e2.__v_raw) || e2;
  }
  function it() {
    return { token: V.getStorageSync("uni_id_token") || V.getStorageSync("uniIdToken"), tokenExpired: V.getStorageSync("uni_id_token_expired") };
  }
  function at({ token: e2, tokenExpired: t2 } = {}) {
    e2 && V.setStorageSync("uni_id_token", e2), t2 && V.setStorageSync("uni_id_token_expired", t2);
  }
  function ct() {
    if (g !== "web")
      return;
    uni.getStorageSync("__LAST_DCLOUD_APPID") !== _ && (uni.setStorageSync("__LAST_DCLOUD_APPID", _), console.warn("\u68C0\u6D4B\u5230\u5F53\u524D\u9879\u76EE\u4E0E\u4E0A\u6B21\u8FD0\u884C\u5230\u6B64\u7AEF\u53E3\u7684\u9879\u76EE\u4E0D\u4E00\u81F4\uFF0C\u81EA\u52A8\u6E05\u7406uni-id\u4FDD\u5B58\u7684token\u4FE1\u606F\uFF08\u4EC5\u5F00\u53D1\u8C03\u8BD5\u65F6\u751F\u6548\uFF09"), V.removeStorageSync("uni_id_token"), V.removeStorageSync("uniIdToken"), V.removeStorageSync("uni_id_token_expired"));
  }
  var ut = class extends G {
    getAccessToken() {
      return new Promise((e2, t2) => {
        const n2 = "Anonymous_Access_token";
        this.setAccessToken(n2), e2(n2);
      });
    }
    setupRequest(e2, t2) {
      const n2 = Object.assign({}, e2, { spaceId: this.config.spaceId, timestamp: Date.now() }), s2 = { "Content-Type": "application/json" };
      t2 !== "auth" && (n2.token = this.accessToken, s2["x-basement-token"] = this.accessToken), s2["x-serverless-sign"] = J.sign(n2, this.config.clientSecret);
      const o2 = z();
      s2["x-client-info"] = encodeURIComponent(JSON.stringify(o2));
      const { token: r2 } = it();
      return s2["x-client-token"] = r2, { url: this.config.requestUrl, method: "POST", data: n2, dataType: "json", header: JSON.parse(JSON.stringify(s2)) };
    }
    uploadFileToOSS({ url: e2, formData: t2, name: n2, filePath: s2, fileType: o2, onUploadProgress: r2 }) {
      return new Promise((i2, a2) => {
        const c2 = this.adapter.uploadFile({ url: e2, formData: t2, name: n2, filePath: s2, fileType: o2, success(e3) {
          e3 && e3.statusCode < 400 ? i2(e3) : a2(new B({ code: "UPLOAD_FAILED", message: "\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25" }));
        }, fail(e3) {
          a2(new B({ code: e3.code || "UPLOAD_FAILED", message: e3.message || e3.errMsg || "\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25" }));
        } });
        typeof r2 == "function" && c2 && typeof c2.onProgressUpdate == "function" && c2.onProgressUpdate((e3) => {
          r2({ loaded: e3.totalBytesSent, total: e3.totalBytesExpectedToSend });
        });
      });
    }
    uploadFile({ filePath: e2, cloudPath: t2, fileType: n2 = "image", onUploadProgress: s2 }) {
      if (!t2)
        throw new B({ code: "CLOUDPATH_REQUIRED", message: "cloudPath\u4E0D\u53EF\u4E3A\u7A7A" });
      let o2;
      return this.getOSSUploadOptionsFromPath({ cloudPath: t2 }).then((t3) => {
        const { url: r2, formData: i2, name: a2 } = t3.result;
        o2 = t3.result.fileUrl;
        const c2 = { url: r2, formData: i2, name: a2, filePath: e2, fileType: n2 };
        return this.uploadFileToOSS(Object.assign({}, c2, { onUploadProgress: s2 }));
      }).then(() => this.reportOSSUpload({ cloudPath: t2 })).then((t3) => new Promise((n3, s3) => {
        t3.success ? n3({ success: true, filePath: e2, fileID: o2 }) : s3(new B({ code: "UPLOAD_FAILED", message: "\u6587\u4EF6\u4E0A\u4F20\u5931\u8D25" }));
      }));
    }
    deleteFile({ fileList: e2 }) {
      const t2 = { method: "serverless.file.resource.delete", params: JSON.stringify({ fileList: e2 }) };
      return this.request(this.setupRequest(t2));
    }
    getTempFileURL({ fileList: e2 } = {}) {
      const t2 = { method: "serverless.file.resource.getTempFileURL", params: JSON.stringify({ fileList: e2 }) };
      return this.request(this.setupRequest(t2));
    }
  };
  var lt$1 = { init(e2) {
    const t2 = new ut(e2), n2 = { signInAnonymously: function() {
      return t2.authorize();
    }, getLoginState: function() {
      return Promise.resolve(false);
    } };
    return t2.auth = function() {
      return n2;
    }, t2.customAuth = t2.auth, t2;
  } };
  function ht({ data: e2 }) {
    let t2;
    t2 = z();
    const n2 = JSON.parse(JSON.stringify(e2 || {}));
    if (Object.assign(n2, { clientInfo: t2 }), !n2.uniIdToken) {
      const { token: e3 } = it();
      e3 && (n2.uniIdToken = e3);
    }
    return n2;
  }
  function dt({ name: e2, data: t2 } = {}) {
    const { localAddress: n2, localPort: s2 } = this.__dev__, o2 = { aliyun: "aliyun", tencent: "tcb" }[this.config.provider], r2 = this.config.spaceId, i2 = `http://${n2}:${s2}/system/check-function`, a2 = `http://${n2}:${s2}/cloudfunctions/${e2}`;
    return new Promise((t3, n3) => {
      V.request({ method: "POST", url: i2, data: { name: e2, platform: g, provider: o2, spaceId: r2 }, timeout: 3e3, success(e3) {
        t3(e3);
      }, fail() {
        t3({ data: { code: "NETWORK_ERROR", message: "\u8FDE\u63A5\u672C\u5730\u8C03\u8BD5\u670D\u52A1\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u5BA2\u6237\u7AEF\u662F\u5426\u548C\u4E3B\u673A\u5728\u540C\u4E00\u5C40\u57DF\u7F51\u4E0B\uFF0C\u81EA\u52A8\u5207\u6362\u4E3A\u5DF2\u90E8\u7F72\u7684\u4E91\u51FD\u6570\u3002" } });
      } });
    }).then(({ data: e3 } = {}) => {
      const { code: t3, message: n3 } = e3 || {};
      return { code: t3 === 0 ? 0 : t3 || "SYS_ERR", message: n3 || "SYS_ERR" };
    }).then(({ code: n3, message: s3 }) => {
      if (n3 !== 0) {
        switch (n3) {
          case "MODULE_ENCRYPTED":
            console.error(`\u6B64\u4E91\u51FD\u6570\uFF08${e2}\uFF09\u4F9D\u8D56\u52A0\u5BC6\u516C\u5171\u6A21\u5757\u4E0D\u53EF\u672C\u5730\u8C03\u8BD5\uFF0C\u81EA\u52A8\u5207\u6362\u4E3A\u4E91\u7AEF\u5DF2\u90E8\u7F72\u7684\u4E91\u51FD\u6570`);
            break;
          case "FUNCTION_ENCRYPTED":
            console.error(`\u6B64\u4E91\u51FD\u6570\uFF08${e2}\uFF09\u5DF2\u52A0\u5BC6\u4E0D\u53EF\u672C\u5730\u8C03\u8BD5\uFF0C\u81EA\u52A8\u5207\u6362\u4E3A\u4E91\u7AEF\u5DF2\u90E8\u7F72\u7684\u4E91\u51FD\u6570`);
            break;
          case "ACTION_ENCRYPTED":
            console.error(s3 || "\u9700\u8981\u8BBF\u95EE\u52A0\u5BC6\u7684uni-clientDB-action\uFF0C\u81EA\u52A8\u5207\u6362\u4E3A\u4E91\u7AEF\u73AF\u5883");
            break;
          case "NETWORK_ERROR": {
            const e3 = "\u8FDE\u63A5\u672C\u5730\u8C03\u8BD5\u670D\u52A1\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u5BA2\u6237\u7AEF\u662F\u5426\u548C\u4E3B\u673A\u5728\u540C\u4E00\u5C40\u57DF\u7F51\u4E0B";
            throw console.error(e3), new Error(e3);
          }
          case "SWITCH_TO_CLOUD":
            break;
          default: {
            const e3 = `\u68C0\u6D4B\u672C\u5730\u8C03\u8BD5\u670D\u52A1\u51FA\u73B0\u9519\u8BEF\uFF1A${s3}\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u73AF\u5883\u6216\u91CD\u542F\u5BA2\u6237\u7AEF\u518D\u8BD5`;
            throw console.error(e3), new Error(e3);
          }
        }
        return this._callCloudFunction({ name: e2, data: t2 });
      }
      return new Promise((e3, n4) => {
        const s4 = ht.call(this, { data: t2 });
        V.request({ method: "POST", url: a2, data: { provider: o2, platform: g, param: s4 }, success: ({ statusCode: t3, data: s5 } = {}) => !t3 || t3 >= 400 ? n4(new B({ code: s5.code || "SYS_ERR", message: s5.message || "request:fail" })) : e3({ result: s5 }), fail(e4) {
          n4(new B({ code: e4.code || e4.errCode || "SYS_ERR", message: e4.message || e4.errMsg || "request:fail" }));
        } });
      });
    });
  }
  const ft = [{ rule: /fc_function_not_found|FUNCTION_NOT_FOUND/, content: "\uFF0C\u4E91\u51FD\u6570[{functionName}]\u5728\u4E91\u7AEF\u4E0D\u5B58\u5728\uFF0C\u8BF7\u68C0\u67E5\u6B64\u4E91\u51FD\u6570\u540D\u79F0\u662F\u5426\u6B63\u786E\u4EE5\u53CA\u8BE5\u4E91\u51FD\u6570\u662F\u5426\u5DF2\u4E0A\u4F20\u5230\u670D\u52A1\u7A7A\u95F4", mode: "append" }];
  var gt = /[\\^$.*+?()[\]{}|]/g, pt = RegExp(gt.source);
  function mt(e2, t2, n2) {
    return e2.replace(new RegExp((s2 = t2) && pt.test(s2) ? s2.replace(gt, "\\$&") : s2, "g"), n2);
    var s2;
  }
  function yt({ functionName: e2, result: t2, logPvd: n2 }) {
    if (this.__dev__.debugLog && t2 && t2.requestId) {
      const s2 = JSON.stringify({ spaceId: this.config.spaceId, functionName: e2, requestId: t2.requestId });
      console.log(`[${n2}-request]${s2}[/${n2}-request]`);
    }
  }
  function _t(e2) {
    const t2 = e2.callFunction, n2 = function(n3) {
      const s2 = n3.name;
      n3.data = ht.call(e2, { data: n3.data });
      const o2 = { aliyun: "aliyun", tencent: "tcb", tcb: "tcb" }[this.config.provider];
      return t2.call(this, n3).then((e3) => (e3.errCode = 0, yt.call(this, { functionName: s2, result: e3, logPvd: o2 }), Promise.resolve(e3)), (e3) => (yt.call(this, { functionName: s2, result: e3, logPvd: o2 }), e3 && e3.message && (e3.message = function({ message: e4 = "", extraInfo: t3 = {}, formatter: n4 = [] } = {}) {
        for (let s3 = 0; s3 < n4.length; s3++) {
          const { rule: o3, content: r2, mode: i2 } = n4[s3], a2 = e4.match(o3);
          if (!a2)
            continue;
          let c2 = r2;
          for (let e5 = 1; e5 < a2.length; e5++)
            c2 = mt(c2, `{$${e5}}`, a2[e5]);
          for (const e5 in t3)
            c2 = mt(c2, `{${e5}}`, t3[e5]);
          return i2 === "replace" ? c2 : e4 + c2;
        }
        return e4;
      }({ message: `[${n3.name}]: ${e3.message}`, formatter: ft, extraInfo: { functionName: s2 } })), Promise.reject(e3)));
    };
    e2.callFunction = function(t3) {
      let s2;
      e2.__dev__.debugInfo && !e2.__dev__.debugInfo.forceRemote && m$1 ? (e2._callCloudFunction || (e2._callCloudFunction = n2, e2._callLocalFunction = dt), s2 = dt) : s2 = n2;
      const o2 = s2.call(this, t3);
      return Object.defineProperty(o2, "result", { get: () => (console.warn("\u5F53\u524D\u8FD4\u56DE\u7ED3\u679C\u4E3APromise\u7C7B\u578B\uFF0C\u4E0D\u53EF\u76F4\u63A5\u8BBF\u95EE\u5176result\u5C5E\u6027\uFF0C\u8BE6\u60C5\u8BF7\u53C2\u8003\uFF1Ahttps://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"), {}) }), o2;
    };
  }
  const wt = Symbol("CLIENT_DB_INTERNAL");
  function kt(e2, t2) {
    return e2.then = "DoNotReturnProxyWithAFunctionNamedThen", e2._internalType = wt, e2.__v_raw = void 0, new Proxy(e2, { get(e3, n2, s2) {
      if (n2 === "_uniClient")
        return null;
      if (n2 in e3 || typeof n2 != "string") {
        const t3 = e3[n2];
        return typeof t3 == "function" ? t3.bind(e3) : t3;
      }
      return t2.get(e3, n2, s2);
    } });
  }
  function vt(e2) {
    return { on: (t2, n2) => {
      e2[t2] = e2[t2] || [], e2[t2].indexOf(n2) > -1 || e2[t2].push(n2);
    }, off: (t2, n2) => {
      e2[t2] = e2[t2] || [];
      const s2 = e2[t2].indexOf(n2);
      s2 !== -1 && e2[t2].splice(s2, 1);
    } };
  }
  const Tt = ["db.Geo", "db.command", "command.aggregate"];
  function St(e2, t2) {
    return Tt.indexOf(`${e2}.${t2}`) > -1;
  }
  function Pt(e2) {
    switch (u(e2 = rt$1(e2))) {
      case "array":
        return e2.map((e3) => Pt(e3));
      case "object":
        return e2._internalType === wt || Object.keys(e2).forEach((t2) => {
          e2[t2] = Pt(e2[t2]);
        }), e2;
      case "regexp":
        return { $regexp: { source: e2.source, flags: e2.flags } };
      case "date":
        return { $date: e2.toISOString() };
      default:
        return e2;
    }
  }
  function At(e2) {
    return e2 && e2.content && e2.content.$method;
  }
  class It {
    constructor(e2, t2, n2) {
      this.content = e2, this.prevStage = t2 || null, this.udb = null, this._database = n2;
    }
    toJSON() {
      let e2 = this;
      const t2 = [e2.content];
      for (; e2.prevStage; )
        e2 = e2.prevStage, t2.push(e2.content);
      return { $db: t2.reverse().map((e3) => ({ $method: e3.$method, $param: Pt(e3.$param) })) };
    }
    getAction() {
      const e2 = this.toJSON().$db.find((e3) => e3.$method === "action");
      return e2 && e2.$param && e2.$param[0];
    }
    getCommand() {
      return { $db: this.toJSON().$db.filter((e2) => e2.$method !== "action") };
    }
    get isAggregate() {
      let e2 = this;
      for (; e2; ) {
        const t2 = At(e2), n2 = At(e2.prevStage);
        if (t2 === "aggregate" && n2 === "collection" || t2 === "pipeline")
          return true;
        e2 = e2.prevStage;
      }
      return false;
    }
    get isCommand() {
      let e2 = this;
      for (; e2; ) {
        if (At(e2) === "command")
          return true;
        e2 = e2.prevStage;
      }
      return false;
    }
    get isAggregateCommand() {
      let e2 = this;
      for (; e2; ) {
        const t2 = At(e2), n2 = At(e2.prevStage);
        if (t2 === "aggregate" && n2 === "command")
          return true;
        e2 = e2.prevStage;
      }
      return false;
    }
    get count() {
      if (!this.isAggregate)
        return function() {
          return this._send("count", Array.from(arguments));
        };
      const e2 = this;
      return function() {
        return bt({ $method: "count", $param: Pt(Array.from(arguments)) }, e2, this._database);
      };
    }
    get remove() {
      if (!this.isCommand)
        return function() {
          return this._send("remove", Array.from(arguments));
        };
      const e2 = this;
      return function() {
        return bt({ $method: "remove", $param: Pt(Array.from(arguments)) }, e2, this._database);
      };
    }
    get() {
      return this._send("get", Array.from(arguments));
    }
    add() {
      return this._send("add", Array.from(arguments));
    }
    update() {
      return this._send("update", Array.from(arguments));
    }
    end() {
      return this._send("end", Array.from(arguments));
    }
    get set() {
      if (!this.isCommand)
        return function() {
          throw new Error("JQL\u7981\u6B62\u4F7F\u7528set\u65B9\u6CD5");
        };
      const e2 = this;
      return function() {
        return bt({ $method: "set", $param: Pt(Array.from(arguments)) }, e2, this._database);
      };
    }
    _send(e2, t2) {
      const n2 = this.getAction(), s2 = this.getCommand();
      if (s2.$db.push({ $method: e2, $param: Pt(t2) }), d) {
        const e3 = s2.$db.find((e4) => e4.$method === "collection"), t3 = e3 && e3.$param;
        t3 && t3.length === 1 && typeof e3.$param[0] == "string" && e3.$param[0].indexOf(",") > -1 && console.warn("\u68C0\u6D4B\u5230\u4F7F\u7528JQL\u8BED\u6CD5\u8054\u8868\u67E5\u8BE2\u65F6\uFF0C\u672A\u4F7F\u7528getTemp\u5148\u8FC7\u6EE4\u4E3B\u8868\u6570\u636E\uFF0C\u5728\u4E3B\u8868\u6570\u636E\u91CF\u5927\u7684\u60C5\u51B5\u4E0B\u53EF\u80FD\u4F1A\u67E5\u8BE2\u7F13\u6162\u3002\n- \u5982\u4F55\u4F18\u5316\u8BF7\u53C2\u8003\u6B64\u6587\u6863\uFF1Ahttps://uniapp.dcloud.net.cn/uniCloud/jql?id=lookup-with-temp \n- \u5982\u679C\u4E3B\u8868\u6570\u636E\u91CF\u5F88\u5C0F\u8BF7\u5FFD\u7565\u6B64\u4FE1\u606F\uFF0C\u9879\u76EE\u53D1\u884C\u65F6\u4E0D\u4F1A\u51FA\u73B0\u6B64\u63D0\u793A\u3002");
      }
      return this._database._callCloudFunction({ action: n2, command: s2 });
    }
  }
  function bt(e2, t2, n2) {
    return kt(new It(e2, t2, n2), { get(e3, t3) {
      let s2 = "db";
      return e3 && e3.content && (s2 = e3.content.$method), St(s2, t3) ? bt({ $method: t3 }, e3, n2) : function() {
        return bt({ $method: t3, $param: Pt(Array.from(arguments)) }, e3, n2);
      };
    } });
  }
  function Ot({ path: e2, method: t2 }) {
    return class {
      constructor() {
        this.param = Array.from(arguments);
      }
      toJSON() {
        return { $newDb: [...e2.map((e3) => ({ $method: e3 })), { $method: t2, $param: this.param }] };
      }
    };
  }
  class Ct extends class {
    constructor({ uniClient: e2 = {} } = {}) {
      this._uniClient = e2, this._authCallBacks = {}, this._dbCallBacks = {}, e2.isDefault && (this._dbCallBacks = k("_globalUniCloudDatabaseCallback")), this.auth = vt(this._authCallBacks), Object.assign(this, vt(this._dbCallBacks)), this.env = kt({}, { get: (e3, t2) => ({ $env: t2 }) }), this.Geo = kt({}, { get: (e3, t2) => Ot({ path: ["Geo"], method: t2 }) }), this.serverDate = Ot({ path: [], method: "serverDate" }), this.RegExp = Ot({ path: [], method: "RegExp" });
    }
    getCloudEnv(e2) {
      if (typeof e2 != "string" || !e2.trim())
        throw new Error("getCloudEnv\u53C2\u6570\u9519\u8BEF");
      return { $env: e2.replace("$cloudEnv_", "") };
    }
    _callback(e2, t2) {
      const n2 = this._dbCallBacks;
      n2[e2] && n2[e2].forEach((e3) => {
        e3(...t2);
      });
    }
    _callbackAuth(e2, t2) {
      const n2 = this._authCallBacks;
      n2[e2] && n2[e2].forEach((e3) => {
        e3(...t2);
      });
    }
    multiSend() {
      const e2 = Array.from(arguments), t2 = e2.map((e3) => {
        const t3 = e3.getAction(), n2 = e3.getCommand();
        if (n2.$db[n2.$db.length - 1].$method !== "getTemp")
          throw new Error("multiSend\u53EA\u652F\u6301\u5B50\u547D\u4EE4\u5185\u4F7F\u7528getTemp");
        return { action: t3, command: n2 };
      });
      return this._callCloudFunction({ multiCommand: t2, queryList: e2 });
    }
  } {
    _callCloudFunction({ action: e2, command: t2, multiCommand: n2, queryList: s2 }) {
      function o2(e3, t3) {
        if (n2 && s2)
          for (let n3 = 0; n3 < s2.length; n3++) {
            const o3 = s2[n3];
            o3.udb && typeof o3.udb.setResult == "function" && (t3 ? o3.udb.setResult(t3) : o3.udb.setResult(e3.result.dataList[n3]));
          }
      }
      const r2 = this;
      function i2(e3) {
        return r2._callback("error", [e3]), A(I("database", "fail"), e3).then(() => A(I("database", "complete"), e3)).then(() => (o2(null, e3), F(C, { type: U, content: e3 }), Promise.reject(e3)));
      }
      const a2 = A(I("database", "invoke")), u2 = this._uniClient;
      return a2.then(() => u2.callFunction({ name: "DCloud-clientDB", type: c, data: { action: e2, command: t2, multiCommand: n2 } })).then((e3) => {
        const { code: t3, message: n3, token: s3, tokenExpired: r3, systemInfo: a3 = [] } = e3.result;
        if (a3)
          for (let e4 = 0; e4 < a3.length; e4++) {
            const { level: t4, message: n4, detail: s4 } = a3[e4], o3 = console[g === "app" && t4 === "warn" ? "error" : t4] || console.log;
            let r4 = "[System Info]" + n4;
            s4 && (r4 = `${r4}
\u8BE6\u7EC6\u4FE1\u606F\uFF1A${s4}`), o3(r4);
          }
        if (t3) {
          return i2(new B({ code: t3, message: n3, requestId: e3.requestId }));
        }
        e3.result.errCode = e3.result.code, e3.result.errMsg = e3.result.message, s3 && r3 && (at({ token: s3, tokenExpired: r3 }), this._callbackAuth("refreshToken", [{ token: s3, tokenExpired: r3 }]), this._callback("refreshToken", [{ token: s3, tokenExpired: r3 }]), F(R, { token: s3, tokenExpired: r3 }));
        const c2 = [{ prop: "affectedDocs", tips: "affectedDocs\u4E0D\u518D\u63A8\u8350\u4F7F\u7528\uFF0C\u8BF7\u4F7F\u7528inserted/deleted/updated/data.length\u66FF\u4EE3" }, { prop: "code", tips: "code\u4E0D\u518D\u63A8\u8350\u4F7F\u7528\uFF0C\u8BF7\u4F7F\u7528errCode\u66FF\u4EE3" }, { prop: "message", tips: "message\u4E0D\u518D\u63A8\u8350\u4F7F\u7528\uFF0C\u8BF7\u4F7F\u7528errMsg\u66FF\u4EE3" }];
        for (let t4 = 0; t4 < c2.length; t4++) {
          const { prop: n4, tips: s4 } = c2[t4];
          if (n4 in e3.result) {
            const t5 = e3.result[n4];
            Object.defineProperty(e3.result, n4, { get: () => (console.warn(s4), t5) });
          }
        }
        return function(e4) {
          return A(I("database", "success"), e4).then(() => A(I("database", "complete"), e4)).then(() => (o2(e4, null), F(C, { type: U, content: e4 }), Promise.resolve(e4)));
        }(e3);
      }, (e3) => {
        /fc_function_not_found|FUNCTION_NOT_FOUND/g.test(e3.message) && console.warn("clientDB\u672A\u521D\u59CB\u5316\uFF0C\u8BF7\u5728web\u63A7\u5236\u53F0\u4FDD\u5B58\u4E00\u6B21schema\u4EE5\u5F00\u542FclientDB");
        return i2(new B({ code: e3.code || "SYSTEM_ERROR", message: e3.message, requestId: e3.requestId }));
      });
    }
  }
  function Et(e2) {
    e2.database = function(t2) {
      if (t2 && Object.keys(t2).length > 0)
        return e2.init(t2).database();
      if (this._database)
        return this._database;
      const n2 = function(e3, t3 = {}) {
        return kt(new e3(t3), { get: (e4, t4) => St("db", t4) ? bt({ $method: t4 }, null, e4) : function() {
          return bt({ $method: t4, $param: Pt(Array.from(arguments)) }, null, e4);
        } });
      }(Ct, { uniClient: e2 });
      return this._database = n2, n2;
    };
  }
  const Rt = "token\u65E0\u6548\uFF0C\u8DF3\u8F6C\u767B\u5F55\u9875\u9762", Ut = "token\u8FC7\u671F\uFF0C\u8DF3\u8F6C\u767B\u5F55\u9875\u9762", xt = { TOKEN_INVALID_TOKEN_EXPIRED: Ut, TOKEN_INVALID_INVALID_CLIENTID: Rt, TOKEN_INVALID: Rt, TOKEN_INVALID_WRONG_TOKEN: Rt, TOKEN_INVALID_ANONYMOUS_USER: Rt }, Lt = { "uni-id-token-expired": Ut, "uni-id-check-token-failed": Rt, "uni-id-token-not-exist": Rt, "uni-id-check-device-feature-failed": Rt };
  function Dt(e2, t2) {
    let n2 = "";
    return n2 = e2 ? `${e2}/${t2}` : t2, n2.replace(/^\//, "");
  }
  function Nt(e2 = [], t2 = "") {
    const n2 = [], s2 = [];
    return e2.forEach((e3) => {
      e3.needLogin === true ? n2.push(Dt(t2, e3.path)) : e3.needLogin === false && s2.push(Dt(t2, e3.path));
    }), { needLoginPage: n2, notNeedLoginPage: s2 };
  }
  function qt(e2) {
    return e2.split("?")[0].replace(/^\//, "");
  }
  function Ft() {
    return function(e2) {
      let t2 = e2 && e2.$page && e2.$page.fullPath || "";
      return t2 ? (t2.charAt(0) !== "/" && (t2 = "/" + t2), t2) : t2;
    }(function() {
      const e2 = getCurrentPages();
      return e2[e2.length - 1];
    }());
  }
  function Mt() {
    return qt(Ft());
  }
  function jt(e2 = "", t2 = {}) {
    if (!e2)
      return false;
    if (!(t2 && t2.list && t2.list.length))
      return false;
    const n2 = t2.list, s2 = qt(e2);
    return n2.some((e3) => e3.pagePath === s2);
  }
  const $t = !!t.uniIdRouter;
  const { loginPage: Kt, routerNeedLogin: Bt, resToLogin: Ht, needLoginPage: Wt, notNeedLoginPage: zt, loginPageInTabBar: Jt } = function({ pages: e2 = [], subPackages: n2 = [], uniIdRouter: s2 = {}, tabBar: o2 = {} } = t) {
    const { loginPage: r2, needLogin: i2 = [], resToLogin: a2 = true } = s2, { needLoginPage: c2, notNeedLoginPage: u2 } = Nt(e2), { needLoginPage: l2, notNeedLoginPage: h2 } = function(e3 = []) {
      const t2 = [], n3 = [];
      return e3.forEach((e4) => {
        const { root: s3, pages: o3 = [] } = e4, { needLoginPage: r3, notNeedLoginPage: i3 } = Nt(o3, s3);
        t2.push(...r3), n3.push(...i3);
      }), { needLoginPage: t2, notNeedLoginPage: n3 };
    }(n2);
    return { loginPage: r2, routerNeedLogin: i2, resToLogin: a2, needLoginPage: [...c2, ...l2], notNeedLoginPage: [...u2, ...h2], loginPageInTabBar: jt(r2, o2) };
  }();
  if (Wt.indexOf(Kt) > -1)
    throw new Error(`Login page [${Kt}] should not be "needLogin", please check your pages.json`);
  function Vt(e2) {
    const t2 = qt(function(e3) {
      const t3 = Mt(), n2 = e3.charAt(0), s2 = e3.split("?")[0];
      if (n2 === "/")
        return s2;
      const o2 = s2.replace(/^\//, "").split("/"), r2 = t3.split("/");
      r2.pop();
      for (let e4 = 0; e4 < o2.length; e4++) {
        const t4 = o2[e4];
        t4 === ".." ? r2.pop() : t4 !== "." && r2.push(t4);
      }
      return r2[0] === "" && r2.shift(), r2.join("/");
    }(e2));
    return !(zt.indexOf(t2) > -1) && (Wt.indexOf(t2) > -1 || Bt.some((t3) => function(e3, t4) {
      return new RegExp(t4).test(e3);
    }(e2, t3)));
  }
  function Yt({ redirect: e2 }) {
    const t2 = qt(e2), n2 = qt(Kt);
    return Mt() !== n2 && t2 !== n2;
  }
  function Xt({ api: e2, redirect: t2 } = {}) {
    if (!t2 || !Yt({ redirect: t2 }))
      return;
    const n2 = function(e3, t3) {
      return e3.charAt(0) !== "/" && (e3 = "/" + e3), t3 ? e3.indexOf("?") > -1 ? e3 + `&uniIdRedirectUrl=${encodeURIComponent(t3)}` : e3 + `?uniIdRedirectUrl=${encodeURIComponent(t3)}` : e3;
    }(Kt, t2);
    Jt ? e2 !== "navigateTo" && e2 !== "redirectTo" || (e2 = "switchTab") : e2 === "switchTab" && (e2 = "navigateTo"), setTimeout(() => {
      uni[e2]({ url: n2 });
    });
  }
  function Gt({ url: e2 } = {}) {
    const t2 = { abortLoginPageJump: false, autoToLoginPage: false }, n2 = function() {
      const { token: e3, tokenExpired: t3 } = it();
      let n3;
      if (e3) {
        if (t3 < Date.now()) {
          const e4 = "uni-id-token-expired";
          n3 = { errCode: e4, errMsg: Lt[e4] };
        }
      } else {
        const e4 = "uni-id-check-token-failed";
        n3 = { errCode: e4, errMsg: Lt[e4] };
      }
      return n3;
    }();
    if (Vt(e2) && n2) {
      n2.uniIdRedirectUrl = e2;
      if (D(E).length > 0)
        return setTimeout(() => {
          F(E, n2);
        }, 0), t2.abortLoginPageJump = true, t2;
      t2.autoToLoginPage = true;
    }
    return t2;
  }
  function Qt() {
    !function() {
      const e3 = Ft(), { abortLoginPageJump: t2, autoToLoginPage: n2 } = Gt({ url: e3 });
      t2 || n2 && Xt({ api: "redirectTo", redirect: e3 });
    }();
    const e2 = ["navigateTo", "redirectTo", "reLaunch", "switchTab"];
    for (let t2 = 0; t2 < e2.length; t2++) {
      const n2 = e2[t2];
      uni.addInterceptor(n2, { invoke(e3) {
        const { abortLoginPageJump: t3, autoToLoginPage: s2 } = Gt({ url: e3.url });
        return t3 ? e3 : s2 ? (Xt({ api: n2, redirect: e3.url }), false) : e3;
      } });
    }
  }
  function Zt() {
    this.onResponse((e2) => {
      const { type: t2, content: n2 } = e2;
      let s2 = false;
      switch (t2) {
        case "cloudobject":
          s2 = function(e3) {
            const { errCode: t3 } = e3;
            return t3 in Lt;
          }(n2);
          break;
        case "clientdb":
          s2 = function(e3) {
            const { errCode: t3 } = e3;
            return t3 in xt;
          }(n2);
      }
      s2 && function(e3 = {}) {
        const t3 = D(E);
        $().then(() => {
          const n3 = Ft();
          if (n3 && Yt({ redirect: n3 }))
            return t3.length > 0 ? F(E, Object.assign({ uniIdRedirectUrl: n3 }, e3)) : void (Kt && Xt({ api: "navigateTo", redirect: n3 }));
        });
      }(n2);
    });
  }
  function en(e2) {
    !function(e3) {
      e3.onResponse = function(e4) {
        N(C, e4);
      }, e3.offResponse = function(e4) {
        q(C, e4);
      };
    }(e2), function(e3) {
      e3.onNeedLogin = function(e4) {
        N(E, e4);
      }, e3.offNeedLogin = function(e4) {
        q(E, e4);
      }, $t && (k("uni-cloud-status").needLoginInit || (k("uni-cloud-status").needLoginInit = true, $().then(() => {
        Qt.call(e3);
      }), Ht && Zt.call(e3)));
    }(e2), function(e3) {
      e3.onRefreshToken = function(e4) {
        N(R, e4);
      }, e3.offRefreshToken = function(e4) {
        q(R, e4);
      };
    }(e2);
  }
  let tn;
  const nn = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", sn = /^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;
  function on() {
    const e2 = it().token || "", t2 = e2.split(".");
    if (!e2 || t2.length !== 3)
      return { uid: null, role: [], permission: [], tokenExpired: 0 };
    let n2;
    try {
      n2 = JSON.parse((s2 = t2[1], decodeURIComponent(tn(s2).split("").map(function(e3) {
        return "%" + ("00" + e3.charCodeAt(0).toString(16)).slice(-2);
      }).join(""))));
    } catch (e3) {
      throw new Error("\u83B7\u53D6\u5F53\u524D\u7528\u6237\u4FE1\u606F\u51FA\u9519\uFF0C\u8BE6\u7EC6\u9519\u8BEF\u4FE1\u606F\u4E3A\uFF1A" + e3.message);
    }
    var s2;
    return n2.tokenExpired = 1e3 * n2.exp, delete n2.exp, delete n2.iat, n2;
  }
  tn = typeof atob != "function" ? function(e2) {
    if (e2 = String(e2).replace(/[\t\n\f\r ]+/g, ""), !sn.test(e2))
      throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");
    var t2;
    e2 += "==".slice(2 - (3 & e2.length));
    for (var n2, s2, o2 = "", r2 = 0; r2 < e2.length; )
      t2 = nn.indexOf(e2.charAt(r2++)) << 18 | nn.indexOf(e2.charAt(r2++)) << 12 | (n2 = nn.indexOf(e2.charAt(r2++))) << 6 | (s2 = nn.indexOf(e2.charAt(r2++))), o2 += n2 === 64 ? String.fromCharCode(t2 >> 16 & 255) : s2 === 64 ? String.fromCharCode(t2 >> 16 & 255, t2 >> 8 & 255) : String.fromCharCode(t2 >> 16 & 255, t2 >> 8 & 255, 255 & t2);
    return o2;
  } : atob;
  var rn = s(function(e2, t2) {
    Object.defineProperty(t2, "__esModule", { value: true });
    const n2 = "chooseAndUploadFile:ok", s2 = "chooseAndUploadFile:fail";
    function o2(e3, t3) {
      return e3.tempFiles.forEach((e4, n3) => {
        e4.name || (e4.name = e4.path.substring(e4.path.lastIndexOf("/") + 1)), t3 && (e4.fileType = t3), e4.cloudPath = Date.now() + "_" + n3 + e4.name.substring(e4.name.lastIndexOf("."));
      }), e3.tempFilePaths || (e3.tempFilePaths = e3.tempFiles.map((e4) => e4.path)), e3;
    }
    function r2(e3, t3, { onChooseFile: s3, onUploadProgress: o3 }) {
      return t3.then((e4) => {
        if (s3) {
          const t4 = s3(e4);
          if (t4 !== void 0)
            return Promise.resolve(t4).then((t5) => t5 === void 0 ? e4 : t5);
        }
        return e4;
      }).then((t4) => t4 === false ? { errMsg: n2, tempFilePaths: [], tempFiles: [] } : function(e4, t5, s4 = 5, o4) {
        (t5 = Object.assign({}, t5)).errMsg = n2;
        const r3 = t5.tempFiles, i2 = r3.length;
        let a2 = 0;
        return new Promise((n3) => {
          for (; a2 < s4; )
            c2();
          function c2() {
            const s5 = a2++;
            if (s5 >= i2)
              return void (!r3.find((e5) => !e5.url && !e5.errMsg) && n3(t5));
            const u2 = r3[s5];
            e4.uploadFile({ filePath: u2.path, cloudPath: u2.cloudPath, fileType: u2.fileType, onUploadProgress(e5) {
              e5.index = s5, e5.tempFile = u2, e5.tempFilePath = u2.path, o4 && o4(e5);
            } }).then((e5) => {
              u2.url = e5.fileID, s5 < i2 && c2();
            }).catch((e5) => {
              u2.errMsg = e5.errMsg || e5.message, s5 < i2 && c2();
            });
          }
        });
      }(e3, t4, 5, o3));
    }
    t2.initChooseAndUploadFile = function(e3) {
      return function(t3 = { type: "all" }) {
        return t3.type === "image" ? r2(e3, function(e4) {
          const { count: t4, sizeType: n3, sourceType: r3 = ["album", "camera"], extension: i2 } = e4;
          return new Promise((e5, a2) => {
            uni.chooseImage({ count: t4, sizeType: n3, sourceType: r3, extension: i2, success(t5) {
              e5(o2(t5, "image"));
            }, fail(e6) {
              a2({ errMsg: e6.errMsg.replace("chooseImage:fail", s2) });
            } });
          });
        }(t3), t3) : t3.type === "video" ? r2(e3, function(e4) {
          const { camera: t4, compressed: n3, maxDuration: r3, sourceType: i2 = ["album", "camera"], extension: a2 } = e4;
          return new Promise((e5, c2) => {
            uni.chooseVideo({ camera: t4, compressed: n3, maxDuration: r3, sourceType: i2, extension: a2, success(t5) {
              const { tempFilePath: n4, duration: s3, size: r4, height: i3, width: a3 } = t5;
              e5(o2({ errMsg: "chooseVideo:ok", tempFilePaths: [n4], tempFiles: [{ name: t5.tempFile && t5.tempFile.name || "", path: n4, size: r4, type: t5.tempFile && t5.tempFile.type || "", width: a3, height: i3, duration: s3, fileType: "video", cloudPath: "" }] }, "video"));
            }, fail(e6) {
              c2({ errMsg: e6.errMsg.replace("chooseVideo:fail", s2) });
            } });
          });
        }(t3), t3) : r2(e3, function(e4) {
          const { count: t4, extension: n3 } = e4;
          return new Promise((e5, r3) => {
            let i2 = uni.chooseFile;
            if (typeof wx != "undefined" && typeof wx.chooseMessageFile == "function" && (i2 = wx.chooseMessageFile), typeof i2 != "function")
              return r3({ errMsg: s2 + " \u8BF7\u6307\u5B9A type \u7C7B\u578B\uFF0C\u8BE5\u5E73\u53F0\u4EC5\u652F\u6301\u9009\u62E9 image \u6216 video\u3002" });
            i2({ type: "all", count: t4, extension: n3, success(t5) {
              e5(o2(t5));
            }, fail(e6) {
              r3({ errMsg: e6.errMsg.replace("chooseFile:fail", s2) });
            } });
          });
        }(t3), t3);
      };
    };
  }), an = n(rn);
  const cn = "manual";
  function un(e2) {
    return { props: { localdata: { type: Array, default: () => [] }, options: { type: [Object, Array], default: () => ({}) }, spaceInfo: { type: Object, default: () => ({}) }, collection: { type: [String, Array], default: "" }, action: { type: String, default: "" }, field: { type: String, default: "" }, orderby: { type: String, default: "" }, where: { type: [String, Object], default: "" }, pageData: { type: String, default: "add" }, pageCurrent: { type: Number, default: 1 }, pageSize: { type: Number, default: 20 }, getcount: { type: [Boolean, String], default: false }, gettree: { type: [Boolean, String], default: false }, gettreepath: { type: [Boolean, String], default: false }, startwith: { type: String, default: "" }, limitlevel: { type: Number, default: 10 }, groupby: { type: String, default: "" }, groupField: { type: String, default: "" }, distinct: { type: [Boolean, String], default: false }, foreignKey: { type: String, default: "" }, loadtime: { type: String, default: "auto" }, manual: { type: Boolean, default: false } }, data: () => ({ mixinDatacomLoading: false, mixinDatacomHasMore: false, mixinDatacomResData: [], mixinDatacomErrorMessage: "", mixinDatacomPage: {} }), created() {
      this.mixinDatacomPage = { current: this.pageCurrent, size: this.pageSize, count: 0 }, this.$watch(() => {
        var e3 = [];
        return ["pageCurrent", "pageSize", "localdata", "collection", "action", "field", "orderby", "where", "getont", "getcount", "gettree", "groupby", "groupField", "distinct"].forEach((t2) => {
          e3.push(this[t2]);
        }), e3;
      }, (e3, t2) => {
        if (this.loadtime === cn)
          return;
        let n2 = false;
        const s2 = [];
        for (let o2 = 2; o2 < e3.length; o2++)
          e3[o2] !== t2[o2] && (s2.push(e3[o2]), n2 = true);
        e3[0] !== t2[0] && (this.mixinDatacomPage.current = this.pageCurrent), this.mixinDatacomPage.size = this.pageSize, this.onMixinDatacomPropsChange(n2, s2);
      });
    }, methods: { onMixinDatacomPropsChange(e3, t2) {
    }, mixinDatacomEasyGet({ getone: e3 = false, success: t2, fail: n2 } = {}) {
      this.mixinDatacomLoading || (this.mixinDatacomLoading = true, this.mixinDatacomErrorMessage = "", this.mixinDatacomGet().then((n3) => {
        this.mixinDatacomLoading = false;
        const { data: s2, count: o2 } = n3.result;
        this.getcount && (this.mixinDatacomPage.count = o2), this.mixinDatacomHasMore = s2.length < this.pageSize;
        const r2 = e3 ? s2.length ? s2[0] : void 0 : s2;
        this.mixinDatacomResData = r2, t2 && t2(r2);
      }).catch((e4) => {
        this.mixinDatacomLoading = false, this.mixinDatacomErrorMessage = e4, n2 && n2(e4);
      }));
    }, mixinDatacomGet(t2 = {}) {
      let n2 = e2.database(this.spaceInfo);
      const s2 = t2.action || this.action;
      s2 && (n2 = n2.action(s2));
      const o2 = t2.collection || this.collection;
      n2 = Array.isArray(o2) ? n2.collection(...o2) : n2.collection(o2);
      const r2 = t2.where || this.where;
      r2 && Object.keys(r2).length && (n2 = n2.where(r2));
      const i2 = t2.field || this.field;
      i2 && (n2 = n2.field(i2));
      const a2 = t2.foreignKey || this.foreignKey;
      a2 && (n2 = n2.foreignKey(a2));
      const c2 = t2.groupby || this.groupby;
      c2 && (n2 = n2.groupBy(c2));
      const u2 = t2.groupField || this.groupField;
      u2 && (n2 = n2.groupField(u2));
      (t2.distinct !== void 0 ? t2.distinct : this.distinct) === true && (n2 = n2.distinct());
      const l2 = t2.orderby || this.orderby;
      l2 && (n2 = n2.orderBy(l2));
      const h2 = t2.pageCurrent !== void 0 ? t2.pageCurrent : this.mixinDatacomPage.current, d2 = t2.pageSize !== void 0 ? t2.pageSize : this.mixinDatacomPage.size, f2 = t2.getcount !== void 0 ? t2.getcount : this.getcount, g2 = t2.gettree !== void 0 ? t2.gettree : this.gettree, p2 = t2.gettreepath !== void 0 ? t2.gettreepath : this.gettreepath, m2 = { getCount: f2 }, y = { limitLevel: t2.limitlevel !== void 0 ? t2.limitlevel : this.limitlevel, startWith: t2.startwith !== void 0 ? t2.startwith : this.startwith };
      return g2 && (m2.getTree = y), p2 && (m2.getTreePath = y), n2 = n2.skip(d2 * (h2 - 1)).limit(d2).get(m2), n2;
    } } };
  }
  function ln(e2) {
    return function(t2, n2 = {}) {
      n2 = function(e3, t3 = {}) {
        return e3.customUI = t3.customUI || e3.customUI, Object.assign(e3.loadingOptions, t3.loadingOptions), Object.assign(e3.errorOptions, t3.errorOptions), typeof t3.secretMethods == "object" && (e3.secretMethods = t3.secretMethods), e3;
      }({ customUI: false, loadingOptions: { title: "\u52A0\u8F7D\u4E2D...", mask: true }, errorOptions: { type: "modal", retry: false } }, n2);
      const { customUI: s2, loadingOptions: o2, errorOptions: r2 } = n2, i2 = !s2;
      return new Proxy({}, { get: (s3, c2) => function({ fn: e3, interceptorName: t3, getCallbackArgs: n3 } = {}) {
        return async function(...s4) {
          const o3 = n3 ? n3({ params: s4 }) : {};
          let r3, i3;
          try {
            return await A(I(t3, "invoke"), __spreadValues({}, o3)), r3 = await e3(...s4), await A(I(t3, "success"), __spreadProps(__spreadValues({}, o3), { result: r3 })), r3;
          } catch (e4) {
            throw i3 = e4, await A(I(t3, "fail"), __spreadProps(__spreadValues({}, o3), { error: i3 })), i3;
          } finally {
            await A(I(t3, "complete"), i3 ? __spreadProps(__spreadValues({}, o3), { error: i3 }) : __spreadProps(__spreadValues({}, o3), { result: r3 }));
          }
        };
      }({ fn: async function s4(...u2) {
        let l2;
        i2 && uni.showLoading({ title: o2.title, mask: o2.mask });
        const h2 = { name: t2, type: a, data: { method: c2, params: u2 } };
        typeof n2.secretMethods == "object" && function(e3, t3) {
          const n3 = t3.data.method, s5 = e3.secretMethods[n3];
          s5 && (t3.secret = s5);
        }(n2, h2);
        try {
          l2 = await e2.callFunction(h2);
        } catch (e3) {
          l2 = { result: e3 };
        }
        const { errCode: d2, errMsg: f2, newToken: g2 } = l2.result || {};
        if (i2 && uni.hideLoading(), g2 && g2.token && g2.tokenExpired && (at(g2), F(R, __spreadValues({}, g2))), d2) {
          if (i2)
            if (r2.type === "toast")
              uni.showToast({ title: f2, icon: "none" });
            else {
              if (r2.type !== "modal")
                throw new Error(`Invalid errorOptions.type: ${r2.type}`);
              {
                const { confirm: e4 } = await async function({ title: e5, content: t3, showCancel: n3, cancelText: s5, confirmText: o3 } = {}) {
                  return new Promise((r3, i3) => {
                    uni.showModal({ title: e5, content: t3, showCancel: n3, cancelText: s5, confirmText: o3, success(e6) {
                      r3(e6);
                    }, fail() {
                      r3({ confirm: false, cancel: true });
                    } });
                  });
                }({ title: "\u63D0\u793A", content: f2, showCancel: r2.retry, cancelText: "\u53D6\u6D88", confirmText: r2.retry ? "\u91CD\u8BD5" : "\u786E\u5B9A" });
                if (r2.retry && e4)
                  return s4(...u2);
              }
            }
          const e3 = new B({ code: d2, message: f2, requestId: l2.requestId });
          throw e3.detail = l2.result, F(C, { type: L, content: e3 }), e3;
        }
        return F(C, { type: L, content: l2.result }), l2.result;
      }, interceptorName: "callObject", getCallbackArgs: function({ params: e3 } = {}) {
        return { objectName: t2, methodName: c2, params: e3 };
      } }) });
    };
  }
  async function hn(e2, t2) {
    const n2 = `http://${e2}:${t2}/system/ping`;
    try {
      const e3 = await (s2 = { url: n2, timeout: 500 }, new Promise((e4, t3) => {
        V.request(__spreadProps(__spreadValues({}, s2), { success(t4) {
          e4(t4);
        }, fail(e5) {
          t3(e5);
        } }));
      }));
      return !(!e3.data || e3.data.code !== 0);
    } catch (e3) {
      return false;
    }
    var s2;
  }
  function dn(e2) {
    if (e2.initUniCloudStatus && e2.initUniCloudStatus !== "rejected")
      return;
    let t2 = Promise.resolve();
    var n2;
    n2 = 1, t2 = new Promise((e3, t3) => {
      setTimeout(() => {
        e3();
      }, n2);
    }), e2.isReady = false, e2.isDefault = false;
    const s2 = e2.auth();
    e2.initUniCloudStatus = "pending", e2.initUniCloud = t2.then(() => s2.getLoginState()).then((e3) => e3 ? Promise.resolve() : s2.signInAnonymously()).then(() => {
      if (g === "app") {
        const { osName: e3, osVersion: t3 } = uni.getSystemInfoSync();
        e3 === "ios" && function(e4) {
          if (!e4 || typeof e4 != "string")
            return 0;
          const t4 = e4.match(/^(\d+)./);
          return t4 && t4[1] ? parseInt(t4[1]) : 0;
        }(t3) >= 14 && console.warn("iOS 14\u53CA\u4EE5\u4E0A\u7248\u672C\u8FDE\u63A5uniCloud\u672C\u5730\u8C03\u8BD5\u670D\u52A1\u9700\u8981\u5141\u8BB8\u5BA2\u6237\u7AEF\u67E5\u627E\u5E76\u8FDE\u63A5\u5230\u672C\u5730\u7F51\u7EDC\u4E0A\u7684\u8BBE\u5907\uFF08\u4EC5\u5F00\u53D1\u6A21\u5F0F\u751F\u6548\uFF0C\u53D1\u884C\u6A21\u5F0F\u4F1A\u8FDE\u63A5uniCloud\u4E91\u7AEF\u670D\u52A1\uFF09");
      }
      if (e2.__dev__.debugInfo) {
        const { address: t3, servePort: n3 } = e2.__dev__.debugInfo;
        return async function(e3, t4) {
          let n4;
          for (let s3 = 0; s3 < e3.length; s3++) {
            const o2 = e3[s3];
            if (await hn(o2, t4)) {
              n4 = o2;
              break;
            }
          }
          return { address: n4, port: t4 };
        }(t3, n3);
      }
    }).then(({ address: t3, port: n3 } = {}) => {
      const s3 = console[g === "app" ? "error" : "warn"];
      if (t3)
        e2.__dev__.localAddress = t3, e2.__dev__.localPort = n3;
      else if (e2.__dev__.debugInfo) {
        let t4 = "";
        e2.__dev__.debugInfo.initialLaunchType === "remote" ? (e2.__dev__.debugInfo.forceRemote = true, t4 = "\u5F53\u524D\u5BA2\u6237\u7AEF\u548CHBuilderX\u4E0D\u5728\u540C\u4E00\u5C40\u57DF\u7F51\u4E0B\uFF08\u6216\u5176\u4ED6\u7F51\u7EDC\u539F\u56E0\u65E0\u6CD5\u8FDE\u63A5HBuilderX\uFF09\uFF0CuniCloud\u672C\u5730\u8C03\u8BD5\u670D\u52A1\u4E0D\u5BF9\u5F53\u524D\u5BA2\u6237\u7AEF\u751F\u6548\u3002\n- \u5982\u679C\u4E0D\u4F7F\u7528uniCloud\u672C\u5730\u8C03\u8BD5\u670D\u52A1\uFF0C\u8BF7\u76F4\u63A5\u5FFD\u7565\u6B64\u4FE1\u606F\u3002\n- \u5982\u9700\u4F7F\u7528uniCloud\u672C\u5730\u8C03\u8BD5\u670D\u52A1\uFF0C\u8BF7\u5C06\u5BA2\u6237\u7AEF\u4E0E\u4E3B\u673A\u8FDE\u63A5\u5230\u540C\u4E00\u5C40\u57DF\u7F51\u4E0B\u5E76\u91CD\u65B0\u8FD0\u884C\u5230\u5BA2\u6237\u7AEF\u3002\n- \u5982\u679C\u5728HBuilderX\u5F00\u542F\u7684\u72B6\u6001\u4E0B\u5207\u6362\u8FC7\u7F51\u7EDC\u73AF\u5883\uFF0C\u8BF7\u91CD\u542FHBuilderX\u540E\u518D\u8BD5\n- \u68C0\u67E5\u7CFB\u7EDF\u9632\u706B\u5899\u662F\u5426\u62E6\u622A\u4E86HBuilderX\u81EA\u5E26\u7684nodejs") : t4 = "\u65E0\u6CD5\u8FDE\u63A5uniCloud\u672C\u5730\u8C03\u8BD5\u670D\u52A1\uFF0C\u8BF7\u68C0\u67E5\u5F53\u524D\u5BA2\u6237\u7AEF\u662F\u5426\u4E0E\u4E3B\u673A\u5728\u540C\u4E00\u5C40\u57DF\u7F51\u4E0B\u3002\n- \u5982\u9700\u4F7F\u7528uniCloud\u672C\u5730\u8C03\u8BD5\u670D\u52A1\uFF0C\u8BF7\u5C06\u5BA2\u6237\u7AEF\u4E0E\u4E3B\u673A\u8FDE\u63A5\u5230\u540C\u4E00\u5C40\u57DF\u7F51\u4E0B\u5E76\u91CD\u65B0\u8FD0\u884C\u5230\u5BA2\u6237\u7AEF\u3002\n- \u5982\u679C\u5728HBuilderX\u5F00\u542F\u7684\u72B6\u6001\u4E0B\u5207\u6362\u8FC7\u7F51\u7EDC\u73AF\u5883\uFF0C\u8BF7\u91CD\u542FHBuilderX\u540E\u518D\u8BD5\n- \u68C0\u67E5\u7CFB\u7EDF\u9632\u706B\u5899\u662F\u5426\u62E6\u622A\u4E86HBuilderX\u81EA\u5E26\u7684nodejs", g === "web" && (t4 += "\n- \u90E8\u5206\u6D4F\u89C8\u5668\u5F00\u542F\u8282\u6D41\u6A21\u5F0F\u4E4B\u540E\u8BBF\u95EE\u672C\u5730\u5730\u5740\u53D7\u9650\uFF0C\u8BF7\u68C0\u67E5\u662F\u5426\u542F\u7528\u4E86\u8282\u6D41\u6A21\u5F0F"), g.indexOf("mp-") === 0 && (t4 += "\n- \u5C0F\u7A0B\u5E8F\u4E2D\u5982\u4F55\u4F7F\u7528uniCloud\uFF0C\u8BF7\u53C2\u8003\uFF1Ahttps://uniapp.dcloud.net.cn/uniCloud/publish.html#useinmp"), s3(t4);
      }
    }).then(() => {
      ct(), e2.isReady = true, e2.initUniCloudStatus = "fulfilled";
    }).catch((t3) => {
      console.error(t3), e2.initUniCloudStatus = "rejected";
    });
  }
  const fn = { tcb: ot, tencent: ot, aliyun: Q, private: lt$1 };
  let gn = new class {
    init(e2) {
      let t2 = {};
      const n2 = fn[e2.provider];
      if (!n2)
        throw new Error("\u672A\u63D0\u4F9B\u6B63\u786E\u7684provider\u53C2\u6570");
      t2 = n2.init(e2), t2.__dev__ = {}, t2.__dev__.debugLog = g === "web" && navigator.userAgent.indexOf("HBuilderX") > 0 || g === "app";
      const s2 = p;
      s2 && !s2.code && (t2.__dev__.debugInfo = s2), dn(t2), t2.reInit = function() {
        dn(this);
      }, _t(t2), function(e3) {
        const t3 = e3.uploadFile;
        e3.uploadFile = function(e4) {
          return t3.call(this, e4);
        };
      }(t2), Et(t2), function(e3) {
        e3.getCurrentUserInfo = on, e3.chooseAndUploadFile = an.initChooseAndUploadFile(e3), Object.assign(e3, { get mixinDatacom() {
          return un(e3);
        } }), e3.importObject = ln(e3);
      }(t2);
      return ["callFunction", "uploadFile", "deleteFile", "getTempFileURL", "downloadFile", "chooseAndUploadFile"].forEach((e3) => {
        if (!t2[e3])
          return;
        const n3 = t2[e3];
        t2[e3] = function() {
          return t2.reInit(), n3.apply(t2, Array.from(arguments));
        }, t2[e3] = K(t2[e3], e3).bind(t2);
      }), t2.init = this.init, t2;
    }
  }();
  (() => {
    const e2 = m$1;
    let t2 = {};
    if (e2 && e2.length === 1)
      t2 = e2[0], gn = gn.init(t2), gn.isDefault = true;
    else {
      const t3 = ["auth", "callFunction", "uploadFile", "deleteFile", "getTempFileURL", "downloadFile", "database", "getCurrentUSerInfo", "importObject"];
      let n2;
      n2 = e2 && e2.length > 0 ? "\u5E94\u7528\u6709\u591A\u4E2A\u670D\u52A1\u7A7A\u95F4\uFF0C\u8BF7\u901A\u8FC7uniCloud.init\u65B9\u6CD5\u6307\u5B9A\u8981\u4F7F\u7528\u7684\u670D\u52A1\u7A7A\u95F4" : "\u5E94\u7528\u672A\u5173\u8054\u670D\u52A1\u7A7A\u95F4\uFF0C\u8BF7\u5728uniCloud\u76EE\u5F55\u53F3\u952E\u5173\u8054\u670D\u52A1\u7A7A\u95F4", t3.forEach((e3) => {
        gn[e3] = function() {
          return console.error(n2), Promise.reject(new B({ code: "SYS_ERR", message: n2 }));
        };
      });
    }
    Object.assign(gn, { get mixinDatacom() {
      return un(gn);
    } }), en(gn), gn.addInterceptor = S, gn.removeInterceptor = P, gn.interceptObject = b, g === "web" && (window.uniCloud = gn);
  })();
  var pn = gn;
  const _sfc_main$j = {
    name: "uni-data-select",
    mixins: [pn.mixinDatacom || {}],
    props: {
      localdata: {
        type: Array,
        default() {
          return [];
        }
      },
      value: {
        type: [String, Number],
        default: ""
      },
      modelValue: {
        type: [String, Number],
        default: ""
      },
      label: {
        type: String,
        default: ""
      },
      placeholder: {
        type: String,
        default: "\u8BF7\u9009\u62E9"
      },
      emptyTips: {
        type: String,
        default: "\u65E0\u9009\u9879"
      },
      clear: {
        type: Boolean,
        default: true
      },
      defItem: {
        type: Number,
        default: 0
      },
      disabled: {
        type: Boolean,
        default: false
      },
      format: {
        type: String,
        default: ""
      }
    },
    data() {
      return {
        showSelector: false,
        current: "",
        mixinDatacomResData: [],
        apps: [],
        channels: [],
        cacheKey: "uni-data-select-lastSelectedValue"
      };
    },
    created() {
      this.debounceGet = this.debounce(() => {
        this.query();
      }, 300);
      if (this.collection && !this.localdata.length) {
        this.debounceGet();
      }
    },
    computed: {
      typePlaceholder() {
        const text = {
          "opendb-stat-app-versions": "\u7248\u672C",
          "opendb-app-channels": "\u6E20\u9053",
          "opendb-app-list": "\u5E94\u7528"
        };
        const common = this.placeholder;
        const placeholder = text[this.collection];
        return placeholder ? common + placeholder : common;
      },
      valueCom() {
        return this.modelValue;
      }
    },
    watch: {
      localdata: {
        immediate: true,
        handler(val, old) {
          if (Array.isArray(val) && old !== val) {
            this.mixinDatacomResData = val;
          }
        }
      },
      valueCom(val, old) {
        this.initDefVal();
      },
      mixinDatacomResData: {
        immediate: true,
        handler(val) {
          if (val.length) {
            this.initDefVal();
          }
        }
      }
    },
    methods: {
      debounce(fn2, time2 = 100) {
        let timer = null;
        return function(...args) {
          if (timer)
            clearTimeout(timer);
          timer = setTimeout(() => {
            fn2.apply(this, args);
          }, time2);
        };
      },
      query() {
        this.mixinDatacomEasyGet();
      },
      onMixinDatacomPropsChange() {
        if (this.collection) {
          this.debounceGet();
        }
      },
      initDefVal() {
        let defValue = "";
        if ((this.valueCom || this.valueCom === 0) && !this.isDisabled(this.valueCom)) {
          defValue = this.valueCom;
        } else {
          let strogeValue;
          if (this.collection) {
            strogeValue = this.getCache();
          }
          if (strogeValue || strogeValue === 0) {
            defValue = strogeValue;
          } else {
            let defItem = "";
            if (this.defItem > 0 && this.defItem <= this.mixinDatacomResData.length) {
              defItem = this.mixinDatacomResData[this.defItem - 1].value;
            }
            defValue = defItem;
          }
          if (defValue || defValue === 0) {
            this.emit(defValue);
          }
        }
        const def = this.mixinDatacomResData.find((item) => item.value === defValue);
        this.current = def ? this.formatItemName(def) : "";
      },
      isDisabled(value) {
        let isDisabled = false;
        this.mixinDatacomResData.forEach((item) => {
          if (item.value === value) {
            isDisabled = item.disable;
          }
        });
        return isDisabled;
      },
      clearVal() {
        this.emit("");
        if (this.collection) {
          this.removeCache();
        }
      },
      change(item) {
        if (!item.disable) {
          this.showSelector = false;
          this.current = this.formatItemName(item);
          this.emit(item.value);
        }
      },
      emit(val) {
        this.$emit("input", val);
        this.$emit("update:modelValue", val);
        this.$emit("change", val);
        if (this.collection) {
          this.setCache(val);
        }
      },
      toggleSelector() {
        if (this.disabled) {
          return;
        }
        this.showSelector = !this.showSelector;
      },
      formatItemName(item) {
        let {
          text,
          value,
          channel_code
        } = item;
        channel_code = channel_code ? `(${channel_code})` : "";
        if (this.format) {
          let str = "";
          str = this.format;
          for (let key in item) {
            str = str.replace(new RegExp(`{${key}}`, "g"), item[key]);
          }
          return str;
        } else {
          return this.collection.indexOf("app-list") > 0 ? `${text}(${value})` : text ? text : `\u672A\u547D\u540D${channel_code}`;
        }
      },
      getLoadData() {
        return this.mixinDatacomResData;
      },
      getCurrentCacheKey() {
        return this.collection;
      },
      getCache(name = this.getCurrentCacheKey()) {
        let cacheData = uni.getStorageSync(this.cacheKey) || {};
        return cacheData[name];
      },
      setCache(value, name = this.getCurrentCacheKey()) {
        let cacheData = uni.getStorageSync(this.cacheKey) || {};
        cacheData[name] = value;
        uni.setStorageSync(this.cacheKey, cacheData);
      },
      removeCache(name = this.getCurrentCacheKey()) {
        let cacheData = uni.getStorageSync(this.cacheKey) || {};
        delete cacheData[name];
        uni.setStorageSync(this.cacheKey, cacheData);
      }
    }
  };
  function _sfc_render$i(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_uni_icons = resolveEasycom(vue.resolveDynamicComponent("uni-icons"), __easycom_0$i);
    return vue.openBlock(), vue.createElementBlock("view", { class: "uni-stat__select" }, [
      $props.label ? (vue.openBlock(), vue.createElementBlock("span", {
        key: 0,
        class: "uni-label-text hide-on-phone"
      }, vue.toDisplayString($props.label + "\uFF1A"), 1)) : vue.createCommentVNode("v-if", true),
      vue.createElementVNode("view", {
        class: vue.normalizeClass(["uni-stat-box", { "uni-stat__actived": $data.current }])
      }, [
        vue.createElementVNode("view", {
          class: vue.normalizeClass(["uni-select", { "uni-select--disabled": $props.disabled }])
        }, [
          vue.createElementVNode("view", {
            class: "uni-select__input-box",
            onClick: _cache[1] || (_cache[1] = (...args) => $options.toggleSelector && $options.toggleSelector(...args))
          }, [
            $data.current ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 0,
              class: "uni-select__input-text"
            }, vue.toDisplayString($data.current), 1)) : (vue.openBlock(), vue.createElementBlock("view", {
              key: 1,
              class: "uni-select__input-text uni-select__input-placeholder"
            }, vue.toDisplayString($options.typePlaceholder), 1)),
            $data.current && $props.clear && !$props.disabled ? (vue.openBlock(), vue.createElementBlock("view", {
              key: 2,
              onClick: _cache[0] || (_cache[0] = vue.withModifiers((...args) => $options.clearVal && $options.clearVal(...args), ["stop"]))
            }, [
              vue.createVNode(_component_uni_icons, {
                type: "clear",
                color: "#c0c4cc",
                size: "24"
              })
            ])) : (vue.openBlock(), vue.createElementBlock("view", { key: 3 }, [
              vue.createVNode(_component_uni_icons, {
                type: $data.showSelector ? "top" : "bottom",
                size: "14",
                color: "#999"
              }, null, 8, ["type"])
            ]))
          ]),
          $data.showSelector ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "uni-select--mask",
            onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleSelector && $options.toggleSelector(...args))
          })) : vue.createCommentVNode("v-if", true),
          $data.showSelector ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 1,
            class: "uni-select__selector"
          }, [
            vue.createElementVNode("view", { class: "uni-popper__arrow" }),
            vue.createElementVNode("scroll-view", {
              "scroll-y": "true",
              class: "uni-select__selector-scroll"
            }, [
              $data.mixinDatacomResData.length === 0 ? (vue.openBlock(), vue.createElementBlock("view", {
                key: 0,
                class: "uni-select__selector-empty"
              }, [
                vue.createElementVNode("text", null, vue.toDisplayString($props.emptyTips), 1)
              ])) : (vue.openBlock(true), vue.createElementBlock(vue.Fragment, { key: 1 }, vue.renderList($data.mixinDatacomResData, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  class: "uni-select__selector-item",
                  key: index,
                  onClick: ($event) => $options.change(item)
                }, [
                  vue.createElementVNode("text", {
                    class: vue.normalizeClass({ "uni-select__selector__disabled": item.disable })
                  }, vue.toDisplayString($options.formatItemName(item)), 3)
                ], 8, ["onClick"]);
              }), 128))
            ])
          ])) : vue.createCommentVNode("v-if", true)
        ], 2)
      ], 2)
    ]);
  }
  var __easycom_1 = /* @__PURE__ */ _export_sfc(_sfc_main$j, [["render", _sfc_render$i], ["__scopeId", "data-v-6b64008e"], ["__file", "F:/work/ChuangDian/uni_modules/uni-data-select/components/uni-data-select/uni-data-select.vue"]]);
  const _sfc_main$i = {
    components: {
      myPicker
    },
    data() {
      return {
        list: [],
        region: "",
        range: [
          {
            value: 0,
            text: "\u6743\u9650\u4E00"
          },
          {
            value: 1,
            text: "\u6743\u9650\u4E8C"
          },
          {
            value: 2,
            text: "\u6743\u9650\u4E09"
          }
        ],
        hasMoreData: true,
        page: 1
      };
    },
    onReachBottom() {
      formatAppLog("log", "at pages/shareDeviceList/shareDeviceList.vue:113", "\u6ED1\u5012\u5E95\u4E86");
      if (this.hasMoreData) {
        this.page++;
        this.getShareDeviceList();
      }
    },
    onLoad(options) {
      formatAppLog("log", "at pages/shareDeviceList/shareDeviceList.vue:120", options);
      this.getShareDeviceList();
      this.getSubEventList(options);
    },
    methods: {
      chooseAddress(data) {
        this.region = data;
      },
      async getSubEventList(options) {
        const res = await this.$myRequest({
          url: "api/Share/getSubEventList",
          method: "POST",
          data: {
            pid: options.id
          }
        });
        if (res.code == 1)
          ;
        else {
          uni.showToast({
            title: res.msg,
            icon: "error"
          });
        }
        formatAppLog("log", "at pages/shareDeviceList/shareDeviceList.vue:147", "\u83B7\u53D6\u9879\u76EE\u3001\u56ED\u533A\u3001\u697C\u680B\u3001\u697C\u5C42", res);
      },
      async getShareDeviceList(order_id) {
        let _this = this;
        const res = await this.$myRequest({
          url: "api/Share/getShareDeviceList",
          method: "POST",
          data: {
            page: _this.page
          }
        });
        if (res.code == 1) {
          if (res.data.data && res.data.data.length > 0) {
            this.hasMoreData = true;
            this.list = [...this.list, ...res.data.data];
          } else {
            this.hasMoreData = false;
          }
        } else {
          uni.showToast({
            title: res.msg,
            icon: "error"
          });
        }
        formatAppLog("log", "at pages/shareDeviceList/shareDeviceList.vue:174", "\u8BA2\u5355\u8BE6\u60C5", res);
      },
      changeLog(e2) {
        formatAppLog("log", "at pages/shareDeviceList/shareDeviceList.vue:178", "change\u4E8B\u4EF6:", e2);
      }
    }
  };
  function _sfc_render$h(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_myPicker = vue.resolveComponent("myPicker");
    const _component_selectShareDeviceListView = resolveEasycom(vue.resolveDynamicComponent("selectShareDeviceListView"), __easycom_0$4);
    const _component_uni_data_select = resolveEasycom(vue.resolveDynamicComponent("uni-data-select"), __easycom_1);
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createCommentVNode(" \u7B5B\u9009 "),
      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "margin-bottom": "16rpx" } }, [
        vue.createCommentVNode(" \u7701\u5E02\u533A "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("view", { style: { "display": "flex", "justify-content": "space-between", "width": "100%" } }, [
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "text-align": "end", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9\u7701\u5E02\u533A"),
            vue.createElementVNode("view", { style: { "display": "flex", "align-items": "center" } }, [
              vue.createVNode(_component_myPicker, {
                type: "3",
                onChooseAddress: $options.chooseAddress,
                region: $data.region
              }, null, 8, ["onChooseAddress", "region"]),
              vue.createElementVNode("image", {
                style: { "width": "12rpx", "height": "16rpx", "margin-left": "20rpx" },
                src: "/static/ic_next.png"
              }, null, 8, ["src"])
            ])
          ])
        ]),
        vue.createElementVNode("view", { style: { "height": "2rpx", "background-color": "#EFF4FA", "margin": "0 32rpx" } }),
        vue.createCommentVNode(" \u9879\u76EE "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u9879\u76EE"),
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#999999", "text-align": "end", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9\u9879\u76EE\u540D\u79F0"),
          vue.createElementVNode("image", {
            style: { "width": "12rpx", "height": "16rpx" },
            src: "/static/ic_next.png"
          }, null, 8, ["src"])
        ]),
        vue.createElementVNode("view", { style: { "height": "2rpx", "background-color": "#EFF4FA", "margin": "0 32rpx" } }),
        vue.createCommentVNode(" \u56ED\u533A "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u56ED\u533A"),
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#999999", "text-align": "end", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9\u56ED\u533A"),
          vue.createElementVNode("image", {
            style: { "width": "12rpx", "height": "16rpx" },
            src: "/static/ic_next.png"
          }, null, 8, ["src"])
        ]),
        vue.createElementVNode("view", { style: { "height": "2rpx", "background-color": "#EFF4FA", "margin": "0 32rpx" } }),
        vue.createCommentVNode(" \u697C\u680B "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u697C\u680B"),
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#999999", "text-align": "end", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9\u697C\u680B"),
          vue.createElementVNode("image", {
            style: { "width": "12rpx", "height": "16rpx" },
            src: "/static/ic_next.png"
          }, null, 8, ["src"])
        ]),
        vue.createElementVNode("view", { style: { "height": "2rpx", "background-color": "#EFF4FA", "margin": "0 32rpx" } }),
        vue.createCommentVNode(" \u697C\u5C42 "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u697C\u5C42"),
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#999999", "text-align": "end", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9\u697C\u5C42"),
          vue.createElementVNode("image", {
            style: { "width": "12rpx", "height": "16rpx" },
            src: "/static/ic_next.png"
          }, null, 8, ["src"])
        ]),
        vue.createElementVNode("view", { style: { "height": "2rpx", "background-color": "#EFF4FA", "margin": "0 32rpx" } }),
        vue.createCommentVNode(" \u5395\u6240 "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u5395\u6240"),
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#999999", "text-align": "end", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9\u5395\u6240"),
          vue.createElementVNode("image", {
            style: { "width": "12rpx", "height": "16rpx" },
            src: "/static/ic_next.png"
          }, null, 8, ["src"])
        ]),
        vue.createElementVNode("view", { style: { "height": "2rpx", "background-color": "#EFF4FA", "margin": "0 32rpx" } }),
        vue.createCommentVNode(" \u8BBE\u5907 "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" } }, "\u8BBE\u5907"),
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "400", "color": "#999999", "text-align": "end", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9\u8BBE\u5907"),
          vue.createElementVNode("image", {
            style: { "width": "12rpx", "height": "16rpx" },
            src: "/static/ic_next.png"
          }, null, 8, ["src"])
        ])
      ]),
      vue.createCommentVNode(" \u5217\u8868 "),
      vue.createCommentVNode(' <view style="flex: 1; overflow: auto"> '),
      vue.createVNode(_component_selectShareDeviceListView, { list: $data.list }, null, 8, ["list"]),
      vue.createCommentVNode(" </view> "),
      vue.createCommentVNode(" \u6743\u9650\u8D4B\u4E88 "),
      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "margin-top": "46rpx", "padding": "30rpx" } }, [
        vue.createElementVNode("view", { style: { "display": "flex", "align-items": "center", "flex-direction": "row" } }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "\u8BBE\u5907\u6743\u9650"),
          vue.createElementVNode("view", { style: { "flex": "1", "margin": "24rpx 32rpx" } }, [
            vue.createVNode(_component_uni_data_select, {
              modelValue: _ctx.value,
              "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => _ctx.value = $event),
              localdata: $data.range,
              onChange: $options.changeLog,
              clear: false,
              placeholder: "\u8BF7\u9009\u62E9\u5206\u4EAB\u8D4B\u4E88\u6743\u9650",
              style: { "font-size": "40rpx", "background-color": "#F3F4F6" }
            }, null, 8, ["modelValue", "localdata", "onChange"])
          ])
        ]),
        vue.createElementVNode("button", {
          class: "btn",
          onClick: _cache[1] || (_cache[1] = ($event) => _ctx.addAddress())
        }, "\u786E\u5B9A\u8D4B\u4E88")
      ])
    ]);
  }
  var PagesShareDeviceListShareDeviceList = /* @__PURE__ */ _export_sfc(_sfc_main$i, [["render", _sfc_render$h], ["__file", "F:/work/ChuangDian/pages/shareDeviceList/shareDeviceList.vue"]]);
  const _sfc_main$h = {
    onLoad(options) {
      this.id = options.id;
      if (options.title) {
        uni.setNavigationBarTitle({
          title: options.title
        });
      }
      this.getList();
    },
    data() {
      return {
        itemSortOrder: {
          tuijian: 10,
          redian: 10
        },
        tabIndex: 0,
        new_product: 0,
        synthesize: 1,
        tabBars: [
          {
            name: "\u7EFC\u5408",
            id: "zonghe"
          },
          {
            name: "\u9500\u91CF",
            id: "tuijian"
          },
          {
            name: "\u4EF7\u683C",
            id: "redian"
          },
          {
            name: "\u65B0\u54C1",
            id: "xinpin"
          },
          {
            name: "\u7B5B\u9009",
            id: "shaixuan"
          }
        ],
        list: [],
        showFilterDropdown: false,
        page: 1,
        count: 10,
        isOver: false,
        isEmpty: false
      };
    },
    methods: {
      toggleSortOrder(id, index) {
        if (id === "tuijian" || id === "redian") {
          const sortOrder = this.itemSortOrder[id];
          this.$set(this.itemSortOrder, id, sortOrder === 10 ? 20 : 10);
          this.tabIndex = index;
          this.page = 1;
          this.getList();
        }
      },
      onReachBottom() {
        formatAppLog("log", "at pages/goodsList/goodsList.vue:147", "\u5546\u54C1\u5217\u8868\u6ED1\u5230\u5E95\u90E8");
        this.page += 1;
        this.getList();
      },
      async getList(callBack) {
        let data = {
          page: this.page,
          category_id: this.id,
          synthesize: this.synthesize,
          sales_volume: this.itemSortOrder["tuijian"],
          price: this.itemSortOrder["redian"],
          new_product: this.new_product,
          screen: ""
        };
        const res = await this.$myRequest({
          url: "api/Goods/goodsList",
          method: "POST",
          data
        });
        formatAppLog("log", "at pages/goodsList/goodsList.vue:169", "\u5546\u54C1\u5217\u8868", res);
        if (this.page == 1) {
          uni.stopPullDownRefresh();
          this.list = res.data.list;
        } else {
          this.list = [...this.list, ...res.data.list];
        }
        callBack && callBack();
        if (this.list.length == 0) {
          this.isEmpty = true;
        } else
          this.isEmpty = false;
        if (res.data.total == this.list.length) {
          this.isOver = true;
        } else
          this.isOver = false;
      },
      applyFilters() {
        this.showFilterDropdown = false;
      },
      closeFilterDropdown() {
        this.showFilterDropdown = false;
      },
      toggleTab(item, index) {
        if (item.id == "shaixuan") {
          formatAppLog("log", "at pages/goodsList/goodsList.vue:201", "\u70B9\u51FB\u4E86\u7B5B\u9009\u6309\u94AE");
          this.showFilterDropdown = !this.showFilterDropdown;
          return;
        }
        if (this.tabIndex == index)
          return;
        if (item.id == "xinpin") {
          this.new_product = 1;
          this.synthesize = 0;
        } else if (item.id == "zonghe") {
          this.new_product = 0;
          this.synthesize = 1;
        } else {
          this.new_product = 0;
          this.synthesize = 0;
        }
        this.page = 1;
        this.tabIndex = index;
        this.getList();
      },
      tabChange(e2) {
        formatAppLog("log", "at pages/goodsList/goodsList.vue:222", e2);
        this.tabIndex = e2.detail.current;
      },
      toDetail(id) {
        uni.navigateTo({
          url: "/pages/goodsDetail/goodsDetail?id=" + id
        });
      }
    }
  };
  function _sfc_render$g(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_font = vue.resolveComponent("font");
    const _component_uni_grid_item = resolveEasycom(vue.resolveDynamicComponent("uni-grid-item"), __easycom_0$j);
    const _component_uni_grid = resolveEasycom(vue.resolveDynamicComponent("uni-grid"), __easycom_1$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("scroll-view", {
        class: "coupon-scroll-view",
        "scroll-y": "true",
        onScrolltolower: _cache[2] || (_cache[2] = (...args) => $options.onReachBottom && $options.onReachBottom(...args))
      }, [
        vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx 28rpx 32rpx" } }, [
          vue.createCommentVNode(" \u6A2A\u5411tab "),
          vue.createElementVNode("view", {
            class: "horizonal-tab",
            style: { "position": "sticky", "top": "0", "margin-bottom": "20rpx" }
          }, [
            vue.createElementVNode("scroll-view", {
              "scroll-x": "true",
              "scroll-with-animation": "",
              class: "scroll-tab"
            }, [
              (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.tabBars, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: index,
                  class: vue.normalizeClass(["scroll-tab-item", { "active": $data.tabIndex === index }]),
                  onClick: ($event) => $options.toggleTab(item, index)
                }, [
                  vue.createElementVNode("view", { style: { "display": "flex", "align-items": "center" } }, [
                    vue.createTextVNode(vue.toDisplayString(item.name) + " ", 1),
                    vue.createElementVNode("view", { style: { "display": "flex", "flex-flow": "column" } }, [
                      item.id === "tuijian" || item.id === "redian" ? (vue.openBlock(), vue.createElementBlock("text", {
                        key: 0,
                        onClick: vue.withModifiers(($event) => $options.toggleSortOrder(item.id, index), ["stop"]),
                        class: vue.normalizeClass(["arrow-icon", { asc: $data.itemSortOrder[item.id] == 10 }])
                      }, "\u25B2", 10, ["onClick"])) : vue.createCommentVNode("v-if", true),
                      item.id === "tuijian" || item.id === "redian" ? (vue.openBlock(), vue.createElementBlock("text", {
                        key: 1,
                        onClick: vue.withModifiers(($event) => $options.toggleSortOrder(item.id, index), ["stop"]),
                        class: vue.normalizeClass(["arrow-icon", { desc: $data.itemSortOrder[item.id] == 20 }])
                      }, "\u25BC", 10, ["onClick"])) : vue.createCommentVNode("v-if", true)
                    ])
                  ]),
                  vue.createElementVNode("view", { style: { "display": "flex", "justify-content": "center", "margin-top": "4rpx", "background-color": "#38CBD5", "border-radius": "4rpx" } }, [
                    vue.createElementVNode("view", { class: "scroll-tab-line" })
                  ])
                ], 10, ["onClick"]);
              }), 128))
            ])
          ])
        ]),
        vue.createCommentVNode(" grid "),
        $data.list && $data.list.length > 0 ? (vue.openBlock(), vue.createElementBlock("view", {
          key: 0,
          style: { "flex": "1", "overflow": "auto" }
        }, [
          vue.createElementVNode("view", { style: { "display": "flex", "align-items": "center", "justify-content": "center", "margin": "0 16rpx" } }, [
            vue.createVNode(_component_uni_grid, {
              column: 2,
              showBorder: false,
              square: false,
              onChange: _ctx.change
            }, {
              default: vue.withCtx(() => [
                (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.list, (item, index) => {
                  return vue.openBlock(), vue.createBlock(_component_uni_grid_item, {
                    index,
                    key: index
                  }, {
                    default: vue.withCtx(() => [
                      vue.createElementVNode("view", {
                        style: { "position": "relative", "display": "flex", "flex-direction": "column", "align-items": "center", "justify-content": "center", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "16rpx" },
                        onClick: ($event) => $options.toDetail(item.id)
                      }, [
                        item.new_status == 1 ? (vue.openBlock(), vue.createElementBlock("div", {
                          key: 0,
                          class: "new",
                          style: { "position": "absolute", "left": "10px", "top": "10px", "width": "34px", "height": "20px", "background": "url(/static/newGoods.png) center / 100% no-repeat", "z-index": "1" }
                        })) : vue.createCommentVNode("v-if", true),
                        vue.createElementVNode("image", {
                          src: item.image,
                          style: { "width": "328rpx", "height": "328rpx", "border-radius": "16rpx" }
                        }, null, 8, ["src"]),
                        vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333", "padding": "20rpx" } }, vue.toDisplayString(item.goods_name), 1),
                        vue.createElementVNode("view", { style: { "width": "100%" } }, [
                          vue.createElementVNode("view", {
                            class: "h-layout",
                            style: { "margin": "0 20rpx 20rpx 20rpx" }
                          }, [
                            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "32rpx", "font-weight": "500", "color": "#FF5500" } }, [
                              vue.createVNode(_component_font, { style: { "font-size": "24rpx" } }, {
                                default: vue.withCtx(() => [
                                  vue.createTextVNode("\xA5")
                                ]),
                                _: 1
                              }),
                              vue.createTextVNode(vue.toDisplayString(item.goods_price), 1)
                            ]),
                            vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "500", "color": "#FF5500" } }, [
                              vue.createVNode(_component_font, { style: { "color": "#666666" } }, {
                                default: vue.withCtx(() => [
                                  vue.createTextVNode("\u5DF2\u552E ")
                                ]),
                                _: 1
                              }),
                              vue.createTextVNode(vue.toDisplayString(item.sales_actual), 1),
                              vue.createVNode(_component_font, { style: { "color": "#666666" } }, {
                                default: vue.withCtx(() => [
                                  vue.createTextVNode(" \u4EF6 ")
                                ]),
                                _: 1
                              })
                            ])
                          ])
                        ])
                      ], 8, ["onClick"])
                    ]),
                    _: 2
                  }, 1032, ["index"]);
                }), 128))
              ]),
              _: 1
            }, 8, ["onChange"])
          ]),
          vue.createCommentVNode(" \u7B5B\u9009\u4E0B\u62C9\u6846 "),
          vue.withDirectives(vue.createElementVNode("view", { class: "filter-dropdown" }, [
            vue.createCommentVNode(" \u8FD9\u91CC\u653E\u7F6E\u4F60\u7684\u7B5B\u9009\u9009\u9879\u548C\u8F93\u5165\u5143\u7D20 "),
            vue.createElementVNode("view", { class: "filter-options" }, [
              vue.createCommentVNode(" ... \u7B5B\u9009\u9009\u9879 ... "),
              vue.createTextVNode(" 1111 ")
            ]),
            vue.createElementVNode("view", { class: "filter-actions" }, [
              vue.createElementVNode("button", {
                onClick: _cache[0] || (_cache[0] = (...args) => $options.applyFilters && $options.applyFilters(...args))
              }, "\u5E94\u7528"),
              vue.createElementVNode("button", {
                onClick: _cache[1] || (_cache[1] = (...args) => $options.closeFilterDropdown && $options.closeFilterDropdown(...args))
              }, "\u5173\u95ED")
            ])
          ], 512), [
            [vue.vShow, $data.showFilterDropdown]
          ])
        ])) : (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          style: { "text-align": "center" }
        }, "\u6682\u65E0\u5546\u54C1"))
      ], 32)
    ]);
  }
  var PagesGoodsListGoodsList = /* @__PURE__ */ _export_sfc(_sfc_main$h, [["render", _sfc_render$g], ["__scopeId", "data-v-46b43a70"], ["__file", "F:/work/ChuangDian/pages/goodsList/goodsList.vue"]]);
  const _sfc_main$g = {
    data() {
      return {
        skuKey: false,
        skuMode: 3,
        goodsInfo: {},
        buyData: {},
        specIdArr: [],
        specId: "",
        detailInfo: {},
        title: "\u8212\u5C45 \u65E0\u706B\u9999\u85B0\uFF08\u4E09\u74F6\u88C5\uFF09\u5BB6\u7528\u5BA4\u5185\u5367\u5BA4\u623F\u95F4\u9999\u6C1B \u9999\u683C\u91CC\u62C9\u7CBE\u6CB9\u85E4\u6761\u9999\u718F\u74F6\u536B\u751F\u95F4\u6E05\u65B0\u5242",
        detail: "\u8212\u5C45\u65E0\u706B\u9999\u718FA\u9999\u6C34\u7EC4\u4E00\u6B3E\u4E2D\u6027\u6DE1\u9999\u6C34\u3002 \u6E05\u65B0\uFF0C\u7EFF\u8272\uFF0C\u968F\u6027\u96C5\u81F4\u3002 \u81EA\u7136\u7CBE\u9AD3\uFF0C\u5176\u82AC\u82B3\u4EE3\u8868\u7740\u6CD5\u5170\u897F\u751F\u6D3B\u827A\u672F\u3002 \u67D1\u6A58\u548C\u8349\u9999\u7684\u5B8C\u7F8E\u548C\u8C10\uFF0C\u53C8\u878D\u5165\u897F\u666E\u57FA\u9999\u8C03\u3002",
        imgList: [
          {
            img: "/static/img_main.png"
          },
          {
            img: "/static/img_main.png"
          },
          {
            img: "/static/ic_logo.png"
          },
          {
            img: "/static/logo.png"
          },
          {
            img: "/static/img_main.png"
          },
          {
            img: "/static/img_main.png"
          }
        ],
        cankaojia: "\u5546\u54C1\u5C55\u793A\u7684\u5212\u7EBF\u4EF7\u6216\u53C2\u8003\u4EF7\u53EF\u80FD\u662F\u54C1\u724C\u4E13\u67DC\u4EF7\u3001\u5546\u54C1\u540A\u724C\u4EF7\u6216\u7531\u54C1\u724C\u4F9B\u5E94\u5546\u63D0\u4F9B\u7684\u6B63\u54C1\u96F6\u552E\u4EF7\uFF08\u5982\u5382\u5546\u6307\u5BFC\u4EF7\u3001\u5EFA\u8BAE\u96F6\u552E\u4EF7\u7B49\uFF09\u6216\u8BE5\u5546\u54C1\u5728\u8003\u62C9\u4E0A\u66FE\u7ECF\u5C55\u793A\u8FC7\u7684\u9500\u552E\u4EF7\uFF1B\u7531\u4E8E\u5730\u533A\u3001\u65F6\u95F4\u7684\u5DEE\u5F02\u6027\u548C\u5E02\u573A\u884C\u60C5\u6CE2\u52A8\uFF0C\u54C1\u724C\u4E13\u67DC\u6807\u4EF7\u3001\u5546\u54C1\u540A\u724C\u4EF7\u7B49\u53EF\u80FD\u4F1A\u4E0E\u60A8\u8D2D\u7269\u65F6\u5C55\u793A\u7684\u4E0D\u4E00\u81F4\uFF0C\u8BE5\u4EF7\u683C\u4EC5\u4F9B\u60A8\u53C2\u8003",
        cuxiaojia: "\u5982\u65E0\u7279\u6B8A\u8BF4\u660E\uFF0C\u4FC3\u9500\u4EF7\u662F\u9500\u552E\u5546\u5728\u53C2\u8003\u4EF7\u57FA\u7840\u4E0A\u7ED9\u4E88\u7684\u4F18\u60E0\u4EF7\u683C\u3002\u5982\u6709\u7591\u95EE\uFF0C\u60A8\u53EF\u4EE5\u5728\u8D2D\u4E70\u524D\u4E0E\u5BA2\u670D\u8054\u7CFB\u3002"
      };
    },
    onLoad(options) {
      formatAppLog("log", "at pages/goodsDetail/goodsDetail.vue:111", "\u8BE6\u60C5", options);
      this.getGoodsDetailData(options.id);
    },
    methods: {
      transformData(inputData) {
        let _this = this;
        formatAppLog("log", "at pages/goodsDetail/goodsDetail.vue:117", "aaaaaaaaaaaaaaaaaaaaa", inputData);
        const transformedData = {
          _id: inputData.detail.goods_id.toString(),
          name: inputData.detail.goods_name,
          goods_thumb: inputData.detail.image,
          sku_list: [],
          spec_list: []
        };
        if (inputData.specData && inputData.specData.spec_attr) {
          inputData.specData.spec_attr.forEach((specAttr) => {
            const specName = specAttr.group_name;
            const specValues = specAttr.spec_items.map((item) => ({ name: item.spec_value, id: item.item_id }));
            transformedData.spec_list.push({
              name: specName,
              list: specValues
            });
          });
          if (inputData.specData.spec_list) {
            _this.specIdArr = inputData.specData.spec_list;
            inputData.specData.spec_list.forEach((specItem) => {
              const matchingSpecValues = specItem.spec_sku_id.split("_").map((specId) => {
                const specValue = inputData.specData.spec_attr.flatMap((attr) => attr.spec_items).find((item) => {
                  return item.item_id === parseInt(specId);
                });
                return specValue ? specValue.spec_value : null;
              }).filter((value) => value !== null);
              const sku = {
                _id: specItem.form.goods_no,
                goods_id: transformedData._id,
                goods_name: transformedData.name,
                image: specItem.form.spec_image,
                price: parseFloat(specItem.form.goods_price.replace(".", "")),
                sku_name_arr: matchingSpecValues,
                stock: specItem.form.stock_num
              };
              transformedData.sku_list.push(sku);
            });
          }
        }
        return transformedData;
      },
      openSkuPopup() {
        formatAppLog("log", "at pages/goodsDetail/goodsDetail.vue:172", "\u5546\u54C1\u4FE1\u606F", this.info);
        let that = this;
        that.buyData = this.info;
        if (!this.info.specData) {
          that.specId = "";
          formatAppLog("log", "at pages/goodsDetail/goodsDetail.vue:177", "\u5355\u89C4\u683C\uFF0C\u4E0D\u5F39\u51FA");
          that.buy();
          return;
        } else {
          that.goodsInfo = that.transformData(this.info);
        }
        that.skuKey = true;
      },
      onOpenSkuPopup() {
        formatAppLog("log", "at pages/goodsDetail/goodsDetail.vue:187", "\u76D1\u542C - \u6253\u5F00sku\u7EC4\u4EF6");
      },
      SkuPopup() {
        formatAppLog("log", "at pages/goodsDetail/goodsDetail.vue:190", "\u76D1\u542C - \u5173\u95EDsku\u7EC4\u4EF6");
      },
      addCartFn(obj) {
        let { selectShop } = obj;
        let res = {};
        let name = selectShop.goods_name;
        if (selectShop.sku_name != "\u9ED8\u8BA4") {
          name += "-" + selectShop.sku_name_arr;
        }
        res.msg = `${name} \u5DF2\u6DFB\u52A0\u5230\u8D2D\u7269\u8F66`;
        if (typeof obj.success == "function")
          obj.success(res);
      },
      addCart(selectShop) {
        let that = this;
        formatAppLog("log", "at pages/goodsDetail/goodsDetail.vue:207", "\u76D1\u542C - \u52A0\u5165\u8D2D\u7269\u8F66");
        that.addCartFn({
          selectShop,
          success: function(res) {
            that.toast(res.msg);
            setTimeout(function() {
              that.skuKey = false;
            }, 300);
          }
        });
      },
      buyNow(selectShop) {
        let that = this;
        formatAppLog("log", "at pages/goodsDetail/goodsDetail.vue:222", "\u76D1\u542C - \u7ACB\u5373\u8D2D\u4E70", "selectShop", selectShop);
        that.buyData.buy_num = selectShop.buy_num;
        const specData = that.buyData.specData;
        const specItems = specData.spec_attr.flatMap((group) => group.spec_items);
        const matchingSpecValues = selectShop.sku_name_arr.map((value) => {
          const matchedItem = specItems.find((item) => item.spec_value === value);
          return matchedItem ? matchedItem.item_id : null;
        });
        const specId = matchingSpecValues.filter((id) => id !== null).join("_");
        that.specId = specId;
        that.addCartFn({
          selectShop,
          success: function(res) {
            that.buy();
          }
        });
      },
      toast(msg) {
        uni.showToast({
          title: msg,
          icon: "none"
        });
      },
      async buy(e2) {
        let _this = this;
        if (e2) {
          e2.preventDefault();
        }
        let data = {
          goods_id: _this.buyData.detail.goods_id,
          goods_num: _this.buyData.buy_num || 1,
          goods_sku_id: _this.specId || ""
        };
        const res = await this.$myRequest({
          url: "api/Order/buyNow",
          method: "POST",
          data
        });
        let goods = {
          goods_name: res.data.goods_list[0].goods_name,
          name: res.data.address.name,
          phone: res.data.address.phone,
          addressDetail: res.data.address.detail,
          address_id: res.data.address.address_id,
          category_id: res.data.goods_list[0].category_id,
          goods_id: res.data.goods_list[0].goods_id,
          goods_attr: res.data.goods_list[0].goods_sku.goods_attr,
          goods_price: res.data.goods_list[0].goods_sku.goods_price,
          order_total_price: res.data.order_total_price,
          order_pay_price: res.data.order_pay_price,
          order_total_num: res.data.order_total_num,
          image: res.data.goods_list[0].image,
          spec_sku_id: res.data.goods_list[0].goods_sku.spec_sku_id
        };
        const queryString = Object.keys(goods).map((key) => `${key}=${encodeURIComponent(goods[key])}`).join("&");
        formatAppLog("log", "at pages/goodsDetail/goodsDetail.vue:285", "\u4E70\u4E1C\u897F\u54AF", res);
        formatAppLog("log", "at pages/goodsDetail/goodsDetail.vue:286", "\u4E70\u4E1C\u897F\u54AF", goods);
        formatAppLog("log", "at pages/goodsDetail/goodsDetail.vue:287", "\u4E70\u4E1C\u897F\u54AF", queryString);
        if (res.code == 1) {
          uni.navigateTo({
            url: `/pages/goodsConfirm/goodsConfirm?${queryString}`
          });
        } else {
          uni.showToast({
            title: res.msg,
            icon: "error"
          });
        }
      },
      async getGoodsDetailData(goods_id) {
        let _this = this;
        const res = await this.$myRequest({
          url: "api/Goods/detail",
          method: "POST",
          data: {
            goods_id
          }
        });
        formatAppLog("log", "at pages/goodsDetail/goodsDetail.vue:310", "\u5546\u54C1\u8BE6\u60C5", res);
        if (res.code == 1) {
          _this.detailInfo = res.data.detail;
          _this.info = res.data;
        } else {
          uni.showToast({
            title: res.msg,
            icon: "error"
          });
        }
      }
    }
  };
  function _sfc_render$f(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_font = vue.resolveComponent("font");
    const _component_vk_data_goods_sku_popup = resolveEasycom(vue.resolveDynamicComponent("vk-data-goods-sku-popup"), __easycom_0$f);
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createCommentVNode(` <image :src="'/static/logo.png'" style="width: 750rpx;height: 640rpx;" /> `),
      vue.createCommentVNode(" \u56FE\u7247 "),
      vue.createElementVNode("swiper", {
        style: { "width": "100%", "height": "400rpx" },
        "indicator-dots": "",
        circular: "",
        autoplay: "",
        "indicator-color": "#E9E9E9",
        "indicator-active-color": "#38CBD5"
      }, [
        (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.detailInfo.imgs_url, (item, index) => {
          return vue.openBlock(), vue.createElementBlock("swiper-item", { key: index }, [
            vue.createElementVNode("image", {
              style: { "width": "100%", "height": "280rpx" },
              src: item,
              mode: "aspectFill",
              onError: _cache[0] || (_cache[0] = (...args) => _ctx.imageError && _ctx.imageError(...args))
            }, null, 40, ["src"])
          ]);
        }), 128))
      ]),
      vue.createCommentVNode(" \u4EF7\u683C "),
      vue.createElementVNode("view", { class: "h-layout" }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "52rpx", "font-weight": "500", "color": "#FF5500", "padding": "32rpx" } }, [
          vue.createVNode(_component_font, { style: { "font-size": "24rpx" } }, {
            default: vue.withCtx(() => [
              vue.createTextVNode("\xA5")
            ]),
            _: 1
          }),
          vue.createTextVNode(vue.toDisplayString($data.detailInfo.spec[0].goods_price), 1)
        ]),
        vue.createElementVNode("image", {
          src: "/static/ic_share.png",
          style: { "width": "36rpx", "height": "36rpx", "padding": "32rpx" }
        }, null, 8, ["src"])
      ]),
      vue.createCommentVNode(" \u6807\u9898 "),
      vue.createElementVNode("view", { style: { "font-size": "30rpx", "font-weight": "500", "color": "#333333", "padding": "0 32rpx" } }, vue.toDisplayString($data.detailInfo.goods_name), 1),
      vue.createElementVNode("view", { style: { "background-color": "#F3F4F6", "height": "16rpx", "margin-top": "32rpx" } }),
      vue.createCommentVNode(" \u8BE6\u60C5 "),
      vue.createElementVNode("view", {
        class: "h-layout",
        style: { "align-items": "baseline" }
      }, [
        vue.createCommentVNode(' <text style="font-size: 24rpx;font-weight: 500;color: #333333;padding: 32rpx;" v-html="detailInfo.content"> '),
        vue.createCommentVNode(" \u5546\u54C1\u8BE6\u60C5 "),
        vue.createCommentVNode(" </text> "),
        vue.createCommentVNode(' <text style="flex: 1; font-size: 24rpx;font-weight: 400;color: #333333;padding: 32rpx 32rpx 32rpx 0; ">\r\n				{{detail}}\r\n			</text> ')
      ]),
      vue.createElementVNode("view", { style: { "background-color": "#F3F4F6", "height": "16rpx" } }),
      vue.createCommentVNode(" \u56FE\u7247 "),
      (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.imgList, (item) => {
        return vue.openBlock(), vue.createElementBlock("view", null, [
          vue.createElementVNode("image", {
            src: item.img,
            style: { "width": "100%" },
            mode: "widthFix"
          }, null, 8, ["src"])
        ]);
      }), 256)),
      vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "500", "color": "#333333", "padding": "32rpx" } }, " \u4EF7\u683C\u8BF4\u660E "),
      vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#333333", "padding": "0 32rpx" } }, " \u53C2\u8003\u4EF7\uFF1A "),
      vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "500", "color": "#333333", "padding": "32rpx" } }, vue.toDisplayString($data.cankaojia), 1),
      vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#333333", "padding": "0 32rpx" } }, " \u4FC3\u9500\u4EF7\uFF1A "),
      vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "500", "color": "#333333", "padding": "32rpx" } }, vue.toDisplayString($data.cuxiaojia), 1),
      vue.createElementVNode("view", { style: { "background-color": "#F3F4F6", "height": "16rpx" } }),
      vue.createCommentVNode(" \u6309\u94AE "),
      vue.createElementVNode("button", {
        class: "btn",
        onClick: _cache[1] || (_cache[1] = ($event) => $options.openSkuPopup())
      }, "\u7ACB\u5373\u8D2D\u4E70"),
      vue.createVNode(_component_vk_data_goods_sku_popup, {
        ref: "skuPopup",
        modelValue: $data.skuKey,
        "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.skuKey = $event),
        "border-radius": "20",
        localdata: $data.goodsInfo,
        mode: $data.skuMode,
        onOpen: $options.onOpenSkuPopup,
        onClose: $options.SkuPopup,
        onAddCart: $options.addCart,
        onBuyNow: $options.buyNow
      }, null, 8, ["modelValue", "localdata", "mode", "onOpen", "onClose", "onAddCart", "onBuyNow"])
    ]);
  }
  var PagesGoodsDetailGoodsDetail = /* @__PURE__ */ _export_sfc(_sfc_main$g, [["render", _sfc_render$f], ["__file", "F:/work/ChuangDian/pages/goodsDetail/goodsDetail.vue"]]);
  const _sfc_main$f = {
    data() {
      return {
        couponPrice: 0,
        num: 1,
        detail: {},
        showCouponModal: false,
        list: [],
        chooseCouponsIndex: 0
      };
    },
    onUnload() {
      uni.$off("updateAddress");
    },
    onHide() {
      uni.$off("updateAddress");
      formatAppLog("log", "at pages/goodsConfirm/goodsConfirm.vue:135", "\u5546\u54C1\u786E\u8BA4\u9875\u9875\u9762\u9690\u85CF\u4E86");
    },
    onLoad(options) {
      for (const key in options) {
        this.detail[key] = decodeURIComponent(options[key]);
      }
      formatAppLog("log", "at pages/goodsConfirm/goodsConfirm.vue:141", "\u8FDB\u5165\u5230\u5546\u54C1\u786E\u8BA4\u9875", this.detail);
    },
    onShow() {
      let _this = this;
      uni.$on("updateAddress", (data) => {
        formatAppLog("log", "at pages/goodsConfirm/goodsConfirm.vue:146", "\u62FF\u5230\u4E86\u9009\u62E9\u7684\u5730\u5740\u4FE1\u606F", data);
        _this.detail.address_id = data.address_id;
        _this.detail.addressDetail = data.detail;
        _this.detail.name = data.name;
        _this.detail.phone = data.phone;
      });
    },
    methods: {
      chooseCoupons(item, i2) {
        this.calculatePrice(item, i2);
      },
      async calculatePrice(item, i2) {
        let _this = this;
        if (this.chooseCouponsIndex == i2) {
          this.showCouponModal = false;
          return;
        }
        const res = await this.$myRequest({
          url: "api/Coupon/calculatePrice",
          method: "POST",
          data: {
            goods_price: this.detail.order_pay_price,
            coupons_id: _this.list[this.chooseCouponsIndex].coupons_id
          }
        });
        formatAppLog("log", "at pages/goodsConfirm/goodsConfirm.vue:173", "\u9009\u62E9\u4F18\u60E0\u5238\u8BA1\u7B97\u4F18\u60E0\u4EF7", res);
        if (res.code == 1) {
          this.couponPrice = _this.list[this.chooseCouponsIndex].coupons.coupons_money;
          formatAppLog("log", "at pages/goodsConfirm/goodsConfirm.vue:177", "this.couponPrice", this.couponPrice);
          this.detail.order_pay_price = res.data.coupons_price;
          this.showCouponModal = false;
        } else {
          uni.showToast({
            title: res.msg,
            icon: "error"
          });
        }
      },
      claimCoupons(item, i2) {
        this.chooseCouponsIndex = i2;
      },
      couponList() {
        this.showCouponModal = true;
        if (this.list.length <= 0) {
          this.screenUserCouponsList();
        }
      },
      closeCouponModal() {
        this.showCouponModal = false;
      },
      async screenUserCouponsList() {
        let _this = this;
        const res = await this.$myRequest({
          url: "api/Coupon/screenUserCouponsList",
          method: "POST",
          data: {
            goods_price: this.detail.goods_price
          }
        });
        formatAppLog("log", "at pages/goodsConfirm/goodsConfirm.vue:212", "\u83B7\u53D6\u5546\u54C1\u4EF7\u683C\u7B5B\u9009\u4F18\u60E0\u5238", res);
        if (res.code == 1) {
          _this.list = res.data.data;
        } else {
          uni.showToast({
            title: res.msg,
            icon: "error"
          });
        }
      },
      selectAddress() {
        uni.navigateTo({
          url: "/pages/addressManage/addressManage?selectAddress=1"
        });
      },
      addNum() {
        if (this.detail.order_total_num >= 99) {
          this.detail.order_pay_price = Number(this.detail.goods_price) * this.detail.order_total_num - this.couponPrice;
          return;
        }
        this.detail.order_total_num = Number(this.detail.order_total_num) + 1;
        this.detail.order_pay_price = Number(this.detail.goods_price) * this.detail.order_total_num - this.couponPrice;
      },
      reduceNum() {
        if (this.detail.order_total_num <= 1) {
          this.detail.order_pay_price = Number(this.detail.goods_price) * this.detail.order_total_num - this.couponPrice;
          return;
        }
        this.detail.order_total_num -= 1;
        this.detail.order_pay_price = Number(this.detail.goods_price) * this.detail.order_total_num - this.couponPrice;
      },
      async buyNow() {
        let _this = this;
        const res = await this.$myRequest({
          url: "api/Order/buyNow_pay",
          method: "POST",
          data: {
            goods_id: _this.detail.goods_id,
            goods_num: _this.detail.order_total_num,
            goods_sku_id: _this.detail.spec_sku_id,
            address_id: _this.detail.address_id
          }
        });
        formatAppLog("log", "at pages/goodsConfirm/goodsConfirm.vue:268", "\u9009\u62E9\u4F18\u60E0\u5238\u8BA1\u7B97\u4F18\u60E0\u4EF7", res);
        if (res.code == 1)
          ;
        else {
          uni.showToast({
            title: res.msg,
            icon: "error"
          });
        }
      }
    }
  };
  function _sfc_render$e(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", { style: { "flex": "1", "overflow": "auto" } }, [
        vue.createCommentVNode(" \u5730\u5740 "),
        vue.createElementVNode("view", {
          class: "h-layout",
          onClick: _cache[0] || (_cache[0] = ($event) => $options.selectAddress()),
          style: { "padding": "32rpx", "background-color": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx" }
        }, [
          vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column" } }, [
            vue.createElementVNode("view", { class: "h-layout" }, [
              vue.createElementVNode("image", {
                style: { "width": "24rpx", "height": "26rpx" },
                src: "/static/ic_address.png"
              }, null, 8, ["src"]),
              vue.createElementVNode("text", { style: { "flex": "1", "font-size": "32rpx", "font-weight": "600", "color": "#333333", "margin-left": "10rpx" } }, vue.toDisplayString($data.detail.addressDetail), 1)
            ]),
            vue.createElementVNode("view", {
              class: "h-layout",
              style: { "margin-top": "10rpx" }
            }, [
              vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#333333" } }, vue.toDisplayString($data.detail.name), 1),
              vue.createCommentVNode(' <text style=" font-size: 24rpx;font-weight: 400;color: #333333;margin-left: 18rpx;">\u5973\u58EB</text> '),
              vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#333333", "margin-left": "18rpx", "margin-top": "4rpx" } }, vue.toDisplayString($data.detail.phone), 1)
            ])
          ]),
          vue.createElementVNode("image", {
            style: { "width": "12rpx", "height": "16rpx" },
            src: "/static/ic_next.png"
          }, null, 8, ["src"])
        ]),
        vue.createCommentVNode(" \u8BA2\u5355\u5546\u54C1 "),
        vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "padding": "32rpx", "background-color": "#FFFFFF", "border-radius": "16rpx", "margin": "20rpx 32rpx" } }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "600", "color": "#333333" } }, "\u8BA2\u5355\u5546\u54C1"),
          vue.createElementVNode("view", {
            class: "h-layout",
            style: { "margin-top": "32rpx" }
          }, [
            vue.createElementVNode("image", {
              style: { "width": "128rpx", "height": "128rpx", "border-radius": "8rpx" },
              src: $data.detail.image || "/static/logo.png"
            }, null, 8, ["src"]),
            vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column", "margin": "0 10rpx" } }, [
              vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, vue.toDisplayString($data.detail.goods_name), 1),
              vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "500", "color": "#666666", "margin-top": "20rpx" } }, vue.toDisplayString($data.detail.goods_attr), 1)
            ]),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#FF5500" } }, "\xA5" + vue.toDisplayString($data.detail.goods_price), 1)
          ])
        ]),
        vue.createCommentVNode(" \u8D2D\u4E70\u6570\u91CF "),
        vue.createElementVNode("view", {
          class: "h-layout",
          style: { "padding": "32rpx", "background-color": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx" }
        }, [
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "600", "color": "#333333" } }, "\u8D2D\u4E70\u6570\u91CF"),
          vue.createElementVNode("text", {
            style: { "width": "64rpx", "height": "64rpx", "background-color": "#F3F4F6", "border-radius": "50%", "border": "2rpx solid #CCCCCC", "color": "#333333", "font-size": "32rpx", "font-weight": "600", "display": "flex", "align-items": "center", "justify-content": "center" },
            onClick: _cache[1] || (_cache[1] = ($event) => $options.addNum())
          }, "+"),
          vue.createElementVNode("text", { style: { "min-width": "40rpx", "font-size": "28rpx", "font-weight": "500", "color": "#333333", "margin": "0 32rpx", "text-align": "center" } }, vue.toDisplayString($data.detail.order_total_num), 1),
          vue.createElementVNode("text", {
            style: { "width": "64rpx", "height": "64rpx", "background-color": "#F3F4F6", "border-radius": "50%", "border": "2rpx solid #CCCCCC", "color": "#333333", "font-size": "32rpx", "font-weight": "600", "display": "flex", "align-items": "center", "justify-content": "center" },
            onClick: _cache[2] || (_cache[2] = ($event) => $options.reduceNum())
          }, "-")
        ]),
        vue.createCommentVNode(" \u4F18\u60E0\u5238 "),
        vue.createElementVNode("view", {
          class: "h-layout",
          onClick: _cache[3] || (_cache[3] = ($event) => $options.couponList()),
          style: { "padding": "32rpx", "background-color": "#FFFFFF", "border-radius": "16rpx", "margin": "20rpx 32rpx" }
        }, [
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "600", "color": "#333333" } }, "\u4F18\u60E0\u5238"),
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "margin-right": "18rpx" } }, vue.toDisplayString($data.couponPrice > 0 ? "-" + $data.couponPrice : "\u8BF7\u9009\u62E9\u4F18\u60E0\u5238"), 1),
          vue.createElementVNode("image", {
            style: { "width": "12rpx", "height": "16rpx" },
            src: "/static/ic_next.png"
          }, null, 8, ["src"])
        ]),
        vue.createCommentVNode(" \u652F\u4ED8\u65B9\u5F0F "),
        vue.createElementVNode("view", {
          class: "h-layout",
          style: { "padding": "32rpx", "background-color": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx" }
        }, [
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "600", "color": "#333333" } }, "\u652F\u4ED8\u65B9\u5F0F"),
          vue.createElementVNode("image", {
            style: { "width": "48rpx", "height": "48rpx" },
            src: "/static/ic_weixin.png"
          }, null, 8, ["src"]),
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "margin-left": "8rpx" } }, "\u5FAE\u4FE1\u652F\u4ED8")
        ])
      ]),
      vue.createCommentVNode(" \u5E95\u90E8\u5E03\u5C40 "),
      vue.createElementVNode("view", {
        class: "h-layout",
        style: { "background-color": "#FFFFFF" }
      }, [
        vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "500", "color": "#333333", "text-align": "end" } }, "\u5F85\u652F\u4ED8\uFF1A"),
        vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#FF5500" } }, "\xA5" + vue.toDisplayString($data.detail.order_pay_price), 1),
        vue.createElementVNode("text", {
          style: { "font-size": "28rpx", "font-weight": "500", "color": "#FFFFFF", "background": "#38CBD5", "border-radius": "36rpx", "padding": "16rpx 44rpx", "margin": "14rpx 32rpx 20rpx 16rpx" },
          onClick: _cache[4] || (_cache[4] = ($event) => $options.buyNow())
        }, "\u7ACB\u5373\u652F\u4ED8")
      ]),
      vue.createCommentVNode(" \u4F18\u60E0\u5238\u5F39\u6846 "),
      vue.withDirectives(vue.createElementVNode("view", { class: "coupon-modal" }, [
        vue.createElementVNode("div", {
          class: "shadow",
          style: { "position": "absolute", "left": "0", "right": "0", "bottom": "0", "top": "0" },
          onClick: _cache[5] || (_cache[5] = ($event) => $data.showCouponModal = false)
        }),
        vue.createElementVNode("view", {
          class: "coupon-content",
          style: { "background": "#f3f5f7", "border-radius": "24px 24px 0 0", "padding": "16 10px", "z-index": "1" }
        }, [
          vue.createElementVNode("view", { style: { "display": "flex", "justify-content": "space-between", "align-items": "center", "height": "46px", "padding": "0 12px", "margin-bottom": "14px" } }, [
            vue.createElementVNode("text", {
              class: "close-button",
              style: { "margin": "0", "color": "#393c3c", "font-weight": "bold" }
            }, "\u53EF\u7528\u4F18\u60E0\u5238"),
            vue.createElementVNode("image", {
              onClick: _cache[6] || (_cache[6] = (...args) => $options.closeCouponModal && $options.closeCouponModal(...args)),
              style: { "width": "18px", "height": "18px" },
              src: "/static/ic_close_popup.png",
              alt: ""
            })
          ]),
          vue.createCommentVNode(" \u4F18\u60E0\u5238\u5217\u8868\u5185\u5BB9\uFF0C\u4F60\u53EF\u4EE5\u6839\u636E\u5B9E\u9645\u60C5\u51B5\u6DFB\u52A0 "),
          (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.list, (item, i2) => {
            return vue.openBlock(), vue.createElementBlock("view", { style: { "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center" } }, [
              vue.createElementVNode("view", {
                onClick: vue.withModifiers(($event) => $options.claimCoupons(item, i2), ["stop"]),
                class: "h-layout",
                style: { "background-color": "#FFFFFF", "width": "82%", "border-radius": "8px", "margin-bottom": "10px", "padding": "16px 22px" }
              }, [
                vue.createCommentVNode(" \u91D1\u989D "),
                vue.createElementVNode("view", { style: { "display": "flex", "align-items": "baseline", "width": "140rpx", "justify-content": "center", "margin-right": "32rpx" } }, [
                  vue.createElementVNode("text", { style: { "font-size": "32rpx", "font-weight": "bold", "color": "#F42B00" } }, "\xA5"),
                  vue.createElementVNode("text", { style: { "font-size": "72rpx", "font-weight": "bold", "color": "#F42B00" } }, vue.toDisplayString(item.coupons.coupons_money), 1)
                ]),
                vue.createCommentVNode(" \u4E2D\u95F4\u90E8\u5206 "),
                vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column" } }, [
                  vue.createElementVNode("view", { style: { "font-size": "32rpx", "font-weight": "600", "color": "#333333" } }, vue.toDisplayString(item.coupons.coupons_name), 1),
                  vue.createElementVNode("view", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#80848F", "margin-top": "16rpx" } }, " \u6709\u6548\u671F\u81F3 " + vue.toDisplayString(item.coupons.end_time), 1),
                  vue.createElementVNode("view", { style: { "font-size": "20rpx", "font-weight": "400", "color": "#999999", "margin-top": "32rpx" } }, " \u4F7F\u7528\u89C4\u5219 > ")
                ]),
                vue.createCommentVNode(" \u53BB\u4F7F\u7528 "),
                vue.createElementVNode("image", {
                  style: { "width": "20px", "height": "20px" },
                  src: $data.chooseCouponsIndex == i2 ? "/static/ic_circle_check.png" : "/static/ic_circle_uncheck.png",
                  alt: ""
                }, null, 8, ["src"])
              ], 8, ["onClick"])
            ]);
          }), 256)),
          vue.createElementVNode("view", {
            onClick: _cache[7] || (_cache[7] = vue.withModifiers(($event) => $options.chooseCoupons(_ctx.item, _ctx.i), ["stop"])),
            style: { "width": "94%", "margin": "0 auto", "border-radius": "40px", "padding": "16px 0", "font-weight": "bold", "color": "#353535", "font-size": "16px", "display": "flex", "align-items": "center", "justify-content": "center", "background-color": "#fff" }
          }, "\u786E\u8BA4"),
          vue.createCommentVNode(" \u6839\u636E\u9700\u8981\u6DFB\u52A0\u66F4\u591A\u4F18\u60E0\u5238\u8BE6\u60C5 ")
        ])
      ], 512), [
        [vue.vShow, $data.showCouponModal]
      ])
    ]);
  }
  var PagesGoodsConfirmGoodsConfirm = /* @__PURE__ */ _export_sfc(_sfc_main$f, [["render", _sfc_render$e], ["__scopeId", "data-v-67a8ef74"], ["__file", "F:/work/ChuangDian/pages/goodsConfirm/goodsConfirm.vue"]]);
  const _sfc_main$e = {
    data() {
      return {
        isSearch: true
      };
    },
    methods: {
      scan() {
        uni.navigateTo({
          url: "/pages/scanQrCode/scanQrCode"
        });
      },
      input() {
        uni.navigateTo({
          url: "/pages/inputDevice/inputDevice"
        });
      }
    }
  };
  function _sfc_render$d(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createCommentVNode(" \u6682\u65E0\u6570\u636E "),
      $data.isSearch ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "center"
      }, [
        vue.createElementVNode("view", {
          class: "radar",
          style: { "width": "460rpx", "height": "460rpx" }
        }),
        vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#141B24", "margin-top": "90rpx", "font-weight": "400" } }, "\u6B63\u5728\u641C\u7D22...")
      ])) : vue.createCommentVNode("v-if", true),
      vue.createElementVNode("view", { style: { "width": "750rpx", "position": "absolute", "bottom": "0rpx", "display": "flex", "flex-direction": "column", "justify-content": "center", "align-items": "center" } }, [
        vue.createElementVNode("view", {
          style: { "width": "560rpx", "height": "84rpx", "background-color": "#38CBD5", "border-radius": "40rpx", "border": "2rpx solid rgba(60,148,255,0.16)", "color": "#FFFFFF", "font-size": "28rpx", "display": "flex", "justify-content": "center", "align-items": "center" },
          onClick: _cache[0] || (_cache[0] = ($event) => $options.scan())
        }, "\u626B\u63CF\u8BBE\u5907"),
        vue.createElementVNode("view", {
          style: { "width": "560rpx", "height": "84rpx", "background": "#FFFFFF", "border-radius": "40rpx", "border": "4rpx solid #38CBD5", "margin-top": "32rpx", "margin-bottom": "100rpx", "color": "#333333", "font-size": "28rpx", "display": "flex", "justify-content": "center", "align-items": "center" },
          onClick: _cache[1] || (_cache[1] = ($event) => $options.input())
        }, "\u624B\u52A8\u586B\u5199")
      ])
    ]);
  }
  var PagesSearchDeviceSearchDevice = /* @__PURE__ */ _export_sfc(_sfc_main$e, [["render", _sfc_render$d], ["__file", "F:/work/ChuangDian/pages/searchDevice/searchDevice.vue"]]);
  const _sfc_main$d = {
    name: "orderListView",
    props: ["list"],
    data() {
      return {};
    },
    methods: {
      buy(e2, item) {
        e2.preventDefault();
        uni.navigateTo({
          url: "/pages/goodsConfirm/goodsConfirm?id=" + item.id
        });
      },
      toDetail(id) {
        uni.navigateTo({
          url: "/pages/orderDetail/orderDetail?id=" + id
        });
      }
    }
  };
  function _sfc_render$c(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_font = vue.resolveComponent("font");
    return vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($props.list, (item, index) => {
      return vue.openBlock(), vue.createElementBlock("view", {
        style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx 20rpx 32rpx", "padding": "32rpx" },
        onClick: ($event) => $options.toDetail(item.id)
      }, [
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "500", "color": "#333333" } }, "\u8BA2\u5355\u53F7\uFF1A" + vue.toDisplayString(item.order_no), 1),
          vue.createElementVNode("text", {
            style: { "font-size": "24rpx", "font-weight": "400", "color": "#38CBD5" },
            class: vue.normalizeClass([{ cancel: item.order_status == "20" }, { isGet: item.order_status == "30" }])
          }, vue.toDisplayString(item.order_status == "10" ? "\u5F85\u6536\u8D27" : item.order_status == "20" ? "\u5DF2\u53D6\u6D88" : "\u5DF2\u5B8C\u6210"), 3)
        ]),
        vue.createElementVNode("view", {
          class: "h-layout",
          style: { "margin-top": "20rpx" }
        }, [
          vue.createElementVNode("image", {
            style: { "width": "144rpx", "height": "144rpx", "border-radius": "8px" },
            src: item.images || "/static/logo.png"
          }, null, 8, ["src"]),
          vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column", "margin-left": "24rpx" } }, [
            vue.createElementVNode("view", { style: { "color": "#333333", "font-size": "28rpx", "font-weight": "500" } }, vue.toDisplayString(item.goods_name), 1),
            vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "align-items": "baseline", "margin-top": "14rpx" } }, [
              vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "\uFFE5" + vue.toDisplayString(item.total_price), 1),
              vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#999999" } }, "x" + vue.toDisplayString(item.total_num), 1)
            ])
          ])
        ]),
        vue.createElementVNode("text", { style: { "text-align": "end", "font-size": "28rpx", "font-weight": "500", "color": "#333333", "margin-top": "14rpx" } }, [
          vue.createVNode(_component_font, { style: { "color": "#666666", "font-size": "24rpx" } }, {
            default: vue.withCtx(() => [
              vue.createTextVNode("\u5B9E\u4ED8\u6B3E ")
            ]),
            _: 1
          }),
          vue.createTextVNode("\uFFE5" + vue.toDisplayString(item.pay_price), 1)
        ]),
        vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "align-items": "baseline", "margin-top": "20rpx" } }, [
          vue.createElementVNode("text", { style: { "flex": "1" } }),
          vue.withDirectives(vue.createElementVNode("text", {
            onClick: vue.withModifiers(($event) => $options.buy($event, item), ["stop"]),
            style: { "font-size": "24rpx", "color": "#FFF", "font-weight": "400", "padding": "16rpx 44rpx", "background-color": "#38CBD5", "border-radius": "36rpx" }
          }, vue.toDisplayString(item.receipt_status == "10" ? "\u786E\u8BA4\u6536\u8D27" : "\u5DF2\u6536\u8D27"), 9, ["onClick"]), [
            [vue.vShow, item.order_status == 10]
          ])
        ])
      ], 8, ["onClick"]);
    }), 256);
  }
  var __easycom_0$3 = /* @__PURE__ */ _export_sfc(_sfc_main$d, [["render", _sfc_render$c], ["__scopeId", "data-v-311166b0"], ["__file", "F:/work/ChuangDian/components/orderListView/orderListView.vue"]]);
  const _sfc_main$c = {
    data() {
      return {
        list: [
          {
            title: "\u5B66\u6821\u533B\u9662\u611F\u5E94\u81EA\u52A8\u7682\u6DB2\u5668\u58C1\u6302\u7682\u6DB2 \u76D2\u5395\u6240\u536B\u751F\u95F4\u6D88\u6BD2\u7682\u6DB2\u673A\u6D17\u624B\u6DB2\u74F6",
            num: "4186283772",
            money: "100"
          },
          {
            title: "\u5B66\u6821\u533B\u9662\u611F\u5E94\u81EA\u52A8\u7682\u6DB2\u5668\u58C1\u6302\u7682\u6DB2 \u76D2\u5395\u6240\u536B\u751F\u95F4\u6D88\u6BD2\u7682\u6DB2\u673A\u6D17\u624B\u6DB2\u74F6",
            num: "4186283772",
            money: "500"
          },
          {
            title: "\u5B66\u6821\u533B\u9662\u611F\u5E94\u81EA\u52A8\u7682\u6DB2\u5668\u58C1\u6302\u7682\u6DB2 \u76D2\u5395\u6240\u536B\u751F\u95F4\u6D88\u6BD2\u7682\u6DB2\u673A\u6D17\u624B\u6DB2\u74F6",
            num: "4186283772",
            money: "50"
          },
          {
            title: "\u5B66\u6821\u533B\u9662\u611F\u5E94\u81EA\u52A8\u7682\u6DB2\u5668\u58C1\u6302\u7682\u6DB2 \u76D2\u5395\u6240\u536B\u751F\u95F4\u6D88\u6BD2\u7682\u6DB2\u673A\u6D17\u624B\u6DB2\u74F6",
            num: "4186283772",
            money: "1000"
          },
          {
            title: "\u5B66\u6821\u533B\u9662\u611F\u5E94\u81EA\u52A8\u7682\u6DB2\u5668\u58C1\u6302\u7682\u6DB2 \u76D2\u5395\u6240\u536B\u751F\u95F4\u6D88\u6BD2\u7682\u6DB2\u673A\u6D17\u624B\u6DB2\u74F6",
            num: "4186283772",
            money: "90"
          },
          {
            title: "\u5B66\u6821\u533B\u9662\u611F\u5E94\u81EA\u52A8\u7682\u6DB2\u5668\u58C1\u6302\u7682\u6DB2 \u76D2\u5395\u6240\u536B\u751F\u95F4\u6D88\u6BD2\u7682\u6DB2\u673A\u6D17\u624B\u6DB2\u74F6",
            num: "4186283772",
            money: "99"
          },
          {
            title: "\u5B66\u6821\u533B\u9662\u611F\u5E94\u81EA\u52A8\u7682\u6DB2\u5668\u58C1\u6302\u7682\u6DB2 \u76D2\u5395\u6240\u536B\u751F\u95F4\u6D88\u6BD2\u7682\u6DB2\u673A\u6D17\u624B\u6DB2\u74F6",
            num: "4186283772",
            money: "999"
          },
          {
            title: "\u5B66\u6821\u533B\u9662\u611F\u5E94\u81EA\u52A8\u7682\u6DB2\u5668\u58C1\u6302\u7682\u6DB2 \u76D2\u5395\u6240\u536B\u751F\u95F4\u6D88\u6BD2\u7682\u6DB2\u673A\u6D17\u624B\u6DB2\u74F6",
            num: "4186283772",
            money: "28"
          }
        ]
      };
    },
    onLoad() {
      this.getOrderList();
    },
    methods: {
      async getOrderList() {
        const res = await this.$myRequest({
          url: "api/Order/OrderList",
          method: "POST"
        });
        if (res.code == 1) {
          this.list = res.data;
        } else {
          uni.showToast({
            title: res.msg,
            icon: "error"
          });
        }
        formatAppLog("log", "at pages/orderList/orderList.vue:74", "\u8BA2\u5355\u5217\u8868", res);
      }
    }
  };
  function _sfc_render$b(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_orderListView = resolveEasycom(vue.resolveDynamicComponent("orderListView"), __easycom_0$3);
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", { style: { "overflow": "auto" } }, [
        vue.createVNode(_component_orderListView, { list: $data.list }, null, 8, ["list"])
      ])
    ]);
  }
  var PagesOrderListOrderList = /* @__PURE__ */ _export_sfc(_sfc_main$c, [["render", _sfc_render$b], ["__file", "F:/work/ChuangDian/pages/orderList/orderList.vue"]]);
  function setClipboardData(data) {
    return new Promise((success, fail) => {
      uni.setClipboardData({ data, success, fail });
    });
  }
  const _sfc_main$b = {
    data() {
      return {
        detail: {}
      };
    },
    onLoad(options) {
      this.getOrderDetail(options.id);
    },
    methods: {
      copy(text) {
        setClipboardData(text);
      },
      async getOrderDetail(order_id) {
        const res = await this.$myRequest({
          url: "api/Order/getOrderDetail",
          method: "POST",
          data: {
            order_id
          }
        });
        if (res.code == 1) {
          this.detail = res.data;
        } else {
          uni.showToast({
            title: res.msg,
            icon: "error"
          });
        }
        formatAppLog("log", "at pages/orderDetail/orderDetail.vue:131", "\u8BA2\u5355\u8BE6\u60C5", res);
      }
    }
  };
  function _sfc_render$a(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("scroll-view", {
      "scroll-y": "true",
      class: "bg"
    }, [
      $data.detail && JSON.stringify($data.detail) !== "{}" ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        style: { "display": "flex", "flex-direction": "column" }
      }, [
        vue.createElementVNode("view", { style: { "width": "100%", "display": "flex", "flex-direction": "row", "justify-content": "center", "align-items": "center" } }, [
          vue.createElementVNode("image", {
            style: { "width": "32rpx", "height": "32rpx" },
            src: "/static/ic_circle_check.png"
          }, null, 8, ["src"]),
          vue.createElementVNode("text", { style: { "font-size": "40rpx", "font-weight": "600", "color": "#38CBD5", "margin": "28rpx 10rpx" } }, "\u8BA2\u5355\u5DF2\u5B8C\u6210")
        ]),
        vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#666666", "text-align": "center" } }, "\u6EE1\u610F\u8BF7\u7ED9\u4E94\u661F\u597D\u8BC4\u54DF"),
        vue.createCommentVNode(" \u5730\u5740 "),
        vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "padding": "32rpx", "background-color": "#FFFFFF", "border-radius": "16rpx", "margin": "32rpx 32rpx 20rpx 32rpx" } }, [
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("image", {
              style: { "width": "24rpx", "height": "26rpx" },
              src: "/static/ic_address.png"
            }, null, 8, ["src"]),
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "32rpx", "font-weight": "600", "color": "#333333", "margin-left": "10rpx" } }, vue.toDisplayString($data.detail.address.detail), 1)
          ]),
          vue.createElementVNode("view", {
            class: "h-layout",
            style: { "margin-top": "10rpx" }
          }, [
            vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#333333" } }, vue.toDisplayString($data.detail.address.name), 1),
            vue.createCommentVNode(' <text style=" font-size: 24rpx;font-weight: 400;color: #333333;margin-left: 18rpx;">\u5973\u58EB</text> '),
            vue.createElementVNode("text", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#333333", "margin-left": "18rpx", "margin-top": "4rpx" } }, vue.toDisplayString($data.detail.address.phone), 1)
          ]),
          vue.createElementVNode("view", {
            class: "h-layout",
            style: { "margin-top": "48rpx" }
          }, [
            vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column" } }, [
              vue.createElementVNode("view", { class: "h-layout" }, [
                vue.createElementVNode("image", {
                  style: { "width": "28rpx", "height": "28rpx" },
                  src: "/static/ic_tip.png"
                }, null, 8, ["src"]),
                vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#666666", "margin-left": "10rpx" } }, "\u60A8\u7684\u5FEB\u9012\u5DF2\u7ECF\u53D6\u51FA\uFF0C\u5982\u6709\u95EE\u9898\u53EF\u81F4\u7535")
              ]),
              vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#666666", "margin-left": "38rpx", "margin-top": "8rpx" } }, "0659-2356729")
            ]),
            vue.createElementVNode("image", {
              style: { "width": "12rpx", "height": "16rpx" },
              src: "/static/ic_next.png"
            }, null, 8, ["src"])
          ])
        ]),
        vue.createCommentVNode(" \u5546\u54C1 "),
        vue.createElementVNode("view", {
          class: "h-layout",
          style: { "padding": "32rpx", "background-color": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx" }
        }, [
          vue.createElementVNode("image", {
            style: { "width": "144rpx", "height": "144rpx" },
            src: $data.detail.goods[0].image || "/static/logo.png"
          }, null, 8, ["src"]),
          vue.createElementVNode("view", { style: { "flex": "1", "display": "flex", "flex-direction": "column", "margin-left": "24rpx" } }, [
            vue.createElementVNode("view", { style: { "color": "#333333", "font-size": "28rpx", "font-weight": "500" } }, vue.toDisplayString($data.detail.goods[0].goods_name), 1),
            vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "row", "align-items": "baseline", "margin-top": "14rpx" } }, [
              vue.createElementVNode("text", { style: { "flex": "1", "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "\uFFE5" + vue.toDisplayString($data.detail.goods[0].goods_price), 1),
              vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#999999" } }, "x" + vue.toDisplayString($data.detail.goods[0].total_num), 1)
            ])
          ])
        ]),
        vue.createCommentVNode(" \u4EF7\u683C\u5217\u8868 "),
        vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "padding": "32rpx", "background-color": "#FFFFFF", "border-radius": "16rpx", "margin": "32rpx 32rpx 20rpx 32rpx" } }, [
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, "\u5546\u54C1\u603B\u989D"),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "\xA5" + vue.toDisplayString($data.detail.goods[0].total_price), 1)
          ]),
          vue.createElementVNode("view", {
            class: "h-layout",
            style: { "margin-top": "32rpx" }
          }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, "\u5546\u54C1\u4F18\u60E0"),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "\xA50")
          ]),
          vue.createElementVNode("view", {
            class: "h-layout",
            style: { "margin-top": "32rpx" }
          }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, "\u5B9E\u4ED8\u6B3E"),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "\xA5" + vue.toDisplayString($data.detail.goods[0].total_price), 1)
          ])
        ]),
        vue.createCommentVNode(" \u8BA2\u5355\u5217\u8868 "),
        vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "padding": "32rpx", "background-color": "#FFFFFF", "border-radius": "16rpx", "margin": "0rpx 32rpx 20rpx 32rpx" } }, [
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, "\u8BA2\u5355\u7F16\u53F7"),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, vue.toDisplayString($data.detail.order_no), 1),
            vue.createElementVNode("text", {
              onClick: _cache[0] || (_cache[0] = ($event) => $options.copy($data.detail.order_no)),
              style: { "font-size": "24rpx", "font-weight": "400", "color": "#333333", "background": "#F1F2F2", "border-radius": "18rpx", "padding": "4rpx 12rpx", "margin-left": "16rpx" }
            }, "\u590D\u5236")
          ]),
          vue.createElementVNode("view", {
            class: "h-layout",
            style: { "margin-top": "32rpx" }
          }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, "\u4E0B\u5355\u65F6\u95F4"),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "2023-06-14 13:04:47")
          ]),
          vue.createElementVNode("view", {
            class: "h-layout",
            style: { "margin-top": "32rpx" }
          }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, "\u4ED8\u6B3E\u65F6\u95F4"),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, vue.toDisplayString($data.detail.pay_time_text), 1)
          ]),
          vue.createElementVNode("view", {
            class: "h-layout",
            style: { "margin-top": "32rpx" }
          }, [
            vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#666666" } }, "\u6536\u8D27\u65F6\u95F4"),
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, "2023-06-14 13:04:47")
          ])
        ])
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  var PagesOrderDetailOrderDetail = /* @__PURE__ */ _export_sfc(_sfc_main$b, [["render", _sfc_render$a], ["__file", "F:/work/ChuangDian/pages/orderDetail/orderDetail.vue"]]);
  var address = {
    "hotCities": [{
      "id": 1,
      "spell": "beijing",
      "name": "\u5317\u4EAC"
    }, {
      "id": 3,
      "spell": "shanghai",
      "name": "\u4E0A\u6D77"
    }, {
      "id": 47,
      "spell": "xian",
      "name": "\u897F\u5B89"
    }, {
      "id": 239,
      "spell": "sanya",
      "name": "\u4E09\u4E9A"
    }, {
      "id": 188,
      "spell": "lijiang",
      "name": "\u4E3D\u6C5F"
    }, {
      "id": 125,
      "spell": "guilin",
      "name": "\u6842\u6797"
    }],
    "cities": {
      "A": [{
        "id": 56,
        "spell": "aba",
        "name": "\u963F\u575D"
      }, {
        "id": 57,
        "spell": "akesu",
        "name": "\u963F\u514B\u82CF"
      }, {
        "id": 58,
        "spell": "alashanmeng",
        "name": "\u963F\u62C9\u5584\u76DF"
      }, {
        "id": 59,
        "spell": "aletai",
        "name": "\u963F\u52D2\u6CF0"
      }, {
        "id": 60,
        "spell": "ali",
        "name": "\u963F\u91CC"
      }, {
        "id": 61,
        "spell": "ankang",
        "name": "\u5B89\u5EB7"
      }, {
        "id": 62,
        "spell": "anqing",
        "name": "\u5B89\u5E86"
      }, {
        "id": 63,
        "spell": "anshan",
        "name": "\u978D\u5C71"
      }, {
        "id": 64,
        "spell": "anshun",
        "name": "\u5B89\u987A"
      }, {
        "id": 65,
        "spell": "anyang",
        "name": "\u5B89\u9633"
      }, {
        "id": 338,
        "spell": "acheng",
        "name": "\u963F\u57CE"
      }, {
        "id": 339,
        "spell": "anfu",
        "name": "\u5B89\u798F"
      }, {
        "id": 340,
        "spell": "anji",
        "name": "\u5B89\u5409"
      }, {
        "id": 341,
        "spell": "anning",
        "name": "\u5B89\u5B81"
      }, {
        "id": 342,
        "spell": "anqiu",
        "name": "\u5B89\u4E18"
      }, {
        "id": 343,
        "spell": "anxi",
        "name": "\u5B89\u6EAA"
      }, {
        "id": 344,
        "spell": "anyi",
        "name": "\u5B89\u4E49"
      }, {
        "id": 345,
        "spell": "anyuan",
        "name": "\u5B89\u8FDC"
      }],
      "B": [{
        "id": 1,
        "spell": "beijing",
        "name": "\u5317\u4EAC"
      }, {
        "id": 66,
        "spell": "baicheng",
        "name": "\u767D\u57CE"
      }, {
        "id": 67,
        "spell": "baise",
        "name": "\u767E\u8272"
      }, {
        "id": 68,
        "spell": "baishan",
        "name": "\u767D\u5C71"
      }, {
        "id": 69,
        "spell": "baiyin",
        "name": "\u767D\u94F6"
      }, {
        "id": 70,
        "spell": "bangbu",
        "name": "\u868C\u57E0"
      }, {
        "id": 71,
        "spell": "baoding",
        "name": "\u4FDD\u5B9A"
      }, {
        "id": 72,
        "spell": "baoji",
        "name": "\u5B9D\u9E21"
      }, {
        "id": 73,
        "spell": "baoshan",
        "name": "\u4FDD\u5C71"
      }, {
        "id": 74,
        "spell": "baotou",
        "name": "\u5305\u5934"
      }, {
        "id": 75,
        "spell": "bayannaoer",
        "name": "\u5DF4\u5F66\u6DD6\u5C14"
      }, {
        "id": 76,
        "spell": "bayinguoleng",
        "name": "\u5DF4\u97F3\u90ED\u695E"
      }, {
        "id": 77,
        "spell": "bazhong",
        "name": "\u5DF4\u4E2D"
      }, {
        "id": 78,
        "spell": "beihai",
        "name": "\u5317\u6D77"
      }, {
        "id": 79,
        "spell": "benxi",
        "name": "\u672C\u6EAA"
      }, {
        "id": 80,
        "spell": "bijie",
        "name": "\u6BD5\u8282"
      }, {
        "id": 81,
        "spell": "binzhou",
        "name": "\u6EE8\u5DDE"
      }, {
        "id": 82,
        "spell": "boertala",
        "name": "\u535A\u5C14\u5854\u62C9"
      }, {
        "id": 83,
        "spell": "bozhou",
        "name": "\u4EB3\u5DDE"
      }, {
        "id": 346,
        "spell": "baoying",
        "name": "\u5B9D\u5E94"
      }, {
        "id": 347,
        "spell": "bayan",
        "name": "\u5DF4\u5F66"
      }, {
        "id": 348,
        "spell": "binhai",
        "name": "\u6EE8\u6D77"
      }, {
        "id": 349,
        "spell": "binxian",
        "name": "\u5BBE\u53BF"
      }, {
        "id": 350,
        "spell": "binyang",
        "name": "\u5BBE\u9633"
      }, {
        "id": 351,
        "spell": "bishan",
        "name": "\u74A7\u5C71"
      }, {
        "id": 352,
        "spell": "boai",
        "name": "\u535A\u7231"
      }, {
        "id": 353,
        "spell": "boluo",
        "name": "\u535A\u7F57"
      }, {
        "id": 354,
        "spell": "boxing",
        "name": "\u535A\u5174"
      }],
      "C": [{
        "id": 2,
        "spell": "chongqing",
        "name": "\u91CD\u5E86"
      }, {
        "id": 5,
        "spell": "changchun",
        "name": "\u957F\u6625"
      }, {
        "id": 6,
        "spell": "changsha",
        "name": "\u957F\u6C99"
      }, {
        "id": 7,
        "spell": "changzhou",
        "name": "\u5E38\u5DDE"
      }, {
        "id": 8,
        "spell": "chengdu",
        "name": "\u6210\u90FD"
      }, {
        "id": 84,
        "spell": "cangzhou",
        "name": "\u6CA7\u5DDE"
      }, {
        "id": 85,
        "spell": "changde",
        "name": "\u5E38\u5FB7"
      }, {
        "id": 86,
        "spell": "changdu",
        "name": "\u660C\u90FD"
      }, {
        "id": 87,
        "spell": "changji",
        "name": "\u660C\u5409"
      }, {
        "id": 88,
        "spell": "changzhi",
        "name": "\u957F\u6CBB"
      }, {
        "id": 89,
        "spell": "chaohu",
        "name": "\u5DE2\u6E56"
      }, {
        "id": 90,
        "spell": "chaoyang",
        "name": "\u671D\u9633"
      }, {
        "id": 91,
        "spell": "chaozhou",
        "name": "\u6F6E\u5DDE"
      }, {
        "id": 92,
        "spell": "chengde",
        "name": "\u627F\u5FB7"
      }, {
        "id": 93,
        "spell": "chenzhou",
        "name": "\u90F4\u5DDE"
      }, {
        "id": 94,
        "spell": "chifeng",
        "name": "\u8D64\u5CF0"
      }, {
        "id": 95,
        "spell": "chizhou",
        "name": "\u6C60\u5DDE"
      }, {
        "id": 96,
        "spell": "chongzuo",
        "name": "\u5D07\u5DE6"
      }, {
        "id": 97,
        "spell": "chuxiong",
        "name": "\u695A\u96C4"
      }, {
        "id": 98,
        "spell": "chuzhou",
        "name": "\u6EC1\u5DDE"
      }, {
        "id": 355,
        "spell": "cangnan",
        "name": "\u82CD\u5357"
      }, {
        "id": 356,
        "spell": "cangshan",
        "name": "\u82CD\u5C71"
      }, {
        "id": 357,
        "spell": "caoxian",
        "name": "\u66F9\u53BF"
      }, {
        "id": 358,
        "spell": "changdao",
        "name": "\u957F\u5C9B"
      }, {
        "id": 359,
        "spell": "changfeng",
        "name": "\u957F\u4E30"
      }, {
        "id": 360,
        "spell": "changhai",
        "name": "\u957F\u6D77"
      }, {
        "id": 361,
        "spell": "changle",
        "name": "\u957F\u4E50"
      }, {
        "id": 362,
        "spell": "changle",
        "name": "\u660C\u4E50"
      }, {
        "id": 363,
        "spell": "changshan",
        "name": "\u5E38\u5C71"
      }, {
        "id": 364,
        "spell": "changshu",
        "name": "\u5E38\u719F"
      }, {
        "id": 365,
        "spell": "changtai",
        "name": "\u957F\u6CF0"
      }, {
        "id": 366,
        "spell": "changting",
        "name": "\u957F\u6C40"
      }, {
        "id": 367,
        "spell": "changxing",
        "name": "\u957F\u5174"
      }, {
        "id": 368,
        "spell": "changyi",
        "name": "\u660C\u9091"
      }, {
        "id": 369,
        "spell": "chaoan",
        "name": "\u6F6E\u5B89"
      }, {
        "id": 370,
        "spell": "chenggong",
        "name": "\u5448\u8D21"
      }, {
        "id": 371,
        "spell": "chengkou",
        "name": "\u57CE\u53E3"
      }, {
        "id": 372,
        "spell": "chengwu",
        "name": "\u6210\u6B66"
      }, {
        "id": 373,
        "spell": "chiping",
        "name": "\u830C\u5E73"
      }, {
        "id": 374,
        "spell": "chongren",
        "name": "\u5D07\u4EC1"
      }, {
        "id": 375,
        "spell": "chongyi",
        "name": "\u5D07\u4E49"
      }, {
        "id": 376,
        "spell": "chongzhou",
        "name": "\u5D07\u5DDE"
      }, {
        "id": 377,
        "spell": "chunan",
        "name": "\u6DF3\u5B89"
      }, {
        "id": 378,
        "spell": "cixi",
        "name": "\u6148\u6EAA"
      }, {
        "id": 379,
        "spell": "conghua",
        "name": "\u4ECE\u5316"
      }, {
        "id": 380,
        "spell": "congyang",
        "name": "\u679E\u9633"
      }],
      "D": [{
        "id": 9,
        "spell": "dalian",
        "name": "\u5927\u8FDE"
      }, {
        "id": 10,
        "spell": "dongguan",
        "name": "\u4E1C\u839E"
      }, {
        "id": 99,
        "spell": "dali",
        "name": "\u5927\u7406"
      }, {
        "id": 100,
        "spell": "dandong",
        "name": "\u4E39\u4E1C"
      }, {
        "id": 101,
        "spell": "daqing",
        "name": "\u5927\u5E86"
      }, {
        "id": 102,
        "spell": "datong",
        "name": "\u5927\u540C"
      }, {
        "id": 103,
        "spell": "daxinganling",
        "name": "\u5927\u5174\u5B89\u5CAD"
      }, {
        "id": 104,
        "spell": "dazhou",
        "name": "\u8FBE\u5DDE"
      }, {
        "id": 105,
        "spell": "dehong",
        "name": "\u5FB7\u5B8F"
      }, {
        "id": 106,
        "spell": "deyang",
        "name": "\u5FB7\u9633"
      }, {
        "id": 107,
        "spell": "dezhou",
        "name": "\u5FB7\u5DDE"
      }, {
        "id": 108,
        "spell": "dingxi",
        "name": "\u5B9A\u897F"
      }, {
        "id": 109,
        "spell": "diqing",
        "name": "\u8FEA\u5E86"
      }, {
        "id": 110,
        "spell": "dongying",
        "name": "\u4E1C\u8425"
      }, {
        "id": 381,
        "spell": "dafeng",
        "name": "\u5927\u4E30"
      }, {
        "id": 382,
        "spell": "daishan",
        "name": "\u5CB1\u5C71"
      }, {
        "id": 383,
        "spell": "dangshan",
        "name": "\u7800\u5C71"
      }, {
        "id": 384,
        "spell": "dangtu",
        "name": "\u5F53\u6D82"
      }, {
        "id": 385,
        "spell": "danxian",
        "name": "\u5355\u53BF"
      }, {
        "id": 386,
        "spell": "danyang",
        "name": "\u4E39\u9633"
      }, {
        "id": 387,
        "spell": "dapu",
        "name": "\u5927\u57D4"
      }, {
        "id": 388,
        "spell": "datian",
        "name": "\u5927\u7530"
      }, {
        "id": 389,
        "spell": "dayi",
        "name": "\u5927\u9091"
      }, {
        "id": 390,
        "spell": "dayu",
        "name": "\u5927\u4F59"
      }, {
        "id": 391,
        "spell": "dazu",
        "name": "\u5927\u8DB3"
      }, {
        "id": 392,
        "spell": "dean",
        "name": "\u5FB7\u5B89"
      }, {
        "id": 393,
        "spell": "dehua",
        "name": "\u5FB7\u5316"
      }, {
        "id": 394,
        "spell": "dehui",
        "name": "\u5FB7\u60E0"
      }, {
        "id": 395,
        "spell": "dengfeng",
        "name": "\u767B\u5C01"
      }, {
        "id": 396,
        "spell": "deqing",
        "name": "\u5FB7\u6E05"
      }, {
        "id": 397,
        "spell": "deqing",
        "name": "\u5FB7\u5E86"
      }, {
        "id": 398,
        "spell": "dexing",
        "name": "\u5FB7\u5174"
      }, {
        "id": 399,
        "spell": "dianbai",
        "name": "\u7535\u767D"
      }, {
        "id": 400,
        "spell": "dianjiang",
        "name": "\u57AB\u6C5F"
      }, {
        "id": 401,
        "spell": "dingnan",
        "name": "\u5B9A\u5357"
      }, {
        "id": 402,
        "spell": "dingtao",
        "name": "\u5B9A\u9676"
      }, {
        "id": 403,
        "spell": "dingyuan",
        "name": "\u5B9A\u8FDC"
      }, {
        "id": 404,
        "spell": "donga",
        "name": "\u4E1C\u963F"
      }, {
        "id": 405,
        "spell": "donghai",
        "name": "\u4E1C\u6D77"
      }, {
        "id": 406,
        "spell": "dongming",
        "name": "\u4E1C\u660E"
      }, {
        "id": 407,
        "spell": "dongping",
        "name": "\u4E1C\u5E73"
      }, {
        "id": 408,
        "spell": "dongshan",
        "name": "\u4E1C\u5C71"
      }, {
        "id": 409,
        "spell": "dongtai",
        "name": "\u4E1C\u53F0"
      }, {
        "id": 410,
        "spell": "dongtou",
        "name": "\u6D1E\u5934"
      }, {
        "id": 411,
        "spell": "dongxiang",
        "name": "\u4E1C\u4E61"
      }, {
        "id": 412,
        "spell": "dongyang",
        "name": "\u4E1C\u9633"
      }, {
        "id": 413,
        "spell": "dongyuan",
        "name": "\u4E1C\u6E90"
      }, {
        "id": 414,
        "spell": "dongzhi",
        "name": "\u4E1C\u81F3"
      }, {
        "id": 415,
        "spell": "duchang",
        "name": "\u90FD\u660C"
      }, {
        "id": 416,
        "spell": "dujiangyan",
        "name": "\u90FD\u6C5F\u5830"
      }],
      "E": [{
        "id": 111,
        "spell": "eerduosi",
        "name": "\u9102\u5C14\u591A\u65AF"
      }, {
        "id": 112,
        "spell": "enshi",
        "name": "\u6069\u65BD"
      }, {
        "id": 113,
        "spell": "ezhou",
        "name": "\u9102\u5DDE"
      }, {
        "id": 417,
        "spell": "enping",
        "name": "\u6069\u5E73"
      }],
      "F": [{
        "id": 11,
        "spell": "foshan",
        "name": "\u4F5B\u5C71"
      }, {
        "id": 12,
        "spell": "fuzhou",
        "name": "\u798F\u5DDE"
      }, {
        "id": 114,
        "spell": "fangchenggang",
        "name": "\u9632\u57CE\u6E2F"
      }, {
        "id": 115,
        "spell": "fushun",
        "name": "\u629A\u987A"
      }, {
        "id": 116,
        "spell": "fuxin",
        "name": "\u961C\u65B0"
      }, {
        "id": 117,
        "spell": "fuyang",
        "name": "\u961C\u9633"
      }, {
        "id": 118,
        "spell": "fuzhou",
        "name": "\u629A\u5DDE"
      }, {
        "id": 418,
        "spell": "faku",
        "name": "\u6CD5\u5E93"
      }, {
        "id": 419,
        "spell": "fanchang",
        "name": "\u7E41\u660C"
      }, {
        "id": 420,
        "spell": "fangzheng",
        "name": "\u65B9\u6B63"
      }, {
        "id": 421,
        "spell": "feicheng",
        "name": "\u80A5\u57CE"
      }, {
        "id": 422,
        "spell": "feidong",
        "name": "\u80A5\u4E1C"
      }, {
        "id": 423,
        "spell": "feixi",
        "name": "\u80A5\u897F"
      }, {
        "id": 424,
        "spell": "feixian",
        "name": "\u8D39\u53BF"
      }, {
        "id": 425,
        "spell": "fengcheng",
        "name": "\u4E30\u57CE"
      }, {
        "id": 426,
        "spell": "fengdu",
        "name": "\u4E30\u90FD"
      }, {
        "id": 427,
        "spell": "fenghua",
        "name": "\u5949\u5316"
      }, {
        "id": 428,
        "spell": "fengjie",
        "name": "\u5949\u8282"
      }, {
        "id": 429,
        "spell": "fengkai",
        "name": "\u5C01\u5F00"
      }, {
        "id": 430,
        "spell": "fengshun",
        "name": "\u4E30\u987A"
      }, {
        "id": 431,
        "spell": "fengtai",
        "name": "\u51E4\u53F0"
      }, {
        "id": 432,
        "spell": "fengxian",
        "name": "\u4E30\u53BF"
      }, {
        "id": 433,
        "spell": "fengxin",
        "name": "\u5949\u65B0"
      }, {
        "id": 434,
        "spell": "fengyang",
        "name": "\u51E4\u9633"
      }, {
        "id": 435,
        "spell": "fenyi",
        "name": "\u5206\u5B9C"
      }, {
        "id": 436,
        "spell": "fogang",
        "name": "\u4F5B\u5188"
      }, {
        "id": 437,
        "spell": "fuan",
        "name": "\u798F\u5B89"
      }, {
        "id": 438,
        "spell": "fuding",
        "name": "\u798F\u9F0E"
      }, {
        "id": 439,
        "spell": "fuliang",
        "name": "\u6D6E\u6881"
      }, {
        "id": 440,
        "spell": "fumin",
        "name": "\u5BCC\u6C11"
      }, {
        "id": 441,
        "spell": "funan",
        "name": "\u961C\u5357"
      }, {
        "id": 442,
        "spell": "funing",
        "name": "\u961C\u5B81"
      }, {
        "id": 443,
        "spell": "fuqing",
        "name": "\u798F\u6E05"
      }, {
        "id": 444,
        "spell": "fuyang",
        "name": "\u5BCC\u9633"
      }],
      "G": [{
        "id": 13,
        "spell": "guangzhou",
        "name": "\u5E7F\u5DDE"
      }, {
        "id": 14,
        "spell": "guiyang",
        "name": "\u8D35\u9633"
      }, {
        "id": 119,
        "spell": "gannan",
        "name": "\u7518\u5357"
      }, {
        "id": 120,
        "spell": "ganzhou",
        "name": "\u8D63\u5DDE"
      }, {
        "id": 121,
        "spell": "ganzi",
        "name": "\u7518\u5B5C"
      }, {
        "id": 122,
        "spell": "guangan",
        "name": "\u5E7F\u5B89"
      }, {
        "id": 123,
        "spell": "guangyuan",
        "name": "\u5E7F\u5143"
      }, {
        "id": 124,
        "spell": "guigang",
        "name": "\u8D35\u6E2F"
      }, {
        "id": 125,
        "spell": "guilin",
        "name": "\u6842\u6797"
      }, {
        "id": 126,
        "spell": "guoluo",
        "name": "\u679C\u6D1B"
      }, {
        "id": 127,
        "spell": "guyuan",
        "name": "\u56FA\u539F"
      }, {
        "id": 445,
        "spell": "ganxian",
        "name": "\u8D63\u53BF"
      }, {
        "id": 446,
        "spell": "ganyu",
        "name": "\u8D63\u6986"
      }, {
        "id": 447,
        "spell": "gaoan",
        "name": "\u9AD8\u5B89"
      }, {
        "id": 448,
        "spell": "gaocheng",
        "name": "\u85C1\u57CE"
      }, {
        "id": 449,
        "spell": "gaochun",
        "name": "\u9AD8\u6DF3"
      }, {
        "id": 450,
        "spell": "gaolan",
        "name": "\u768B\u5170"
      }, {
        "id": 451,
        "spell": "gaoling",
        "name": "\u9AD8\u9675"
      }, {
        "id": 452,
        "spell": "gaomi",
        "name": "\u9AD8\u5BC6"
      }, {
        "id": 453,
        "spell": "gaoqing",
        "name": "\u9AD8\u9752"
      }, {
        "id": 454,
        "spell": "gaotang",
        "name": "\u9AD8\u5510"
      }, {
        "id": 455,
        "spell": "gaoyao",
        "name": "\u9AD8\u8981"
      }, {
        "id": 456,
        "spell": "gaoyi",
        "name": "\u9AD8\u9091"
      }, {
        "id": 457,
        "spell": "gaoyou",
        "name": "\u9AD8\u90AE"
      }, {
        "id": 458,
        "spell": "gaozhou",
        "name": "\u9AD8\u5DDE"
      }, {
        "id": 459,
        "spell": "gongyi",
        "name": "\u5DE9\u4E49"
      }, {
        "id": 460,
        "spell": "guangchang",
        "name": "\u5E7F\u660C"
      }, {
        "id": 461,
        "spell": "guangde",
        "name": "\u5E7F\u5FB7"
      }, {
        "id": 462,
        "spell": "guangfeng",
        "name": "\u5E7F\u4E30"
      }, {
        "id": 463,
        "spell": "guangning",
        "name": "\u5E7F\u5B81"
      }, {
        "id": 464,
        "spell": "guangrao",
        "name": "\u5E7F\u9976"
      }, {
        "id": 465,
        "spell": "guangze",
        "name": "\u5149\u6CFD"
      }, {
        "id": 466,
        "spell": "guannan",
        "name": "\u704C\u5357"
      }, {
        "id": 467,
        "spell": "guanxian",
        "name": "\u51A0\u53BF"
      }, {
        "id": 468,
        "spell": "guanyun",
        "name": "\u704C\u4E91"
      }, {
        "id": 469,
        "spell": "guixi",
        "name": "\u8D35\u6EAA"
      }, {
        "id": 470,
        "spell": "gutian",
        "name": "\u53E4\u7530"
      }, {
        "id": 471,
        "spell": "guzhen",
        "name": "\u56FA\u9547"
      }],
      "H": [{
        "id": 15,
        "spell": "haerbin",
        "name": "\u54C8\u5C14\u6EE8"
      }, {
        "id": 16,
        "spell": "haikou",
        "name": "\u6D77\u53E3"
      }, {
        "id": 17,
        "spell": "handan",
        "name": "\u90AF\u90F8"
      }, {
        "id": 18,
        "spell": "hangzhou",
        "name": "\u676D\u5DDE"
      }, {
        "id": 19,
        "spell": "hefei",
        "name": "\u5408\u80A5"
      }, {
        "id": 20,
        "spell": "huizhou",
        "name": "\u60E0\u5DDE"
      }, {
        "id": 128,
        "spell": "haibei",
        "name": "\u6D77\u5317"
      }, {
        "id": 129,
        "spell": "haidong",
        "name": "\u6D77\u4E1C"
      }, {
        "id": 130,
        "spell": "hainan",
        "name": "\u6D77\u5357"
      }, {
        "id": 131,
        "spell": "haixi",
        "name": "\u6D77\u897F"
      }, {
        "id": 132,
        "spell": "hami",
        "name": "\u54C8\u5BC6"
      }, {
        "id": 133,
        "spell": "hanzhong",
        "name": "\u6C49\u4E2D"
      }, {
        "id": 134,
        "spell": "hebi",
        "name": "\u9E64\u58C1"
      }, {
        "id": 135,
        "spell": "hechi",
        "name": "\u6CB3\u6C60"
      }, {
        "id": 136,
        "spell": "hegang",
        "name": "\u9E64\u5C97"
      }, {
        "id": 137,
        "spell": "heihe",
        "name": "\u9ED1\u6CB3"
      }, {
        "id": 138,
        "spell": "hengshui",
        "name": "\u8861\u6C34"
      }, {
        "id": 139,
        "spell": "hengyang",
        "name": "\u8861\u9633"
      }, {
        "id": 140,
        "spell": "hetiandi",
        "name": "\u548C\u7530\u5730"
      }, {
        "id": 141,
        "spell": "heyuan",
        "name": "\u6CB3\u6E90"
      }, {
        "id": 142,
        "spell": "heze",
        "name": "\u83CF\u6CFD"
      }, {
        "id": 143,
        "spell": "hezhou",
        "name": "\u8D3A\u5DDE"
      }, {
        "id": 144,
        "spell": "honghe",
        "name": "\u7EA2\u6CB3"
      }, {
        "id": 145,
        "spell": "huaian",
        "name": "\u6DEE\u5B89"
      }, {
        "id": 146,
        "spell": "huaibei",
        "name": "\u6DEE\u5317"
      }, {
        "id": 147,
        "spell": "huaihua",
        "name": "\u6000\u5316"
      }, {
        "id": 148,
        "spell": "huainan",
        "name": "\u6DEE\u5357"
      }, {
        "id": 149,
        "spell": "huanggang",
        "name": "\u9EC4\u5188"
      }, {
        "id": 150,
        "spell": "huangnan",
        "name": "\u9EC4\u5357"
      }, {
        "id": 151,
        "spell": "huangshan",
        "name": "\u9EC4\u5C71"
      }, {
        "id": 152,
        "spell": "huangshi",
        "name": "\u9EC4\u77F3"
      }, {
        "id": 153,
        "spell": "huhehaote",
        "name": "\u547C\u548C\u6D69\u7279"
      }, {
        "id": 154,
        "spell": "huludao",
        "name": "\u846B\u82A6\u5C9B"
      }, {
        "id": 155,
        "spell": "hulunbeier",
        "name": "\u547C\u4F26\u8D1D\u5C14"
      }, {
        "id": 156,
        "spell": "huzhou",
        "name": "\u6E56\u5DDE"
      }, {
        "id": 472,
        "spell": "haian",
        "name": "\u6D77\u5B89"
      }, {
        "id": 473,
        "spell": "haifeng",
        "name": "\u6D77\u4E30"
      }, {
        "id": 474,
        "spell": "haimen",
        "name": "\u6D77\u95E8"
      }, {
        "id": 475,
        "spell": "haining",
        "name": "\u6D77\u5B81"
      }, {
        "id": 476,
        "spell": "haiyan",
        "name": "\u6D77\u76D0"
      }, {
        "id": 477,
        "spell": "haiyang",
        "name": "\u6D77\u9633"
      }, {
        "id": 478,
        "spell": "hanshan",
        "name": "\u542B\u5C71"
      }, {
        "id": 479,
        "spell": "hechuan",
        "name": "\u5408\u5DDD"
      }, {
        "id": 480,
        "spell": "hengfeng",
        "name": "\u6A2A\u5CF0"
      }, {
        "id": 481,
        "spell": "hengxian",
        "name": "\u6A2A\u53BF"
      }, {
        "id": 482,
        "spell": "heping",
        "name": "\u548C\u5E73"
      }, {
        "id": 483,
        "spell": "heshan",
        "name": "\u9E64\u5C71"
      }, {
        "id": 484,
        "spell": "hexian",
        "name": "\u548C\u53BF"
      }, {
        "id": 485,
        "spell": "hongze",
        "name": "\u6D2A\u6CFD"
      }, {
        "id": 486,
        "spell": "huaan",
        "name": "\u534E\u5B89"
      }, {
        "id": 487,
        "spell": "huadian",
        "name": "\u6866\u7538"
      }, {
        "id": 488,
        "spell": "huaiji",
        "name": "\u6000\u96C6"
      }, {
        "id": 489,
        "spell": "huaining",
        "name": "\u6000\u5B81"
      }, {
        "id": 490,
        "spell": "huaiyuan",
        "name": "\u6000\u8FDC"
      }, {
        "id": 491,
        "spell": "huantai",
        "name": "\u6853\u53F0"
      }, {
        "id": 492,
        "spell": "huazhou",
        "name": "\u5316\u5DDE"
      }, {
        "id": 493,
        "spell": "huian",
        "name": "\u60E0\u5B89"
      }, {
        "id": 494,
        "spell": "huichang",
        "name": "\u4F1A\u660C"
      }, {
        "id": 495,
        "spell": "huidong",
        "name": "\u60E0\u4E1C"
      }, {
        "id": 496,
        "spell": "huilai",
        "name": "\u60E0\u6765"
      }, {
        "id": 497,
        "spell": "huimin",
        "name": "\u60E0\u6C11"
      }, {
        "id": 498,
        "spell": "hukou",
        "name": "\u6E56\u53E3"
      }, {
        "id": 499,
        "spell": "hulan",
        "name": "\u547C\u5170"
      }, {
        "id": 500,
        "spell": "huoqiu",
        "name": "\u970D\u90B1"
      }, {
        "id": 501,
        "spell": "huoshan",
        "name": "\u970D\u5C71"
      }, {
        "id": 502,
        "spell": "huxian",
        "name": "\u6237\u53BF"
      }],
      "J": [{
        "id": 21,
        "spell": "jiaozuo",
        "name": "\u7126\u4F5C"
      }, {
        "id": 22,
        "spell": "jiaxing",
        "name": "\u5609\u5174"
      }, {
        "id": 23,
        "spell": "jilin",
        "name": "\u5409\u6797"
      }, {
        "id": 24,
        "spell": "jinan",
        "name": "\u6D4E\u5357"
      }, {
        "id": 157,
        "spell": "jiamusi",
        "name": "\u4F73\u6728\u65AF"
      }, {
        "id": 158,
        "spell": "jiangmen",
        "name": "\u6C5F\u95E8"
      }, {
        "id": 159,
        "spell": "jian",
        "name": "\u5409\u5B89"
      }, {
        "id": 160,
        "spell": "jiayuguan",
        "name": "\u5609\u5CEA\u5173"
      }, {
        "id": 161,
        "spell": "jieyang",
        "name": "\u63ED\u9633"
      }, {
        "id": 162,
        "spell": "jinchang",
        "name": "\u91D1\u660C"
      }, {
        "id": 163,
        "spell": "jincheng",
        "name": "\u664B\u57CE"
      }, {
        "id": 164,
        "spell": "jingdezhen",
        "name": "\u666F\u5FB7\u9547"
      }, {
        "id": 165,
        "spell": "jingmen",
        "name": "\u8346\u95E8"
      }, {
        "id": 166,
        "spell": "jingzhou",
        "name": "\u8346\u5DDE"
      }, {
        "id": 167,
        "spell": "jinhua",
        "name": "\u91D1\u534E"
      }, {
        "id": 168,
        "spell": "jining",
        "name": "\u6D4E\u5B81"
      }, {
        "id": 169,
        "spell": "jinzhong",
        "name": "\u664B\u4E2D"
      }, {
        "id": 170,
        "spell": "jinzhou",
        "name": "\u9526\u5DDE"
      }, {
        "id": 171,
        "spell": "jiujiang",
        "name": "\u4E5D\u6C5F"
      }, {
        "id": 172,
        "spell": "jiuquan",
        "name": "\u9152\u6CC9"
      }, {
        "id": 173,
        "spell": "jixi",
        "name": "\u9E21\u897F"
      }, {
        "id": 503,
        "spell": "jiande",
        "name": "\u5EFA\u5FB7"
      }, {
        "id": 504,
        "spell": "jiangdu",
        "name": "\u6C5F\u90FD"
      }, {
        "id": 505,
        "spell": "jiangjin",
        "name": "\u6C5F\u6D25"
      }, {
        "id": 506,
        "spell": "jiangle",
        "name": "\u5C06\u4E50"
      }, {
        "id": 507,
        "spell": "jiangshan",
        "name": "\u6C5F\u5C71"
      }, {
        "id": 508,
        "spell": "jiangyan",
        "name": "\u59DC\u5830"
      }, {
        "id": 509,
        "spell": "jiangyin",
        "name": "\u6C5F\u9634"
      }, {
        "id": 510,
        "spell": "jianhu",
        "name": "\u5EFA\u6E56"
      }, {
        "id": 511,
        "spell": "jianning",
        "name": "\u5EFA\u5B81"
      }, {
        "id": 512,
        "spell": "jianou",
        "name": "\u5EFA\u74EF"
      }, {
        "id": 513,
        "spell": "jianyang",
        "name": "\u5EFA\u9633"
      }, {
        "id": 514,
        "spell": "jian",
        "name": "\u5409\u5B89"
      }, {
        "id": 515,
        "spell": "jiaohe",
        "name": "\u86DF\u6CB3"
      }, {
        "id": 516,
        "spell": "jiaoling",
        "name": "\u8549\u5CAD"
      }, {
        "id": 517,
        "spell": "jiaonan",
        "name": "\u80F6\u5357"
      }, {
        "id": 518,
        "spell": "jiaozhou",
        "name": "\u80F6\u5DDE"
      }, {
        "id": 519,
        "spell": "jiashan",
        "name": "\u5609\u5584"
      }, {
        "id": 520,
        "spell": "jiaxiang",
        "name": "\u5609\u7965"
      }, {
        "id": 521,
        "spell": "jiedong",
        "name": "\u63ED\u4E1C"
      }, {
        "id": 522,
        "spell": "jieshou",
        "name": "\u754C\u9996"
      }, {
        "id": 523,
        "spell": "jiexi",
        "name": "\u63ED\u897F"
      }, {
        "id": 524,
        "spell": "jimo",
        "name": "\u5373\u58A8"
      }, {
        "id": 525,
        "spell": "jingan",
        "name": "\u9756\u5B89"
      }, {
        "id": 526,
        "spell": "jingde",
        "name": "\u65CC\u5FB7"
      }, {
        "id": 527,
        "spell": "jinggangshan",
        "name": "\u4E95\u5188\u5C71"
      }, {
        "id": 528,
        "spell": "jingjiang",
        "name": "\u9756\u6C5F"
      }, {
        "id": 529,
        "spell": "jingning",
        "name": "\u666F\u5B81"
      }, {
        "id": 530,
        "spell": "jingxian",
        "name": "\u6CFE\u53BF"
      }, {
        "id": 531,
        "spell": "jingxing",
        "name": "\u4E95\u9649"
      }, {
        "id": 532,
        "spell": "jinhu",
        "name": "\u91D1\u6E56"
      }, {
        "id": 533,
        "spell": "jinjiang",
        "name": "\u664B\u6C5F"
      }, {
        "id": 534,
        "spell": "jinmen",
        "name": "\u91D1\u95E8"
      }, {
        "id": 535,
        "spell": "jinning",
        "name": "\u664B\u5B81"
      }, {
        "id": 536,
        "spell": "jintan",
        "name": "\u91D1\u575B"
      }, {
        "id": 537,
        "spell": "jintang",
        "name": "\u91D1\u5802"
      }, {
        "id": 538,
        "spell": "jinxian",
        "name": "\u8FDB\u8D24"
      }, {
        "id": 539,
        "spell": "jinxi",
        "name": "\u91D1\u6EAA"
      }, {
        "id": 540,
        "spell": "jinxiang",
        "name": "\u91D1\u4E61"
      }, {
        "id": 541,
        "spell": "jinyun",
        "name": "\u7F19\u4E91"
      }, {
        "id": 542,
        "spell": "jinzhai",
        "name": "\u91D1\u5BE8"
      }, {
        "id": 543,
        "spell": "jinzhou",
        "name": "\u664B\u5DDE"
      }, {
        "id": 544,
        "spell": "jishui",
        "name": "\u5409\u6C34"
      }, {
        "id": 545,
        "spell": "jiujiang",
        "name": "\u4E5D\u6C5F"
      }, {
        "id": 546,
        "spell": "jiutai",
        "name": "\u4E5D\u53F0"
      }, {
        "id": 547,
        "spell": "jixi",
        "name": "\u7EE9\u6EAA"
      }, {
        "id": 548,
        "spell": "jiyang",
        "name": "\u6D4E\u9633"
      }, {
        "id": 549,
        "spell": "jiyuan",
        "name": "\u6D4E\u6E90"
      }, {
        "id": 550,
        "spell": "juancheng",
        "name": "\u9104\u57CE"
      }, {
        "id": 551,
        "spell": "junan",
        "name": "\u8392\u5357"
      }, {
        "id": 552,
        "spell": "jurong",
        "name": "\u53E5\u5BB9"
      }, {
        "id": 553,
        "spell": "juxian",
        "name": "\u8392\u53BF"
      }, {
        "id": 554,
        "spell": "juye",
        "name": "\u5DE8\u91CE"
      }],
      "K": [{
        "id": 25,
        "spell": "kunming",
        "name": "\u6606\u660E"
      }, {
        "id": 174,
        "spell": "kaifeng",
        "name": "\u5F00\u5C01"
      }, {
        "id": 175,
        "spell": "kashidi",
        "name": "\u5580\u4EC0\u5730"
      }, {
        "id": 176,
        "spell": "kelamayi",
        "name": "\u514B\u62C9\u739B\u4F9D"
      }, {
        "id": 177,
        "spell": "kezile",
        "name": "\u514B\u5B5C\u52D2"
      }, {
        "id": 555,
        "spell": "kaihua",
        "name": "\u5F00\u5316"
      }, {
        "id": 556,
        "spell": "kaiping",
        "name": "\u5F00\u5E73"
      }, {
        "id": 557,
        "spell": "kaixian",
        "name": "\u5F00\u53BF"
      }, {
        "id": 558,
        "spell": "kaiyang",
        "name": "\u5F00\u9633"
      }, {
        "id": 559,
        "spell": "kangping",
        "name": "\u5EB7\u5E73"
      }, {
        "id": 560,
        "spell": "kenli",
        "name": "\u57A6\u5229"
      }, {
        "id": 561,
        "spell": "kunshan",
        "name": "\u6606\u5C71"
      }],
      "L": [{
        "id": 26,
        "spell": "lanzhou",
        "name": "\u5170\u5DDE"
      }, {
        "id": 27,
        "spell": "liuzhou",
        "name": "\u67F3\u5DDE"
      }, {
        "id": 28,
        "spell": "luoyang",
        "name": "\u6D1B\u9633"
      }, {
        "id": 178,
        "spell": "laibin",
        "name": "\u6765\u5BBE"
      }, {
        "id": 180,
        "spell": "langfang",
        "name": "\u5ECA\u574A"
      }, {
        "id": 181,
        "spell": "lasa",
        "name": "\u62C9\u8428"
      }, {
        "id": 182,
        "spell": "leshan",
        "name": "\u4E50\u5C71"
      }, {
        "id": 183,
        "spell": "liangshan",
        "name": "\u51C9\u5C71"
      }, {
        "id": 184,
        "spell": "lianyungang",
        "name": "\u8FDE\u4E91\u6E2F"
      }, {
        "id": 185,
        "spell": "liaocheng",
        "name": "\u804A\u57CE"
      }, {
        "id": 186,
        "spell": "liaoyang",
        "name": "\u8FBD\u9633"
      }, {
        "id": 187,
        "spell": "liaoyuan",
        "name": "\u8FBD\u6E90"
      }, {
        "id": 188,
        "spell": "lijiang",
        "name": "\u4E3D\u6C5F"
      }, {
        "id": 189,
        "spell": "lincang",
        "name": "\u4E34\u6CA7"
      }, {
        "id": 190,
        "spell": "linfen",
        "name": "\u4E34\u6C7E"
      }, {
        "id": 191,
        "spell": "linxia",
        "name": "\u4E34\u590F"
      }, {
        "id": 192,
        "spell": "linyi",
        "name": "\u4E34\u6C82"
      }, {
        "id": 193,
        "spell": "linzhi",
        "name": "\u6797\u829D"
      }, {
        "id": 194,
        "spell": "lishui",
        "name": "\u4E3D\u6C34"
      }, {
        "id": 195,
        "spell": "liuan",
        "name": "\u516D\u5B89"
      }, {
        "id": 196,
        "spell": "liupanshui",
        "name": "\u516D\u76D8\u6C34"
      }, {
        "id": 197,
        "spell": "longnan",
        "name": "\u9647\u5357"
      }, {
        "id": 198,
        "spell": "longyan",
        "name": "\u9F99\u5CA9"
      }, {
        "id": 199,
        "spell": "loudi",
        "name": "\u5A04\u5E95"
      }, {
        "id": 200,
        "spell": "luohe",
        "name": "\u6F2F\u6CB3"
      }, {
        "id": 201,
        "spell": "luzhou",
        "name": "\u6CF8\u5DDE"
      }, {
        "id": 202,
        "spell": "lvliang",
        "name": "\u5415\u6881"
      }, {
        "id": 562,
        "spell": "laian",
        "name": "\u6765\u5B89"
      }, {
        "id": 563,
        "spell": "laixi",
        "name": "\u83B1\u897F"
      }, {
        "id": 564,
        "spell": "laiyang",
        "name": "\u83B1\u9633"
      }, {
        "id": 565,
        "spell": "laizhou",
        "name": "\u83B1\u5DDE"
      }, {
        "id": 566,
        "spell": "langxi",
        "name": "\u90CE\u6EAA"
      }, {
        "id": 567,
        "spell": "lantian",
        "name": "\u84DD\u7530"
      }, {
        "id": 568,
        "spell": "lanxi",
        "name": "\u5170\u6EAA"
      }, {
        "id": 569,
        "spell": "lean",
        "name": "\u4E50\u5B89"
      }, {
        "id": 570,
        "spell": "lechang",
        "name": "\u4E50\u660C"
      }, {
        "id": 571,
        "spell": "leizhou",
        "name": "\u96F7\u5DDE"
      }, {
        "id": 572,
        "spell": "leling",
        "name": "\u4E50\u9675"
      }, {
        "id": 573,
        "spell": "leping",
        "name": "\u4E50\u5E73"
      }, {
        "id": 574,
        "spell": "leqing",
        "name": "\u4E50\u6E05"
      }, {
        "id": 575,
        "spell": "leting",
        "name": "\u4E50\u4EAD"
      }, {
        "id": 576,
        "spell": "liancheng",
        "name": "\u8FDE\u57CE"
      }, {
        "id": 577,
        "spell": "liangping",
        "name": "\u6881\u5E73"
      }, {
        "id": 578,
        "spell": "liangshan",
        "name": "\u6881\u5C71"
      }, {
        "id": 579,
        "spell": "lianhua",
        "name": "\u83B2\u82B1"
      }, {
        "id": 580,
        "spell": "lianjiang",
        "name": "\u8FDE\u6C5F"
      }, {
        "id": 581,
        "spell": "lianjiang",
        "name": "\u5EC9\u6C5F"
      }, {
        "id": 582,
        "spell": "liannan",
        "name": "\u8FDE\u5357"
      }, {
        "id": 583,
        "spell": "lianping",
        "name": "\u8FDE\u5E73"
      }, {
        "id": 584,
        "spell": "lianshan",
        "name": "\u8FDE\u5C71"
      }, {
        "id": 585,
        "spell": "lianshui",
        "name": "\u6D9F\u6C34"
      }, {
        "id": 586,
        "spell": "lianzhou",
        "name": "\u8FDE\u5DDE"
      }, {
        "id": 587,
        "spell": "liaozhong",
        "name": "\u8FBD\u4E2D"
      }, {
        "id": 588,
        "spell": "lichuan",
        "name": "\u9ECE\u5DDD"
      }, {
        "id": 589,
        "spell": "lijin",
        "name": "\u5229\u6D25"
      }, {
        "id": 590,
        "spell": "linan",
        "name": "\u4E34\u5B89"
      }, {
        "id": 591,
        "spell": "lingbi",
        "name": "\u7075\u74A7"
      }, {
        "id": 592,
        "spell": "lingshou",
        "name": "\u7075\u5BFF"
      }, {
        "id": 593,
        "spell": "lingxian",
        "name": "\u9675\u53BF"
      }, {
        "id": 594,
        "spell": "linhai",
        "name": "\u4E34\u6D77"
      }, {
        "id": 595,
        "spell": "linqing",
        "name": "\u4E34\u6E05"
      }, {
        "id": 596,
        "spell": "linquan",
        "name": "\u4E34\u6CC9"
      }, {
        "id": 597,
        "spell": "linqu",
        "name": "\u4E34\u6710"
      }, {
        "id": 598,
        "spell": "linshu",
        "name": "\u4E34\u6CAD"
      }, {
        "id": 599,
        "spell": "linyi",
        "name": "\u4E34\u9091"
      }, {
        "id": 600,
        "spell": "lishui",
        "name": "\u6EA7\u6C34"
      }, {
        "id": 601,
        "spell": "liucheng",
        "name": "\u67F3\u57CE"
      }, {
        "id": 602,
        "spell": "liujiang",
        "name": "\u67F3\u6C5F"
      }, {
        "id": 603,
        "spell": "liuyang",
        "name": "\u6D4F\u9633"
      }, {
        "id": 604,
        "spell": "lixin",
        "name": "\u5229\u8F9B"
      }, {
        "id": 605,
        "spell": "liyang",
        "name": "\u6EA7\u9633"
      }, {
        "id": 606,
        "spell": "longan",
        "name": "\u9686\u5B89"
      }, {
        "id": 607,
        "spell": "longchuan",
        "name": "\u9F99\u5DDD"
      }, {
        "id": 608,
        "spell": "longhai",
        "name": "\u9F99\u6D77"
      }, {
        "id": 609,
        "spell": "longkou",
        "name": "\u9F99\u53E3"
      }, {
        "id": 610,
        "spell": "longmen",
        "name": "\u9F99\u95E8"
      }, {
        "id": 611,
        "spell": "longnan",
        "name": "\u9F99\u5357"
      }, {
        "id": 612,
        "spell": "longquan",
        "name": "\u9F99\u6CC9"
      }, {
        "id": 613,
        "spell": "longyou",
        "name": "\u9F99\u6E38"
      }, {
        "id": 614,
        "spell": "luancheng",
        "name": "\u683E\u57CE"
      }, {
        "id": 615,
        "spell": "luanchuan",
        "name": "\u683E\u5DDD"
      }, {
        "id": 616,
        "spell": "luannan",
        "name": "\u6EE6\u5357"
      }, {
        "id": 617,
        "spell": "luanxian",
        "name": "\u6EE6\u53BF"
      }, {
        "id": 618,
        "spell": "lufeng",
        "name": "\u9646\u4E30"
      }, {
        "id": 619,
        "spell": "luhe",
        "name": "\u9646\u6CB3"
      }, {
        "id": 620,
        "spell": "lujiang",
        "name": "\u5E90\u6C5F"
      }, {
        "id": 621,
        "spell": "luoding",
        "name": "\u7F57\u5B9A"
      }, {
        "id": 622,
        "spell": "luoning",
        "name": "\u6D1B\u5B81"
      }, {
        "id": 623,
        "spell": "luoyuan",
        "name": "\u7F57\u6E90"
      }, {
        "id": 624,
        "spell": "luquan",
        "name": "\u9E7F\u6CC9"
      }, {
        "id": 625,
        "spell": "luquan",
        "name": "\u7984\u529D"
      }, {
        "id": 626,
        "spell": "luxi",
        "name": "\u82A6\u6EAA"
      }, {
        "id": 627,
        "spell": "luzhai",
        "name": "\u9E7F\u5BE8"
      }],
      "M": [{
        "id": 203,
        "spell": "maanshan",
        "name": "\u9A6C\u978D\u5C71"
      }, {
        "id": 204,
        "spell": "maoming",
        "name": "\u8302\u540D"
      }, {
        "id": 205,
        "spell": "meishan",
        "name": "\u7709\u5C71"
      }, {
        "id": 206,
        "spell": "meizhou",
        "name": "\u6885\u5DDE"
      }, {
        "id": 207,
        "spell": "mianyang",
        "name": "\u7EF5\u9633"
      }, {
        "id": 208,
        "spell": "mudanjiang",
        "name": "\u7261\u4E39\u6C5F"
      }, {
        "id": 628,
        "spell": "mashan",
        "name": "\u9A6C\u5C71"
      }, {
        "id": 629,
        "spell": "meixian",
        "name": "\u6885\u53BF"
      }, {
        "id": 630,
        "spell": "mengcheng",
        "name": "\u8499\u57CE"
      }, {
        "id": 631,
        "spell": "mengjin",
        "name": "\u5B5F\u6D25"
      }, {
        "id": 632,
        "spell": "mengyin",
        "name": "\u8499\u9634"
      }, {
        "id": 633,
        "spell": "mengzhou",
        "name": "\u5B5F\u5DDE"
      }, {
        "id": 634,
        "spell": "mingguang",
        "name": "\u660E\u5149"
      }, {
        "id": 635,
        "spell": "mingxi",
        "name": "\u660E\u6EAA"
      }, {
        "id": 636,
        "spell": "minhou",
        "name": "\u95FD\u4FAF"
      }, {
        "id": 637,
        "spell": "minqing",
        "name": "\u95FD\u6E05"
      }, {
        "id": 638,
        "spell": "mulan",
        "name": "\u6728\u5170"
      }],
      "N": [{
        "id": 29,
        "spell": "nanchang",
        "name": "\u5357\u660C"
      }, {
        "id": 30,
        "spell": "nanjing",
        "name": "\u5357\u4EAC"
      }, {
        "id": 31,
        "spell": "nanning",
        "name": "\u5357\u5B81"
      }, {
        "id": 32,
        "spell": "nantong",
        "name": "\u5357\u901A"
      }, {
        "id": 33,
        "spell": "ningbo",
        "name": "\u5B81\u6CE2"
      }, {
        "id": 209,
        "spell": "nanchong",
        "name": "\u5357\u5145"
      }, {
        "id": 210,
        "spell": "nanping",
        "name": "\u5357\u5E73"
      }, {
        "id": 211,
        "spell": "nanyang",
        "name": "\u5357\u9633"
      }, {
        "id": 212,
        "spell": "naqu",
        "name": "\u90A3\u66F2"
      }, {
        "id": 213,
        "spell": "neijiang",
        "name": "\u5185\u6C5F"
      }, {
        "id": 214,
        "spell": "ningde",
        "name": "\u5B81\u5FB7"
      }, {
        "id": 215,
        "spell": "nujiang",
        "name": "\u6012\u6C5F"
      }, {
        "id": 639,
        "spell": "nanan",
        "name": "\u5357\u5B89"
      }, {
        "id": 640,
        "spell": "nanao",
        "name": "\u5357\u6FB3"
      }, {
        "id": 641,
        "spell": "nancheng",
        "name": "\u5357\u57CE"
      }, {
        "id": 642,
        "spell": "nanchuan",
        "name": "\u5357\u5DDD"
      }, {
        "id": 643,
        "spell": "nanfeng",
        "name": "\u5357\u4E30"
      }, {
        "id": 644,
        "spell": "nanjing",
        "name": "\u5357\u9756"
      }, {
        "id": 645,
        "spell": "nankang",
        "name": "\u5357\u5EB7"
      }, {
        "id": 646,
        "spell": "nanling",
        "name": "\u5357\u9675"
      }, {
        "id": 647,
        "spell": "nanxiong",
        "name": "\u5357\u96C4"
      }, {
        "id": 648,
        "spell": "ningdu",
        "name": "\u5B81\u90FD"
      }, {
        "id": 649,
        "spell": "ningguo",
        "name": "\u5B81\u56FD"
      }, {
        "id": 650,
        "spell": "ninghai",
        "name": "\u5B81\u6D77"
      }, {
        "id": 651,
        "spell": "ninghua",
        "name": "\u5B81\u5316"
      }, {
        "id": 652,
        "spell": "ningjin",
        "name": "\u5B81\u6D25"
      }, {
        "id": 653,
        "spell": "ningxiang",
        "name": "\u5B81\u4E61"
      }, {
        "id": 654,
        "spell": "ningyang",
        "name": "\u5B81\u9633"
      }, {
        "id": 655,
        "spell": "nongan",
        "name": "\u519C\u5B89"
      }],
      "P": [{
        "id": 216,
        "spell": "panjin",
        "name": "\u76D8\u9526"
      }, {
        "id": 217,
        "spell": "panzhihua",
        "name": "\u6500\u679D\u82B1"
      }, {
        "id": 218,
        "spell": "pingdingshan",
        "name": "\u5E73\u9876\u5C71"
      }, {
        "id": 219,
        "spell": "pingliang",
        "name": "\u5E73\u51C9"
      }, {
        "id": 220,
        "spell": "pingxiang",
        "name": "\u840D\u4E61"
      }, {
        "id": 221,
        "spell": "puer",
        "name": "\u666E\u6D31"
      }, {
        "id": 222,
        "spell": "putian",
        "name": "\u8386\u7530"
      }, {
        "id": 223,
        "spell": "puyang",
        "name": "\u6FEE\u9633"
      }, {
        "id": 656,
        "spell": "panan",
        "name": "\u78D0\u5B89"
      }, {
        "id": 657,
        "spell": "panshi",
        "name": "\u78D0\u77F3"
      }, {
        "id": 658,
        "spell": "peixian",
        "name": "\u6C9B\u53BF"
      }, {
        "id": 659,
        "spell": "penglai",
        "name": "\u84EC\u83B1"
      }, {
        "id": 660,
        "spell": "pengshui",
        "name": "\u5F6D\u6C34"
      }, {
        "id": 661,
        "spell": "pengze",
        "name": "\u5F6D\u6CFD"
      }, {
        "id": 662,
        "spell": "pengzhou",
        "name": "\u5F6D\u5DDE"
      }, {
        "id": 663,
        "spell": "pingdu",
        "name": "\u5E73\u5EA6"
      }, {
        "id": 664,
        "spell": "pinghe",
        "name": "\u5E73\u548C"
      }, {
        "id": 665,
        "spell": "pinghu",
        "name": "\u5E73\u6E56"
      }, {
        "id": 666,
        "spell": "pingnan",
        "name": "\u5C4F\u5357"
      }, {
        "id": 667,
        "spell": "pingshan",
        "name": "\u5E73\u5C71"
      }, {
        "id": 668,
        "spell": "pingtan",
        "name": "\u5E73\u6F6D"
      }, {
        "id": 669,
        "spell": "pingyang",
        "name": "\u5E73\u9633"
      }, {
        "id": 670,
        "spell": "pingyin",
        "name": "\u5E73\u9634"
      }, {
        "id": 671,
        "spell": "pingyi",
        "name": "\u5E73\u9091"
      }, {
        "id": 672,
        "spell": "pingyuan",
        "name": "\u5E73\u539F"
      }, {
        "id": 673,
        "spell": "pingyuan",
        "name": "\u5E73\u8FDC"
      }, {
        "id": 674,
        "spell": "pixian",
        "name": "\u90EB\u53BF"
      }, {
        "id": 675,
        "spell": "pizhou",
        "name": "\u90B3\u5DDE"
      }, {
        "id": 676,
        "spell": "poyang",
        "name": "\u9131\u9633"
      }, {
        "id": 677,
        "spell": "pucheng",
        "name": "\u6D66\u57CE"
      }, {
        "id": 678,
        "spell": "pujiang",
        "name": "\u6D66\u6C5F"
      }, {
        "id": 679,
        "spell": "pujiang",
        "name": "\u84B2\u6C5F"
      }, {
        "id": 680,
        "spell": "pulandian",
        "name": "\u666E\u5170\u5E97"
      }, {
        "id": 681,
        "spell": "puning",
        "name": "\u666E\u5B81"
      }],
      "Q": [{
        "id": 34,
        "spell": "qingdao",
        "name": "\u9752\u5C9B"
      }, {
        "id": 35,
        "spell": "quanzhou",
        "name": "\u6CC9\u5DDE"
      }, {
        "id": 224,
        "spell": "qiandong",
        "name": "\u9ED4\u4E1C"
      }, {
        "id": 225,
        "spell": "qiannan",
        "name": "\u9ED4\u5357"
      }, {
        "id": 226,
        "spell": "qianxinan",
        "name": "\u9ED4\u897F\u5357"
      }, {
        "id": 227,
        "spell": "qingyang",
        "name": "\u5E86\u9633"
      }, {
        "id": 228,
        "spell": "qingyuan",
        "name": "\u6E05\u8FDC"
      }, {
        "id": 229,
        "spell": "qinhuangdao",
        "name": "\u79E6\u7687\u5C9B"
      }, {
        "id": 230,
        "spell": "qinzhou",
        "name": "\u94A6\u5DDE"
      }, {
        "id": 231,
        "spell": "qiqihaer",
        "name": "\u9F50\u9F50\u54C8\u5C14"
      }, {
        "id": 232,
        "spell": "qitaihe",
        "name": "\u4E03\u53F0\u6CB3"
      }, {
        "id": 233,
        "spell": "qujing",
        "name": "\u66F2\u9756"
      }, {
        "id": 234,
        "spell": "quzhou",
        "name": "\u8862\u5DDE"
      }, {
        "id": 682,
        "spell": "qianan",
        "name": "\u8FC1\u5B89"
      }, {
        "id": 683,
        "spell": "qianshan",
        "name": "\u6F5C\u5C71"
      }, {
        "id": 684,
        "spell": "qianshan",
        "name": "\u94C5\u5C71"
      }, {
        "id": 685,
        "spell": "qianxi",
        "name": "\u8FC1\u897F"
      }, {
        "id": 686,
        "spell": "qidong",
        "name": "\u542F\u4E1C"
      }, {
        "id": 687,
        "spell": "qihe",
        "name": "\u9F50\u6CB3"
      }, {
        "id": 688,
        "spell": "qijiang",
        "name": "\u7DA6\u6C5F"
      }, {
        "id": 689,
        "spell": "qimen",
        "name": "\u7941\u95E8"
      }, {
        "id": 690,
        "spell": "qingliu",
        "name": "\u6E05\u6D41"
      }, {
        "id": 691,
        "spell": "qingtian",
        "name": "\u9752\u7530"
      }, {
        "id": 692,
        "spell": "qingxin",
        "name": "\u6E05\u65B0"
      }, {
        "id": 693,
        "spell": "qingyang",
        "name": "\u9752\u9633"
      }, {
        "id": 694,
        "spell": "qingyuan",
        "name": "\u5E86\u5143"
      }, {
        "id": 695,
        "spell": "qingyun",
        "name": "\u5E86\u4E91"
      }, {
        "id": 696,
        "spell": "qingzhen",
        "name": "\u6E05\u9547"
      }, {
        "id": 697,
        "spell": "qingzhou",
        "name": "\u9752\u5DDE"
      }, {
        "id": 698,
        "spell": "qinyang",
        "name": "\u6C81\u9633"
      }, {
        "id": 699,
        "spell": "qionglai",
        "name": "\u909B\u5D03"
      }, {
        "id": 700,
        "spell": "qixia",
        "name": "\u6816\u971E"
      }, {
        "id": 701,
        "spell": "quanjiao",
        "name": "\u5168\u6912"
      }, {
        "id": 702,
        "spell": "quannan",
        "name": "\u5168\u5357"
      }, {
        "id": 703,
        "spell": "qufu",
        "name": "\u66F2\u961C"
      }, {
        "id": 704,
        "spell": "qujiang",
        "name": "\u66F2\u6C5F"
      }],
      "R": [{
        "id": 235,
        "spell": "rikaze",
        "name": "\u65E5\u5580\u5219"
      }, {
        "id": 236,
        "spell": "rizhao",
        "name": "\u65E5\u7167"
      }, {
        "id": 705,
        "spell": "raoping",
        "name": "\u9976\u5E73"
      }, {
        "id": 706,
        "spell": "renhua",
        "name": "\u4EC1\u5316"
      }, {
        "id": 707,
        "spell": "rongan",
        "name": "\u878D\u5B89"
      }, {
        "id": 708,
        "spell": "rongchang",
        "name": "\u8363\u660C"
      }, {
        "id": 709,
        "spell": "rongcheng",
        "name": "\u8363\u6210"
      }, {
        "id": 710,
        "spell": "rongshui",
        "name": "\u878D\u6C34"
      }, {
        "id": 711,
        "spell": "rudong",
        "name": "\u5982\u4E1C"
      }, {
        "id": 712,
        "spell": "rugao",
        "name": "\u5982\u768B"
      }, {
        "id": 713,
        "spell": "ruian",
        "name": "\u745E\u5B89"
      }, {
        "id": 714,
        "spell": "ruichang",
        "name": "\u745E\u660C"
      }, {
        "id": 715,
        "spell": "ruijin",
        "name": "\u745E\u91D1"
      }, {
        "id": 716,
        "spell": "rushan",
        "name": "\u4E73\u5C71"
      }, {
        "id": 717,
        "spell": "ruyang",
        "name": "\u6C5D\u9633"
      }, {
        "id": 718,
        "spell": "ruyuan",
        "name": "\u4E73\u6E90"
      }],
      "S": [{
        "id": 3,
        "spell": "shanghai",
        "name": "\u4E0A\u6D77"
      }, {
        "id": 36,
        "spell": "shenyang",
        "name": "\u6C88\u9633"
      }, {
        "id": 37,
        "spell": "shenzhen",
        "name": "\u6DF1\u5733"
      }, {
        "id": 38,
        "spell": "shijiazhuang",
        "name": "\u77F3\u5BB6\u5E84"
      }, {
        "id": 39,
        "spell": "suzhou",
        "name": "\u82CF\u5DDE"
      }, {
        "id": 237,
        "spell": "sanmenxia",
        "name": "\u4E09\u95E8\u5CE1"
      }, {
        "id": 238,
        "spell": "sanming",
        "name": "\u4E09\u660E"
      }, {
        "id": 239,
        "spell": "sanya",
        "name": "\u4E09\u4E9A"
      }, {
        "id": 240,
        "spell": "shangluo",
        "name": "\u5546\u6D1B"
      }, {
        "id": 241,
        "spell": "shangqiu",
        "name": "\u5546\u4E18"
      }, {
        "id": 242,
        "spell": "shangrao",
        "name": "\u4E0A\u9976"
      }, {
        "id": 243,
        "spell": "shannan",
        "name": "\u5C71\u5357"
      }, {
        "id": 244,
        "spell": "shantou",
        "name": "\u6C55\u5934"
      }, {
        "id": 245,
        "spell": "shanwei",
        "name": "\u6C55\u5C3E"
      }, {
        "id": 246,
        "spell": "shaoguan",
        "name": "\u97F6\u5173"
      }, {
        "id": 247,
        "spell": "shaoxing",
        "name": "\u7ECD\u5174"
      }, {
        "id": 248,
        "spell": "shaoyang",
        "name": "\u90B5\u9633"
      }, {
        "id": 249,
        "spell": "shiyan",
        "name": "\u5341\u5830"
      }, {
        "id": 250,
        "spell": "shizuishan",
        "name": "\u77F3\u5634\u5C71"
      }, {
        "id": 251,
        "spell": "shuangyashan",
        "name": "\u53CC\u9E2D\u5C71"
      }, {
        "id": 252,
        "spell": "shuozhou",
        "name": "\u6714\u5DDE"
      }, {
        "id": 253,
        "spell": "siping",
        "name": "\u56DB\u5E73"
      }, {
        "id": 254,
        "spell": "songyuan",
        "name": "\u677E\u539F"
      }, {
        "id": 255,
        "spell": "suihua",
        "name": "\u7EE5\u5316"
      }, {
        "id": 256,
        "spell": "suining",
        "name": "\u9042\u5B81"
      }, {
        "id": 257,
        "spell": "suizhou",
        "name": "\u968F\u5DDE"
      }, {
        "id": 258,
        "spell": "suqian",
        "name": "\u5BBF\u8FC1"
      }, {
        "id": 259,
        "spell": "suzhou",
        "name": "\u5BBF\u5DDE"
      }, {
        "id": 719,
        "spell": "sanjiang",
        "name": "\u4E09\u6C5F"
      }, {
        "id": 720,
        "spell": "sanmen",
        "name": "\u4E09\u95E8"
      }, {
        "id": 721,
        "spell": "saoan",
        "name": "\u8BCF\u5B89"
      }, {
        "id": 722,
        "spell": "shanggao",
        "name": "\u4E0A\u9AD8"
      }, {
        "id": 723,
        "spell": "shanghang",
        "name": "\u4E0A\u676D"
      }, {
        "id": 724,
        "spell": "shanghe",
        "name": "\u5546\u6CB3"
      }, {
        "id": 725,
        "spell": "shangli",
        "name": "\u4E0A\u6817"
      }, {
        "id": 726,
        "spell": "shanglin",
        "name": "\u4E0A\u6797"
      }, {
        "id": 727,
        "spell": "shangrao",
        "name": "\u4E0A\u9976"
      }, {
        "id": 728,
        "spell": "shangyou",
        "name": "\u4E0A\u72B9"
      }, {
        "id": 729,
        "spell": "shangyu",
        "name": "\u4E0A\u865E"
      }, {
        "id": 730,
        "spell": "shangzhi",
        "name": "\u5C1A\u5FD7"
      }, {
        "id": 731,
        "spell": "shaowu",
        "name": "\u90B5\u6B66"
      }, {
        "id": 732,
        "spell": "shaoxing",
        "name": "\u7ECD\u5174"
      }, {
        "id": 733,
        "spell": "shaxian",
        "name": "\u6C99\u53BF"
      }, {
        "id": 734,
        "spell": "shengsi",
        "name": "\u5D4A\u6CD7"
      }, {
        "id": 735,
        "spell": "shengzhou",
        "name": "\u5D4A\u5DDE"
      }, {
        "id": 736,
        "spell": "shenxian",
        "name": "\u8398\u53BF"
      }, {
        "id": 737,
        "spell": "shenze",
        "name": "\u6DF1\u6CFD"
      }, {
        "id": 738,
        "spell": "shexian",
        "name": "\u6B59\u53BF"
      }, {
        "id": 739,
        "spell": "sheyang",
        "name": "\u5C04\u9633"
      }, {
        "id": 740,
        "spell": "shicheng",
        "name": "\u77F3\u57CE"
      }, {
        "id": 741,
        "spell": "shilin",
        "name": "\u77F3\u6797"
      }, {
        "id": 742,
        "spell": "shishi",
        "name": "\u77F3\u72EE"
      }, {
        "id": 743,
        "spell": "shitai",
        "name": "\u77F3\u53F0"
      }, {
        "id": 744,
        "spell": "shixing",
        "name": "\u59CB\u5174"
      }, {
        "id": 745,
        "spell": "shizhu",
        "name": "\u77F3\u67F1"
      }, {
        "id": 746,
        "spell": "shouguang",
        "name": "\u5BFF\u5149"
      }, {
        "id": 747,
        "spell": "shouning",
        "name": "\u5BFF\u5B81"
      }, {
        "id": 748,
        "spell": "shouxian",
        "name": "\u5BFF\u53BF"
      }, {
        "id": 749,
        "spell": "shuangcheng",
        "name": "\u53CC\u57CE"
      }, {
        "id": 750,
        "spell": "shuangliu",
        "name": "\u53CC\u6D41"
      }, {
        "id": 751,
        "spell": "shucheng",
        "name": "\u8212\u57CE"
      }, {
        "id": 752,
        "spell": "shulan",
        "name": "\u8212\u5170"
      }, {
        "id": 753,
        "spell": "shunchang",
        "name": "\u987A\u660C"
      }, {
        "id": 754,
        "spell": "shuyang",
        "name": "\u6CAD\u9633"
      }, {
        "id": 755,
        "spell": "sihong",
        "name": "\u6CD7\u6D2A"
      }, {
        "id": 756,
        "spell": "sihui",
        "name": "\u56DB\u4F1A"
      }, {
        "id": 757,
        "spell": "sishui",
        "name": "\u6CD7\u6C34"
      }, {
        "id": 758,
        "spell": "sixian",
        "name": "\u6CD7\u53BF"
      }, {
        "id": 759,
        "spell": "siyang",
        "name": "\u6CD7\u9633"
      }, {
        "id": 760,
        "spell": "songming",
        "name": "\u5D69\u660E"
      }, {
        "id": 761,
        "spell": "songxi",
        "name": "\u677E\u6EAA"
      }, {
        "id": 762,
        "spell": "songxian",
        "name": "\u5D69\u53BF"
      }, {
        "id": 763,
        "spell": "songyang",
        "name": "\u677E\u9633"
      }, {
        "id": 764,
        "spell": "suichang",
        "name": "\u9042\u660C"
      }, {
        "id": 765,
        "spell": "suichuan",
        "name": "\u9042\u5DDD"
      }, {
        "id": 766,
        "spell": "suining",
        "name": "\u7762\u5B81"
      }, {
        "id": 767,
        "spell": "suixi",
        "name": "\u6FC9\u6EAA"
      }, {
        "id": 768,
        "spell": "suixi",
        "name": "\u9042\u6EAA"
      }, {
        "id": 769,
        "spell": "susong",
        "name": "\u5BBF\u677E"
      }, {
        "id": 770,
        "spell": "suyu",
        "name": "\u5BBF\u8C6B"
      }],
      "T": [{
        "id": 4,
        "spell": "tianjin",
        "name": "\u5929\u6D25"
      }, {
        "id": 40,
        "spell": "taizhou",
        "name": "\u53F0\u5DDE"
      }, {
        "id": 41,
        "spell": "tangshan",
        "name": "\u5510\u5C71"
      }, {
        "id": 260,
        "spell": "tachengdi",
        "name": "\u5854\u57CE\u5730"
      }, {
        "id": 261,
        "spell": "taian",
        "name": "\u6CF0\u5B89"
      }, {
        "id": 262,
        "spell": "taiyuan",
        "name": "\u592A\u539F"
      }, {
        "id": 263,
        "spell": "taizhou",
        "name": "\u6CF0\u5DDE"
      }, {
        "id": 264,
        "spell": "tianshui",
        "name": "\u5929\u6C34"
      }, {
        "id": 265,
        "spell": "tieling",
        "name": "\u94C1\u5CAD"
      }, {
        "id": 266,
        "spell": "tongchuan",
        "name": "\u94DC\u5DDD"
      }, {
        "id": 267,
        "spell": "tonghua",
        "name": "\u901A\u5316"
      }, {
        "id": 268,
        "spell": "tongliao",
        "name": "\u901A\u8FBD"
      }, {
        "id": 269,
        "spell": "tongling",
        "name": "\u94DC\u9675"
      }, {
        "id": 270,
        "spell": "tongren",
        "name": "\u94DC\u4EC1"
      }, {
        "id": 271,
        "spell": "tulufan",
        "name": "\u5410\u9C81\u756A"
      }, {
        "id": 771,
        "spell": "taicang",
        "name": "\u592A\u4ED3"
      }, {
        "id": 772,
        "spell": "taihe",
        "name": "\u592A\u548C"
      }, {
        "id": 773,
        "spell": "taihe",
        "name": "\u6CF0\u548C"
      }, {
        "id": 774,
        "spell": "taihu",
        "name": "\u592A\u6E56"
      }, {
        "id": 775,
        "spell": "taining",
        "name": "\u6CF0\u5B81"
      }, {
        "id": 776,
        "spell": "taishan",
        "name": "\u53F0\u5C71"
      }, {
        "id": 777,
        "spell": "taishun",
        "name": "\u6CF0\u987A"
      }, {
        "id": 778,
        "spell": "taixing",
        "name": "\u6CF0\u5174"
      }, {
        "id": 779,
        "spell": "tancheng",
        "name": "\u90EF\u57CE"
      }, {
        "id": 780,
        "spell": "tanghai",
        "name": "\u5510\u6D77"
      }, {
        "id": 781,
        "spell": "tengzhou",
        "name": "\u6ED5\u5DDE"
      }, {
        "id": 782,
        "spell": "tianchang",
        "name": "\u5929\u957F"
      }, {
        "id": 783,
        "spell": "tiantai",
        "name": "\u5929\u53F0"
      }, {
        "id": 784,
        "spell": "tongcheng",
        "name": "\u6850\u57CE"
      }, {
        "id": 785,
        "spell": "tonggu",
        "name": "\u94DC\u9F13"
      }, {
        "id": 786,
        "spell": "tonghe",
        "name": "\u901A\u6CB3"
      }, {
        "id": 787,
        "spell": "tongliang",
        "name": "\u94DC\u6881"
      }, {
        "id": 788,
        "spell": "tongling",
        "name": "\u94DC\u9675"
      }, {
        "id": 789,
        "spell": "tonglu",
        "name": "\u6850\u5E90"
      }, {
        "id": 790,
        "spell": "tongnan",
        "name": "\u6F7C\u5357"
      }, {
        "id": 791,
        "spell": "tongshan",
        "name": "\u94DC\u5C71"
      }, {
        "id": 792,
        "spell": "tongxiang",
        "name": "\u6850\u4E61"
      }, {
        "id": 793,
        "spell": "tongzhou",
        "name": "\u901A\u5DDE"
      }],
      "W": [{
        "id": 42,
        "spell": "weifang",
        "name": "\u6F4D\u574A"
      }, {
        "id": 43,
        "spell": "weihai",
        "name": "\u5A01\u6D77"
      }, {
        "id": 44,
        "spell": "wuhan",
        "name": "\u6B66\u6C49"
      }, {
        "id": 45,
        "spell": "wuxi",
        "name": "\u65E0\u9521"
      }, {
        "id": 272,
        "spell": "weinan",
        "name": "\u6E2D\u5357"
      }, {
        "id": 273,
        "spell": "wenshan",
        "name": "\u6587\u5C71"
      }, {
        "id": 274,
        "spell": "wenzhou",
        "name": "\u6E29\u5DDE"
      }, {
        "id": 275,
        "spell": "wuhai",
        "name": "\u4E4C\u6D77"
      }, {
        "id": 276,
        "spell": "wuhu",
        "name": "\u829C\u6E56"
      }, {
        "id": 277,
        "spell": "wulanchabu",
        "name": "\u4E4C\u5170\u5BDF\u5E03"
      }, {
        "id": 278,
        "spell": "wulumuqi",
        "name": "\u4E4C\u9C81\u6728\u9F50"
      }, {
        "id": 279,
        "spell": "wuwei",
        "name": "\u6B66\u5A01"
      }, {
        "id": 280,
        "spell": "wuzhong",
        "name": "\u5434\u5FE0"
      }, {
        "id": 281,
        "spell": "wuzhou",
        "name": "\u68A7\u5DDE"
      }, {
        "id": 794,
        "spell": "wafangdian",
        "name": "\u74E6\u623F\u5E97"
      }, {
        "id": 795,
        "spell": "wanan",
        "name": "\u4E07\u5B89"
      }, {
        "id": 796,
        "spell": "wangcheng",
        "name": "\u671B\u57CE"
      }, {
        "id": 797,
        "spell": "wangjiang",
        "name": "\u671B\u6C5F"
      }, {
        "id": 798,
        "spell": "wannian",
        "name": "\u4E07\u5E74"
      }, {
        "id": 799,
        "spell": "wanzai",
        "name": "\u4E07\u8F7D"
      }, {
        "id": 800,
        "spell": "weishan",
        "name": "\u5FAE\u5C71"
      }, {
        "id": 801,
        "spell": "wencheng",
        "name": "\u6587\u6210"
      }, {
        "id": 802,
        "spell": "wendeng",
        "name": "\u6587\u767B"
      }, {
        "id": 803,
        "spell": "wengyuan",
        "name": "\u7FC1\u6E90"
      }, {
        "id": 804,
        "spell": "wenling",
        "name": "\u6E29\u5CAD"
      }, {
        "id": 805,
        "spell": "wenshang",
        "name": "\u6C76\u4E0A"
      }, {
        "id": 806,
        "spell": "wenxian",
        "name": "\u6E29\u53BF"
      }, {
        "id": 807,
        "spell": "woyang",
        "name": "\u6DA1\u9633"
      }, {
        "id": 808,
        "spell": "wuchang",
        "name": "\u4E94\u5E38"
      }, {
        "id": 809,
        "spell": "wucheng",
        "name": "\u6B66\u57CE"
      }, {
        "id": 810,
        "spell": "wuchuan",
        "name": "\u5434\u5DDD"
      }, {
        "id": 811,
        "spell": "wudi",
        "name": "\u65E0\u68E3"
      }, {
        "id": 812,
        "spell": "wuhe",
        "name": "\u4E94\u6CB3"
      }, {
        "id": 813,
        "spell": "wuhu",
        "name": "\u829C\u6E56"
      }, {
        "id": 814,
        "spell": "wuhua",
        "name": "\u4E94\u534E"
      }, {
        "id": 815,
        "spell": "wuji",
        "name": "\u65E0\u6781"
      }, {
        "id": 816,
        "spell": "wujiang",
        "name": "\u5434\u6C5F"
      }, {
        "id": 817,
        "spell": "wulian",
        "name": "\u4E94\u83B2"
      }, {
        "id": 818,
        "spell": "wulong",
        "name": "\u6B66\u9686"
      }, {
        "id": 819,
        "spell": "wuming",
        "name": "\u6B66\u9E23"
      }, {
        "id": 820,
        "spell": "wuning",
        "name": "\u6B66\u5B81"
      }, {
        "id": 821,
        "spell": "wuping",
        "name": "\u6B66\u5E73"
      }, {
        "id": 822,
        "spell": "wushan",
        "name": "\u5DEB\u5C71"
      }, {
        "id": 823,
        "spell": "wuwei",
        "name": "\u65E0\u4E3A"
      }, {
        "id": 824,
        "spell": "wuxi",
        "name": "\u5DEB\u6EAA"
      }, {
        "id": 825,
        "spell": "wuyi",
        "name": "\u6B66\u4E49"
      }, {
        "id": 826,
        "spell": "wuyishan",
        "name": "\u6B66\u5937\u5C71"
      }, {
        "id": 827,
        "spell": "wuyuan",
        "name": "\u5A7A\u6E90"
      }, {
        "id": 828,
        "spell": "wuzhi",
        "name": "\u6B66\u965F"
      }],
      "X": [{
        "id": 46,
        "spell": "xiamen",
        "name": "\u53A6\u95E8"
      }, {
        "id": 47,
        "spell": "xian",
        "name": "\u897F\u5B89"
      }, {
        "id": 48,
        "spell": "xuchang",
        "name": "\u8BB8\u660C"
      }, {
        "id": 49,
        "spell": "xuzhou",
        "name": "\u5F90\u5DDE"
      }, {
        "id": 282,
        "spell": "xiangfan",
        "name": "\u8944\u6A0A"
      }, {
        "id": 283,
        "spell": "xiangtan",
        "name": "\u6E58\u6F6D"
      }, {
        "id": 284,
        "spell": "xiangxi",
        "name": "\u6E58\u897F"
      }, {
        "id": 285,
        "spell": "xianning",
        "name": "\u54B8\u5B81"
      }, {
        "id": 286,
        "spell": "xianyang",
        "name": "\u54B8\u9633"
      }, {
        "id": 287,
        "spell": "xiaogan",
        "name": "\u5B5D\u611F"
      }, {
        "id": 288,
        "spell": "xilinguolemeng",
        "name": "\u9521\u6797\u90ED\u52D2\u76DF"
      }, {
        "id": 289,
        "spell": "xinganmeng",
        "name": "\u5174\u5B89\u76DF"
      }, {
        "id": 290,
        "spell": "xingtai",
        "name": "\u90A2\u53F0"
      }, {
        "id": 291,
        "spell": "xining",
        "name": "\u897F\u5B81"
      }, {
        "id": 292,
        "spell": "xinxiang",
        "name": "\u65B0\u4E61"
      }, {
        "id": 293,
        "spell": "xinyang",
        "name": "\u4FE1\u9633"
      }, {
        "id": 294,
        "spell": "xinyu",
        "name": "\u65B0\u4F59"
      }, {
        "id": 295,
        "spell": "xinzhou",
        "name": "\u5FFB\u5DDE"
      }, {
        "id": 296,
        "spell": "xishuangbanna",
        "name": "\u897F\u53CC\u7248\u7EB3"
      }, {
        "id": 297,
        "spell": "xuancheng",
        "name": "\u5BA3\u57CE"
      }, {
        "id": 829,
        "spell": "xiajiang",
        "name": "\u5CE1\u6C5F"
      }, {
        "id": 830,
        "spell": "xiajin",
        "name": "\u590F\u6D25"
      }, {
        "id": 831,
        "spell": "xiangshan",
        "name": "\u8C61\u5C71"
      }, {
        "id": 832,
        "spell": "xiangshui",
        "name": "\u54CD\u6C34"
      }, {
        "id": 833,
        "spell": "xianju",
        "name": "\u4ED9\u5C45"
      }, {
        "id": 834,
        "spell": "xianyou",
        "name": "\u4ED9\u6E38"
      }, {
        "id": 835,
        "spell": "xiaoxian",
        "name": "\u8427\u53BF"
      }, {
        "id": 836,
        "spell": "xiapu",
        "name": "\u971E\u6D66"
      }, {
        "id": 837,
        "spell": "xifeng",
        "name": "\u606F\u70FD"
      }, {
        "id": 838,
        "spell": "xinan",
        "name": "\u65B0\u5B89"
      }, {
        "id": 839,
        "spell": "xinchang",
        "name": "\u65B0\u660C"
      }, {
        "id": 840,
        "spell": "xinfeng",
        "name": "\u4FE1\u4E30"
      }, {
        "id": 841,
        "spell": "xinfeng",
        "name": "\u65B0\u4E30"
      }, {
        "id": 842,
        "spell": "xingan",
        "name": "\u65B0\u5E72"
      }, {
        "id": 843,
        "spell": "xingguo",
        "name": "\u5174\u56FD"
      }, {
        "id": 844,
        "spell": "xinghua",
        "name": "\u5174\u5316"
      }, {
        "id": 845,
        "spell": "xingning",
        "name": "\u5174\u5B81"
      }, {
        "id": 846,
        "spell": "xingtang",
        "name": "\u884C\u5510"
      }, {
        "id": 847,
        "spell": "xingyang",
        "name": "\u8365\u9633"
      }, {
        "id": 848,
        "spell": "xingzi",
        "name": "\u661F\u5B50"
      }, {
        "id": 849,
        "spell": "xinji",
        "name": "\u8F9B\u96C6"
      }, {
        "id": 850,
        "spell": "xinjian",
        "name": "\u65B0\u5EFA"
      }, {
        "id": 851,
        "spell": "xinjin",
        "name": "\u65B0\u6D25"
      }, {
        "id": 852,
        "spell": "xinle",
        "name": "\u65B0\u4E50"
      }, {
        "id": 853,
        "spell": "xinmin",
        "name": "\u65B0\u6C11"
      }, {
        "id": 854,
        "spell": "xinmi",
        "name": "\u65B0\u5BC6"
      }, {
        "id": 855,
        "spell": "xintai",
        "name": "\u65B0\u6CF0"
      }, {
        "id": 856,
        "spell": "xinxing",
        "name": "\u65B0\u5174"
      }, {
        "id": 857,
        "spell": "xinyi",
        "name": "\u65B0\u6C82"
      }, {
        "id": 858,
        "spell": "xinyi",
        "name": "\u4FE1\u5B9C"
      }, {
        "id": 859,
        "spell": "xinzheng",
        "name": "\u65B0\u90D1"
      }, {
        "id": 860,
        "spell": "xiuning",
        "name": "\u4F11\u5B81"
      }, {
        "id": 861,
        "spell": "xiushan",
        "name": "\u79C0\u5C71"
      }, {
        "id": 862,
        "spell": "xiushui",
        "name": "\u4FEE\u6C34"
      }, {
        "id": 863,
        "spell": "xiuwen",
        "name": "\u4FEE\u6587"
      }, {
        "id": 864,
        "spell": "xiuwu",
        "name": "\u4FEE\u6B66"
      }, {
        "id": 865,
        "spell": "xundian",
        "name": "\u5BFB\u7538"
      }, {
        "id": 866,
        "spell": "xunwu",
        "name": "\u5BFB\u4E4C"
      }, {
        "id": 867,
        "spell": "xuwen",
        "name": "\u5F90\u95FB"
      }, {
        "id": 868,
        "spell": "xuyi",
        "name": "\u76F1\u7719"
      }],
      "Y": [{
        "id": 50,
        "spell": "yangzhou",
        "name": "\u626C\u5DDE"
      }, {
        "id": 51,
        "spell": "yantai",
        "name": "\u70DF\u53F0"
      }, {
        "id": 298,
        "spell": "yaan",
        "name": "\u96C5\u5B89"
      }, {
        "id": 299,
        "spell": "yanan",
        "name": "\u5EF6\u5B89"
      }, {
        "id": 300,
        "spell": "yanbian",
        "name": "\u5EF6\u8FB9"
      }, {
        "id": 301,
        "spell": "yancheng",
        "name": "\u76D0\u57CE"
      }, {
        "id": 302,
        "spell": "yangjiang",
        "name": "\u9633\u6C5F"
      }, {
        "id": 303,
        "spell": "yangquan",
        "name": "\u9633\u6CC9"
      }, {
        "id": 304,
        "spell": "yibin",
        "name": "\u5B9C\u5BBE"
      }, {
        "id": 305,
        "spell": "yichang",
        "name": "\u5B9C\u660C"
      }, {
        "id": 306,
        "spell": "yichun",
        "name": "\u4F0A\u6625"
      }, {
        "id": 307,
        "spell": "yichun",
        "name": "\u5B9C\u6625"
      }, {
        "id": 308,
        "spell": "yilihasake",
        "name": "\u4F0A\u7281\u54C8\u8428\u514B"
      }, {
        "id": 309,
        "spell": "yinchuan",
        "name": "\u94F6\u5DDD"
      }, {
        "id": 310,
        "spell": "yingkou",
        "name": "\u8425\u53E3"
      }, {
        "id": 311,
        "spell": "yingtan",
        "name": "\u9E70\u6F6D"
      }, {
        "id": 312,
        "spell": "yiyang",
        "name": "\u76CA\u9633"
      }, {
        "id": 313,
        "spell": "yongzhou",
        "name": "\u6C38\u5DDE"
      }, {
        "id": 314,
        "spell": "yueyang",
        "name": "\u5CB3\u9633"
      }, {
        "id": 315,
        "spell": "yulin",
        "name": "\u7389\u6797"
      }, {
        "id": 316,
        "spell": "yulin",
        "name": "\u6986\u6797"
      }, {
        "id": 317,
        "spell": "yuncheng",
        "name": "\u8FD0\u57CE"
      }, {
        "id": 318,
        "spell": "yunfu",
        "name": "\u4E91\u6D6E"
      }, {
        "id": 319,
        "spell": "yushu",
        "name": "\u7389\u6811"
      }, {
        "id": 320,
        "spell": "yuxi",
        "name": "\u7389\u6EAA"
      }, {
        "id": 869,
        "spell": "yangchun",
        "name": "\u9633\u6625"
      }, {
        "id": 870,
        "spell": "yangdong",
        "name": "\u9633\u4E1C"
      }, {
        "id": 871,
        "spell": "yanggu",
        "name": "\u9633\u8C37"
      }, {
        "id": 872,
        "spell": "yangshan",
        "name": "\u9633\u5C71"
      }, {
        "id": 873,
        "spell": "yangxin",
        "name": "\u9633\u4FE1"
      }, {
        "id": 874,
        "spell": "yangxi",
        "name": "\u9633\u897F"
      }, {
        "id": 875,
        "spell": "yangzhong",
        "name": "\u626C\u4E2D"
      }, {
        "id": 876,
        "spell": "yanshi",
        "name": "\u5043\u5E08"
      }, {
        "id": 877,
        "spell": "yanshou",
        "name": "\u5EF6\u5BFF"
      }, {
        "id": 878,
        "spell": "yanzhou",
        "name": "\u5156\u5DDE"
      }, {
        "id": 879,
        "spell": "yichuan",
        "name": "\u4F0A\u5DDD"
      }, {
        "id": 880,
        "spell": "yifeng",
        "name": "\u5B9C\u4E30"
      }, {
        "id": 881,
        "spell": "yihuang",
        "name": "\u5B9C\u9EC4"
      }, {
        "id": 882,
        "spell": "yilan",
        "name": "\u4F9D\u5170"
      }, {
        "id": 883,
        "spell": "yiliang",
        "name": "\u5B9C\u826F"
      }, {
        "id": 884,
        "spell": "yinan",
        "name": "\u6C82\u5357"
      }, {
        "id": 885,
        "spell": "yingde",
        "name": "\u82F1\u5FB7"
      }, {
        "id": 886,
        "spell": "yingshang",
        "name": "\u988D\u4E0A"
      }, {
        "id": 887,
        "spell": "yishui",
        "name": "\u6C82\u6C34"
      }, {
        "id": 888,
        "spell": "yiwu",
        "name": "\u4E49\u4E4C"
      }, {
        "id": 889,
        "spell": "yixian",
        "name": "\u9EDF\u53BF"
      }, {
        "id": 890,
        "spell": "yixing",
        "name": "\u5B9C\u5174"
      }, {
        "id": 891,
        "spell": "yiyang",
        "name": "\u5F0B\u9633"
      }, {
        "id": 892,
        "spell": "yiyang",
        "name": "\u5B9C\u9633"
      }, {
        "id": 893,
        "spell": "yiyuan",
        "name": "\u6C82\u6E90"
      }, {
        "id": 894,
        "spell": "yizheng",
        "name": "\u4EEA\u5F81"
      }, {
        "id": 895,
        "spell": "yongan",
        "name": "\u6C38\u5B89"
      }, {
        "id": 896,
        "spell": "yongchuan",
        "name": "\u6C38\u5DDD"
      }, {
        "id": 897,
        "spell": "yongchun",
        "name": "\u6C38\u6625"
      }, {
        "id": 898,
        "spell": "yongdeng",
        "name": "\u6C38\u767B"
      }, {
        "id": 899,
        "spell": "yongding",
        "name": "\u6C38\u5B9A"
      }, {
        "id": 900,
        "spell": "yongfeng",
        "name": "\u6C38\u4E30"
      }, {
        "id": 901,
        "spell": "yongji",
        "name": "\u6C38\u5409"
      }, {
        "id": 902,
        "spell": "yongjia",
        "name": "\u6C38\u5609"
      }, {
        "id": 903,
        "spell": "yongkang",
        "name": "\u6C38\u5EB7"
      }, {
        "id": 904,
        "spell": "yongning",
        "name": "\u9095\u5B81"
      }, {
        "id": 905,
        "spell": "yongtai",
        "name": "\u6C38\u6CF0"
      }, {
        "id": 906,
        "spell": "yongxin",
        "name": "\u6C38\u65B0"
      }, {
        "id": 907,
        "spell": "yongxiu",
        "name": "\u6C38\u4FEE"
      }, {
        "id": 908,
        "spell": "youxi",
        "name": "\u5C24\u6EAA"
      }, {
        "id": 909,
        "spell": "youyang",
        "name": "\u9149\u9633"
      }, {
        "id": 910,
        "spell": "yuanshi",
        "name": "\u5143\u6C0F"
      }, {
        "id": 911,
        "spell": "yucheng",
        "name": "\u79B9\u57CE"
      }, {
        "id": 912,
        "spell": "yudu",
        "name": "\u4E8E\u90FD"
      }, {
        "id": 913,
        "spell": "yuexi",
        "name": "\u5CB3\u897F"
      }, {
        "id": 914,
        "spell": "yugan",
        "name": "\u4F59\u5E72"
      }, {
        "id": 915,
        "spell": "yuhuan",
        "name": "\u7389\u73AF"
      }, {
        "id": 916,
        "spell": "yujiang",
        "name": "\u4F59\u6C5F"
      }, {
        "id": 917,
        "spell": "yunan",
        "name": "\u90C1\u5357"
      }, {
        "id": 918,
        "spell": "yunan",
        "name": "\u4E91\u5B89"
      }, {
        "id": 919,
        "spell": "yuncheng",
        "name": "\u90D3\u57CE"
      }, {
        "id": 920,
        "spell": "yunhe",
        "name": "\u4E91\u548C"
      }, {
        "id": 921,
        "spell": "yunxiao",
        "name": "\u4E91\u9704"
      }, {
        "id": 922,
        "spell": "yunyang",
        "name": "\u4E91\u9633"
      }, {
        "id": 923,
        "spell": "yushan",
        "name": "\u7389\u5C71"
      }, {
        "id": 924,
        "spell": "yushu",
        "name": "\u6986\u6811"
      }, {
        "id": 925,
        "spell": "yutai",
        "name": "\u9C7C\u53F0"
      }, {
        "id": 926,
        "spell": "yutian",
        "name": "\u7389\u7530"
      }, {
        "id": 927,
        "spell": "yuyao",
        "name": "\u4F59\u59DA"
      }, {
        "id": 928,
        "spell": "yuzhong",
        "name": "\u6986\u4E2D"
      }],
      "Z": [{
        "id": 52,
        "spell": "zhangzhou",
        "name": "\u6F33\u5DDE"
      }, {
        "id": 53,
        "spell": "zhengzhou",
        "name": "\u90D1\u5DDE"
      }, {
        "id": 54,
        "spell": "zhongshan",
        "name": "\u4E2D\u5C71"
      }, {
        "id": 55,
        "spell": "zhuhai",
        "name": "\u73E0\u6D77"
      }, {
        "id": 321,
        "spell": "zaozhuang",
        "name": "\u67A3\u5E84"
      }, {
        "id": 322,
        "spell": "zhangjiajie",
        "name": "\u5F20\u5BB6\u754C"
      }, {
        "id": 323,
        "spell": "zhangjiakou",
        "name": "\u5F20\u5BB6\u53E3"
      }, {
        "id": 324,
        "spell": "zhangye",
        "name": "\u5F20\u6396"
      }, {
        "id": 325,
        "spell": "zhanjiang",
        "name": "\u6E5B\u6C5F"
      }, {
        "id": 326,
        "spell": "zhaoqing",
        "name": "\u8087\u5E86"
      }, {
        "id": 327,
        "spell": "zhaotong",
        "name": "\u662D\u901A"
      }, {
        "id": 328,
        "spell": "zhenjiang",
        "name": "\u9547\u6C5F"
      }, {
        "id": 329,
        "spell": "zhongwei",
        "name": "\u4E2D\u536B"
      }, {
        "id": 330,
        "spell": "zhoukou",
        "name": "\u5468\u53E3"
      }, {
        "id": 331,
        "spell": "zhoushan",
        "name": "\u821F\u5C71"
      }, {
        "id": 332,
        "spell": "zhumadian",
        "name": "\u9A7B\u9A6C\u5E97"
      }, {
        "id": 333,
        "spell": "zhuzhou",
        "name": "\u682A\u6D32"
      }, {
        "id": 334,
        "spell": "zibo",
        "name": "\u6DC4\u535A"
      }, {
        "id": 335,
        "spell": "zigong",
        "name": "\u81EA\u8D21"
      }, {
        "id": 336,
        "spell": "ziyang",
        "name": "\u8D44\u9633"
      }, {
        "id": 337,
        "spell": "zunyi",
        "name": "\u9075\u4E49"
      }, {
        "id": 929,
        "spell": "zanhuang",
        "name": "\u8D5E\u7687"
      }, {
        "id": 930,
        "spell": "zengcheng",
        "name": "\u589E\u57CE"
      }, {
        "id": 931,
        "spell": "zhangjiagang",
        "name": "\u5F20\u5BB6\u6E2F"
      }, {
        "id": 932,
        "spell": "zhangping",
        "name": "\u6F33\u5E73"
      }, {
        "id": 933,
        "spell": "zhangpu",
        "name": "\u6F33\u6D66"
      }, {
        "id": 934,
        "spell": "zhangqiu",
        "name": "\u7AE0\u4E18"
      }, {
        "id": 935,
        "spell": "zhangshu",
        "name": "\u6A1F\u6811"
      }, {
        "id": 936,
        "spell": "zhanhua",
        "name": "\u6CBE\u5316"
      }, {
        "id": 937,
        "spell": "zhaoxian",
        "name": "\u8D75\u53BF"
      }, {
        "id": 938,
        "spell": "zhaoyuan",
        "name": "\u62DB\u8FDC"
      }, {
        "id": 939,
        "spell": "zhengding",
        "name": "\u6B63\u5B9A"
      }, {
        "id": 940,
        "spell": "zhenghe",
        "name": "\u653F\u548C"
      }, {
        "id": 941,
        "spell": "zherong",
        "name": "\u67D8\u8363"
      }, {
        "id": 942,
        "spell": "zhongmou",
        "name": "\u4E2D\u725F"
      }, {
        "id": 943,
        "spell": "zhongxian",
        "name": "\u5FE0\u53BF"
      }, {
        "id": 944,
        "spell": "zhouning",
        "name": "\u5468\u5B81"
      }, {
        "id": 945,
        "spell": "zhouzhi",
        "name": "\u5468\u81F3"
      }, {
        "id": 946,
        "spell": "zhuanghe",
        "name": "\u5E84\u6CB3"
      }, {
        "id": 947,
        "spell": "zhucheng",
        "name": "\u8BF8\u57CE"
      }, {
        "id": 948,
        "spell": "zhuji",
        "name": "\u8BF8\u66A8"
      }, {
        "id": 949,
        "spell": "zijin",
        "name": "\u7D2B\u91D1"
      }, {
        "id": 950,
        "spell": "zixi",
        "name": "\u8D44\u6EAA"
      }, {
        "id": 951,
        "spell": "zoucheng",
        "name": "\u90B9\u57CE"
      }, {
        "id": 952,
        "spell": "zouping",
        "name": "\u90B9\u5E73"
      }, {
        "id": 953,
        "spell": "zunhua",
        "name": "\u9075\u5316"
      }]
    }
  };
  const _sfc_main$a = {
    name: "NynCityList",
    props: {
      hot: {
        type: Boolean,
        required: false,
        default: true
      }
    },
    data() {
      return {
        isShowLetter: false,
        showLetter: "A",
        searchLetter: [],
        itemH: 0,
        startPageY: 0,
        bHeight: 0,
        tHeight: 0,
        scrollTop: 0,
        winHeight: 0,
        cityList: [],
        hotList: [],
        search: false
      };
    },
    created() {
      this.initList();
    },
    methods: {
      initList() {
        let searchLetter = [];
        for (let key in address.cities) {
          searchLetter.push(key);
        }
        let hotList = address.hotCities;
        let cityList = address.cities;
        let sysInfo = uni.getSystemInfoSync();
        let winHeight = sysInfo.windowHeight;
        let itemH = winHeight / searchLetter.length;
        let tempObj = [];
        for (let i2 = 0; i2 < searchLetter.length; i2++) {
          let temp = {};
          temp.name = searchLetter[i2];
          temp.tHeight = i2 * itemH;
          temp.bHeight = (i2 + 1) * itemH;
          tempObj.push(temp);
        }
        this.winHeight = winHeight;
        this.itemH = itemH;
        this.searchLetter = tempObj;
        this.cityList = cityList;
        this.hotList = hotList;
      },
      bindinputCitys(e2) {
        let cities = this.cityList;
        let cyits = [];
        for (let key in cities) {
          for (let i2 = 0; i2 < cities[key].length; i2++) {
            if (cities[key][i2].name.search(e2.detail.value) != -1 || cities[key][i2].spell.search(e2.detail.value) != -1) {
              cyits.push(cities[key][i2]);
            }
          }
        }
        this.search = e2.detail.value;
        this.cyits = cyits;
      },
      searchStart(e2) {
        let showLetter = e2.currentTarget.dataset.letter;
        let pageY = e2.touches[0].pageY;
        this.setScrollTop(showLetter);
        this.nowLetter(pageY);
        this.showLetter = showLetter;
        this.startPageY = pageY;
        this.isShowLetter = true;
      },
      searchMove(e2) {
        let pageY = e2.touches[0].pageY;
        let startPageY = this.startPageY;
        let tHeight = this.tHeight;
        let bHeight = this.bHeight;
        if (startPageY - pageY > 0) {
          if (pageY < tHeight) {
            this.nowLetter(pageY);
          }
        } else {
          if (pageY > bHeight) {
            this.nowLetter(pageY);
          }
        }
      },
      searchEnd() {
        setTimeout(() => {
          this.isShowLetter = false;
        }, 1e3);
      },
      bindCity(item) {
        this.$emit("bindCity", item);
      },
      setScrollTop(showLetter) {
        let scrollTop = 0;
        let cityList = this.cityList;
        let cityCount = 0;
        let initialCount = 0;
        for (let key in cityList) {
          if (showLetter == key) {
            scrollTop = initialCount * 30 + cityCount * 41;
            break;
          } else {
            initialCount++;
            cityCount += cityList[key].length;
          }
        }
        this.scrollTop = scrollTop;
      },
      nowLetter(pageY) {
        let letterData = this.searchLetter;
        let bHeight = 0;
        let tHeight = 0;
        let showLetter = "";
        for (let i2 = 0; i2 < letterData.length; i2++) {
          if (letterData[i2].tHeight <= pageY && pageY <= letterData[i2].bHeight) {
            bHeight = letterData[i2].bHeight;
            tHeight = letterData[i2].tHeight;
            showLetter = letterData[i2].name;
            break;
          }
        }
        this.bHeight = bHeight;
        this.tHeight = tHeight;
        this.showLetter = showLetter;
        this.startPageY = pageY;
      }
    }
  };
  function _sfc_render$9(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", null, [
      vue.createCommentVNode(" \u641C\u7D22\u6846 "),
      vue.createElementVNode("view", { class: "search" }, [
        vue.createElementVNode("input", {
          type: "text",
          placeholder: "\u8BF7\u8F93\u5165\u57CE\u5E02\u540D\u79F0",
          style: { "font-size": "24rpx", "padding": "10rpx 24rpx" },
          onInput: _cache[0] || (_cache[0] = (...args) => $options.bindinputCitys && $options.bindinputCitys(...args))
        }, null, 32)
      ]),
      vue.createCommentVNode(" \u70ED\u95E8\u57CE\u5E02 "),
      $props.hot ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 0,
        class: "hot"
      }, [
        (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.hotList, (item) => {
          return vue.openBlock(), vue.createElementBlock("view", {
            key: item.id,
            onClick: ($event) => $options.bindCity(item),
            "data-city": item.name
          }, vue.toDisplayString(item.name), 9, ["onClick", "data-city"]);
        }), 128))
      ])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" \u9996\u5B57\u6BCD\u68C0\u7D22 "),
      vue.createElementVNode("view", { class: "searchLetter touchClass" }, [
        vue.createCommentVNode(" \u53F3\u8FB9\u5B57\u6BCD\u6570\u636E\u6570\u636E \u89E6\u6478\u4E8B\u4EF6"),
        (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.searchLetter, (item) => {
          return vue.openBlock(), vue.createElementBlock("view", {
            key: item.name,
            "data-letter": item.name,
            style: vue.normalizeStyle({ height: `${$data.itemH}px` }),
            onTouchstart: _cache[1] || (_cache[1] = vue.withModifiers((...args) => $options.searchStart && $options.searchStart(...args), ["stop"])),
            onTouchmove: _cache[2] || (_cache[2] = vue.withModifiers((...args) => $options.searchMove && $options.searchMove(...args), ["stop"])),
            onTouchend: _cache[3] || (_cache[3] = vue.withModifiers((...args) => $options.searchEnd && $options.searchEnd(...args), ["stop"]))
          }, vue.toDisplayString(item.name), 45, ["data-letter"]);
        }), 128))
      ]),
      vue.createCommentVNode(" \u5DE6\u8FB9\u5B57\u6BCD\u8DDF\u53F3\u8FB9\u5B57\u6BCDtrue\u65F6 \u5C4F\u5E55\u4E2D\u5FC3\u663E\u793A\u9009\u4E2D\u7684\u9996\u5B57\u6BCD"),
      vue.createCommentVNode(" \u5C45\u4E2D\u9996\u5B57\u6BCD\u6837\u5F0F "),
      $data.isShowLetter ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 1,
        class: "cont_Letter"
      }, vue.toDisplayString($data.showLetter), 1)) : vue.createCommentVNode("v-if", true),
      !$data.search ? (vue.openBlock(), vue.createElementBlock("scroll-view", {
        key: 2,
        "scroll-y": "true",
        style: vue.normalizeStyle({ height: `${$data.winHeight}px` }),
        "scroll-top": $data.scrollTop
      }, [
        vue.createCommentVNode(" \u5FAA\u73AF\u57CE\u5E02\u6570\u636E "),
        (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.cityList, (value, key) => {
          return vue.openBlock(), vue.createElementBlock("view", { key }, [
            vue.createCommentVNode(" \u5FAA\u73AF\u9996\u5B57\u6BCD\u68C0\u7D22\u4FE1\u606F "),
            vue.createElementVNode("view", { class: "list_letter" }, vue.toDisplayString(key), 1),
            vue.createCommentVNode(" \u57CE\u5E02ID\u57CE\u5E02\u540D\u79F0 "),
            (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList(value, (item) => {
              return vue.openBlock(), vue.createElementBlock("view", {
                class: "item_city",
                key: item.id,
                "data-city": item.name,
                onClick: ($event) => $options.bindCity(item)
              }, vue.toDisplayString(item.name), 9, ["data-city", "onClick"]);
            }), 128))
          ]);
        }), 128))
      ], 12, ["scroll-top"])) : vue.createCommentVNode("v-if", true),
      vue.createCommentVNode(" \u641C\u7D22\u5217\u8868 "),
      $data.search ? (vue.openBlock(), vue.createElementBlock("view", {
        key: 3,
        class: "list"
      }, [
        (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList(_ctx.cyits, (item) => {
          return vue.openBlock(), vue.createElementBlock("view", {
            class: "text",
            key: item.id,
            onClick: ($event) => $options.bindCity(item),
            "data-city": item.name
          }, vue.toDisplayString(item.name), 9, ["onClick", "data-city"]);
        }), 128))
      ])) : vue.createCommentVNode("v-if", true)
    ]);
  }
  var __easycom_0$2 = /* @__PURE__ */ _export_sfc(_sfc_main$a, [["render", _sfc_render$9], ["__scopeId", "data-v-53b74c32"], ["__file", "F:/work/ChuangDian/components/nyn-city-list/nyn-city-list.vue"]]);
  const _sfc_main$9 = {
    data() {
      return {};
    },
    methods: {
      bindCity(event) {
        formatAppLog("log", "at pages/selectAddress/selectAddress.vue:18", "\u9009\u62E9\u57CE\u5E02\u5566", event);
        uni.$emit("address", event);
        uni.setStorageSync("addressDefault", event);
        uni.navigateBack();
      }
    }
  };
  function _sfc_render$8(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_nyn_city_list = resolveEasycom(vue.resolveDynamicComponent("nyn-city-list"), __easycom_0$2);
    return vue.openBlock(), vue.createElementBlock("view", null, [
      vue.createVNode(_component_nyn_city_list, {
        hot: false,
        onBindCity: $options.bindCity
      }, null, 8, ["onBindCity"])
    ]);
  }
  var PagesSelectAddressSelectAddress = /* @__PURE__ */ _export_sfc(_sfc_main$9, [["render", _sfc_render$8], ["__file", "F:/work/ChuangDian/pages/selectAddress/selectAddress.vue"]]);
  const _sfc_main$8 = {
    data() {
      return {
        city: "",
        project: "",
        park: "",
        building: "",
        floor: "",
        toilet: ""
      };
    },
    methods: {
      bindDevice() {
        if (!this.city) {
          return uni.showToast({
            title: "\u8BF7\u9009\u62E9\u7701\u5E02\u533A",
            icon: "error"
          });
        }
        if (!this.project) {
          return uni.showToast({
            title: "\u8BF7\u9009\u62E9\u9879\u76EE\u540D\u79F0",
            icon: "error"
          });
        }
        if (!this.park) {
          return uni.showToast({
            title: "\u8BF7\u9009\u62E9\u56ED\u533A",
            icon: "error"
          });
        }
        if (!this.building) {
          return uni.showToast({
            title: "\u8BF7\u9009\u62E9\u697C\u680B",
            icon: "error"
          });
        }
        if (!this.floor) {
          return uni.showToast({
            title: "\u8BF7\u8F93\u5165\u697C\u5C42\u4FE1\u606F",
            icon: "error"
          });
        }
        if (!this.toilet) {
          return uni.showToast({
            title: "\u8BF7\u9009\u62E9\u5395\u6240",
            icon: "error"
          });
        }
      }
    }
  };
  function _sfc_render$7(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx" } }, [
        vue.createCommentVNode(" \u7701\u5E02 "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#333333", "font-weight": "400" } }, "\u7701\u5E02"),
          vue.createCommentVNode(` <uni-data-select v-model="value" :localdata="range" @change="change" :clear="false"\r
				:placeholder="$t('information.vehicleHint')"></uni-data-select> `),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "1", "font-size": "28rpx", "color": "#333333", "font-weight": "400", "text-align": "end" },
            type: "text",
            "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.city = $event),
            disabled: true,
            trim: "all",
            inputBorder: false,
            placeholder: "\u8BF7\u9009\u62E9\u7701\u5E02\u533A"
          }, null, 512), [
            [vue.vModelText, $data.city]
          ]),
          vue.createElementVNode("image", {
            style: { "width": "26rpx", "height": "26rpx", "margin-left": "10rpx" },
            src: "/static/ic_jiao_down.png"
          }, null, 8, ["src"])
        ]),
        vue.createElementVNode("view", { class: "line" }),
        vue.createCommentVNode(" \u9879\u76EE "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#333333", "font-weight": "400" } }, "\u9879\u76EE"),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "1", "font-size": "28rpx", "color": "#333333", "font-weight": "400", "text-align": "end" },
            type: "text",
            "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.project = $event),
            disabled: true,
            trim: "all",
            inputBorder: false,
            placeholder: "\u8BF7\u9009\u62E9\u9879\u76EE\u540D\u79F0"
          }, null, 512), [
            [vue.vModelText, $data.project]
          ]),
          vue.createElementVNode("image", {
            style: { "width": "26rpx", "height": "26rpx", "margin-left": "10rpx" },
            src: "/static/ic_jiao_down.png"
          }, null, 8, ["src"])
        ]),
        vue.createElementVNode("view", { class: "line" }),
        vue.createCommentVNode(" \u56ED\u533A "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#333333", "font-weight": "400" } }, "\u56ED\u533A"),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "1", "font-size": "28rpx", "color": "#333333", "font-weight": "400", "text-align": "end" },
            type: "text",
            "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.park = $event),
            disabled: true,
            trim: "all",
            inputBorder: false,
            placeholder: "\u8BF7\u9009\u62E9\u56ED\u533A"
          }, null, 512), [
            [vue.vModelText, $data.park]
          ]),
          vue.createElementVNode("image", {
            style: { "width": "26rpx", "height": "26rpx", "margin-left": "10rpx" },
            src: "/static/ic_jiao_down.png"
          }, null, 8, ["src"])
        ]),
        vue.createElementVNode("view", { class: "line" }),
        vue.createCommentVNode(" \u697C\u680B "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#333333", "font-weight": "400" } }, "\u697C\u680B"),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "1", "font-size": "28rpx", "color": "#333333", "font-weight": "400", "text-align": "end" },
            type: "text",
            "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $data.building = $event),
            disabled: true,
            trim: "all",
            inputBorder: false,
            placeholder: "\u8BF7\u9009\u62E9\u697C\u680B"
          }, null, 512), [
            [vue.vModelText, $data.building]
          ]),
          vue.createElementVNode("image", {
            style: { "width": "26rpx", "height": "26rpx", "margin-left": "10rpx" },
            src: "/static/ic_jiao_down.png"
          }, null, 8, ["src"])
        ]),
        vue.createElementVNode("view", { class: "line" }),
        vue.createCommentVNode(" \u697C\u5C42 "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#333333", "font-weight": "400" } }, "\u697C\u5C42"),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "1", "font-size": "28rpx", "color": "#333333", "font-weight": "400", "text-align": "end" },
            type: "text",
            "onUpdate:modelValue": _cache[4] || (_cache[4] = ($event) => $data.floor = $event),
            disabled: false,
            trim: "all",
            inputBorder: false,
            placeholder: "\u8BF7\u8F93\u5165\u697C\u5C42\u4FE1\u606F"
          }, null, 512), [
            [vue.vModelText, $data.floor]
          ])
        ]),
        vue.createElementVNode("view", { class: "line" }),
        vue.createCommentVNode(" \u5395\u6240 "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("text", { style: { "font-size": "28rpx", "color": "#333333", "font-weight": "400" } }, "\u5395\u6240"),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "1", "font-size": "28rpx", "color": "#333333", "font-weight": "400", "text-align": "end" },
            type: "text",
            "onUpdate:modelValue": _cache[5] || (_cache[5] = ($event) => $data.toilet = $event),
            disabled: true,
            trim: "all",
            inputBorder: false,
            placeholder: "\u8BF7\u9009\u62E9\u5395\u6240"
          }, null, 512), [
            [vue.vModelText, $data.toilet]
          ]),
          vue.createElementVNode("image", {
            style: { "width": "26rpx", "height": "26rpx", "margin-left": "10rpx" },
            src: "/static/ic_jiao_down.png"
          }, null, 8, ["src"])
        ]),
        vue.createElementVNode("view", { class: "line" })
      ]),
      vue.createElementVNode("view", { style: { "flex": "1" } }),
      vue.createCommentVNode(" \u6309\u94AE "),
      vue.createElementVNode("button", {
        class: "btn",
        onClick: _cache[6] || (_cache[6] = ($event) => $options.bindDevice())
      }, "\u7ED1\u5B9A\u8BBE\u5907")
    ]);
  }
  var PagesBindDeviceBindDevice = /* @__PURE__ */ _export_sfc(_sfc_main$8, [["render", _sfc_render$7], ["__file", "F:/work/ChuangDian/pages/bindDevice/bindDevice.vue"]]);
  const cacheChart = {};
  const fontSizeReg = /([\d\.]+)px/;
  class EventEmit {
    constructor() {
      this.__events = {};
    }
    on(type, listener) {
      if (!type || !listener) {
        return;
      }
      const events = this.__events[type] || [];
      events.push(listener);
      this.__events[type] = events;
    }
    emit(type, e2) {
      if (type.constructor === Object) {
        e2 = type;
        type = e2 && e2.type;
      }
      if (!type) {
        return;
      }
      const events = this.__events[type];
      if (!events || !events.length) {
        return;
      }
      events.forEach((listener) => {
        listener.call(this, e2);
      });
    }
    off(type, listener) {
      const __events = this.__events;
      const events = __events[type];
      if (!events || !events.length) {
        return;
      }
      if (!listener) {
        delete __events[type];
        return;
      }
      for (let i2 = 0, len2 = events.length; i2 < len2; i2++) {
        if (events[i2] === listener) {
          events.splice(i2, 1);
          i2--;
        }
      }
    }
  }
  class Image$1 {
    constructor() {
      this.currentSrc = null;
      this.naturalHeight = 0;
      this.naturalWidth = 0;
      this.width = 0;
      this.height = 0;
      this.tagName = "IMG";
    }
    set src(src) {
      this.currentSrc = src;
      uni.getImageInfo({
        src,
        success: (res) => {
          this.naturalWidth = this.width = res.width;
          this.naturalHeight = this.height = res.height;
          this.onload();
        },
        fail: () => {
          this.onerror();
        }
      });
    }
    get src() {
      return this.currentSrc;
    }
  }
  class OffscreenCanvas {
    constructor(ctx, com, canvasId) {
      this.tagName = "canvas";
      this.com = com;
      this.canvasId = canvasId;
      this.ctx = ctx;
    }
    set width(w2) {
      this.com.offscreenWidth = w2;
    }
    set height(h2) {
      this.com.offscreenHeight = h2;
    }
    get width() {
      return this.com.offscreenWidth || 0;
    }
    get height() {
      return this.com.offscreenHeight || 0;
    }
    getContext(type) {
      return this.ctx;
    }
    getImageData() {
      return new Promise((resolve, reject2) => {
        this.com.$nextTick(() => {
          uni.canvasGetImageData({
            x: 0,
            y: 0,
            width: this.com.offscreenWidth,
            height: this.com.offscreenHeight,
            canvasId: this.canvasId,
            success: (res) => {
              resolve(res);
            },
            fail: (err2) => {
              reject2(err2);
            }
          }, this.com);
        });
      });
    }
  }
  class Canvas {
    constructor(ctx, com, isNew, canvasNode = {}) {
      cacheChart[com.canvasId] = { ctx };
      this.canvasId = com.canvasId;
      this.chart = null;
      this.isNew = isNew;
      this.tagName = "canvas";
      this.canvasNode = canvasNode;
      this.com = com;
      if (!isNew) {
        this._initStyle(ctx);
      }
      this._initEvent();
      this._ee = new EventEmit();
    }
    getContext(type) {
      if (type === "2d") {
        return this.ctx;
      }
    }
    setChart(chart) {
      this.chart = chart;
    }
    createOffscreenCanvas(param) {
      if (!this.children) {
        this.com.isOffscreenCanvas = true;
        this.com.offscreenWidth = param.width || 300;
        this.com.offscreenHeight = param.height || 300;
        const com = this.com;
        const canvasId = this.com.offscreenCanvasId;
        const context = uni.createCanvasContext(canvasId, this.com);
        this._initStyle(context);
        this.children = new OffscreenCanvas(context, com, canvasId);
      }
      return this.children;
    }
    appendChild(child) {
      formatAppLog("log", "at uni_modules/lime-echart/components/l-echart/canvas.js:153", "child", child);
    }
    dispatchEvent(type, e2) {
      if (typeof type == "object") {
        this._ee.emit(type.type, type);
      } else {
        this._ee.emit(type, e2);
      }
      return true;
    }
    attachEvent() {
    }
    detachEvent() {
    }
    addEventListener(type, listener) {
      this._ee.on(type, listener);
    }
    removeEventListener(type, listener) {
      this._ee.off(type, listener);
    }
    _initCanvas(zrender2, ctx) {
      zrender2.util.getContext = function() {
        return ctx;
      };
      zrender2.util.$override("measureText", function(text, font) {
        ctx.font = font || "12px sans-serif";
        return ctx.measureText(text, font);
      });
    }
    _initStyle(ctx, child) {
      const styles = [
        "fillStyle",
        "strokeStyle",
        "fontSize",
        "globalAlpha",
        "opacity",
        "textAlign",
        "textBaseline",
        "shadow",
        "lineWidth",
        "lineCap",
        "lineJoin",
        "lineDash",
        "miterLimit",
        "font"
      ];
      styles.forEach((style) => {
        Object.defineProperty(ctx, style, {
          set: (value) => {
            if (style === "font" && fontSizeReg.test(value)) {
              const match = fontSizeReg.exec(value);
              ctx.setFontSize(match[1]);
              return;
            }
            if (style === "opacity") {
              ctx.setGlobalAlpha(value);
              return;
            }
            if (style !== "fillStyle" && style !== "strokeStyle" || value !== "none" && value !== null) {
              if (typeof value == "object") {
                if (value.hasOwnProperty("colorStop") || value.hasOwnProperty("colors")) {
                  ctx["set" + style.charAt(0).toUpperCase() + style.slice(1)](value);
                }
                return;
              }
              ctx["set" + style.charAt(0).toUpperCase() + style.slice(1)](value);
            }
          }
        });
      });
      if (!this.isNew && !child) {
        ctx.uniDrawImage = ctx.drawImage;
        ctx.drawImage = (...a2) => {
          a2[0] = a2[0].src;
          ctx.uniDrawImage(...a2);
        };
      }
      if (!ctx.createRadialGradient) {
        ctx.createRadialGradient = function() {
          return ctx.createCircularGradient(...[...arguments].slice(-3));
        };
      }
      if (!ctx.strokeText) {
        ctx.strokeText = (...a2) => {
          ctx.fillText(...a2);
        };
      }
      if (!ctx.measureText) {
        const strLen = (str) => {
          let len2 = 0;
          for (let i2 = 0; i2 < str.length; i2++) {
            if (str.charCodeAt(i2) > 0 && str.charCodeAt(i2) < 128) {
              len2++;
            } else {
              len2 += 2;
            }
          }
          return len2;
        };
        ctx.measureText = (text, font) => {
          let fontSize = 12;
          if (font) {
            fontSize = parseInt(font.match(/([\d\.]+)px/)[1]);
          }
          fontSize /= 2;
          return {
            width: strLen(text) * fontSize
          };
        };
      }
    }
    _initEvent(e2) {
      this.event = {};
      const eventNames = [{
        wxName: "touchStart",
        ecName: "mousedown"
      }, {
        wxName: "touchMove",
        ecName: "mousemove"
      }, {
        wxName: "touchEnd",
        ecName: "mouseup"
      }, {
        wxName: "touchEnd",
        ecName: "click"
      }];
      eventNames.forEach((name) => {
        this.event[name.wxName] = (e3) => {
          const touch = e3.touches[0];
          this.chart.getZr().handler.dispatch(name.ecName, {
            zrX: name.wxName === "tap" ? touch.clientX : touch.x,
            zrY: name.wxName === "tap" ? touch.clientY : touch.y
          });
        };
      });
    }
    set width(w2) {
      this.canvasNode.width = w2;
    }
    set height(h2) {
      this.canvasNode.height = h2;
    }
    get width() {
      return this.canvasNode.width || 0;
    }
    get height() {
      return this.canvasNode.height || 0;
    }
    get ctx() {
      return cacheChart[this.canvasId]["ctx"] || null;
    }
    set chart(chart) {
      cacheChart[this.canvasId]["chart"] = chart;
    }
    get chart() {
      return cacheChart[this.canvasId]["chart"] || null;
    }
  }
  function dispatch(name, { x: x2, y, wheelDelta }) {
    this.dispatch(name, {
      zrX: x2,
      zrY: y,
      zrDelta: wheelDelta,
      preventDefault: () => {
      },
      stopPropagation: () => {
      }
    });
  }
  function setCanvasCreator$1(echarts2, { canvas, node }) {
    echarts2.registerPreprocessor((option) => {
      if (option && option.series) {
        if (option.series.length > 0) {
          option.series.forEach((series) => {
            series.progressive = 0;
          });
        } else if (typeof option.series === "object") {
          option.series.progressive = 0;
        }
      }
    });
    function loadImage(src, onload, onerror) {
      let img = null;
      if (node && node.createImage) {
        img = node.createImage();
        img.onload = onload.bind(img);
        img.onerror = onerror.bind(img);
        img.src = src;
        return img;
      } else {
        img = new Image$1();
        img.onload = onload.bind(img);
        img.onerror = onerror.bind(img);
        img.src = src;
        return img;
      }
    }
    if (echarts2.setPlatformAPI) {
      echarts2.setPlatformAPI({
        loadImage: canvas.setChart ? loadImage : null,
        createCanvas() {
          return canvas;
        }
      });
    }
  }
  function wrapTouch(event) {
    for (let i2 = 0; i2 < event.touches.length; ++i2) {
      const touch = event.touches[i2];
      touch.offsetX = touch.x;
      touch.offsetY = touch.y;
    }
    return event;
  }
  const devicePixelRatio$1 = wx.getSystemInfoSync().pixelRatio;
  function sleep(time2) {
    return new Promise((resolve) => {
      setTimeout(() => {
        resolve(true);
      }, time2);
    });
  }
  global = {};
  const _sfc_main$7 = {
    name: "lime-echart",
    props: {
      customStyle: String,
      isDisableScroll: Boolean,
      isClickable: {
        type: Boolean,
        default: true
      },
      enableHover: Boolean,
      beforeDelay: {
        type: Number,
        default: 30
      }
    },
    data() {
      return {
        use2dCanvas: false,
        width: null,
        height: null,
        nodeWidth: null,
        nodeHeight: null,
        canvasNode: null,
        config: {},
        inited: false,
        finished: false,
        file: "",
        platform: "",
        isPc: false,
        isDown: false,
        isOffscreenCanvas: false,
        offscreenWidth: 0,
        offscreenHeight: 0
      };
    },
    computed: {
      canvasId() {
        return `lime-echart${this._ && this._.uid || this._uid}`;
      },
      offscreenCanvasId() {
        return `${this.canvasId}_offscreen`;
      },
      offscreenStyle() {
        return `width:${this.offscreenWidth}px;height: ${this.offscreenHeight}px; position: fixed; left: 99999px; background: red`;
      },
      canvasStyle() {
        return this.width && this.height ? "width:" + this.width + "px;height:" + this.height + "px" : "";
      }
    },
    beforeDestroy() {
      this.clear();
      this.dispose();
    },
    created() {
    },
    mounted() {
      this.$nextTick(() => {
        this.$emit("finished");
      });
    },
    methods: {
      setChart(callback) {
        if (!this.chart) {
          formatAppLog("warn", "at uni_modules/lime-echart/components/l-echart/l-echart.vue:197", `\u7EC4\u4EF6\u8FD8\u672A\u521D\u59CB\u5316\uFF0C\u8BF7\u5148\u4F7F\u7528 init`);
          return;
        }
        if (typeof callback === "function" && this.chart) {
          callback(this.chart);
        }
      },
      setOption() {
        if (!this.chart || !this.chart.setOption) {
          formatAppLog("warn", "at uni_modules/lime-echart/components/l-echart/l-echart.vue:211", `\u7EC4\u4EF6\u8FD8\u672A\u521D\u59CB\u5316\uFF0C\u8BF7\u5148\u4F7F\u7528 init`);
          return;
        }
        this.chart.setOption(...arguments);
      },
      showLoading() {
        if (this.chart) {
          this.chart.showLoading(...arguments);
        }
      },
      hideLoading() {
        if (this.chart) {
          this.chart.hideLoading();
        }
      },
      clear() {
        if (this.chart) {
          this.chart.clear();
        }
      },
      dispose() {
        if (this.chart) {
          this.chart.dispose();
        }
      },
      resize(size) {
        if (size && size.width && size.height) {
          this.height = size.height;
          this.width = size.width;
          if (this.chart) {
            this.chart.resize(size);
          }
        } else {
          this.$nextTick(() => {
            uni.createSelectorQuery().in(this).select(`.lime-echart`).boundingClientRect().exec((res) => {
              if (res) {
                let { width, height } = res[0];
                this.width = width = width || 300;
                this.height = height = height || 300;
                this.chart.resize({ width, height });
              }
            });
          });
        }
      },
      canvasToTempFilePath(args = {}) {
        const { use2dCanvas, canvasId, canvasNode } = this;
        return new Promise((resolve, reject2) => {
          const copyArgs = Object.assign({
            canvasId,
            success: resolve,
            fail: reject2
          }, args);
          if (use2dCanvas) {
            delete copyArgs.canvasId;
            copyArgs.canvas = canvasNode;
          }
          uni.canvasToTempFilePath(copyArgs, this);
        });
      },
      async init(echarts2, ...args) {
        if (arguments && arguments.length < 1) {
          formatAppLog("error", "at uni_modules/lime-echart/components/l-echart/l-echart.vue:333", "\u7F3A\u5C11\u53C2\u6570\uFF1Ainit(echarts, theme?:string, opts?: object, callback: function)");
          return;
        }
        let theme2 = null, opts = {}, callback;
        Array.from(arguments).forEach((item) => {
          if (typeof item === "function") {
            callback = item;
          }
          if (["string"].includes(typeof item)) {
            theme2 = item;
          }
          if (typeof item === "object") {
            opts = item;
          }
        });
        if (this.beforeDelay) {
          await sleep(this.beforeDelay);
        }
        let config = await this.getContext();
        setCanvasCreator$1(echarts2, config);
        this.chart = echarts2.init(config.canvas, theme2, Object.assign({}, config, opts));
        if (typeof callback === "function") {
          callback(this.chart);
        } else {
          return this.chart;
        }
      },
      getContext() {
        const { use2dCanvas } = this;
        let dpr2 = devicePixelRatio$1;
        if (use2dCanvas) {
          return new Promise((resolve) => {
            uni.createSelectorQuery().in(this).select(`#${this.canvasId}`).fields({
              node: true,
              size: true
            }).exec((res) => {
              let { node, width, height } = res[0];
              this.width = width = width || 300;
              this.height = height = height || 300;
              const ctx = node.getContext("2d");
              const canvas = new Canvas(ctx, this, true, node);
              this.canvasNode = node;
              resolve({ canvas, width, height, devicePixelRatio: dpr2, node });
            });
          });
        }
        return new Promise((resolve) => {
          uni.createSelectorQuery().in(this).select(`#${this.canvasId}`).boundingClientRect().exec((res) => {
            if (res) {
              let { width, height } = res[0];
              this.width = width = width || 300;
              this.height = height = height || 300;
              dpr2 = this.isPC ? devicePixelRatio$1 : 1;
              this.rect = res[0];
              this.nodeWidth = width * dpr2;
              this.nodeHeight = height * dpr2;
              const ctx = uni.createCanvasContext(this.canvasId, this);
              const canvas = new Canvas(ctx, this, false);
              resolve({ canvas, width, height, devicePixelRatio: dpr2 });
            }
          });
        });
      },
      getRelative(e2) {
        return { x: e2.pageX - this.rect.left, y: e2.pageY - this.rect.top, wheelDelta: e2.wheelDelta };
      },
      getTouch(e2) {
        return e2.touches && e2.touches[0] && e2.touches[0].x ? e2.touches[0] : this.getRelative(e2);
      },
      touchStart(e2) {
        this.isDown = true;
        if (this.chart && ((e2.touches.length > 0 || e2.touches["0"]) && e2.type != "mousemove" || e2.type == "mousedown")) {
          const touch = this.getTouch(e2);
          this.startX = touch.x;
          this.startY = touch.y;
          this.startT = new Date();
          const handler = this.chart.getZr().handler;
          dispatch.call(handler, "mousedown", touch);
          dispatch.call(handler, "mousemove", touch);
          handler.processGesture(wrapTouch(e2), "start");
          clearTimeout(this.endTimer);
        }
      },
      touchMove(e2) {
        if (this.isPc && this.enableHover && !this.isDown) {
          this.isDown = true;
        }
        if (this.chart && ((e2.touches.length > 0 || e2.touches["0"]) && e2.type != "mousemove" || e2.type == "mousemove" && this.isDown)) {
          const handler = this.chart.getZr().handler;
          dispatch.call(handler, "mousemove", this.getTouch(e2));
          handler.processGesture(wrapTouch(e2), "change");
        }
      },
      touchEnd(e2) {
        this.isDown = false;
        if (this.chart) {
          const { x: x2 } = e2.changedTouches && e2.changedTouches[0] || {};
          const touch = (x2 ? e2.changedTouches[0] : this.getRelative(e2)) || {};
          const handler = this.chart.getZr().handler;
          const isClick = Math.abs(touch.x - this.startX) < 10 && new Date() - this.startT < 200;
          dispatch.call(handler, "mouseup", touch);
          handler.processGesture(wrapTouch(e2), "end");
          if (isClick) {
            dispatch.call(handler, "click", touch);
          } else {
            this.endTimer = setTimeout(() => {
              dispatch.call(handler, "mousemove", { x: 999999999, y: 999999999 });
              dispatch.call(handler, "mouseup", { x: 999999999, y: 999999999 });
            }, 50);
          }
        }
      }
    }
  };
  function _sfc_render$6(_ctx, _cache, $props, $setup, $data, $options) {
    return $options.canvasId ? (vue.openBlock(), vue.createElementBlock("view", {
      key: 0,
      class: "lime-echart",
      style: vue.normalizeStyle($props.customStyle),
      ref: "limeEchart"
    }, [
      $data.use2dCanvas ? (vue.openBlock(), vue.createElementBlock("canvas", {
        key: 0,
        class: "lime-echart__canvas",
        type: "2d",
        id: $options.canvasId,
        style: vue.normalizeStyle($options.canvasStyle),
        "disable-scroll": $props.isDisableScroll,
        onTouchstart: _cache[0] || (_cache[0] = (...args) => $options.touchStart && $options.touchStart(...args)),
        onTouchmove: _cache[1] || (_cache[1] = (...args) => $options.touchMove && $options.touchMove(...args)),
        onTouchend: _cache[2] || (_cache[2] = (...args) => $options.touchEnd && $options.touchEnd(...args))
      }, null, 44, ["id", "disable-scroll"])) : $data.isPc ? (vue.openBlock(), vue.createElementBlock("canvas", {
        key: 1,
        class: "lime-echart__canvas",
        style: vue.normalizeStyle($options.canvasStyle),
        id: $options.canvasId,
        "canvas-id": $options.canvasId,
        "disable-scroll": $props.isDisableScroll,
        onMousedown: _cache[3] || (_cache[3] = (...args) => $options.touchStart && $options.touchStart(...args)),
        onMousemove: _cache[4] || (_cache[4] = (...args) => $options.touchMove && $options.touchMove(...args)),
        onMouseup: _cache[5] || (_cache[5] = (...args) => $options.touchEnd && $options.touchEnd(...args))
      }, null, 44, ["id", "canvas-id", "disable-scroll"])) : (vue.openBlock(), vue.createElementBlock("canvas", {
        key: 2,
        class: "lime-echart__canvas",
        width: $data.nodeWidth,
        height: $data.nodeHeight,
        style: vue.normalizeStyle($options.canvasStyle),
        "canvas-id": $options.canvasId,
        id: $options.canvasId,
        "disable-scroll": $props.isDisableScroll,
        onTouchstart: _cache[6] || (_cache[6] = (...args) => $options.touchStart && $options.touchStart(...args)),
        onTouchmove: _cache[7] || (_cache[7] = (...args) => $options.touchMove && $options.touchMove(...args)),
        onTouchend: _cache[8] || (_cache[8] = (...args) => $options.touchEnd && $options.touchEnd(...args))
      }, null, 44, ["width", "height", "canvas-id", "id", "disable-scroll"])),
      $data.isOffscreenCanvas ? (vue.openBlock(), vue.createElementBlock("canvas", {
        key: 3,
        style: vue.normalizeStyle($options.offscreenStyle),
        "canvas-id": $options.offscreenCanvasId
      }, null, 12, ["canvas-id"])) : vue.createCommentVNode("v-if", true)
    ], 4)) : vue.createCommentVNode("v-if", true);
  }
  var __easycom_0$1 = /* @__PURE__ */ _export_sfc(_sfc_main$7, [["render", _sfc_render$6], ["__scopeId", "data-v-52a46d79"], ["__file", "F:/work/ChuangDian/uni_modules/lime-echart/components/l-echart/l-echart.vue"]]);
  /*! *****************************************************************************
  	Copyright (c) Microsoft Corporation.
  
  	Permission to use, copy, modify, and/or distribute this software for any
  	purpose with or without fee is hereby granted.
  
  	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  	PERFORMANCE OF THIS SOFTWARE.
  	***************************************************************************** */
  var extendStatics = function(d2, b2) {
    extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d3, b3) {
      d3.__proto__ = b3;
    } || function(d3, b3) {
      for (var p2 in b3)
        if (Object.prototype.hasOwnProperty.call(b3, p2))
          d3[p2] = b3[p2];
    };
    return extendStatics(d2, b2);
  };
  function __extends(d2, b2) {
    if (typeof b2 !== "function" && b2 !== null)
      throw new TypeError("Class extends value " + String(b2) + " is not a constructor or null");
    extendStatics(d2, b2);
    function __() {
      this.constructor = d2;
    }
    d2.prototype = b2 === null ? Object.create(b2) : (__.prototype = b2.prototype, new __());
  }
  var Browser = function() {
    function Browser2() {
      this.firefox = false;
      this.ie = false;
      this.edge = false;
      this.newEdge = false;
      this.weChat = false;
    }
    return Browser2;
  }();
  var Env = function() {
    function Env2() {
      this.browser = new Browser();
      this.node = false;
      this.wxa = false;
      this.worker = false;
      this.svgSupported = false;
      this.touchEventsSupported = false;
      this.pointerEventsSupported = false;
      this.domSupported = false;
      this.transformSupported = false;
      this.transform3dSupported = false;
      this.hasGlobalWindow = typeof window !== "undefined";
    }
    return Env2;
  }();
  var env = new Env();
  if (typeof wx === "object" && typeof wx.getSystemInfoSync === "function") {
    env.wxa = true;
    env.touchEventsSupported = true;
  } else if (typeof document === "undefined" && typeof self !== "undefined") {
    env.worker = true;
  } else if (typeof navigator === "undefined") {
    env.node = true;
    env.svgSupported = true;
  } else {
    detect(navigator.userAgent, env);
  }
  function detect(ua, env2) {
    var browser = env2.browser;
    var firefox = ua.match(/Firefox\/([\d.]+)/);
    var ie2 = ua.match(/MSIE\s([\d.]+)/) || ua.match(/Trident\/.+?rv:(([\d.]+))/);
    var edge = ua.match(/Edge?\/([\d.]+)/);
    var weChat = /micromessenger/i.test(ua);
    if (firefox) {
      browser.firefox = true;
      browser.version = firefox[1];
    }
    if (ie2) {
      browser.ie = true;
      browser.version = ie2[1];
    }
    if (edge) {
      browser.edge = true;
      browser.version = edge[1];
      browser.newEdge = +edge[1].split(".")[0] > 18;
    }
    if (weChat) {
      browser.weChat = true;
    }
    env2.svgSupported = typeof SVGRect !== "undefined";
    env2.touchEventsSupported = "ontouchstart" in window && !browser.ie && !browser.edge;
    env2.pointerEventsSupported = "onpointerdown" in window && (browser.edge || browser.ie && +browser.version >= 11);
    env2.domSupported = typeof document !== "undefined";
    var style = document.documentElement.style;
    env2.transform3dSupported = (browser.ie && "transition" in style || browser.edge || "WebKitCSSMatrix" in window && "m11" in new WebKitCSSMatrix() || "MozPerspective" in style) && !("OTransition" in style);
    env2.transformSupported = env2.transform3dSupported || browser.ie && +browser.version >= 9;
  }
  var env$1 = env;
  var DEFAULT_FONT_SIZE = 12;
  var DEFAULT_FONT_FAMILY = "sans-serif";
  var DEFAULT_FONT = DEFAULT_FONT_SIZE + "px " + DEFAULT_FONT_FAMILY;
  var OFFSET = 20;
  var SCALE = 100;
  var defaultWidthMapStr = "007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";
  function getTextWidthMap(mapStr) {
    var map2 = {};
    if (typeof JSON === "undefined") {
      return map2;
    }
    for (var i2 = 0; i2 < mapStr.length; i2++) {
      var char = String.fromCharCode(i2 + 32);
      var size = (mapStr.charCodeAt(i2) - OFFSET) / SCALE;
      map2[char] = size;
    }
    return map2;
  }
  var DEFAULT_TEXT_WIDTH_MAP = getTextWidthMap(defaultWidthMapStr);
  var platformApi = {
    createCanvas: function() {
      return typeof document !== "undefined" && document.createElement("canvas");
    },
    measureText: function() {
      var _ctx;
      var _cachedFont;
      return function(text, font) {
        if (!_ctx) {
          var canvas = platformApi.createCanvas();
          _ctx = canvas && canvas.getContext("2d");
        }
        if (_ctx) {
          if (_cachedFont !== font) {
            _cachedFont = _ctx.font = font || DEFAULT_FONT;
          }
          return _ctx.measureText(text);
        } else {
          text = text || "";
          font = font || DEFAULT_FONT;
          var res = /(\d+)px/.exec(font);
          var fontSize = res && +res[1] || DEFAULT_FONT_SIZE;
          var width = 0;
          if (font.indexOf("mono") >= 0) {
            width = fontSize * text.length;
          } else {
            for (var i2 = 0; i2 < text.length; i2++) {
              var preCalcWidth = DEFAULT_TEXT_WIDTH_MAP[text[i2]];
              width += preCalcWidth == null ? fontSize : preCalcWidth * fontSize;
            }
          }
          return { width };
        }
      };
    }(),
    loadImage: function(src, onload, onerror) {
      var image = new Image();
      image.onload = onload;
      image.onerror = onerror;
      image.src = src;
      return image;
    }
  };
  function setPlatformAPI(newPlatformApis) {
    for (var key in platformApi) {
      if (newPlatformApis[key]) {
        platformApi[key] = newPlatformApis[key];
      }
    }
  }
  var BUILTIN_OBJECT = reduce([
    "Function",
    "RegExp",
    "Date",
    "Error",
    "CanvasGradient",
    "CanvasPattern",
    "Image",
    "Canvas"
  ], function(obj, val) {
    obj["[object " + val + "]"] = true;
    return obj;
  }, {});
  var TYPED_ARRAY = reduce([
    "Int8",
    "Uint8",
    "Uint8Clamped",
    "Int16",
    "Uint16",
    "Int32",
    "Uint32",
    "Float32",
    "Float64"
  ], function(obj, val) {
    obj["[object " + val + "Array]"] = true;
    return obj;
  }, {});
  var objToString = Object.prototype.toString;
  var arrayProto = Array.prototype;
  var nativeForEach = arrayProto.forEach;
  var nativeFilter = arrayProto.filter;
  var nativeSlice = arrayProto.slice;
  var nativeMap = arrayProto.map;
  var ctorFunction = function() {
  }.constructor;
  var protoFunction = ctorFunction ? ctorFunction.prototype : null;
  var protoKey = "__proto__";
  var idStart = 2311;
  function guid() {
    return idStart++;
  }
  function logError() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }
    if (typeof console !== "undefined") {
      console.error.apply(console, args);
    }
  }
  function clone$3(source) {
    if (source == null || typeof source !== "object") {
      return source;
    }
    var result = source;
    var typeStr = objToString.call(source);
    if (typeStr === "[object Array]") {
      if (!isPrimitive(source)) {
        result = [];
        for (var i2 = 0, len2 = source.length; i2 < len2; i2++) {
          result[i2] = clone$3(source[i2]);
        }
      }
    } else if (TYPED_ARRAY[typeStr]) {
      if (!isPrimitive(source)) {
        var Ctor = source.constructor;
        if (Ctor.from) {
          result = Ctor.from(source);
        } else {
          result = new Ctor(source.length);
          for (var i2 = 0, len2 = source.length; i2 < len2; i2++) {
            result[i2] = source[i2];
          }
        }
      }
    } else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {
      result = {};
      for (var key in source) {
        if (source.hasOwnProperty(key) && key !== protoKey) {
          result[key] = clone$3(source[key]);
        }
      }
    }
    return result;
  }
  function merge(target, source, overwrite) {
    if (!isObject$2(source) || !isObject$2(target)) {
      return overwrite ? clone$3(source) : target;
    }
    for (var key in source) {
      if (source.hasOwnProperty(key) && key !== protoKey) {
        var targetProp = target[key];
        var sourceProp = source[key];
        if (isObject$2(sourceProp) && isObject$2(targetProp) && !isArray(sourceProp) && !isArray(targetProp) && !isDom(sourceProp) && !isDom(targetProp) && !isBuiltInObject(sourceProp) && !isBuiltInObject(targetProp) && !isPrimitive(sourceProp) && !isPrimitive(targetProp)) {
          merge(targetProp, sourceProp, overwrite);
        } else if (overwrite || !(key in target)) {
          target[key] = clone$3(source[key]);
        }
      }
    }
    return target;
  }
  function mergeAll(targetAndSources, overwrite) {
    var result = targetAndSources[0];
    for (var i2 = 1, len2 = targetAndSources.length; i2 < len2; i2++) {
      result = merge(result, targetAndSources[i2], overwrite);
    }
    return result;
  }
  function extend(target, source) {
    if (Object.assign) {
      Object.assign(target, source);
    } else {
      for (var key in source) {
        if (source.hasOwnProperty(key) && key !== protoKey) {
          target[key] = source[key];
        }
      }
    }
    return target;
  }
  function defaults(target, source, overlay) {
    var keysArr = keys(source);
    for (var i2 = 0; i2 < keysArr.length; i2++) {
      var key = keysArr[i2];
      if (overlay ? source[key] != null : target[key] == null) {
        target[key] = source[key];
      }
    }
    return target;
  }
  var createCanvas = platformApi.createCanvas;
  function indexOf(array, value) {
    if (array) {
      if (array.indexOf) {
        return array.indexOf(value);
      }
      for (var i2 = 0, len2 = array.length; i2 < len2; i2++) {
        if (array[i2] === value) {
          return i2;
        }
      }
    }
    return -1;
  }
  function inherits(clazz, baseClazz) {
    var clazzPrototype = clazz.prototype;
    function F2() {
    }
    F2.prototype = baseClazz.prototype;
    clazz.prototype = new F2();
    for (var prop in clazzPrototype) {
      if (clazzPrototype.hasOwnProperty(prop)) {
        clazz.prototype[prop] = clazzPrototype[prop];
      }
    }
    clazz.prototype.constructor = clazz;
    clazz.superClass = baseClazz;
  }
  function mixin(target, source, override) {
    target = "prototype" in target ? target.prototype : target;
    source = "prototype" in source ? source.prototype : source;
    if (Object.getOwnPropertyNames) {
      var keyList = Object.getOwnPropertyNames(source);
      for (var i2 = 0; i2 < keyList.length; i2++) {
        var key = keyList[i2];
        if (key !== "constructor") {
          if (override ? source[key] != null : target[key] == null) {
            target[key] = source[key];
          }
        }
      }
    } else {
      defaults(target, source, override);
    }
  }
  function isArrayLike(data) {
    if (!data) {
      return false;
    }
    if (typeof data === "string") {
      return false;
    }
    return typeof data.length === "number";
  }
  function each$3(arr, cb, context) {
    if (!(arr && cb)) {
      return;
    }
    if (arr.forEach && arr.forEach === nativeForEach) {
      arr.forEach(cb, context);
    } else if (arr.length === +arr.length) {
      for (var i2 = 0, len2 = arr.length; i2 < len2; i2++) {
        cb.call(context, arr[i2], i2, arr);
      }
    } else {
      for (var key in arr) {
        if (arr.hasOwnProperty(key)) {
          cb.call(context, arr[key], key, arr);
        }
      }
    }
  }
  function map$1(arr, cb, context) {
    if (!arr) {
      return [];
    }
    if (!cb) {
      return slice(arr);
    }
    if (arr.map && arr.map === nativeMap) {
      return arr.map(cb, context);
    } else {
      var result = [];
      for (var i2 = 0, len2 = arr.length; i2 < len2; i2++) {
        result.push(cb.call(context, arr[i2], i2, arr));
      }
      return result;
    }
  }
  function reduce(arr, cb, memo, context) {
    if (!(arr && cb)) {
      return;
    }
    for (var i2 = 0, len2 = arr.length; i2 < len2; i2++) {
      memo = cb.call(context, memo, arr[i2], i2, arr);
    }
    return memo;
  }
  function filter(arr, cb, context) {
    if (!arr) {
      return [];
    }
    if (!cb) {
      return slice(arr);
    }
    if (arr.filter && arr.filter === nativeFilter) {
      return arr.filter(cb, context);
    } else {
      var result = [];
      for (var i2 = 0, len2 = arr.length; i2 < len2; i2++) {
        if (cb.call(context, arr[i2], i2, arr)) {
          result.push(arr[i2]);
        }
      }
      return result;
    }
  }
  function find(arr, cb, context) {
    if (!(arr && cb)) {
      return;
    }
    for (var i2 = 0, len2 = arr.length; i2 < len2; i2++) {
      if (cb.call(context, arr[i2], i2, arr)) {
        return arr[i2];
      }
    }
  }
  function keys(obj) {
    if (!obj) {
      return [];
    }
    if (Object.keys) {
      return Object.keys(obj);
    }
    var keyList = [];
    for (var key in obj) {
      if (obj.hasOwnProperty(key)) {
        keyList.push(key);
      }
    }
    return keyList;
  }
  function bindPolyfill(func, context) {
    var args = [];
    for (var _i = 2; _i < arguments.length; _i++) {
      args[_i - 2] = arguments[_i];
    }
    return function() {
      return func.apply(context, args.concat(nativeSlice.call(arguments)));
    };
  }
  var bind$1 = protoFunction && isFunction(protoFunction.bind) ? protoFunction.call.bind(protoFunction.bind) : bindPolyfill;
  function curry(func) {
    var args = [];
    for (var _i = 1; _i < arguments.length; _i++) {
      args[_i - 1] = arguments[_i];
    }
    return function() {
      return func.apply(this, args.concat(nativeSlice.call(arguments)));
    };
  }
  function isArray(value) {
    if (Array.isArray) {
      return Array.isArray(value);
    }
    return objToString.call(value) === "[object Array]";
  }
  function isFunction(value) {
    return typeof value === "function";
  }
  function isString(value) {
    return typeof value === "string";
  }
  function isStringSafe(value) {
    return objToString.call(value) === "[object String]";
  }
  function isNumber(value) {
    return typeof value === "number";
  }
  function isObject$2(value) {
    var type = typeof value;
    return type === "function" || !!value && type === "object";
  }
  function isBuiltInObject(value) {
    return !!BUILTIN_OBJECT[objToString.call(value)];
  }
  function isTypedArray(value) {
    return !!TYPED_ARRAY[objToString.call(value)];
  }
  function isDom(value) {
    return typeof value === "object" && typeof value.nodeType === "number" && typeof value.ownerDocument === "object";
  }
  function isGradientObject(value) {
    return value.colorStops != null;
  }
  function isImagePatternObject(value) {
    return value.image != null;
  }
  function isRegExp(value) {
    return objToString.call(value) === "[object RegExp]";
  }
  function eqNaN(value) {
    return value !== value;
  }
  function retrieve() {
    var args = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      args[_i] = arguments[_i];
    }
    for (var i2 = 0, len2 = args.length; i2 < len2; i2++) {
      if (args[i2] != null) {
        return args[i2];
      }
    }
  }
  function retrieve2(value0, value1) {
    return value0 != null ? value0 : value1;
  }
  function retrieve3(value0, value1, value2) {
    return value0 != null ? value0 : value1 != null ? value1 : value2;
  }
  function slice(arr) {
    var args = [];
    for (var _i = 1; _i < arguments.length; _i++) {
      args[_i - 1] = arguments[_i];
    }
    return nativeSlice.apply(arr, args);
  }
  function normalizeCssArray$1(val) {
    if (typeof val === "number") {
      return [val, val, val, val];
    }
    var len2 = val.length;
    if (len2 === 2) {
      return [val[0], val[1], val[0], val[1]];
    } else if (len2 === 3) {
      return [val[0], val[1], val[2], val[1]];
    }
    return val;
  }
  function assert(condition, message) {
    if (!condition) {
      throw new Error(message);
    }
  }
  function trim(str) {
    if (str == null) {
      return null;
    } else if (typeof str.trim === "function") {
      return str.trim();
    } else {
      return str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");
    }
  }
  var primitiveKey = "__ec_primitive__";
  function setAsPrimitive(obj) {
    obj[primitiveKey] = true;
  }
  function isPrimitive(obj) {
    return obj[primitiveKey];
  }
  var MapPolyfill = function() {
    function MapPolyfill2() {
      this.data = {};
    }
    MapPolyfill2.prototype["delete"] = function(key) {
      var existed = this.has(key);
      if (existed) {
        delete this.data[key];
      }
      return existed;
    };
    MapPolyfill2.prototype.has = function(key) {
      return this.data.hasOwnProperty(key);
    };
    MapPolyfill2.prototype.get = function(key) {
      return this.data[key];
    };
    MapPolyfill2.prototype.set = function(key, value) {
      this.data[key] = value;
      return this;
    };
    MapPolyfill2.prototype.keys = function() {
      return keys(this.data);
    };
    MapPolyfill2.prototype.forEach = function(callback) {
      var data = this.data;
      for (var key in data) {
        if (data.hasOwnProperty(key)) {
          callback(data[key], key);
        }
      }
    };
    return MapPolyfill2;
  }();
  var isNativeMapSupported = typeof Map === "function";
  function maybeNativeMap() {
    return isNativeMapSupported ? /* @__PURE__ */ new Map() : new MapPolyfill();
  }
  var HashMap = function() {
    function HashMap2(obj) {
      var isArr = isArray(obj);
      this.data = maybeNativeMap();
      var thisMap = this;
      obj instanceof HashMap2 ? obj.each(visit) : obj && each$3(obj, visit);
      function visit(value, key) {
        isArr ? thisMap.set(value, key) : thisMap.set(key, value);
      }
    }
    HashMap2.prototype.hasKey = function(key) {
      return this.data.has(key);
    };
    HashMap2.prototype.get = function(key) {
      return this.data.get(key);
    };
    HashMap2.prototype.set = function(key, value) {
      this.data.set(key, value);
      return value;
    };
    HashMap2.prototype.each = function(cb, context) {
      this.data.forEach(function(value, key) {
        cb.call(context, value, key);
      });
    };
    HashMap2.prototype.keys = function() {
      var keys2 = this.data.keys();
      return isNativeMapSupported ? Array.from(keys2) : keys2;
    };
    HashMap2.prototype.removeKey = function(key) {
      this.data["delete"](key);
    };
    return HashMap2;
  }();
  function createHashMap(obj) {
    return new HashMap(obj);
  }
  function concatArray(a2, b2) {
    var newArray = new a2.constructor(a2.length + b2.length);
    for (var i2 = 0; i2 < a2.length; i2++) {
      newArray[i2] = a2[i2];
    }
    var offset = a2.length;
    for (var i2 = 0; i2 < b2.length; i2++) {
      newArray[i2 + offset] = b2[i2];
    }
    return newArray;
  }
  function createObject(proto2, properties) {
    var obj;
    if (Object.create) {
      obj = Object.create(proto2);
    } else {
      var StyleCtor = function() {
      };
      StyleCtor.prototype = proto2;
      obj = new StyleCtor();
    }
    if (properties) {
      extend(obj, properties);
    }
    return obj;
  }
  function disableUserSelect(dom) {
    var domStyle = dom.style;
    domStyle.webkitUserSelect = "none";
    domStyle.userSelect = "none";
    domStyle.webkitTapHighlightColor = "rgba(0,0,0,0)";
    domStyle["-webkit-touch-callout"] = "none";
  }
  function hasOwn(own, prop) {
    return own.hasOwnProperty(prop);
  }
  function noop() {
  }
  var RADIAN_TO_DEGREE = 180 / Math.PI;
  var util$1 = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    guid,
    logError,
    clone: clone$3,
    merge,
    mergeAll,
    extend,
    defaults,
    createCanvas,
    indexOf,
    inherits,
    mixin,
    isArrayLike,
    each: each$3,
    map: map$1,
    reduce,
    filter,
    find,
    keys,
    bind: bind$1,
    curry,
    isArray,
    isFunction,
    isString,
    isStringSafe,
    isNumber,
    isObject: isObject$2,
    isBuiltInObject,
    isTypedArray,
    isDom,
    isGradientObject,
    isImagePatternObject,
    isRegExp,
    eqNaN,
    retrieve,
    retrieve2,
    retrieve3,
    slice,
    normalizeCssArray: normalizeCssArray$1,
    assert,
    trim,
    setAsPrimitive,
    isPrimitive,
    HashMap,
    createHashMap,
    concatArray,
    createObject,
    disableUserSelect,
    hasOwn,
    noop,
    RADIAN_TO_DEGREE
  });
  function create$1(x2, y) {
    if (x2 == null) {
      x2 = 0;
    }
    if (y == null) {
      y = 0;
    }
    return [x2, y];
  }
  function copy$1(out2, v2) {
    out2[0] = v2[0];
    out2[1] = v2[1];
    return out2;
  }
  function clone$2(v2) {
    return [v2[0], v2[1]];
  }
  function set$1(out2, a2, b2) {
    out2[0] = a2;
    out2[1] = b2;
    return out2;
  }
  function add(out2, v1, v2) {
    out2[0] = v1[0] + v2[0];
    out2[1] = v1[1] + v2[1];
    return out2;
  }
  function scaleAndAdd(out2, v1, v2, a2) {
    out2[0] = v1[0] + v2[0] * a2;
    out2[1] = v1[1] + v2[1] * a2;
    return out2;
  }
  function sub(out2, v1, v2) {
    out2[0] = v1[0] - v2[0];
    out2[1] = v1[1] - v2[1];
    return out2;
  }
  function len(v2) {
    return Math.sqrt(lenSquare(v2));
  }
  var length = len;
  function lenSquare(v2) {
    return v2[0] * v2[0] + v2[1] * v2[1];
  }
  var lengthSquare = lenSquare;
  function mul$1(out2, v1, v2) {
    out2[0] = v1[0] * v2[0];
    out2[1] = v1[1] * v2[1];
    return out2;
  }
  function div(out2, v1, v2) {
    out2[0] = v1[0] / v2[0];
    out2[1] = v1[1] / v2[1];
    return out2;
  }
  function dot(v1, v2) {
    return v1[0] * v2[0] + v1[1] * v2[1];
  }
  function scale$2(out2, v2, s2) {
    out2[0] = v2[0] * s2;
    out2[1] = v2[1] * s2;
    return out2;
  }
  function normalize$1(out2, v2) {
    var d2 = len(v2);
    if (d2 === 0) {
      out2[0] = 0;
      out2[1] = 0;
    } else {
      out2[0] = v2[0] / d2;
      out2[1] = v2[1] / d2;
    }
    return out2;
  }
  function distance(v1, v2) {
    return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]));
  }
  var dist$1 = distance;
  function distanceSquare(v1, v2) {
    return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);
  }
  var distSquare = distanceSquare;
  function negate(out2, v2) {
    out2[0] = -v2[0];
    out2[1] = -v2[1];
    return out2;
  }
  function lerp$1(out2, v1, v2, t2) {
    out2[0] = v1[0] + t2 * (v2[0] - v1[0]);
    out2[1] = v1[1] + t2 * (v2[1] - v1[1]);
    return out2;
  }
  function applyTransform$1(out2, v2, m2) {
    var x2 = v2[0];
    var y = v2[1];
    out2[0] = m2[0] * x2 + m2[2] * y + m2[4];
    out2[1] = m2[1] * x2 + m2[3] * y + m2[5];
    return out2;
  }
  function min$1(out2, v1, v2) {
    out2[0] = Math.min(v1[0], v2[0]);
    out2[1] = Math.min(v1[1], v2[1]);
    return out2;
  }
  function max$1(out2, v1, v2) {
    out2[0] = Math.max(v1[0], v2[0]);
    out2[1] = Math.max(v1[1], v2[1]);
    return out2;
  }
  var vector = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    create: create$1,
    copy: copy$1,
    clone: clone$2,
    set: set$1,
    add,
    scaleAndAdd,
    sub,
    len,
    length,
    lenSquare,
    lengthSquare,
    mul: mul$1,
    div,
    dot,
    scale: scale$2,
    normalize: normalize$1,
    distance,
    dist: dist$1,
    distanceSquare,
    distSquare,
    negate,
    lerp: lerp$1,
    applyTransform: applyTransform$1,
    min: min$1,
    max: max$1
  });
  var Param = function() {
    function Param2(target, e2) {
      this.target = target;
      this.topTarget = e2 && e2.topTarget;
    }
    return Param2;
  }();
  var Draggable = function() {
    function Draggable2(handler) {
      this.handler = handler;
      handler.on("mousedown", this._dragStart, this);
      handler.on("mousemove", this._drag, this);
      handler.on("mouseup", this._dragEnd, this);
    }
    Draggable2.prototype._dragStart = function(e2) {
      var draggingTarget = e2.target;
      while (draggingTarget && !draggingTarget.draggable) {
        draggingTarget = draggingTarget.parent || draggingTarget.__hostTarget;
      }
      if (draggingTarget) {
        this._draggingTarget = draggingTarget;
        draggingTarget.dragging = true;
        this._x = e2.offsetX;
        this._y = e2.offsetY;
        this.handler.dispatchToElement(new Param(draggingTarget, e2), "dragstart", e2.event);
      }
    };
    Draggable2.prototype._drag = function(e2) {
      var draggingTarget = this._draggingTarget;
      if (draggingTarget) {
        var x2 = e2.offsetX;
        var y = e2.offsetY;
        var dx = x2 - this._x;
        var dy = y - this._y;
        this._x = x2;
        this._y = y;
        draggingTarget.drift(dx, dy, e2);
        this.handler.dispatchToElement(new Param(draggingTarget, e2), "drag", e2.event);
        var dropTarget = this.handler.findHover(x2, y, draggingTarget).target;
        var lastDropTarget = this._dropTarget;
        this._dropTarget = dropTarget;
        if (draggingTarget !== dropTarget) {
          if (lastDropTarget && dropTarget !== lastDropTarget) {
            this.handler.dispatchToElement(new Param(lastDropTarget, e2), "dragleave", e2.event);
          }
          if (dropTarget && dropTarget !== lastDropTarget) {
            this.handler.dispatchToElement(new Param(dropTarget, e2), "dragenter", e2.event);
          }
        }
      }
    };
    Draggable2.prototype._dragEnd = function(e2) {
      var draggingTarget = this._draggingTarget;
      if (draggingTarget) {
        draggingTarget.dragging = false;
      }
      this.handler.dispatchToElement(new Param(draggingTarget, e2), "dragend", e2.event);
      if (this._dropTarget) {
        this.handler.dispatchToElement(new Param(this._dropTarget, e2), "drop", e2.event);
      }
      this._draggingTarget = null;
      this._dropTarget = null;
    };
    return Draggable2;
  }();
  var Draggable$1 = Draggable;
  var Eventful = function() {
    function Eventful2(eventProcessors) {
      if (eventProcessors) {
        this._$eventProcessor = eventProcessors;
      }
    }
    Eventful2.prototype.on = function(event, query, handler, context) {
      if (!this._$handlers) {
        this._$handlers = {};
      }
      var _h = this._$handlers;
      if (typeof query === "function") {
        context = handler;
        handler = query;
        query = null;
      }
      if (!handler || !event) {
        return this;
      }
      var eventProcessor = this._$eventProcessor;
      if (query != null && eventProcessor && eventProcessor.normalizeQuery) {
        query = eventProcessor.normalizeQuery(query);
      }
      if (!_h[event]) {
        _h[event] = [];
      }
      for (var i2 = 0; i2 < _h[event].length; i2++) {
        if (_h[event][i2].h === handler) {
          return this;
        }
      }
      var wrap = {
        h: handler,
        query,
        ctx: context || this,
        callAtLast: handler.zrEventfulCallAtLast
      };
      var lastIndex = _h[event].length - 1;
      var lastWrap = _h[event][lastIndex];
      lastWrap && lastWrap.callAtLast ? _h[event].splice(lastIndex, 0, wrap) : _h[event].push(wrap);
      return this;
    };
    Eventful2.prototype.isSilent = function(eventName) {
      var _h = this._$handlers;
      return !_h || !_h[eventName] || !_h[eventName].length;
    };
    Eventful2.prototype.off = function(eventType, handler) {
      var _h = this._$handlers;
      if (!_h) {
        return this;
      }
      if (!eventType) {
        this._$handlers = {};
        return this;
      }
      if (handler) {
        if (_h[eventType]) {
          var newList = [];
          for (var i2 = 0, l2 = _h[eventType].length; i2 < l2; i2++) {
            if (_h[eventType][i2].h !== handler) {
              newList.push(_h[eventType][i2]);
            }
          }
          _h[eventType] = newList;
        }
        if (_h[eventType] && _h[eventType].length === 0) {
          delete _h[eventType];
        }
      } else {
        delete _h[eventType];
      }
      return this;
    };
    Eventful2.prototype.trigger = function(eventType) {
      var args = [];
      for (var _i = 1; _i < arguments.length; _i++) {
        args[_i - 1] = arguments[_i];
      }
      if (!this._$handlers) {
        return this;
      }
      var _h = this._$handlers[eventType];
      var eventProcessor = this._$eventProcessor;
      if (_h) {
        var argLen = args.length;
        var len2 = _h.length;
        for (var i2 = 0; i2 < len2; i2++) {
          var hItem = _h[i2];
          if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(eventType, hItem.query)) {
            continue;
          }
          switch (argLen) {
            case 0:
              hItem.h.call(hItem.ctx);
              break;
            case 1:
              hItem.h.call(hItem.ctx, args[0]);
              break;
            case 2:
              hItem.h.call(hItem.ctx, args[0], args[1]);
              break;
            default:
              hItem.h.apply(hItem.ctx, args);
              break;
          }
        }
      }
      eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(eventType);
      return this;
    };
    Eventful2.prototype.triggerWithContext = function(type) {
      var args = [];
      for (var _i = 1; _i < arguments.length; _i++) {
        args[_i - 1] = arguments[_i];
      }
      if (!this._$handlers) {
        return this;
      }
      var _h = this._$handlers[type];
      var eventProcessor = this._$eventProcessor;
      if (_h) {
        var argLen = args.length;
        var ctx = args[argLen - 1];
        var len2 = _h.length;
        for (var i2 = 0; i2 < len2; i2++) {
          var hItem = _h[i2];
          if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {
            continue;
          }
          switch (argLen) {
            case 0:
              hItem.h.call(ctx);
              break;
            case 1:
              hItem.h.call(ctx, args[0]);
              break;
            case 2:
              hItem.h.call(ctx, args[0], args[1]);
              break;
            default:
              hItem.h.apply(ctx, args.slice(1, argLen - 1));
              break;
          }
        }
      }
      eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);
      return this;
    };
    return Eventful2;
  }();
  var Eventful$1 = Eventful;
  var LN2 = Math.log(2);
  function determinant(rows, rank, rowStart, rowMask, colMask, detCache) {
    var cacheKey = rowMask + "-" + colMask;
    var fullRank = rows.length;
    if (detCache.hasOwnProperty(cacheKey)) {
      return detCache[cacheKey];
    }
    if (rank === 1) {
      var colStart = Math.round(Math.log((1 << fullRank) - 1 & ~colMask) / LN2);
      return rows[rowStart][colStart];
    }
    var subRowMask = rowMask | 1 << rowStart;
    var subRowStart = rowStart + 1;
    while (rowMask & 1 << subRowStart) {
      subRowStart++;
    }
    var sum = 0;
    for (var j2 = 0, colLocalIdx = 0; j2 < fullRank; j2++) {
      var colTag = 1 << j2;
      if (!(colTag & colMask)) {
        sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j2] * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);
        colLocalIdx++;
      }
    }
    detCache[cacheKey] = sum;
    return sum;
  }
  function buildTransformer(src, dest) {
    var mA = [
      [src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]],
      [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]],
      [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]],
      [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]],
      [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]],
      [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]],
      [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]],
      [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]
    ];
    var detCache = {};
    var det = determinant(mA, 8, 0, 0, 0, detCache);
    if (det === 0) {
      return;
    }
    var vh = [];
    for (var i2 = 0; i2 < 8; i2++) {
      for (var j2 = 0; j2 < 8; j2++) {
        vh[j2] == null && (vh[j2] = 0);
        vh[j2] += ((i2 + j2) % 2 ? -1 : 1) * determinant(mA, 7, i2 === 0 ? 1 : 0, 1 << i2, 1 << j2, detCache) / det * dest[i2];
      }
    }
    return function(out2, srcPointX, srcPointY) {
      var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;
      out2[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;
      out2[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;
    };
  }
  var EVENT_SAVED_PROP = "___zrEVENTSAVED";
  var _calcOut$1 = [];
  function transformLocalCoord(out2, elFrom, elTarget, inX, inY) {
    return transformCoordWithViewport(_calcOut$1, elFrom, inX, inY, true) && transformCoordWithViewport(out2, elTarget, _calcOut$1[0], _calcOut$1[1]);
  }
  function transformCoordWithViewport(out2, el, inX, inY, inverse) {
    if (el.getBoundingClientRect && env$1.domSupported && !isCanvasEl(el)) {
      var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});
      var markers = prepareCoordMarkers(el, saved);
      var transformer = preparePointerTransformer(markers, saved, inverse);
      if (transformer) {
        transformer(out2, inX, inY);
        return true;
      }
    }
    return false;
  }
  function prepareCoordMarkers(el, saved) {
    var markers = saved.markers;
    if (markers) {
      return markers;
    }
    markers = saved.markers = [];
    var propLR = ["left", "right"];
    var propTB = ["top", "bottom"];
    for (var i2 = 0; i2 < 4; i2++) {
      var marker = document.createElement("div");
      var stl = marker.style;
      var idxLR = i2 % 2;
      var idxTB = (i2 >> 1) % 2;
      stl.cssText = [
        "position: absolute",
        "visibility: hidden",
        "padding: 0",
        "margin: 0",
        "border-width: 0",
        "user-select: none",
        "width:0",
        "height:0",
        propLR[idxLR] + ":0",
        propTB[idxTB] + ":0",
        propLR[1 - idxLR] + ":auto",
        propTB[1 - idxTB] + ":auto",
        ""
      ].join("!important;");
      el.appendChild(marker);
      markers.push(marker);
    }
    return markers;
  }
  function preparePointerTransformer(markers, saved, inverse) {
    var transformerName = inverse ? "invTrans" : "trans";
    var transformer = saved[transformerName];
    var oldSrcCoords = saved.srcCoords;
    var srcCoords = [];
    var destCoords = [];
    var oldCoordTheSame = true;
    for (var i2 = 0; i2 < 4; i2++) {
      var rect = markers[i2].getBoundingClientRect();
      var ii = 2 * i2;
      var x2 = rect.left;
      var y = rect.top;
      srcCoords.push(x2, y);
      oldCoordTheSame = oldCoordTheSame && oldSrcCoords && x2 === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];
      destCoords.push(markers[i2].offsetLeft, markers[i2].offsetTop);
    }
    return oldCoordTheSame && transformer ? transformer : (saved.srcCoords = srcCoords, saved[transformerName] = inverse ? buildTransformer(destCoords, srcCoords) : buildTransformer(srcCoords, destCoords));
  }
  function isCanvasEl(el) {
    return el.nodeName.toUpperCase() === "CANVAS";
  }
  var replaceReg = /([&<>"'])/g;
  var replaceMap = {
    "&": "&amp;",
    "<": "&lt;",
    ">": "&gt;",
    '"': "&quot;",
    "'": "&#39;"
  };
  function encodeHTML(source) {
    return source == null ? "" : (source + "").replace(replaceReg, function(str, c2) {
      return replaceMap[c2];
    });
  }
  var MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;
  var _calcOut = [];
  var firefoxNotSupportOffsetXY = env$1.browser.firefox && +env$1.browser.version.split(".")[0] < 39;
  function clientToLocal(el, e2, out2, calculate) {
    out2 = out2 || {};
    if (calculate) {
      calculateZrXY(el, e2, out2);
    } else if (firefoxNotSupportOffsetXY && e2.layerX != null && e2.layerX !== e2.offsetX) {
      out2.zrX = e2.layerX;
      out2.zrY = e2.layerY;
    } else if (e2.offsetX != null) {
      out2.zrX = e2.offsetX;
      out2.zrY = e2.offsetY;
    } else {
      calculateZrXY(el, e2, out2);
    }
    return out2;
  }
  function calculateZrXY(el, e2, out2) {
    if (env$1.domSupported && el.getBoundingClientRect) {
      var ex = e2.clientX;
      var ey = e2.clientY;
      if (isCanvasEl(el)) {
        var box = el.getBoundingClientRect();
        out2.zrX = ex - box.left;
        out2.zrY = ey - box.top;
        return;
      } else {
        if (transformCoordWithViewport(_calcOut, el, ex, ey)) {
          out2.zrX = _calcOut[0];
          out2.zrY = _calcOut[1];
          return;
        }
      }
    }
    out2.zrX = out2.zrY = 0;
  }
  function getNativeEvent(e2) {
    return e2 || window.event;
  }
  function normalizeEvent(el, e2, calculate) {
    e2 = getNativeEvent(e2);
    if (e2.zrX != null) {
      return e2;
    }
    var eventType = e2.type;
    var isTouch = eventType && eventType.indexOf("touch") >= 0;
    if (!isTouch) {
      clientToLocal(el, e2, e2, calculate);
      var wheelDelta = getWheelDeltaMayPolyfill(e2);
      e2.zrDelta = wheelDelta ? wheelDelta / 120 : -(e2.detail || 0) / 3;
    } else {
      var touch = eventType !== "touchend" ? e2.targetTouches[0] : e2.changedTouches[0];
      touch && clientToLocal(el, touch, e2, calculate);
    }
    var button = e2.button;
    if (e2.which == null && button !== void 0 && MOUSE_EVENT_REG.test(e2.type)) {
      e2.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;
    }
    return e2;
  }
  function getWheelDeltaMayPolyfill(e2) {
    var rawWheelDelta = e2.wheelDelta;
    if (rawWheelDelta) {
      return rawWheelDelta;
    }
    var deltaX = e2.deltaX;
    var deltaY = e2.deltaY;
    if (deltaX == null || deltaY == null) {
      return rawWheelDelta;
    }
    var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);
    var sign = deltaY > 0 ? -1 : deltaY < 0 ? 1 : deltaX > 0 ? -1 : 1;
    return 3 * delta * sign;
  }
  function addEventListener(el, name, handler, opt) {
    el.addEventListener(name, handler, opt);
  }
  function removeEventListener(el, name, handler, opt) {
    el.removeEventListener(name, handler, opt);
  }
  var stop = function(e2) {
    e2.preventDefault();
    e2.stopPropagation();
    e2.cancelBubble = true;
  };
  var GestureMgr = function() {
    function GestureMgr2() {
      this._track = [];
    }
    GestureMgr2.prototype.recognize = function(event, target, root) {
      this._doTrack(event, target, root);
      return this._recognize(event);
    };
    GestureMgr2.prototype.clear = function() {
      this._track.length = 0;
      return this;
    };
    GestureMgr2.prototype._doTrack = function(event, target, root) {
      var touches = event.touches;
      if (!touches) {
        return;
      }
      var trackItem = {
        points: [],
        touches: [],
        target,
        event
      };
      for (var i2 = 0, len2 = touches.length; i2 < len2; i2++) {
        var touch = touches[i2];
        var pos = clientToLocal(root, touch, {});
        trackItem.points.push([pos.zrX, pos.zrY]);
        trackItem.touches.push(touch);
      }
      this._track.push(trackItem);
    };
    GestureMgr2.prototype._recognize = function(event) {
      for (var eventName in recognizers) {
        if (recognizers.hasOwnProperty(eventName)) {
          var gestureInfo = recognizers[eventName](this._track, event);
          if (gestureInfo) {
            return gestureInfo;
          }
        }
      }
    };
    return GestureMgr2;
  }();
  function dist(pointPair) {
    var dx = pointPair[1][0] - pointPair[0][0];
    var dy = pointPair[1][1] - pointPair[0][1];
    return Math.sqrt(dx * dx + dy * dy);
  }
  function center(pointPair) {
    return [
      (pointPair[0][0] + pointPair[1][0]) / 2,
      (pointPair[0][1] + pointPair[1][1]) / 2
    ];
  }
  var recognizers = {
    pinch: function(tracks, event) {
      var trackLen = tracks.length;
      if (!trackLen) {
        return;
      }
      var pinchEnd = (tracks[trackLen - 1] || {}).points;
      var pinchPre = (tracks[trackLen - 2] || {}).points || pinchEnd;
      if (pinchPre && pinchPre.length > 1 && pinchEnd && pinchEnd.length > 1) {
        var pinchScale = dist(pinchEnd) / dist(pinchPre);
        !isFinite(pinchScale) && (pinchScale = 1);
        event.pinchScale = pinchScale;
        var pinchCenter = center(pinchEnd);
        event.pinchX = pinchCenter[0];
        event.pinchY = pinchCenter[1];
        return {
          type: "pinch",
          target: tracks[0].target,
          event
        };
      }
    }
  };
  function create() {
    return [1, 0, 0, 1, 0, 0];
  }
  function identity(out2) {
    out2[0] = 1;
    out2[1] = 0;
    out2[2] = 0;
    out2[3] = 1;
    out2[4] = 0;
    out2[5] = 0;
    return out2;
  }
  function copy(out2, m2) {
    out2[0] = m2[0];
    out2[1] = m2[1];
    out2[2] = m2[2];
    out2[3] = m2[3];
    out2[4] = m2[4];
    out2[5] = m2[5];
    return out2;
  }
  function mul(out2, m1, m2) {
    var out0 = m1[0] * m2[0] + m1[2] * m2[1];
    var out1 = m1[1] * m2[0] + m1[3] * m2[1];
    var out22 = m1[0] * m2[2] + m1[2] * m2[3];
    var out3 = m1[1] * m2[2] + m1[3] * m2[3];
    var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];
    var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];
    out2[0] = out0;
    out2[1] = out1;
    out2[2] = out22;
    out2[3] = out3;
    out2[4] = out4;
    out2[5] = out5;
    return out2;
  }
  function translate(out2, a2, v2) {
    out2[0] = a2[0];
    out2[1] = a2[1];
    out2[2] = a2[2];
    out2[3] = a2[3];
    out2[4] = a2[4] + v2[0];
    out2[5] = a2[5] + v2[1];
    return out2;
  }
  function rotate(out2, a2, rad) {
    var aa = a2[0];
    var ac = a2[2];
    var atx = a2[4];
    var ab = a2[1];
    var ad = a2[3];
    var aty = a2[5];
    var st2 = Math.sin(rad);
    var ct2 = Math.cos(rad);
    out2[0] = aa * ct2 + ab * st2;
    out2[1] = -aa * st2 + ab * ct2;
    out2[2] = ac * ct2 + ad * st2;
    out2[3] = -ac * st2 + ct2 * ad;
    out2[4] = ct2 * atx + st2 * aty;
    out2[5] = ct2 * aty - st2 * atx;
    return out2;
  }
  function scale$1(out2, a2, v2) {
    var vx = v2[0];
    var vy = v2[1];
    out2[0] = a2[0] * vx;
    out2[1] = a2[1] * vy;
    out2[2] = a2[2] * vx;
    out2[3] = a2[3] * vy;
    out2[4] = a2[4] * vx;
    out2[5] = a2[5] * vy;
    return out2;
  }
  function invert(out2, a2) {
    var aa = a2[0];
    var ac = a2[2];
    var atx = a2[4];
    var ab = a2[1];
    var ad = a2[3];
    var aty = a2[5];
    var det = aa * ad - ab * ac;
    if (!det) {
      return null;
    }
    det = 1 / det;
    out2[0] = ad * det;
    out2[1] = -ab * det;
    out2[2] = -ac * det;
    out2[3] = aa * det;
    out2[4] = (ac * aty - ad * atx) * det;
    out2[5] = (ab * atx - aa * aty) * det;
    return out2;
  }
  function clone$1(a2) {
    var b2 = create();
    copy(b2, a2);
    return b2;
  }
  var matrix = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    create,
    identity,
    copy,
    mul,
    translate,
    rotate,
    scale: scale$1,
    invert,
    clone: clone$1
  });
  var Point = function() {
    function Point2(x2, y) {
      this.x = x2 || 0;
      this.y = y || 0;
    }
    Point2.prototype.copy = function(other) {
      this.x = other.x;
      this.y = other.y;
      return this;
    };
    Point2.prototype.clone = function() {
      return new Point2(this.x, this.y);
    };
    Point2.prototype.set = function(x2, y) {
      this.x = x2;
      this.y = y;
      return this;
    };
    Point2.prototype.equal = function(other) {
      return other.x === this.x && other.y === this.y;
    };
    Point2.prototype.add = function(other) {
      this.x += other.x;
      this.y += other.y;
      return this;
    };
    Point2.prototype.scale = function(scalar) {
      this.x *= scalar;
      this.y *= scalar;
    };
    Point2.prototype.scaleAndAdd = function(other, scalar) {
      this.x += other.x * scalar;
      this.y += other.y * scalar;
    };
    Point2.prototype.sub = function(other) {
      this.x -= other.x;
      this.y -= other.y;
      return this;
    };
    Point2.prototype.dot = function(other) {
      return this.x * other.x + this.y * other.y;
    };
    Point2.prototype.len = function() {
      return Math.sqrt(this.x * this.x + this.y * this.y);
    };
    Point2.prototype.lenSquare = function() {
      return this.x * this.x + this.y * this.y;
    };
    Point2.prototype.normalize = function() {
      var len2 = this.len();
      this.x /= len2;
      this.y /= len2;
      return this;
    };
    Point2.prototype.distance = function(other) {
      var dx = this.x - other.x;
      var dy = this.y - other.y;
      return Math.sqrt(dx * dx + dy * dy);
    };
    Point2.prototype.distanceSquare = function(other) {
      var dx = this.x - other.x;
      var dy = this.y - other.y;
      return dx * dx + dy * dy;
    };
    Point2.prototype.negate = function() {
      this.x = -this.x;
      this.y = -this.y;
      return this;
    };
    Point2.prototype.transform = function(m2) {
      if (!m2) {
        return;
      }
      var x2 = this.x;
      var y = this.y;
      this.x = m2[0] * x2 + m2[2] * y + m2[4];
      this.y = m2[1] * x2 + m2[3] * y + m2[5];
      return this;
    };
    Point2.prototype.toArray = function(out2) {
      out2[0] = this.x;
      out2[1] = this.y;
      return out2;
    };
    Point2.prototype.fromArray = function(input) {
      this.x = input[0];
      this.y = input[1];
    };
    Point2.set = function(p2, x2, y) {
      p2.x = x2;
      p2.y = y;
    };
    Point2.copy = function(p2, p22) {
      p2.x = p22.x;
      p2.y = p22.y;
    };
    Point2.len = function(p2) {
      return Math.sqrt(p2.x * p2.x + p2.y * p2.y);
    };
    Point2.lenSquare = function(p2) {
      return p2.x * p2.x + p2.y * p2.y;
    };
    Point2.dot = function(p0, p1) {
      return p0.x * p1.x + p0.y * p1.y;
    };
    Point2.add = function(out2, p0, p1) {
      out2.x = p0.x + p1.x;
      out2.y = p0.y + p1.y;
    };
    Point2.sub = function(out2, p0, p1) {
      out2.x = p0.x - p1.x;
      out2.y = p0.y - p1.y;
    };
    Point2.scale = function(out2, p0, scalar) {
      out2.x = p0.x * scalar;
      out2.y = p0.y * scalar;
    };
    Point2.scaleAndAdd = function(out2, p0, p1, scalar) {
      out2.x = p0.x + p1.x * scalar;
      out2.y = p0.y + p1.y * scalar;
    };
    Point2.lerp = function(out2, p0, p1, t2) {
      var onet = 1 - t2;
      out2.x = onet * p0.x + t2 * p1.x;
      out2.y = onet * p0.y + t2 * p1.y;
    };
    return Point2;
  }();
  var Point$1 = Point;
  var mathMin$5 = Math.min;
  var mathMax$5 = Math.max;
  var lt = new Point$1();
  var rb = new Point$1();
  var lb = new Point$1();
  var rt = new Point$1();
  var minTv$1 = new Point$1();
  var maxTv$1 = new Point$1();
  var BoundingRect = function() {
    function BoundingRect2(x2, y, width, height) {
      if (width < 0) {
        x2 = x2 + width;
        width = -width;
      }
      if (height < 0) {
        y = y + height;
        height = -height;
      }
      this.x = x2;
      this.y = y;
      this.width = width;
      this.height = height;
    }
    BoundingRect2.prototype.union = function(other) {
      var x2 = mathMin$5(other.x, this.x);
      var y = mathMin$5(other.y, this.y);
      if (isFinite(this.x) && isFinite(this.width)) {
        this.width = mathMax$5(other.x + other.width, this.x + this.width) - x2;
      } else {
        this.width = other.width;
      }
      if (isFinite(this.y) && isFinite(this.height)) {
        this.height = mathMax$5(other.y + other.height, this.y + this.height) - y;
      } else {
        this.height = other.height;
      }
      this.x = x2;
      this.y = y;
    };
    BoundingRect2.prototype.applyTransform = function(m2) {
      BoundingRect2.applyTransform(this, this, m2);
    };
    BoundingRect2.prototype.calculateTransform = function(b2) {
      var a2 = this;
      var sx = b2.width / a2.width;
      var sy = b2.height / a2.height;
      var m2 = create();
      translate(m2, m2, [-a2.x, -a2.y]);
      scale$1(m2, m2, [sx, sy]);
      translate(m2, m2, [b2.x, b2.y]);
      return m2;
    };
    BoundingRect2.prototype.intersect = function(b2, mtv) {
      if (!b2) {
        return false;
      }
      if (!(b2 instanceof BoundingRect2)) {
        b2 = BoundingRect2.create(b2);
      }
      var a2 = this;
      var ax0 = a2.x;
      var ax1 = a2.x + a2.width;
      var ay0 = a2.y;
      var ay1 = a2.y + a2.height;
      var bx0 = b2.x;
      var bx1 = b2.x + b2.width;
      var by0 = b2.y;
      var by1 = b2.y + b2.height;
      var overlap = !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);
      if (mtv) {
        var dMin = Infinity;
        var dMax = 0;
        var d0 = Math.abs(ax1 - bx0);
        var d1 = Math.abs(bx1 - ax0);
        var d2 = Math.abs(ay1 - by0);
        var d3 = Math.abs(by1 - ay0);
        var dx = Math.min(d0, d1);
        var dy = Math.min(d2, d3);
        if (ax1 < bx0 || bx1 < ax0) {
          if (dx > dMax) {
            dMax = dx;
            if (d0 < d1) {
              Point$1.set(maxTv$1, -d0, 0);
            } else {
              Point$1.set(maxTv$1, d1, 0);
            }
          }
        } else {
          if (dx < dMin) {
            dMin = dx;
            if (d0 < d1) {
              Point$1.set(minTv$1, d0, 0);
            } else {
              Point$1.set(minTv$1, -d1, 0);
            }
          }
        }
        if (ay1 < by0 || by1 < ay0) {
          if (dy > dMax) {
            dMax = dy;
            if (d2 < d3) {
              Point$1.set(maxTv$1, 0, -d2);
            } else {
              Point$1.set(maxTv$1, 0, d3);
            }
          }
        } else {
          if (dx < dMin) {
            dMin = dx;
            if (d2 < d3) {
              Point$1.set(minTv$1, 0, d2);
            } else {
              Point$1.set(minTv$1, 0, -d3);
            }
          }
        }
      }
      if (mtv) {
        Point$1.copy(mtv, overlap ? minTv$1 : maxTv$1);
      }
      return overlap;
    };
    BoundingRect2.prototype.contain = function(x2, y) {
      var rect = this;
      return x2 >= rect.x && x2 <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;
    };
    BoundingRect2.prototype.clone = function() {
      return new BoundingRect2(this.x, this.y, this.width, this.height);
    };
    BoundingRect2.prototype.copy = function(other) {
      BoundingRect2.copy(this, other);
    };
    BoundingRect2.prototype.plain = function() {
      return {
        x: this.x,
        y: this.y,
        width: this.width,
        height: this.height
      };
    };
    BoundingRect2.prototype.isFinite = function() {
      return isFinite(this.x) && isFinite(this.y) && isFinite(this.width) && isFinite(this.height);
    };
    BoundingRect2.prototype.isZero = function() {
      return this.width === 0 || this.height === 0;
    };
    BoundingRect2.create = function(rect) {
      return new BoundingRect2(rect.x, rect.y, rect.width, rect.height);
    };
    BoundingRect2.copy = function(target, source) {
      target.x = source.x;
      target.y = source.y;
      target.width = source.width;
      target.height = source.height;
    };
    BoundingRect2.applyTransform = function(target, source, m2) {
      if (!m2) {
        if (target !== source) {
          BoundingRect2.copy(target, source);
        }
        return;
      }
      if (m2[1] < 1e-5 && m2[1] > -1e-5 && m2[2] < 1e-5 && m2[2] > -1e-5) {
        var sx = m2[0];
        var sy = m2[3];
        var tx = m2[4];
        var ty = m2[5];
        target.x = source.x * sx + tx;
        target.y = source.y * sy + ty;
        target.width = source.width * sx;
        target.height = source.height * sy;
        if (target.width < 0) {
          target.x += target.width;
          target.width = -target.width;
        }
        if (target.height < 0) {
          target.y += target.height;
          target.height = -target.height;
        }
        return;
      }
      lt.x = lb.x = source.x;
      lt.y = rt.y = source.y;
      rb.x = rt.x = source.x + source.width;
      rb.y = lb.y = source.y + source.height;
      lt.transform(m2);
      rt.transform(m2);
      rb.transform(m2);
      lb.transform(m2);
      target.x = mathMin$5(lt.x, rb.x, lb.x, rt.x);
      target.y = mathMin$5(lt.y, rb.y, lb.y, rt.y);
      var maxX = mathMax$5(lt.x, rb.x, lb.x, rt.x);
      var maxY = mathMax$5(lt.y, rb.y, lb.y, rt.y);
      target.width = maxX - target.x;
      target.height = maxY - target.y;
    };
    return BoundingRect2;
  }();
  var BoundingRect$1 = BoundingRect;
  var SILENT = "silent";
  function makeEventPacket(eveType, targetInfo, event) {
    return {
      type: eveType,
      event,
      target: targetInfo.target,
      topTarget: targetInfo.topTarget,
      cancelBubble: false,
      offsetX: event.zrX,
      offsetY: event.zrY,
      gestureEvent: event.gestureEvent,
      pinchX: event.pinchX,
      pinchY: event.pinchY,
      pinchScale: event.pinchScale,
      wheelDelta: event.zrDelta,
      zrByTouch: event.zrByTouch,
      which: event.which,
      stop: stopEvent
    };
  }
  function stopEvent() {
    stop(this.event);
  }
  var EmptyProxy = function(_super) {
    __extends(EmptyProxy2, _super);
    function EmptyProxy2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.handler = null;
      return _this;
    }
    EmptyProxy2.prototype.dispose = function() {
    };
    EmptyProxy2.prototype.setCursor = function() {
    };
    return EmptyProxy2;
  }(Eventful$1);
  var HoveredResult = function() {
    function HoveredResult2(x2, y) {
      this.x = x2;
      this.y = y;
    }
    return HoveredResult2;
  }();
  var handlerNames = [
    "click",
    "dblclick",
    "mousewheel",
    "mouseout",
    "mouseup",
    "mousedown",
    "mousemove",
    "contextmenu"
  ];
  var tmpRect$1 = new BoundingRect$1(0, 0, 0, 0);
  var Handler = function(_super) {
    __extends(Handler2, _super);
    function Handler2(storage, painter, proxy, painterRoot, pointerSize) {
      var _this = _super.call(this) || this;
      _this._hovered = new HoveredResult(0, 0);
      _this.storage = storage;
      _this.painter = painter;
      _this.painterRoot = painterRoot;
      _this._pointerSize = pointerSize;
      proxy = proxy || new EmptyProxy();
      _this.proxy = null;
      _this.setHandlerProxy(proxy);
      _this._draggingMgr = new Draggable$1(_this);
      return _this;
    }
    Handler2.prototype.setHandlerProxy = function(proxy) {
      if (this.proxy) {
        this.proxy.dispose();
      }
      if (proxy) {
        each$3(handlerNames, function(name) {
          proxy.on && proxy.on(name, this[name], this);
        }, this);
        proxy.handler = this;
      }
      this.proxy = proxy;
    };
    Handler2.prototype.mousemove = function(event) {
      var x2 = event.zrX;
      var y = event.zrY;
      var isOutside = isOutsideBoundary(this, x2, y);
      var lastHovered = this._hovered;
      var lastHoveredTarget = lastHovered.target;
      if (lastHoveredTarget && !lastHoveredTarget.__zr) {
        lastHovered = this.findHover(lastHovered.x, lastHovered.y);
        lastHoveredTarget = lastHovered.target;
      }
      var hovered = this._hovered = isOutside ? new HoveredResult(x2, y) : this.findHover(x2, y);
      var hoveredTarget = hovered.target;
      var proxy = this.proxy;
      proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : "default");
      if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {
        this.dispatchToElement(lastHovered, "mouseout", event);
      }
      this.dispatchToElement(hovered, "mousemove", event);
      if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {
        this.dispatchToElement(hovered, "mouseover", event);
      }
    };
    Handler2.prototype.mouseout = function(event) {
      var eventControl = event.zrEventControl;
      if (eventControl !== "only_globalout") {
        this.dispatchToElement(this._hovered, "mouseout", event);
      }
      if (eventControl !== "no_globalout") {
        this.trigger("globalout", { type: "globalout", event });
      }
    };
    Handler2.prototype.resize = function() {
      this._hovered = new HoveredResult(0, 0);
    };
    Handler2.prototype.dispatch = function(eventName, eventArgs) {
      var handler = this[eventName];
      handler && handler.call(this, eventArgs);
    };
    Handler2.prototype.dispose = function() {
      this.proxy.dispose();
      this.storage = null;
      this.proxy = null;
      this.painter = null;
    };
    Handler2.prototype.setCursorStyle = function(cursorStyle) {
      var proxy = this.proxy;
      proxy.setCursor && proxy.setCursor(cursorStyle);
    };
    Handler2.prototype.dispatchToElement = function(targetInfo, eventName, event) {
      targetInfo = targetInfo || {};
      var el = targetInfo.target;
      if (el && el.silent) {
        return;
      }
      var eventKey = "on" + eventName;
      var eventPacket = makeEventPacket(eventName, targetInfo, event);
      while (el) {
        el[eventKey] && (eventPacket.cancelBubble = !!el[eventKey].call(el, eventPacket));
        el.trigger(eventName, eventPacket);
        el = el.__hostTarget ? el.__hostTarget : el.parent;
        if (eventPacket.cancelBubble) {
          break;
        }
      }
      if (!eventPacket.cancelBubble) {
        this.trigger(eventName, eventPacket);
        if (this.painter && this.painter.eachOtherLayer) {
          this.painter.eachOtherLayer(function(layer) {
            if (typeof layer[eventKey] === "function") {
              layer[eventKey].call(layer, eventPacket);
            }
            if (layer.trigger) {
              layer.trigger(eventName, eventPacket);
            }
          });
        }
      }
    };
    Handler2.prototype.findHover = function(x2, y, exclude) {
      var list = this.storage.getDisplayList();
      var out2 = new HoveredResult(x2, y);
      setHoverTarget(list, out2, x2, y, exclude);
      if (this._pointerSize && !out2.target) {
        var candidates = [];
        var pointerSize = this._pointerSize;
        var targetSizeHalf = pointerSize / 2;
        var pointerRect = new BoundingRect$1(x2 - targetSizeHalf, y - targetSizeHalf, pointerSize, pointerSize);
        for (var i2 = list.length - 1; i2 >= 0; i2--) {
          var el = list[i2];
          if (el !== exclude && !el.ignore && !el.ignoreCoarsePointer && (!el.parent || !el.parent.ignoreCoarsePointer)) {
            tmpRect$1.copy(el.getBoundingRect());
            if (el.transform) {
              tmpRect$1.applyTransform(el.transform);
            }
            if (tmpRect$1.intersect(pointerRect)) {
              candidates.push(el);
            }
          }
        }
        if (candidates.length) {
          var rStep = 4;
          var thetaStep = Math.PI / 12;
          var PI22 = Math.PI * 2;
          for (var r2 = 0; r2 < targetSizeHalf; r2 += rStep) {
            for (var theta = 0; theta < PI22; theta += thetaStep) {
              var x1 = x2 + r2 * Math.cos(theta);
              var y1 = y + r2 * Math.sin(theta);
              setHoverTarget(candidates, out2, x1, y1, exclude);
              if (out2.target) {
                return out2;
              }
            }
          }
        }
      }
      return out2;
    };
    Handler2.prototype.processGesture = function(event, stage) {
      if (!this._gestureMgr) {
        this._gestureMgr = new GestureMgr();
      }
      var gestureMgr = this._gestureMgr;
      stage === "start" && gestureMgr.clear();
      var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);
      stage === "end" && gestureMgr.clear();
      if (gestureInfo) {
        var type = gestureInfo.type;
        event.gestureEvent = type;
        var res = new HoveredResult();
        res.target = gestureInfo.target;
        this.dispatchToElement(res, type, gestureInfo.event);
      }
    };
    return Handler2;
  }(Eventful$1);
  each$3(["click", "mousedown", "mouseup", "mousewheel", "dblclick", "contextmenu"], function(name) {
    Handler.prototype[name] = function(event) {
      var x2 = event.zrX;
      var y = event.zrY;
      var isOutside = isOutsideBoundary(this, x2, y);
      var hovered;
      var hoveredTarget;
      if (name !== "mouseup" || !isOutside) {
        hovered = this.findHover(x2, y);
        hoveredTarget = hovered.target;
      }
      if (name === "mousedown") {
        this._downEl = hoveredTarget;
        this._downPoint = [event.zrX, event.zrY];
        this._upEl = hoveredTarget;
      } else if (name === "mouseup") {
        this._upEl = hoveredTarget;
      } else if (name === "click") {
        if (this._downEl !== this._upEl || !this._downPoint || dist$1(this._downPoint, [event.zrX, event.zrY]) > 4) {
          return;
        }
        this._downPoint = null;
      }
      this.dispatchToElement(hovered, name, event);
    };
  });
  function isHover(displayable, x2, y) {
    if (displayable[displayable.rectHover ? "rectContain" : "contain"](x2, y)) {
      var el = displayable;
      var isSilent = void 0;
      var ignoreClip = false;
      while (el) {
        if (el.ignoreClip) {
          ignoreClip = true;
        }
        if (!ignoreClip) {
          var clipPath = el.getClipPath();
          if (clipPath && !clipPath.contain(x2, y)) {
            return false;
          }
          if (el.silent) {
            isSilent = true;
          }
        }
        var hostEl = el.__hostTarget;
        el = hostEl ? hostEl : el.parent;
      }
      return isSilent ? SILENT : true;
    }
    return false;
  }
  function setHoverTarget(list, out2, x2, y, exclude) {
    for (var i2 = list.length - 1; i2 >= 0; i2--) {
      var el = list[i2];
      var hoverCheckResult = void 0;
      if (el !== exclude && !el.ignore && (hoverCheckResult = isHover(el, x2, y))) {
        !out2.topTarget && (out2.topTarget = el);
        if (hoverCheckResult !== SILENT) {
          out2.target = el;
          break;
        }
      }
    }
  }
  function isOutsideBoundary(handlerInstance, x2, y) {
    var painter = handlerInstance.painter;
    return x2 < 0 || x2 > painter.getWidth() || y < 0 || y > painter.getHeight();
  }
  var Handler$1 = Handler;
  var DEFAULT_MIN_MERGE = 32;
  var DEFAULT_MIN_GALLOPING = 7;
  function minRunLength(n2) {
    var r2 = 0;
    while (n2 >= DEFAULT_MIN_MERGE) {
      r2 |= n2 & 1;
      n2 >>= 1;
    }
    return n2 + r2;
  }
  function makeAscendingRun(array, lo, hi, compare2) {
    var runHi = lo + 1;
    if (runHi === hi) {
      return 1;
    }
    if (compare2(array[runHi++], array[lo]) < 0) {
      while (runHi < hi && compare2(array[runHi], array[runHi - 1]) < 0) {
        runHi++;
      }
      reverseRun(array, lo, runHi);
    } else {
      while (runHi < hi && compare2(array[runHi], array[runHi - 1]) >= 0) {
        runHi++;
      }
    }
    return runHi - lo;
  }
  function reverseRun(array, lo, hi) {
    hi--;
    while (lo < hi) {
      var t2 = array[lo];
      array[lo++] = array[hi];
      array[hi--] = t2;
    }
  }
  function binaryInsertionSort(array, lo, hi, start2, compare2) {
    if (start2 === lo) {
      start2++;
    }
    for (; start2 < hi; start2++) {
      var pivot = array[start2];
      var left = lo;
      var right = start2;
      var mid;
      while (left < right) {
        mid = left + right >>> 1;
        if (compare2(pivot, array[mid]) < 0) {
          right = mid;
        } else {
          left = mid + 1;
        }
      }
      var n2 = start2 - left;
      switch (n2) {
        case 3:
          array[left + 3] = array[left + 2];
        case 2:
          array[left + 2] = array[left + 1];
        case 1:
          array[left + 1] = array[left];
          break;
        default:
          while (n2 > 0) {
            array[left + n2] = array[left + n2 - 1];
            n2--;
          }
      }
      array[left] = pivot;
    }
  }
  function gallopLeft(value, array, start2, length2, hint, compare2) {
    var lastOffset = 0;
    var maxOffset = 0;
    var offset = 1;
    if (compare2(value, array[start2 + hint]) > 0) {
      maxOffset = length2 - hint;
      while (offset < maxOffset && compare2(value, array[start2 + hint + offset]) > 0) {
        lastOffset = offset;
        offset = (offset << 1) + 1;
        if (offset <= 0) {
          offset = maxOffset;
        }
      }
      if (offset > maxOffset) {
        offset = maxOffset;
      }
      lastOffset += hint;
      offset += hint;
    } else {
      maxOffset = hint + 1;
      while (offset < maxOffset && compare2(value, array[start2 + hint - offset]) <= 0) {
        lastOffset = offset;
        offset = (offset << 1) + 1;
        if (offset <= 0) {
          offset = maxOffset;
        }
      }
      if (offset > maxOffset) {
        offset = maxOffset;
      }
      var tmp = lastOffset;
      lastOffset = hint - offset;
      offset = hint - tmp;
    }
    lastOffset++;
    while (lastOffset < offset) {
      var m2 = lastOffset + (offset - lastOffset >>> 1);
      if (compare2(value, array[start2 + m2]) > 0) {
        lastOffset = m2 + 1;
      } else {
        offset = m2;
      }
    }
    return offset;
  }
  function gallopRight(value, array, start2, length2, hint, compare2) {
    var lastOffset = 0;
    var maxOffset = 0;
    var offset = 1;
    if (compare2(value, array[start2 + hint]) < 0) {
      maxOffset = hint + 1;
      while (offset < maxOffset && compare2(value, array[start2 + hint - offset]) < 0) {
        lastOffset = offset;
        offset = (offset << 1) + 1;
        if (offset <= 0) {
          offset = maxOffset;
        }
      }
      if (offset > maxOffset) {
        offset = maxOffset;
      }
      var tmp = lastOffset;
      lastOffset = hint - offset;
      offset = hint - tmp;
    } else {
      maxOffset = length2 - hint;
      while (offset < maxOffset && compare2(value, array[start2 + hint + offset]) >= 0) {
        lastOffset = offset;
        offset = (offset << 1) + 1;
        if (offset <= 0) {
          offset = maxOffset;
        }
      }
      if (offset > maxOffset) {
        offset = maxOffset;
      }
      lastOffset += hint;
      offset += hint;
    }
    lastOffset++;
    while (lastOffset < offset) {
      var m2 = lastOffset + (offset - lastOffset >>> 1);
      if (compare2(value, array[start2 + m2]) < 0) {
        offset = m2;
      } else {
        lastOffset = m2 + 1;
      }
    }
    return offset;
  }
  function TimSort(array, compare2) {
    var minGallop = DEFAULT_MIN_GALLOPING;
    var runStart;
    var runLength;
    var stackSize = 0;
    var tmp = [];
    runStart = [];
    runLength = [];
    function pushRun(_runStart, _runLength) {
      runStart[stackSize] = _runStart;
      runLength[stackSize] = _runLength;
      stackSize += 1;
    }
    function mergeRuns() {
      while (stackSize > 1) {
        var n2 = stackSize - 2;
        if (n2 >= 1 && runLength[n2 - 1] <= runLength[n2] + runLength[n2 + 1] || n2 >= 2 && runLength[n2 - 2] <= runLength[n2] + runLength[n2 - 1]) {
          if (runLength[n2 - 1] < runLength[n2 + 1]) {
            n2--;
          }
        } else if (runLength[n2] > runLength[n2 + 1]) {
          break;
        }
        mergeAt(n2);
      }
    }
    function forceMergeRuns() {
      while (stackSize > 1) {
        var n2 = stackSize - 2;
        if (n2 > 0 && runLength[n2 - 1] < runLength[n2 + 1]) {
          n2--;
        }
        mergeAt(n2);
      }
    }
    function mergeAt(i2) {
      var start1 = runStart[i2];
      var length1 = runLength[i2];
      var start2 = runStart[i2 + 1];
      var length2 = runLength[i2 + 1];
      runLength[i2] = length1 + length2;
      if (i2 === stackSize - 3) {
        runStart[i2 + 1] = runStart[i2 + 2];
        runLength[i2 + 1] = runLength[i2 + 2];
      }
      stackSize--;
      var k2 = gallopRight(array[start2], array, start1, length1, 0, compare2);
      start1 += k2;
      length1 -= k2;
      if (length1 === 0) {
        return;
      }
      length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare2);
      if (length2 === 0) {
        return;
      }
      if (length1 <= length2) {
        mergeLow(start1, length1, start2, length2);
      } else {
        mergeHigh(start1, length1, start2, length2);
      }
    }
    function mergeLow(start1, length1, start2, length2) {
      var i2 = 0;
      for (i2 = 0; i2 < length1; i2++) {
        tmp[i2] = array[start1 + i2];
      }
      var cursor1 = 0;
      var cursor2 = start2;
      var dest = start1;
      array[dest++] = array[cursor2++];
      if (--length2 === 0) {
        for (i2 = 0; i2 < length1; i2++) {
          array[dest + i2] = tmp[cursor1 + i2];
        }
        return;
      }
      if (length1 === 1) {
        for (i2 = 0; i2 < length2; i2++) {
          array[dest + i2] = array[cursor2 + i2];
        }
        array[dest + length2] = tmp[cursor1];
        return;
      }
      var _minGallop = minGallop;
      var count1;
      var count2;
      var exit;
      while (1) {
        count1 = 0;
        count2 = 0;
        exit = false;
        do {
          if (compare2(array[cursor2], tmp[cursor1]) < 0) {
            array[dest++] = array[cursor2++];
            count2++;
            count1 = 0;
            if (--length2 === 0) {
              exit = true;
              break;
            }
          } else {
            array[dest++] = tmp[cursor1++];
            count1++;
            count2 = 0;
            if (--length1 === 1) {
              exit = true;
              break;
            }
          }
        } while ((count1 | count2) < _minGallop);
        if (exit) {
          break;
        }
        do {
          count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare2);
          if (count1 !== 0) {
            for (i2 = 0; i2 < count1; i2++) {
              array[dest + i2] = tmp[cursor1 + i2];
            }
            dest += count1;
            cursor1 += count1;
            length1 -= count1;
            if (length1 <= 1) {
              exit = true;
              break;
            }
          }
          array[dest++] = array[cursor2++];
          if (--length2 === 0) {
            exit = true;
            break;
          }
          count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare2);
          if (count2 !== 0) {
            for (i2 = 0; i2 < count2; i2++) {
              array[dest + i2] = array[cursor2 + i2];
            }
            dest += count2;
            cursor2 += count2;
            length2 -= count2;
            if (length2 === 0) {
              exit = true;
              break;
            }
          }
          array[dest++] = tmp[cursor1++];
          if (--length1 === 1) {
            exit = true;
            break;
          }
          _minGallop--;
        } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);
        if (exit) {
          break;
        }
        if (_minGallop < 0) {
          _minGallop = 0;
        }
        _minGallop += 2;
      }
      minGallop = _minGallop;
      minGallop < 1 && (minGallop = 1);
      if (length1 === 1) {
        for (i2 = 0; i2 < length2; i2++) {
          array[dest + i2] = array[cursor2 + i2];
        }
        array[dest + length2] = tmp[cursor1];
      } else if (length1 === 0) {
        throw new Error();
      } else {
        for (i2 = 0; i2 < length1; i2++) {
          array[dest + i2] = tmp[cursor1 + i2];
        }
      }
    }
    function mergeHigh(start1, length1, start2, length2) {
      var i2 = 0;
      for (i2 = 0; i2 < length2; i2++) {
        tmp[i2] = array[start2 + i2];
      }
      var cursor1 = start1 + length1 - 1;
      var cursor2 = length2 - 1;
      var dest = start2 + length2 - 1;
      var customCursor = 0;
      var customDest = 0;
      array[dest--] = array[cursor1--];
      if (--length1 === 0) {
        customCursor = dest - (length2 - 1);
        for (i2 = 0; i2 < length2; i2++) {
          array[customCursor + i2] = tmp[i2];
        }
        return;
      }
      if (length2 === 1) {
        dest -= length1;
        cursor1 -= length1;
        customDest = dest + 1;
        customCursor = cursor1 + 1;
        for (i2 = length1 - 1; i2 >= 0; i2--) {
          array[customDest + i2] = array[customCursor + i2];
        }
        array[dest] = tmp[cursor2];
        return;
      }
      var _minGallop = minGallop;
      while (true) {
        var count1 = 0;
        var count2 = 0;
        var exit = false;
        do {
          if (compare2(tmp[cursor2], array[cursor1]) < 0) {
            array[dest--] = array[cursor1--];
            count1++;
            count2 = 0;
            if (--length1 === 0) {
              exit = true;
              break;
            }
          } else {
            array[dest--] = tmp[cursor2--];
            count2++;
            count1 = 0;
            if (--length2 === 1) {
              exit = true;
              break;
            }
          }
        } while ((count1 | count2) < _minGallop);
        if (exit) {
          break;
        }
        do {
          count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare2);
          if (count1 !== 0) {
            dest -= count1;
            cursor1 -= count1;
            length1 -= count1;
            customDest = dest + 1;
            customCursor = cursor1 + 1;
            for (i2 = count1 - 1; i2 >= 0; i2--) {
              array[customDest + i2] = array[customCursor + i2];
            }
            if (length1 === 0) {
              exit = true;
              break;
            }
          }
          array[dest--] = tmp[cursor2--];
          if (--length2 === 1) {
            exit = true;
            break;
          }
          count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare2);
          if (count2 !== 0) {
            dest -= count2;
            cursor2 -= count2;
            length2 -= count2;
            customDest = dest + 1;
            customCursor = cursor2 + 1;
            for (i2 = 0; i2 < count2; i2++) {
              array[customDest + i2] = tmp[customCursor + i2];
            }
            if (length2 <= 1) {
              exit = true;
              break;
            }
          }
          array[dest--] = array[cursor1--];
          if (--length1 === 0) {
            exit = true;
            break;
          }
          _minGallop--;
        } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);
        if (exit) {
          break;
        }
        if (_minGallop < 0) {
          _minGallop = 0;
        }
        _minGallop += 2;
      }
      minGallop = _minGallop;
      if (minGallop < 1) {
        minGallop = 1;
      }
      if (length2 === 1) {
        dest -= length1;
        cursor1 -= length1;
        customDest = dest + 1;
        customCursor = cursor1 + 1;
        for (i2 = length1 - 1; i2 >= 0; i2--) {
          array[customDest + i2] = array[customCursor + i2];
        }
        array[dest] = tmp[cursor2];
      } else if (length2 === 0) {
        throw new Error();
      } else {
        customCursor = dest - (length2 - 1);
        for (i2 = 0; i2 < length2; i2++) {
          array[customCursor + i2] = tmp[i2];
        }
      }
    }
    return {
      mergeRuns,
      forceMergeRuns,
      pushRun
    };
  }
  function sort(array, compare2, lo, hi) {
    if (!lo) {
      lo = 0;
    }
    if (!hi) {
      hi = array.length;
    }
    var remaining = hi - lo;
    if (remaining < 2) {
      return;
    }
    var runLength = 0;
    if (remaining < DEFAULT_MIN_MERGE) {
      runLength = makeAscendingRun(array, lo, hi, compare2);
      binaryInsertionSort(array, lo, hi, lo + runLength, compare2);
      return;
    }
    var ts = TimSort(array, compare2);
    var minRun = minRunLength(remaining);
    do {
      runLength = makeAscendingRun(array, lo, hi, compare2);
      if (runLength < minRun) {
        var force = remaining;
        if (force > minRun) {
          force = minRun;
        }
        binaryInsertionSort(array, lo, lo + force, lo + runLength, compare2);
        runLength = force;
      }
      ts.pushRun(lo, runLength);
      ts.mergeRuns();
      remaining -= runLength;
      lo += runLength;
    } while (remaining !== 0);
    ts.forceMergeRuns();
  }
  var REDRAW_BIT = 1;
  var STYLE_CHANGED_BIT = 2;
  var SHAPE_CHANGED_BIT = 4;
  var invalidZErrorLogged = false;
  function logInvalidZError() {
    if (invalidZErrorLogged) {
      return;
    }
    invalidZErrorLogged = true;
    formatAppLog("warn", "at node_modules/zrender/lib/Storage.js:10", "z / z2 / zlevel of displayable is invalid, which may cause unexpected errors");
  }
  function shapeCompareFunc(a2, b2) {
    if (a2.zlevel === b2.zlevel) {
      if (a2.z === b2.z) {
        return a2.z2 - b2.z2;
      }
      return a2.z - b2.z;
    }
    return a2.zlevel - b2.zlevel;
  }
  var Storage = function() {
    function Storage2() {
      this._roots = [];
      this._displayList = [];
      this._displayListLen = 0;
      this.displayableSortFunc = shapeCompareFunc;
    }
    Storage2.prototype.traverse = function(cb, context) {
      for (var i2 = 0; i2 < this._roots.length; i2++) {
        this._roots[i2].traverse(cb, context);
      }
    };
    Storage2.prototype.getDisplayList = function(update, includeIgnore) {
      includeIgnore = includeIgnore || false;
      var displayList = this._displayList;
      if (update || !displayList.length) {
        this.updateDisplayList(includeIgnore);
      }
      return displayList;
    };
    Storage2.prototype.updateDisplayList = function(includeIgnore) {
      this._displayListLen = 0;
      var roots2 = this._roots;
      var displayList = this._displayList;
      for (var i2 = 0, len2 = roots2.length; i2 < len2; i2++) {
        this._updateAndAddDisplayable(roots2[i2], null, includeIgnore);
      }
      displayList.length = this._displayListLen;
      sort(displayList, shapeCompareFunc);
    };
    Storage2.prototype._updateAndAddDisplayable = function(el, clipPaths, includeIgnore) {
      if (el.ignore && !includeIgnore) {
        return;
      }
      el.beforeUpdate();
      el.update();
      el.afterUpdate();
      var userSetClipPath = el.getClipPath();
      if (el.ignoreClip) {
        clipPaths = null;
      } else if (userSetClipPath) {
        if (clipPaths) {
          clipPaths = clipPaths.slice();
        } else {
          clipPaths = [];
        }
        var currentClipPath = userSetClipPath;
        var parentClipPath = el;
        while (currentClipPath) {
          currentClipPath.parent = parentClipPath;
          currentClipPath.updateTransform();
          clipPaths.push(currentClipPath);
          parentClipPath = currentClipPath;
          currentClipPath = currentClipPath.getClipPath();
        }
      }
      if (el.childrenRef) {
        var children = el.childrenRef();
        for (var i2 = 0; i2 < children.length; i2++) {
          var child = children[i2];
          if (el.__dirty) {
            child.__dirty |= REDRAW_BIT;
          }
          this._updateAndAddDisplayable(child, clipPaths, includeIgnore);
        }
        el.__dirty = 0;
      } else {
        var disp = el;
        if (clipPaths && clipPaths.length) {
          disp.__clipPaths = clipPaths;
        } else if (disp.__clipPaths && disp.__clipPaths.length > 0) {
          disp.__clipPaths = [];
        }
        if (isNaN(disp.z)) {
          logInvalidZError();
          disp.z = 0;
        }
        if (isNaN(disp.z2)) {
          logInvalidZError();
          disp.z2 = 0;
        }
        if (isNaN(disp.zlevel)) {
          logInvalidZError();
          disp.zlevel = 0;
        }
        this._displayList[this._displayListLen++] = disp;
      }
      var decalEl = el.getDecalElement && el.getDecalElement();
      if (decalEl) {
        this._updateAndAddDisplayable(decalEl, clipPaths, includeIgnore);
      }
      var textGuide = el.getTextGuideLine();
      if (textGuide) {
        this._updateAndAddDisplayable(textGuide, clipPaths, includeIgnore);
      }
      var textEl = el.getTextContent();
      if (textEl) {
        this._updateAndAddDisplayable(textEl, clipPaths, includeIgnore);
      }
    };
    Storage2.prototype.addRoot = function(el) {
      if (el.__zr && el.__zr.storage === this) {
        return;
      }
      this._roots.push(el);
    };
    Storage2.prototype.delRoot = function(el) {
      if (el instanceof Array) {
        for (var i2 = 0, l2 = el.length; i2 < l2; i2++) {
          this.delRoot(el[i2]);
        }
        return;
      }
      var idx = indexOf(this._roots, el);
      if (idx >= 0) {
        this._roots.splice(idx, 1);
      }
    };
    Storage2.prototype.delAllRoots = function() {
      this._roots = [];
      this._displayList = [];
      this._displayListLen = 0;
      return;
    };
    Storage2.prototype.getRoots = function() {
      return this._roots;
    };
    Storage2.prototype.dispose = function() {
      this._displayList = null;
      this._roots = null;
    };
    return Storage2;
  }();
  var Storage$1 = Storage;
  var requestAnimationFrame;
  requestAnimationFrame = env$1.hasGlobalWindow && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function(func) {
    return setTimeout(func, 16);
  };
  var requestAnimationFrame$1 = requestAnimationFrame;
  var easingFuncs = {
    linear: function(k2) {
      return k2;
    },
    quadraticIn: function(k2) {
      return k2 * k2;
    },
    quadraticOut: function(k2) {
      return k2 * (2 - k2);
    },
    quadraticInOut: function(k2) {
      if ((k2 *= 2) < 1) {
        return 0.5 * k2 * k2;
      }
      return -0.5 * (--k2 * (k2 - 2) - 1);
    },
    cubicIn: function(k2) {
      return k2 * k2 * k2;
    },
    cubicOut: function(k2) {
      return --k2 * k2 * k2 + 1;
    },
    cubicInOut: function(k2) {
      if ((k2 *= 2) < 1) {
        return 0.5 * k2 * k2 * k2;
      }
      return 0.5 * ((k2 -= 2) * k2 * k2 + 2);
    },
    quarticIn: function(k2) {
      return k2 * k2 * k2 * k2;
    },
    quarticOut: function(k2) {
      return 1 - --k2 * k2 * k2 * k2;
    },
    quarticInOut: function(k2) {
      if ((k2 *= 2) < 1) {
        return 0.5 * k2 * k2 * k2 * k2;
      }
      return -0.5 * ((k2 -= 2) * k2 * k2 * k2 - 2);
    },
    quinticIn: function(k2) {
      return k2 * k2 * k2 * k2 * k2;
    },
    quinticOut: function(k2) {
      return --k2 * k2 * k2 * k2 * k2 + 1;
    },
    quinticInOut: function(k2) {
      if ((k2 *= 2) < 1) {
        return 0.5 * k2 * k2 * k2 * k2 * k2;
      }
      return 0.5 * ((k2 -= 2) * k2 * k2 * k2 * k2 + 2);
    },
    sinusoidalIn: function(k2) {
      return 1 - Math.cos(k2 * Math.PI / 2);
    },
    sinusoidalOut: function(k2) {
      return Math.sin(k2 * Math.PI / 2);
    },
    sinusoidalInOut: function(k2) {
      return 0.5 * (1 - Math.cos(Math.PI * k2));
    },
    exponentialIn: function(k2) {
      return k2 === 0 ? 0 : Math.pow(1024, k2 - 1);
    },
    exponentialOut: function(k2) {
      return k2 === 1 ? 1 : 1 - Math.pow(2, -10 * k2);
    },
    exponentialInOut: function(k2) {
      if (k2 === 0) {
        return 0;
      }
      if (k2 === 1) {
        return 1;
      }
      if ((k2 *= 2) < 1) {
        return 0.5 * Math.pow(1024, k2 - 1);
      }
      return 0.5 * (-Math.pow(2, -10 * (k2 - 1)) + 2);
    },
    circularIn: function(k2) {
      return 1 - Math.sqrt(1 - k2 * k2);
    },
    circularOut: function(k2) {
      return Math.sqrt(1 - --k2 * k2);
    },
    circularInOut: function(k2) {
      if ((k2 *= 2) < 1) {
        return -0.5 * (Math.sqrt(1 - k2 * k2) - 1);
      }
      return 0.5 * (Math.sqrt(1 - (k2 -= 2) * k2) + 1);
    },
    elasticIn: function(k2) {
      var s2;
      var a2 = 0.1;
      var p2 = 0.4;
      if (k2 === 0) {
        return 0;
      }
      if (k2 === 1) {
        return 1;
      }
      if (!a2 || a2 < 1) {
        a2 = 1;
        s2 = p2 / 4;
      } else {
        s2 = p2 * Math.asin(1 / a2) / (2 * Math.PI);
      }
      return -(a2 * Math.pow(2, 10 * (k2 -= 1)) * Math.sin((k2 - s2) * (2 * Math.PI) / p2));
    },
    elasticOut: function(k2) {
      var s2;
      var a2 = 0.1;
      var p2 = 0.4;
      if (k2 === 0) {
        return 0;
      }
      if (k2 === 1) {
        return 1;
      }
      if (!a2 || a2 < 1) {
        a2 = 1;
        s2 = p2 / 4;
      } else {
        s2 = p2 * Math.asin(1 / a2) / (2 * Math.PI);
      }
      return a2 * Math.pow(2, -10 * k2) * Math.sin((k2 - s2) * (2 * Math.PI) / p2) + 1;
    },
    elasticInOut: function(k2) {
      var s2;
      var a2 = 0.1;
      var p2 = 0.4;
      if (k2 === 0) {
        return 0;
      }
      if (k2 === 1) {
        return 1;
      }
      if (!a2 || a2 < 1) {
        a2 = 1;
        s2 = p2 / 4;
      } else {
        s2 = p2 * Math.asin(1 / a2) / (2 * Math.PI);
      }
      if ((k2 *= 2) < 1) {
        return -0.5 * (a2 * Math.pow(2, 10 * (k2 -= 1)) * Math.sin((k2 - s2) * (2 * Math.PI) / p2));
      }
      return a2 * Math.pow(2, -10 * (k2 -= 1)) * Math.sin((k2 - s2) * (2 * Math.PI) / p2) * 0.5 + 1;
    },
    backIn: function(k2) {
      var s2 = 1.70158;
      return k2 * k2 * ((s2 + 1) * k2 - s2);
    },
    backOut: function(k2) {
      var s2 = 1.70158;
      return --k2 * k2 * ((s2 + 1) * k2 + s2) + 1;
    },
    backInOut: function(k2) {
      var s2 = 1.70158 * 1.525;
      if ((k2 *= 2) < 1) {
        return 0.5 * (k2 * k2 * ((s2 + 1) * k2 - s2));
      }
      return 0.5 * ((k2 -= 2) * k2 * ((s2 + 1) * k2 + s2) + 2);
    },
    bounceIn: function(k2) {
      return 1 - easingFuncs.bounceOut(1 - k2);
    },
    bounceOut: function(k2) {
      if (k2 < 1 / 2.75) {
        return 7.5625 * k2 * k2;
      } else if (k2 < 2 / 2.75) {
        return 7.5625 * (k2 -= 1.5 / 2.75) * k2 + 0.75;
      } else if (k2 < 2.5 / 2.75) {
        return 7.5625 * (k2 -= 2.25 / 2.75) * k2 + 0.9375;
      } else {
        return 7.5625 * (k2 -= 2.625 / 2.75) * k2 + 0.984375;
      }
    },
    bounceInOut: function(k2) {
      if (k2 < 0.5) {
        return easingFuncs.bounceIn(k2 * 2) * 0.5;
      }
      return easingFuncs.bounceOut(k2 * 2 - 1) * 0.5 + 0.5;
    }
  };
  var easingFuncs$1 = easingFuncs;
  var mathPow$1 = Math.pow;
  var mathSqrt$3 = Math.sqrt;
  var EPSILON$3 = 1e-8;
  var EPSILON_NUMERIC = 1e-4;
  var THREE_SQRT = mathSqrt$3(3);
  var ONE_THIRD = 1 / 3;
  var _v0 = create$1();
  var _v1 = create$1();
  var _v2 = create$1();
  function isAroundZero(val) {
    return val > -EPSILON$3 && val < EPSILON$3;
  }
  function isNotAroundZero$1(val) {
    return val > EPSILON$3 || val < -EPSILON$3;
  }
  function cubicAt(p0, p1, p2, p3, t2) {
    var onet = 1 - t2;
    return onet * onet * (onet * p0 + 3 * t2 * p1) + t2 * t2 * (t2 * p3 + 3 * onet * p2);
  }
  function cubicDerivativeAt(p0, p1, p2, p3, t2) {
    var onet = 1 - t2;
    return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t2) * onet + (p3 - p2) * t2 * t2);
  }
  function cubicRootAt(p0, p1, p2, p3, val, roots2) {
    var a2 = p3 + 3 * (p1 - p2) - p0;
    var b2 = 3 * (p2 - p1 * 2 + p0);
    var c2 = 3 * (p1 - p0);
    var d2 = p0 - val;
    var A2 = b2 * b2 - 3 * a2 * c2;
    var B2 = b2 * c2 - 9 * a2 * d2;
    var C2 = c2 * c2 - 3 * b2 * d2;
    var n2 = 0;
    if (isAroundZero(A2) && isAroundZero(B2)) {
      if (isAroundZero(b2)) {
        roots2[0] = 0;
      } else {
        var t1 = -c2 / b2;
        if (t1 >= 0 && t1 <= 1) {
          roots2[n2++] = t1;
        }
      }
    } else {
      var disc = B2 * B2 - 4 * A2 * C2;
      if (isAroundZero(disc)) {
        var K2 = B2 / A2;
        var t1 = -b2 / a2 + K2;
        var t2 = -K2 / 2;
        if (t1 >= 0 && t1 <= 1) {
          roots2[n2++] = t1;
        }
        if (t2 >= 0 && t2 <= 1) {
          roots2[n2++] = t2;
        }
      } else if (disc > 0) {
        var discSqrt = mathSqrt$3(disc);
        var Y1 = A2 * b2 + 1.5 * a2 * (-B2 + discSqrt);
        var Y2 = A2 * b2 + 1.5 * a2 * (-B2 - discSqrt);
        if (Y1 < 0) {
          Y1 = -mathPow$1(-Y1, ONE_THIRD);
        } else {
          Y1 = mathPow$1(Y1, ONE_THIRD);
        }
        if (Y2 < 0) {
          Y2 = -mathPow$1(-Y2, ONE_THIRD);
        } else {
          Y2 = mathPow$1(Y2, ONE_THIRD);
        }
        var t1 = (-b2 - (Y1 + Y2)) / (3 * a2);
        if (t1 >= 0 && t1 <= 1) {
          roots2[n2++] = t1;
        }
      } else {
        var T2 = (2 * A2 * b2 - 3 * a2 * B2) / (2 * mathSqrt$3(A2 * A2 * A2));
        var theta = Math.acos(T2) / 3;
        var ASqrt = mathSqrt$3(A2);
        var tmp = Math.cos(theta);
        var t1 = (-b2 - 2 * ASqrt * tmp) / (3 * a2);
        var t2 = (-b2 + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a2);
        var t3 = (-b2 + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a2);
        if (t1 >= 0 && t1 <= 1) {
          roots2[n2++] = t1;
        }
        if (t2 >= 0 && t2 <= 1) {
          roots2[n2++] = t2;
        }
        if (t3 >= 0 && t3 <= 1) {
          roots2[n2++] = t3;
        }
      }
    }
    return n2;
  }
  function cubicExtrema(p0, p1, p2, p3, extrema2) {
    var b2 = 6 * p2 - 12 * p1 + 6 * p0;
    var a2 = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;
    var c2 = 3 * p1 - 3 * p0;
    var n2 = 0;
    if (isAroundZero(a2)) {
      if (isNotAroundZero$1(b2)) {
        var t1 = -c2 / b2;
        if (t1 >= 0 && t1 <= 1) {
          extrema2[n2++] = t1;
        }
      }
    } else {
      var disc = b2 * b2 - 4 * a2 * c2;
      if (isAroundZero(disc)) {
        extrema2[0] = -b2 / (2 * a2);
      } else if (disc > 0) {
        var discSqrt = mathSqrt$3(disc);
        var t1 = (-b2 + discSqrt) / (2 * a2);
        var t2 = (-b2 - discSqrt) / (2 * a2);
        if (t1 >= 0 && t1 <= 1) {
          extrema2[n2++] = t1;
        }
        if (t2 >= 0 && t2 <= 1) {
          extrema2[n2++] = t2;
        }
      }
    }
    return n2;
  }
  function cubicSubdivide(p0, p1, p2, p3, t2, out2) {
    var p01 = (p1 - p0) * t2 + p0;
    var p12 = (p2 - p1) * t2 + p1;
    var p23 = (p3 - p2) * t2 + p2;
    var p012 = (p12 - p01) * t2 + p01;
    var p123 = (p23 - p12) * t2 + p12;
    var p0123 = (p123 - p012) * t2 + p012;
    out2[0] = p0;
    out2[1] = p01;
    out2[2] = p012;
    out2[3] = p0123;
    out2[4] = p0123;
    out2[5] = p123;
    out2[6] = p23;
    out2[7] = p3;
  }
  function cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x4, y, out2) {
    var t2;
    var interval = 5e-3;
    var d2 = Infinity;
    var prev;
    var next;
    var d1;
    var d22;
    _v0[0] = x4;
    _v0[1] = y;
    for (var _t2 = 0; _t2 < 1; _t2 += 0.05) {
      _v1[0] = cubicAt(x0, x1, x2, x3, _t2);
      _v1[1] = cubicAt(y0, y1, y2, y3, _t2);
      d1 = distSquare(_v0, _v1);
      if (d1 < d2) {
        t2 = _t2;
        d2 = d1;
      }
    }
    d2 = Infinity;
    for (var i2 = 0; i2 < 32; i2++) {
      if (interval < EPSILON_NUMERIC) {
        break;
      }
      prev = t2 - interval;
      next = t2 + interval;
      _v1[0] = cubicAt(x0, x1, x2, x3, prev);
      _v1[1] = cubicAt(y0, y1, y2, y3, prev);
      d1 = distSquare(_v1, _v0);
      if (prev >= 0 && d1 < d2) {
        t2 = prev;
        d2 = d1;
      } else {
        _v2[0] = cubicAt(x0, x1, x2, x3, next);
        _v2[1] = cubicAt(y0, y1, y2, y3, next);
        d22 = distSquare(_v2, _v0);
        if (next <= 1 && d22 < d2) {
          t2 = next;
          d2 = d22;
        } else {
          interval *= 0.5;
        }
      }
    }
    if (out2) {
      out2[0] = cubicAt(x0, x1, x2, x3, t2);
      out2[1] = cubicAt(y0, y1, y2, y3, t2);
    }
    return mathSqrt$3(d2);
  }
  function cubicLength(x0, y0, x1, y1, x2, y2, x3, y3, iteration) {
    var px = x0;
    var py = y0;
    var d2 = 0;
    var step = 1 / iteration;
    for (var i2 = 1; i2 <= iteration; i2++) {
      var t2 = i2 * step;
      var x4 = cubicAt(x0, x1, x2, x3, t2);
      var y = cubicAt(y0, y1, y2, y3, t2);
      var dx = x4 - px;
      var dy = y - py;
      d2 += Math.sqrt(dx * dx + dy * dy);
      px = x4;
      py = y;
    }
    return d2;
  }
  function quadraticAt(p0, p1, p2, t2) {
    var onet = 1 - t2;
    return onet * (onet * p0 + 2 * t2 * p1) + t2 * t2 * p2;
  }
  function quadraticDerivativeAt(p0, p1, p2, t2) {
    return 2 * ((1 - t2) * (p1 - p0) + t2 * (p2 - p1));
  }
  function quadraticRootAt(p0, p1, p2, val, roots2) {
    var a2 = p0 - 2 * p1 + p2;
    var b2 = 2 * (p1 - p0);
    var c2 = p0 - val;
    var n2 = 0;
    if (isAroundZero(a2)) {
      if (isNotAroundZero$1(b2)) {
        var t1 = -c2 / b2;
        if (t1 >= 0 && t1 <= 1) {
          roots2[n2++] = t1;
        }
      }
    } else {
      var disc = b2 * b2 - 4 * a2 * c2;
      if (isAroundZero(disc)) {
        var t1 = -b2 / (2 * a2);
        if (t1 >= 0 && t1 <= 1) {
          roots2[n2++] = t1;
        }
      } else if (disc > 0) {
        var discSqrt = mathSqrt$3(disc);
        var t1 = (-b2 + discSqrt) / (2 * a2);
        var t2 = (-b2 - discSqrt) / (2 * a2);
        if (t1 >= 0 && t1 <= 1) {
          roots2[n2++] = t1;
        }
        if (t2 >= 0 && t2 <= 1) {
          roots2[n2++] = t2;
        }
      }
    }
    return n2;
  }
  function quadraticExtremum(p0, p1, p2) {
    var divider = p0 + p2 - 2 * p1;
    if (divider === 0) {
      return 0.5;
    } else {
      return (p0 - p1) / divider;
    }
  }
  function quadraticSubdivide(p0, p1, p2, t2, out2) {
    var p01 = (p1 - p0) * t2 + p0;
    var p12 = (p2 - p1) * t2 + p1;
    var p012 = (p12 - p01) * t2 + p01;
    out2[0] = p0;
    out2[1] = p01;
    out2[2] = p012;
    out2[3] = p012;
    out2[4] = p12;
    out2[5] = p2;
  }
  function quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x3, y, out2) {
    var t2;
    var interval = 5e-3;
    var d2 = Infinity;
    _v0[0] = x3;
    _v0[1] = y;
    for (var _t2 = 0; _t2 < 1; _t2 += 0.05) {
      _v1[0] = quadraticAt(x0, x1, x2, _t2);
      _v1[1] = quadraticAt(y0, y1, y2, _t2);
      var d1 = distSquare(_v0, _v1);
      if (d1 < d2) {
        t2 = _t2;
        d2 = d1;
      }
    }
    d2 = Infinity;
    for (var i2 = 0; i2 < 32; i2++) {
      if (interval < EPSILON_NUMERIC) {
        break;
      }
      var prev = t2 - interval;
      var next = t2 + interval;
      _v1[0] = quadraticAt(x0, x1, x2, prev);
      _v1[1] = quadraticAt(y0, y1, y2, prev);
      var d1 = distSquare(_v1, _v0);
      if (prev >= 0 && d1 < d2) {
        t2 = prev;
        d2 = d1;
      } else {
        _v2[0] = quadraticAt(x0, x1, x2, next);
        _v2[1] = quadraticAt(y0, y1, y2, next);
        var d22 = distSquare(_v2, _v0);
        if (next <= 1 && d22 < d2) {
          t2 = next;
          d2 = d22;
        } else {
          interval *= 0.5;
        }
      }
    }
    if (out2) {
      out2[0] = quadraticAt(x0, x1, x2, t2);
      out2[1] = quadraticAt(y0, y1, y2, t2);
    }
    return mathSqrt$3(d2);
  }
  function quadraticLength(x0, y0, x1, y1, x2, y2, iteration) {
    var px = x0;
    var py = y0;
    var d2 = 0;
    var step = 1 / iteration;
    for (var i2 = 1; i2 <= iteration; i2++) {
      var t2 = i2 * step;
      var x3 = quadraticAt(x0, x1, x2, t2);
      var y = quadraticAt(y0, y1, y2, t2);
      var dx = x3 - px;
      var dy = y - py;
      d2 += Math.sqrt(dx * dx + dy * dy);
      px = x3;
      py = y;
    }
    return d2;
  }
  var regexp = /cubic-bezier\(([0-9,\.e ]+)\)/;
  function createCubicEasingFunc(cubicEasingStr) {
    var cubic = cubicEasingStr && regexp.exec(cubicEasingStr);
    if (cubic) {
      var points2 = cubic[1].split(",");
      var a_1 = +trim(points2[0]);
      var b_1 = +trim(points2[1]);
      var c_1 = +trim(points2[2]);
      var d_1 = +trim(points2[3]);
      if (isNaN(a_1 + b_1 + c_1 + d_1)) {
        return;
      }
      var roots_1 = [];
      return function(p2) {
        return p2 <= 0 ? 0 : p2 >= 1 ? 1 : cubicRootAt(0, a_1, c_1, 1, p2, roots_1) && cubicAt(0, b_1, d_1, 1, roots_1[0]);
      };
    }
  }
  var Clip = function() {
    function Clip2(opts) {
      this._inited = false;
      this._startTime = 0;
      this._pausedTime = 0;
      this._paused = false;
      this._life = opts.life || 1e3;
      this._delay = opts.delay || 0;
      this.loop = opts.loop || false;
      this.onframe = opts.onframe || noop;
      this.ondestroy = opts.ondestroy || noop;
      this.onrestart = opts.onrestart || noop;
      opts.easing && this.setEasing(opts.easing);
    }
    Clip2.prototype.step = function(globalTime, deltaTime) {
      if (!this._inited) {
        this._startTime = globalTime + this._delay;
        this._inited = true;
      }
      if (this._paused) {
        this._pausedTime += deltaTime;
        return;
      }
      var life = this._life;
      var elapsedTime = globalTime - this._startTime - this._pausedTime;
      var percent = elapsedTime / life;
      if (percent < 0) {
        percent = 0;
      }
      percent = Math.min(percent, 1);
      var easingFunc = this.easingFunc;
      var schedule = easingFunc ? easingFunc(percent) : percent;
      this.onframe(schedule);
      if (percent === 1) {
        if (this.loop) {
          var remainder = elapsedTime % life;
          this._startTime = globalTime - remainder;
          this._pausedTime = 0;
          this.onrestart();
        } else {
          return true;
        }
      }
      return false;
    };
    Clip2.prototype.pause = function() {
      this._paused = true;
    };
    Clip2.prototype.resume = function() {
      this._paused = false;
    };
    Clip2.prototype.setEasing = function(easing) {
      this.easing = easing;
      this.easingFunc = isFunction(easing) ? easing : easingFuncs$1[easing] || createCubicEasingFunc(easing);
    };
    return Clip2;
  }();
  var Clip$1 = Clip;
  var Entry = function() {
    function Entry2(val) {
      this.value = val;
    }
    return Entry2;
  }();
  var LinkedList = function() {
    function LinkedList2() {
      this._len = 0;
    }
    LinkedList2.prototype.insert = function(val) {
      var entry = new Entry(val);
      this.insertEntry(entry);
      return entry;
    };
    LinkedList2.prototype.insertEntry = function(entry) {
      if (!this.head) {
        this.head = this.tail = entry;
      } else {
        this.tail.next = entry;
        entry.prev = this.tail;
        entry.next = null;
        this.tail = entry;
      }
      this._len++;
    };
    LinkedList2.prototype.remove = function(entry) {
      var prev = entry.prev;
      var next = entry.next;
      if (prev) {
        prev.next = next;
      } else {
        this.head = next;
      }
      if (next) {
        next.prev = prev;
      } else {
        this.tail = prev;
      }
      entry.next = entry.prev = null;
      this._len--;
    };
    LinkedList2.prototype.len = function() {
      return this._len;
    };
    LinkedList2.prototype.clear = function() {
      this.head = this.tail = null;
      this._len = 0;
    };
    return LinkedList2;
  }();
  var LRU = function() {
    function LRU2(maxSize) {
      this._list = new LinkedList();
      this._maxSize = 10;
      this._map = {};
      this._maxSize = maxSize;
    }
    LRU2.prototype.put = function(key, value) {
      var list = this._list;
      var map2 = this._map;
      var removed = null;
      if (map2[key] == null) {
        var len2 = list.len();
        var entry = this._lastRemovedEntry;
        if (len2 >= this._maxSize && len2 > 0) {
          var leastUsedEntry = list.head;
          list.remove(leastUsedEntry);
          delete map2[leastUsedEntry.key];
          removed = leastUsedEntry.value;
          this._lastRemovedEntry = leastUsedEntry;
        }
        if (entry) {
          entry.value = value;
        } else {
          entry = new Entry(value);
        }
        entry.key = key;
        list.insertEntry(entry);
        map2[key] = entry;
      }
      return removed;
    };
    LRU2.prototype.get = function(key) {
      var entry = this._map[key];
      var list = this._list;
      if (entry != null) {
        if (entry !== list.tail) {
          list.remove(entry);
          list.insertEntry(entry);
        }
        return entry.value;
      }
    };
    LRU2.prototype.clear = function() {
      this._list.clear();
      this._map = {};
    };
    LRU2.prototype.len = function() {
      return this._list.len();
    };
    return LRU2;
  }();
  var LRU$1 = LRU;
  var kCSSColorTable = {
    "transparent": [0, 0, 0, 0],
    "aliceblue": [240, 248, 255, 1],
    "antiquewhite": [250, 235, 215, 1],
    "aqua": [0, 255, 255, 1],
    "aquamarine": [127, 255, 212, 1],
    "azure": [240, 255, 255, 1],
    "beige": [245, 245, 220, 1],
    "bisque": [255, 228, 196, 1],
    "black": [0, 0, 0, 1],
    "blanchedalmond": [255, 235, 205, 1],
    "blue": [0, 0, 255, 1],
    "blueviolet": [138, 43, 226, 1],
    "brown": [165, 42, 42, 1],
    "burlywood": [222, 184, 135, 1],
    "cadetblue": [95, 158, 160, 1],
    "chartreuse": [127, 255, 0, 1],
    "chocolate": [210, 105, 30, 1],
    "coral": [255, 127, 80, 1],
    "cornflowerblue": [100, 149, 237, 1],
    "cornsilk": [255, 248, 220, 1],
    "crimson": [220, 20, 60, 1],
    "cyan": [0, 255, 255, 1],
    "darkblue": [0, 0, 139, 1],
    "darkcyan": [0, 139, 139, 1],
    "darkgoldenrod": [184, 134, 11, 1],
    "darkgray": [169, 169, 169, 1],
    "darkgreen": [0, 100, 0, 1],
    "darkgrey": [169, 169, 169, 1],
    "darkkhaki": [189, 183, 107, 1],
    "darkmagenta": [139, 0, 139, 1],
    "darkolivegreen": [85, 107, 47, 1],
    "darkorange": [255, 140, 0, 1],
    "darkorchid": [153, 50, 204, 1],
    "darkred": [139, 0, 0, 1],
    "darksalmon": [233, 150, 122, 1],
    "darkseagreen": [143, 188, 143, 1],
    "darkslateblue": [72, 61, 139, 1],
    "darkslategray": [47, 79, 79, 1],
    "darkslategrey": [47, 79, 79, 1],
    "darkturquoise": [0, 206, 209, 1],
    "darkviolet": [148, 0, 211, 1],
    "deeppink": [255, 20, 147, 1],
    "deepskyblue": [0, 191, 255, 1],
    "dimgray": [105, 105, 105, 1],
    "dimgrey": [105, 105, 105, 1],
    "dodgerblue": [30, 144, 255, 1],
    "firebrick": [178, 34, 34, 1],
    "floralwhite": [255, 250, 240, 1],
    "forestgreen": [34, 139, 34, 1],
    "fuchsia": [255, 0, 255, 1],
    "gainsboro": [220, 220, 220, 1],
    "ghostwhite": [248, 248, 255, 1],
    "gold": [255, 215, 0, 1],
    "goldenrod": [218, 165, 32, 1],
    "gray": [128, 128, 128, 1],
    "green": [0, 128, 0, 1],
    "greenyellow": [173, 255, 47, 1],
    "grey": [128, 128, 128, 1],
    "honeydew": [240, 255, 240, 1],
    "hotpink": [255, 105, 180, 1],
    "indianred": [205, 92, 92, 1],
    "indigo": [75, 0, 130, 1],
    "ivory": [255, 255, 240, 1],
    "khaki": [240, 230, 140, 1],
    "lavender": [230, 230, 250, 1],
    "lavenderblush": [255, 240, 245, 1],
    "lawngreen": [124, 252, 0, 1],
    "lemonchiffon": [255, 250, 205, 1],
    "lightblue": [173, 216, 230, 1],
    "lightcoral": [240, 128, 128, 1],
    "lightcyan": [224, 255, 255, 1],
    "lightgoldenrodyellow": [250, 250, 210, 1],
    "lightgray": [211, 211, 211, 1],
    "lightgreen": [144, 238, 144, 1],
    "lightgrey": [211, 211, 211, 1],
    "lightpink": [255, 182, 193, 1],
    "lightsalmon": [255, 160, 122, 1],
    "lightseagreen": [32, 178, 170, 1],
    "lightskyblue": [135, 206, 250, 1],
    "lightslategray": [119, 136, 153, 1],
    "lightslategrey": [119, 136, 153, 1],
    "lightsteelblue": [176, 196, 222, 1],
    "lightyellow": [255, 255, 224, 1],
    "lime": [0, 255, 0, 1],
    "limegreen": [50, 205, 50, 1],
    "linen": [250, 240, 230, 1],
    "magenta": [255, 0, 255, 1],
    "maroon": [128, 0, 0, 1],
    "mediumaquamarine": [102, 205, 170, 1],
    "mediumblue": [0, 0, 205, 1],
    "mediumorchid": [186, 85, 211, 1],
    "mediumpurple": [147, 112, 219, 1],
    "mediumseagreen": [60, 179, 113, 1],
    "mediumslateblue": [123, 104, 238, 1],
    "mediumspringgreen": [0, 250, 154, 1],
    "mediumturquoise": [72, 209, 204, 1],
    "mediumvioletred": [199, 21, 133, 1],
    "midnightblue": [25, 25, 112, 1],
    "mintcream": [245, 255, 250, 1],
    "mistyrose": [255, 228, 225, 1],
    "moccasin": [255, 228, 181, 1],
    "navajowhite": [255, 222, 173, 1],
    "navy": [0, 0, 128, 1],
    "oldlace": [253, 245, 230, 1],
    "olive": [128, 128, 0, 1],
    "olivedrab": [107, 142, 35, 1],
    "orange": [255, 165, 0, 1],
    "orangered": [255, 69, 0, 1],
    "orchid": [218, 112, 214, 1],
    "palegoldenrod": [238, 232, 170, 1],
    "palegreen": [152, 251, 152, 1],
    "paleturquoise": [175, 238, 238, 1],
    "palevioletred": [219, 112, 147, 1],
    "papayawhip": [255, 239, 213, 1],
    "peachpuff": [255, 218, 185, 1],
    "peru": [205, 133, 63, 1],
    "pink": [255, 192, 203, 1],
    "plum": [221, 160, 221, 1],
    "powderblue": [176, 224, 230, 1],
    "purple": [128, 0, 128, 1],
    "red": [255, 0, 0, 1],
    "rosybrown": [188, 143, 143, 1],
    "royalblue": [65, 105, 225, 1],
    "saddlebrown": [139, 69, 19, 1],
    "salmon": [250, 128, 114, 1],
    "sandybrown": [244, 164, 96, 1],
    "seagreen": [46, 139, 87, 1],
    "seashell": [255, 245, 238, 1],
    "sienna": [160, 82, 45, 1],
    "silver": [192, 192, 192, 1],
    "skyblue": [135, 206, 235, 1],
    "slateblue": [106, 90, 205, 1],
    "slategray": [112, 128, 144, 1],
    "slategrey": [112, 128, 144, 1],
    "snow": [255, 250, 250, 1],
    "springgreen": [0, 255, 127, 1],
    "steelblue": [70, 130, 180, 1],
    "tan": [210, 180, 140, 1],
    "teal": [0, 128, 128, 1],
    "thistle": [216, 191, 216, 1],
    "tomato": [255, 99, 71, 1],
    "turquoise": [64, 224, 208, 1],
    "violet": [238, 130, 238, 1],
    "wheat": [245, 222, 179, 1],
    "white": [255, 255, 255, 1],
    "whitesmoke": [245, 245, 245, 1],
    "yellow": [255, 255, 0, 1],
    "yellowgreen": [154, 205, 50, 1]
  };
  function clampCssByte(i2) {
    i2 = Math.round(i2);
    return i2 < 0 ? 0 : i2 > 255 ? 255 : i2;
  }
  function clampCssAngle(i2) {
    i2 = Math.round(i2);
    return i2 < 0 ? 0 : i2 > 360 ? 360 : i2;
  }
  function clampCssFloat(f2) {
    return f2 < 0 ? 0 : f2 > 1 ? 1 : f2;
  }
  function parseCssInt(val) {
    var str = val;
    if (str.length && str.charAt(str.length - 1) === "%") {
      return clampCssByte(parseFloat(str) / 100 * 255);
    }
    return clampCssByte(parseInt(str, 10));
  }
  function parseCssFloat(val) {
    var str = val;
    if (str.length && str.charAt(str.length - 1) === "%") {
      return clampCssFloat(parseFloat(str) / 100);
    }
    return clampCssFloat(parseFloat(str));
  }
  function cssHueToRgb(m1, m2, h2) {
    if (h2 < 0) {
      h2 += 1;
    } else if (h2 > 1) {
      h2 -= 1;
    }
    if (h2 * 6 < 1) {
      return m1 + (m2 - m1) * h2 * 6;
    }
    if (h2 * 2 < 1) {
      return m2;
    }
    if (h2 * 3 < 2) {
      return m1 + (m2 - m1) * (2 / 3 - h2) * 6;
    }
    return m1;
  }
  function lerpNumber(a2, b2, p2) {
    return a2 + (b2 - a2) * p2;
  }
  function setRgba(out2, r2, g2, b2, a2) {
    out2[0] = r2;
    out2[1] = g2;
    out2[2] = b2;
    out2[3] = a2;
    return out2;
  }
  function copyRgba(out2, a2) {
    out2[0] = a2[0];
    out2[1] = a2[1];
    out2[2] = a2[2];
    out2[3] = a2[3];
    return out2;
  }
  var colorCache = new LRU$1(20);
  var lastRemovedArr = null;
  function putToCache(colorStr, rgbaArr) {
    if (lastRemovedArr) {
      copyRgba(lastRemovedArr, rgbaArr);
    }
    lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || rgbaArr.slice());
  }
  function parse(colorStr, rgbaArr) {
    if (!colorStr) {
      return;
    }
    rgbaArr = rgbaArr || [];
    var cached = colorCache.get(colorStr);
    if (cached) {
      return copyRgba(rgbaArr, cached);
    }
    colorStr = colorStr + "";
    var str = colorStr.replace(/ /g, "").toLowerCase();
    if (str in kCSSColorTable) {
      copyRgba(rgbaArr, kCSSColorTable[str]);
      putToCache(colorStr, rgbaArr);
      return rgbaArr;
    }
    var strLen = str.length;
    if (str.charAt(0) === "#") {
      if (strLen === 4 || strLen === 5) {
        var iv = parseInt(str.slice(1, 4), 16);
        if (!(iv >= 0 && iv <= 4095)) {
          setRgba(rgbaArr, 0, 0, 0, 1);
          return;
        }
        setRgba(rgbaArr, (iv & 3840) >> 4 | (iv & 3840) >> 8, iv & 240 | (iv & 240) >> 4, iv & 15 | (iv & 15) << 4, strLen === 5 ? parseInt(str.slice(4), 16) / 15 : 1);
        putToCache(colorStr, rgbaArr);
        return rgbaArr;
      } else if (strLen === 7 || strLen === 9) {
        var iv = parseInt(str.slice(1, 7), 16);
        if (!(iv >= 0 && iv <= 16777215)) {
          setRgba(rgbaArr, 0, 0, 0, 1);
          return;
        }
        setRgba(rgbaArr, (iv & 16711680) >> 16, (iv & 65280) >> 8, iv & 255, strLen === 9 ? parseInt(str.slice(7), 16) / 255 : 1);
        putToCache(colorStr, rgbaArr);
        return rgbaArr;
      }
      return;
    }
    var op = str.indexOf("(");
    var ep = str.indexOf(")");
    if (op !== -1 && ep + 1 === strLen) {
      var fname = str.substr(0, op);
      var params = str.substr(op + 1, ep - (op + 1)).split(",");
      var alpha = 1;
      switch (fname) {
        case "rgba":
          if (params.length !== 4) {
            return params.length === 3 ? setRgba(rgbaArr, +params[0], +params[1], +params[2], 1) : setRgba(rgbaArr, 0, 0, 0, 1);
          }
          alpha = parseCssFloat(params.pop());
        case "rgb":
          if (params.length >= 3) {
            setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), params.length === 3 ? alpha : parseCssFloat(params[3]));
            putToCache(colorStr, rgbaArr);
            return rgbaArr;
          } else {
            setRgba(rgbaArr, 0, 0, 0, 1);
            return;
          }
        case "hsla":
          if (params.length !== 4) {
            setRgba(rgbaArr, 0, 0, 0, 1);
            return;
          }
          params[3] = parseCssFloat(params[3]);
          hsla2rgba(params, rgbaArr);
          putToCache(colorStr, rgbaArr);
          return rgbaArr;
        case "hsl":
          if (params.length !== 3) {
            setRgba(rgbaArr, 0, 0, 0, 1);
            return;
          }
          hsla2rgba(params, rgbaArr);
          putToCache(colorStr, rgbaArr);
          return rgbaArr;
        default:
          return;
      }
    }
    setRgba(rgbaArr, 0, 0, 0, 1);
    return;
  }
  function hsla2rgba(hsla, rgba) {
    var h2 = (parseFloat(hsla[0]) % 360 + 360) % 360 / 360;
    var s2 = parseCssFloat(hsla[1]);
    var l2 = parseCssFloat(hsla[2]);
    var m2 = l2 <= 0.5 ? l2 * (s2 + 1) : l2 + s2 - l2 * s2;
    var m1 = l2 * 2 - m2;
    rgba = rgba || [];
    setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h2 + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h2) * 255), clampCssByte(cssHueToRgb(m1, m2, h2 - 1 / 3) * 255), 1);
    if (hsla.length === 4) {
      rgba[3] = hsla[3];
    }
    return rgba;
  }
  function rgba2hsla(rgba) {
    if (!rgba) {
      return;
    }
    var R2 = rgba[0] / 255;
    var G2 = rgba[1] / 255;
    var B2 = rgba[2] / 255;
    var vMin = Math.min(R2, G2, B2);
    var vMax = Math.max(R2, G2, B2);
    var delta = vMax - vMin;
    var L2 = (vMax + vMin) / 2;
    var H2;
    var S2;
    if (delta === 0) {
      H2 = 0;
      S2 = 0;
    } else {
      if (L2 < 0.5) {
        S2 = delta / (vMax + vMin);
      } else {
        S2 = delta / (2 - vMax - vMin);
      }
      var deltaR = ((vMax - R2) / 6 + delta / 2) / delta;
      var deltaG = ((vMax - G2) / 6 + delta / 2) / delta;
      var deltaB = ((vMax - B2) / 6 + delta / 2) / delta;
      if (R2 === vMax) {
        H2 = deltaB - deltaG;
      } else if (G2 === vMax) {
        H2 = 1 / 3 + deltaR - deltaB;
      } else if (B2 === vMax) {
        H2 = 2 / 3 + deltaG - deltaR;
      }
      if (H2 < 0) {
        H2 += 1;
      }
      if (H2 > 1) {
        H2 -= 1;
      }
    }
    var hsla = [H2 * 360, S2, L2];
    if (rgba[3] != null) {
      hsla.push(rgba[3]);
    }
    return hsla;
  }
  function lift(color2, level) {
    var colorArr = parse(color2);
    if (colorArr) {
      for (var i2 = 0; i2 < 3; i2++) {
        if (level < 0) {
          colorArr[i2] = colorArr[i2] * (1 - level) | 0;
        } else {
          colorArr[i2] = (255 - colorArr[i2]) * level + colorArr[i2] | 0;
        }
        if (colorArr[i2] > 255) {
          colorArr[i2] = 255;
        } else if (colorArr[i2] < 0) {
          colorArr[i2] = 0;
        }
      }
      return stringify(colorArr, colorArr.length === 4 ? "rgba" : "rgb");
    }
  }
  function toHex(color2) {
    var colorArr = parse(color2);
    if (colorArr) {
      return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + +colorArr[2]).toString(16).slice(1);
    }
  }
  function fastLerp(normalizedValue, colors, out2) {
    if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {
      return;
    }
    out2 = out2 || [];
    var value = normalizedValue * (colors.length - 1);
    var leftIndex = Math.floor(value);
    var rightIndex = Math.ceil(value);
    var leftColor = colors[leftIndex];
    var rightColor = colors[rightIndex];
    var dv = value - leftIndex;
    out2[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));
    out2[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));
    out2[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));
    out2[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));
    return out2;
  }
  var fastMapToColor = fastLerp;
  function lerp(normalizedValue, colors, fullOutput) {
    if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {
      return;
    }
    var value = normalizedValue * (colors.length - 1);
    var leftIndex = Math.floor(value);
    var rightIndex = Math.ceil(value);
    var leftColor = parse(colors[leftIndex]);
    var rightColor = parse(colors[rightIndex]);
    var dv = value - leftIndex;
    var color2 = stringify([
      clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)),
      clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)),
      clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)),
      clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))
    ], "rgba");
    return fullOutput ? {
      color: color2,
      leftIndex,
      rightIndex,
      value
    } : color2;
  }
  var mapToColor = lerp;
  function modifyHSL(color2, h2, s2, l2) {
    var colorArr = parse(color2);
    if (color2) {
      colorArr = rgba2hsla(colorArr);
      h2 != null && (colorArr[0] = clampCssAngle(h2));
      s2 != null && (colorArr[1] = parseCssFloat(s2));
      l2 != null && (colorArr[2] = parseCssFloat(l2));
      return stringify(hsla2rgba(colorArr), "rgba");
    }
  }
  function modifyAlpha(color2, alpha) {
    var colorArr = parse(color2);
    if (colorArr && alpha != null) {
      colorArr[3] = clampCssFloat(alpha);
      return stringify(colorArr, "rgba");
    }
  }
  function stringify(arrColor, type) {
    if (!arrColor || !arrColor.length) {
      return;
    }
    var colorStr = arrColor[0] + "," + arrColor[1] + "," + arrColor[2];
    if (type === "rgba" || type === "hsva" || type === "hsla") {
      colorStr += "," + arrColor[3];
    }
    return type + "(" + colorStr + ")";
  }
  function lum(color2, backgroundLum) {
    var arr = parse(color2);
    return arr ? (0.299 * arr[0] + 0.587 * arr[1] + 0.114 * arr[2]) * arr[3] / 255 + (1 - arr[3]) * backgroundLum : 0;
  }
  function random() {
    return stringify([
      Math.round(Math.random() * 255),
      Math.round(Math.random() * 255),
      Math.round(Math.random() * 255)
    ], "rgb");
  }
  var color = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    parse,
    lift,
    toHex,
    fastLerp,
    fastMapToColor,
    lerp,
    mapToColor,
    modifyHSL,
    modifyAlpha,
    stringify,
    lum,
    random
  });
  function isLinearGradient(val) {
    return val.type === "linear";
  }
  function isRadialGradient(val) {
    return val.type === "radial";
  }
  (function() {
    if (env$1.hasGlobalWindow && isFunction(window.btoa)) {
      return function(str) {
        return window.btoa(unescape(encodeURIComponent(str)));
      };
    }
    if (typeof Buffer !== "undefined") {
      return function(str) {
        return Buffer.from(str).toString("base64");
      };
    }
    return function(str) {
      {
        logError("Base64 isn't natively supported in the current environment.");
      }
      return null;
    };
  })();
  var arraySlice = Array.prototype.slice;
  function interpolateNumber$1(p0, p1, percent) {
    return (p1 - p0) * percent + p0;
  }
  function interpolate1DArray(out2, p0, p1, percent) {
    var len2 = p0.length;
    for (var i2 = 0; i2 < len2; i2++) {
      out2[i2] = interpolateNumber$1(p0[i2], p1[i2], percent);
    }
    return out2;
  }
  function interpolate2DArray(out2, p0, p1, percent) {
    var len2 = p0.length;
    var len22 = len2 && p0[0].length;
    for (var i2 = 0; i2 < len2; i2++) {
      if (!out2[i2]) {
        out2[i2] = [];
      }
      for (var j2 = 0; j2 < len22; j2++) {
        out2[i2][j2] = interpolateNumber$1(p0[i2][j2], p1[i2][j2], percent);
      }
    }
    return out2;
  }
  function add1DArray(out2, p0, p1, sign) {
    var len2 = p0.length;
    for (var i2 = 0; i2 < len2; i2++) {
      out2[i2] = p0[i2] + p1[i2] * sign;
    }
    return out2;
  }
  function add2DArray(out2, p0, p1, sign) {
    var len2 = p0.length;
    var len22 = len2 && p0[0].length;
    for (var i2 = 0; i2 < len2; i2++) {
      if (!out2[i2]) {
        out2[i2] = [];
      }
      for (var j2 = 0; j2 < len22; j2++) {
        out2[i2][j2] = p0[i2][j2] + p1[i2][j2] * sign;
      }
    }
    return out2;
  }
  function fillColorStops(val0, val1) {
    var len0 = val0.length;
    var len1 = val1.length;
    var shorterArr = len0 > len1 ? val1 : val0;
    var shorterLen = Math.min(len0, len1);
    var last = shorterArr[shorterLen - 1] || { color: [0, 0, 0, 0], offset: 0 };
    for (var i2 = shorterLen; i2 < Math.max(len0, len1); i2++) {
      shorterArr.push({
        offset: last.offset,
        color: last.color.slice()
      });
    }
  }
  function fillArray(val0, val1, arrDim) {
    var arr0 = val0;
    var arr1 = val1;
    if (!arr0.push || !arr1.push) {
      return;
    }
    var arr0Len = arr0.length;
    var arr1Len = arr1.length;
    if (arr0Len !== arr1Len) {
      var isPreviousLarger = arr0Len > arr1Len;
      if (isPreviousLarger) {
        arr0.length = arr1Len;
      } else {
        for (var i2 = arr0Len; i2 < arr1Len; i2++) {
          arr0.push(arrDim === 1 ? arr1[i2] : arraySlice.call(arr1[i2]));
        }
      }
    }
    var len2 = arr0[0] && arr0[0].length;
    for (var i2 = 0; i2 < arr0.length; i2++) {
      if (arrDim === 1) {
        if (isNaN(arr0[i2])) {
          arr0[i2] = arr1[i2];
        }
      } else {
        for (var j2 = 0; j2 < len2; j2++) {
          if (isNaN(arr0[i2][j2])) {
            arr0[i2][j2] = arr1[i2][j2];
          }
        }
      }
    }
  }
  function cloneValue(value) {
    if (isArrayLike(value)) {
      var len2 = value.length;
      if (isArrayLike(value[0])) {
        var ret = [];
        for (var i2 = 0; i2 < len2; i2++) {
          ret.push(arraySlice.call(value[i2]));
        }
        return ret;
      }
      return arraySlice.call(value);
    }
    return value;
  }
  function rgba2String(rgba) {
    rgba[0] = Math.floor(rgba[0]) || 0;
    rgba[1] = Math.floor(rgba[1]) || 0;
    rgba[2] = Math.floor(rgba[2]) || 0;
    rgba[3] = rgba[3] == null ? 1 : rgba[3];
    return "rgba(" + rgba.join(",") + ")";
  }
  function guessArrayDim(value) {
    return isArrayLike(value && value[0]) ? 2 : 1;
  }
  var VALUE_TYPE_NUMBER = 0;
  var VALUE_TYPE_1D_ARRAY = 1;
  var VALUE_TYPE_2D_ARRAY = 2;
  var VALUE_TYPE_COLOR = 3;
  var VALUE_TYPE_LINEAR_GRADIENT = 4;
  var VALUE_TYPE_RADIAL_GRADIENT = 5;
  var VALUE_TYPE_UNKOWN = 6;
  function isGradientValueType(valType) {
    return valType === VALUE_TYPE_LINEAR_GRADIENT || valType === VALUE_TYPE_RADIAL_GRADIENT;
  }
  function isArrayValueType(valType) {
    return valType === VALUE_TYPE_1D_ARRAY || valType === VALUE_TYPE_2D_ARRAY;
  }
  var tmpRgba = [0, 0, 0, 0];
  var Track = function() {
    function Track2(propName) {
      this.keyframes = [];
      this.discrete = false;
      this._invalid = false;
      this._needsSort = false;
      this._lastFr = 0;
      this._lastFrP = 0;
      this.propName = propName;
    }
    Track2.prototype.isFinished = function() {
      return this._finished;
    };
    Track2.prototype.setFinished = function() {
      this._finished = true;
      if (this._additiveTrack) {
        this._additiveTrack.setFinished();
      }
    };
    Track2.prototype.needsAnimate = function() {
      return this.keyframes.length >= 1;
    };
    Track2.prototype.getAdditiveTrack = function() {
      return this._additiveTrack;
    };
    Track2.prototype.addKeyframe = function(time2, rawValue, easing) {
      this._needsSort = true;
      var keyframes = this.keyframes;
      var len2 = keyframes.length;
      var discrete = false;
      var valType = VALUE_TYPE_UNKOWN;
      var value = rawValue;
      if (isArrayLike(rawValue)) {
        var arrayDim = guessArrayDim(rawValue);
        valType = arrayDim;
        if (arrayDim === 1 && !isNumber(rawValue[0]) || arrayDim === 2 && !isNumber(rawValue[0][0])) {
          discrete = true;
        }
      } else {
        if (isNumber(rawValue) && !eqNaN(rawValue)) {
          valType = VALUE_TYPE_NUMBER;
        } else if (isString(rawValue)) {
          if (!isNaN(+rawValue)) {
            valType = VALUE_TYPE_NUMBER;
          } else {
            var colorArray = parse(rawValue);
            if (colorArray) {
              value = colorArray;
              valType = VALUE_TYPE_COLOR;
            }
          }
        } else if (isGradientObject(rawValue)) {
          var parsedGradient = extend({}, value);
          parsedGradient.colorStops = map$1(rawValue.colorStops, function(colorStop) {
            return {
              offset: colorStop.offset,
              color: parse(colorStop.color)
            };
          });
          if (isLinearGradient(rawValue)) {
            valType = VALUE_TYPE_LINEAR_GRADIENT;
          } else if (isRadialGradient(rawValue)) {
            valType = VALUE_TYPE_RADIAL_GRADIENT;
          }
          value = parsedGradient;
        }
      }
      if (len2 === 0) {
        this.valType = valType;
      } else if (valType !== this.valType || valType === VALUE_TYPE_UNKOWN) {
        discrete = true;
      }
      this.discrete = this.discrete || discrete;
      var kf = {
        time: time2,
        value,
        rawValue,
        percent: 0
      };
      if (easing) {
        kf.easing = easing;
        kf.easingFunc = isFunction(easing) ? easing : easingFuncs$1[easing] || createCubicEasingFunc(easing);
      }
      keyframes.push(kf);
      return kf;
    };
    Track2.prototype.prepare = function(maxTime, additiveTrack) {
      var kfs = this.keyframes;
      if (this._needsSort) {
        kfs.sort(function(a2, b2) {
          return a2.time - b2.time;
        });
      }
      var valType = this.valType;
      var kfsLen = kfs.length;
      var lastKf = kfs[kfsLen - 1];
      var isDiscrete = this.discrete;
      var isArr = isArrayValueType(valType);
      var isGradient = isGradientValueType(valType);
      for (var i2 = 0; i2 < kfsLen; i2++) {
        var kf = kfs[i2];
        var value = kf.value;
        var lastValue = lastKf.value;
        kf.percent = kf.time / maxTime;
        if (!isDiscrete) {
          if (isArr && i2 !== kfsLen - 1) {
            fillArray(value, lastValue, valType);
          } else if (isGradient) {
            fillColorStops(value.colorStops, lastValue.colorStops);
          }
        }
      }
      if (!isDiscrete && valType !== VALUE_TYPE_RADIAL_GRADIENT && additiveTrack && this.needsAnimate() && additiveTrack.needsAnimate() && valType === additiveTrack.valType && !additiveTrack._finished) {
        this._additiveTrack = additiveTrack;
        var startValue = kfs[0].value;
        for (var i2 = 0; i2 < kfsLen; i2++) {
          if (valType === VALUE_TYPE_NUMBER) {
            kfs[i2].additiveValue = kfs[i2].value - startValue;
          } else if (valType === VALUE_TYPE_COLOR) {
            kfs[i2].additiveValue = add1DArray([], kfs[i2].value, startValue, -1);
          } else if (isArrayValueType(valType)) {
            kfs[i2].additiveValue = valType === VALUE_TYPE_1D_ARRAY ? add1DArray([], kfs[i2].value, startValue, -1) : add2DArray([], kfs[i2].value, startValue, -1);
          }
        }
      }
    };
    Track2.prototype.step = function(target, percent) {
      if (this._finished) {
        return;
      }
      if (this._additiveTrack && this._additiveTrack._finished) {
        this._additiveTrack = null;
      }
      var isAdditive = this._additiveTrack != null;
      var valueKey = isAdditive ? "additiveValue" : "value";
      var valType = this.valType;
      var keyframes = this.keyframes;
      var kfsNum = keyframes.length;
      var propName = this.propName;
      var isValueColor = valType === VALUE_TYPE_COLOR;
      var frameIdx;
      var lastFrame = this._lastFr;
      var mathMin2 = Math.min;
      var frame;
      var nextFrame;
      if (kfsNum === 1) {
        frame = nextFrame = keyframes[0];
      } else {
        if (percent < 0) {
          frameIdx = 0;
        } else if (percent < this._lastFrP) {
          var start2 = mathMin2(lastFrame + 1, kfsNum - 1);
          for (frameIdx = start2; frameIdx >= 0; frameIdx--) {
            if (keyframes[frameIdx].percent <= percent) {
              break;
            }
          }
          frameIdx = mathMin2(frameIdx, kfsNum - 2);
        } else {
          for (frameIdx = lastFrame; frameIdx < kfsNum; frameIdx++) {
            if (keyframes[frameIdx].percent > percent) {
              break;
            }
          }
          frameIdx = mathMin2(frameIdx - 1, kfsNum - 2);
        }
        nextFrame = keyframes[frameIdx + 1];
        frame = keyframes[frameIdx];
      }
      if (!(frame && nextFrame)) {
        return;
      }
      this._lastFr = frameIdx;
      this._lastFrP = percent;
      var interval = nextFrame.percent - frame.percent;
      var w2 = interval === 0 ? 1 : mathMin2((percent - frame.percent) / interval, 1);
      if (nextFrame.easingFunc) {
        w2 = nextFrame.easingFunc(w2);
      }
      var targetArr = isAdditive ? this._additiveValue : isValueColor ? tmpRgba : target[propName];
      if ((isArrayValueType(valType) || isValueColor) && !targetArr) {
        targetArr = this._additiveValue = [];
      }
      if (this.discrete) {
        target[propName] = w2 < 1 ? frame.rawValue : nextFrame.rawValue;
      } else if (isArrayValueType(valType)) {
        valType === VALUE_TYPE_1D_ARRAY ? interpolate1DArray(targetArr, frame[valueKey], nextFrame[valueKey], w2) : interpolate2DArray(targetArr, frame[valueKey], nextFrame[valueKey], w2);
      } else if (isGradientValueType(valType)) {
        var val = frame[valueKey];
        var nextVal_1 = nextFrame[valueKey];
        var isLinearGradient_1 = valType === VALUE_TYPE_LINEAR_GRADIENT;
        target[propName] = {
          type: isLinearGradient_1 ? "linear" : "radial",
          x: interpolateNumber$1(val.x, nextVal_1.x, w2),
          y: interpolateNumber$1(val.y, nextVal_1.y, w2),
          colorStops: map$1(val.colorStops, function(colorStop, idx) {
            var nextColorStop = nextVal_1.colorStops[idx];
            return {
              offset: interpolateNumber$1(colorStop.offset, nextColorStop.offset, w2),
              color: rgba2String(interpolate1DArray([], colorStop.color, nextColorStop.color, w2))
            };
          }),
          global: nextVal_1.global
        };
        if (isLinearGradient_1) {
          target[propName].x2 = interpolateNumber$1(val.x2, nextVal_1.x2, w2);
          target[propName].y2 = interpolateNumber$1(val.y2, nextVal_1.y2, w2);
        } else {
          target[propName].r = interpolateNumber$1(val.r, nextVal_1.r, w2);
        }
      } else if (isValueColor) {
        interpolate1DArray(targetArr, frame[valueKey], nextFrame[valueKey], w2);
        if (!isAdditive) {
          target[propName] = rgba2String(targetArr);
        }
      } else {
        var value = interpolateNumber$1(frame[valueKey], nextFrame[valueKey], w2);
        if (isAdditive) {
          this._additiveValue = value;
        } else {
          target[propName] = value;
        }
      }
      if (isAdditive) {
        this._addToTarget(target);
      }
    };
    Track2.prototype._addToTarget = function(target) {
      var valType = this.valType;
      var propName = this.propName;
      var additiveValue = this._additiveValue;
      if (valType === VALUE_TYPE_NUMBER) {
        target[propName] = target[propName] + additiveValue;
      } else if (valType === VALUE_TYPE_COLOR) {
        parse(target[propName], tmpRgba);
        add1DArray(tmpRgba, tmpRgba, additiveValue, 1);
        target[propName] = rgba2String(tmpRgba);
      } else if (valType === VALUE_TYPE_1D_ARRAY) {
        add1DArray(target[propName], target[propName], additiveValue, 1);
      } else if (valType === VALUE_TYPE_2D_ARRAY) {
        add2DArray(target[propName], target[propName], additiveValue, 1);
      }
    };
    return Track2;
  }();
  var Animator = function() {
    function Animator2(target, loop, allowDiscreteAnimation, additiveTo) {
      this._tracks = {};
      this._trackKeys = [];
      this._maxTime = 0;
      this._started = 0;
      this._clip = null;
      this._target = target;
      this._loop = loop;
      if (loop && additiveTo) {
        logError("Can' use additive animation on looped animation.");
        return;
      }
      this._additiveAnimators = additiveTo;
      this._allowDiscrete = allowDiscreteAnimation;
    }
    Animator2.prototype.getMaxTime = function() {
      return this._maxTime;
    };
    Animator2.prototype.getDelay = function() {
      return this._delay;
    };
    Animator2.prototype.getLoop = function() {
      return this._loop;
    };
    Animator2.prototype.getTarget = function() {
      return this._target;
    };
    Animator2.prototype.changeTarget = function(target) {
      this._target = target;
    };
    Animator2.prototype.when = function(time2, props, easing) {
      return this.whenWithKeys(time2, props, keys(props), easing);
    };
    Animator2.prototype.whenWithKeys = function(time2, props, propNames, easing) {
      var tracks = this._tracks;
      for (var i2 = 0; i2 < propNames.length; i2++) {
        var propName = propNames[i2];
        var track = tracks[propName];
        if (!track) {
          track = tracks[propName] = new Track(propName);
          var initialValue = void 0;
          var additiveTrack = this._getAdditiveTrack(propName);
          if (additiveTrack) {
            var addtiveTrackKfs = additiveTrack.keyframes;
            var lastFinalKf = addtiveTrackKfs[addtiveTrackKfs.length - 1];
            initialValue = lastFinalKf && lastFinalKf.value;
            if (additiveTrack.valType === VALUE_TYPE_COLOR && initialValue) {
              initialValue = rgba2String(initialValue);
            }
          } else {
            initialValue = this._target[propName];
          }
          if (initialValue == null) {
            continue;
          }
          if (time2 > 0) {
            track.addKeyframe(0, cloneValue(initialValue), easing);
          }
          this._trackKeys.push(propName);
        }
        track.addKeyframe(time2, cloneValue(props[propName]), easing);
      }
      this._maxTime = Math.max(this._maxTime, time2);
      return this;
    };
    Animator2.prototype.pause = function() {
      this._clip.pause();
      this._paused = true;
    };
    Animator2.prototype.resume = function() {
      this._clip.resume();
      this._paused = false;
    };
    Animator2.prototype.isPaused = function() {
      return !!this._paused;
    };
    Animator2.prototype.duration = function(duration) {
      this._maxTime = duration;
      this._force = true;
      return this;
    };
    Animator2.prototype._doneCallback = function() {
      this._setTracksFinished();
      this._clip = null;
      var doneList = this._doneCbs;
      if (doneList) {
        var len2 = doneList.length;
        for (var i2 = 0; i2 < len2; i2++) {
          doneList[i2].call(this);
        }
      }
    };
    Animator2.prototype._abortedCallback = function() {
      this._setTracksFinished();
      var animation = this.animation;
      var abortedList = this._abortedCbs;
      if (animation) {
        animation.removeClip(this._clip);
      }
      this._clip = null;
      if (abortedList) {
        for (var i2 = 0; i2 < abortedList.length; i2++) {
          abortedList[i2].call(this);
        }
      }
    };
    Animator2.prototype._setTracksFinished = function() {
      var tracks = this._tracks;
      var tracksKeys = this._trackKeys;
      for (var i2 = 0; i2 < tracksKeys.length; i2++) {
        tracks[tracksKeys[i2]].setFinished();
      }
    };
    Animator2.prototype._getAdditiveTrack = function(trackName) {
      var additiveTrack;
      var additiveAnimators = this._additiveAnimators;
      if (additiveAnimators) {
        for (var i2 = 0; i2 < additiveAnimators.length; i2++) {
          var track = additiveAnimators[i2].getTrack(trackName);
          if (track) {
            additiveTrack = track;
          }
        }
      }
      return additiveTrack;
    };
    Animator2.prototype.start = function(easing) {
      if (this._started > 0) {
        return;
      }
      this._started = 1;
      var self2 = this;
      var tracks = [];
      var maxTime = this._maxTime || 0;
      for (var i2 = 0; i2 < this._trackKeys.length; i2++) {
        var propName = this._trackKeys[i2];
        var track = this._tracks[propName];
        var additiveTrack = this._getAdditiveTrack(propName);
        var kfs = track.keyframes;
        var kfsNum = kfs.length;
        track.prepare(maxTime, additiveTrack);
        if (track.needsAnimate()) {
          if (!this._allowDiscrete && track.discrete) {
            var lastKf = kfs[kfsNum - 1];
            if (lastKf) {
              self2._target[track.propName] = lastKf.rawValue;
            }
            track.setFinished();
          } else {
            tracks.push(track);
          }
        }
      }
      if (tracks.length || this._force) {
        var clip = new Clip$1({
          life: maxTime,
          loop: this._loop,
          delay: this._delay || 0,
          onframe: function(percent) {
            self2._started = 2;
            var additiveAnimators = self2._additiveAnimators;
            if (additiveAnimators) {
              var stillHasAdditiveAnimator = false;
              for (var i3 = 0; i3 < additiveAnimators.length; i3++) {
                if (additiveAnimators[i3]._clip) {
                  stillHasAdditiveAnimator = true;
                  break;
                }
              }
              if (!stillHasAdditiveAnimator) {
                self2._additiveAnimators = null;
              }
            }
            for (var i3 = 0; i3 < tracks.length; i3++) {
              tracks[i3].step(self2._target, percent);
            }
            var onframeList = self2._onframeCbs;
            if (onframeList) {
              for (var i3 = 0; i3 < onframeList.length; i3++) {
                onframeList[i3](self2._target, percent);
              }
            }
          },
          ondestroy: function() {
            self2._doneCallback();
          }
        });
        this._clip = clip;
        if (this.animation) {
          this.animation.addClip(clip);
        }
        if (easing) {
          clip.setEasing(easing);
        }
      } else {
        this._doneCallback();
      }
      return this;
    };
    Animator2.prototype.stop = function(forwardToLast) {
      if (!this._clip) {
        return;
      }
      var clip = this._clip;
      if (forwardToLast) {
        clip.onframe(1);
      }
      this._abortedCallback();
    };
    Animator2.prototype.delay = function(time2) {
      this._delay = time2;
      return this;
    };
    Animator2.prototype.during = function(cb) {
      if (cb) {
        if (!this._onframeCbs) {
          this._onframeCbs = [];
        }
        this._onframeCbs.push(cb);
      }
      return this;
    };
    Animator2.prototype.done = function(cb) {
      if (cb) {
        if (!this._doneCbs) {
          this._doneCbs = [];
        }
        this._doneCbs.push(cb);
      }
      return this;
    };
    Animator2.prototype.aborted = function(cb) {
      if (cb) {
        if (!this._abortedCbs) {
          this._abortedCbs = [];
        }
        this._abortedCbs.push(cb);
      }
      return this;
    };
    Animator2.prototype.getClip = function() {
      return this._clip;
    };
    Animator2.prototype.getTrack = function(propName) {
      return this._tracks[propName];
    };
    Animator2.prototype.getTracks = function() {
      var _this = this;
      return map$1(this._trackKeys, function(key) {
        return _this._tracks[key];
      });
    };
    Animator2.prototype.stopTracks = function(propNames, forwardToLast) {
      if (!propNames.length || !this._clip) {
        return true;
      }
      var tracks = this._tracks;
      var tracksKeys = this._trackKeys;
      for (var i2 = 0; i2 < propNames.length; i2++) {
        var track = tracks[propNames[i2]];
        if (track && !track.isFinished()) {
          if (forwardToLast) {
            track.step(this._target, 1);
          } else if (this._started === 1) {
            track.step(this._target, 0);
          }
          track.setFinished();
        }
      }
      var allAborted = true;
      for (var i2 = 0; i2 < tracksKeys.length; i2++) {
        if (!tracks[tracksKeys[i2]].isFinished()) {
          allAborted = false;
          break;
        }
      }
      if (allAborted) {
        this._abortedCallback();
      }
      return allAborted;
    };
    Animator2.prototype.saveTo = function(target, trackKeys, firstOrLast) {
      if (!target) {
        return;
      }
      trackKeys = trackKeys || this._trackKeys;
      for (var i2 = 0; i2 < trackKeys.length; i2++) {
        var propName = trackKeys[i2];
        var track = this._tracks[propName];
        if (!track || track.isFinished()) {
          continue;
        }
        var kfs = track.keyframes;
        var kf = kfs[firstOrLast ? 0 : kfs.length - 1];
        if (kf) {
          target[propName] = cloneValue(kf.rawValue);
        }
      }
    };
    Animator2.prototype.__changeFinalValue = function(finalProps, trackKeys) {
      trackKeys = trackKeys || keys(finalProps);
      for (var i2 = 0; i2 < trackKeys.length; i2++) {
        var propName = trackKeys[i2];
        var track = this._tracks[propName];
        if (!track) {
          continue;
        }
        var kfs = track.keyframes;
        if (kfs.length > 1) {
          var lastKf = kfs.pop();
          track.addKeyframe(lastKf.time, finalProps[propName]);
          track.prepare(this._maxTime, track.getAdditiveTrack());
        }
      }
    };
    return Animator2;
  }();
  var Animator$1 = Animator;
  function getTime() {
    return new Date().getTime();
  }
  var Animation = function(_super) {
    __extends(Animation2, _super);
    function Animation2(opts) {
      var _this = _super.call(this) || this;
      _this._running = false;
      _this._time = 0;
      _this._pausedTime = 0;
      _this._pauseStart = 0;
      _this._paused = false;
      opts = opts || {};
      _this.stage = opts.stage || {};
      return _this;
    }
    Animation2.prototype.addClip = function(clip) {
      if (clip.animation) {
        this.removeClip(clip);
      }
      if (!this._head) {
        this._head = this._tail = clip;
      } else {
        this._tail.next = clip;
        clip.prev = this._tail;
        clip.next = null;
        this._tail = clip;
      }
      clip.animation = this;
    };
    Animation2.prototype.addAnimator = function(animator) {
      animator.animation = this;
      var clip = animator.getClip();
      if (clip) {
        this.addClip(clip);
      }
    };
    Animation2.prototype.removeClip = function(clip) {
      if (!clip.animation) {
        return;
      }
      var prev = clip.prev;
      var next = clip.next;
      if (prev) {
        prev.next = next;
      } else {
        this._head = next;
      }
      if (next) {
        next.prev = prev;
      } else {
        this._tail = prev;
      }
      clip.next = clip.prev = clip.animation = null;
    };
    Animation2.prototype.removeAnimator = function(animator) {
      var clip = animator.getClip();
      if (clip) {
        this.removeClip(clip);
      }
      animator.animation = null;
    };
    Animation2.prototype.update = function(notTriggerFrameAndStageUpdate) {
      var time2 = getTime() - this._pausedTime;
      var delta = time2 - this._time;
      var clip = this._head;
      while (clip) {
        var nextClip = clip.next;
        var finished = clip.step(time2, delta);
        if (finished) {
          clip.ondestroy();
          this.removeClip(clip);
          clip = nextClip;
        } else {
          clip = nextClip;
        }
      }
      this._time = time2;
      if (!notTriggerFrameAndStageUpdate) {
        this.trigger("frame", delta);
        this.stage.update && this.stage.update();
      }
    };
    Animation2.prototype._startLoop = function() {
      var self2 = this;
      this._running = true;
      function step() {
        if (self2._running) {
          requestAnimationFrame$1(step);
          !self2._paused && self2.update();
        }
      }
      requestAnimationFrame$1(step);
    };
    Animation2.prototype.start = function() {
      if (this._running) {
        return;
      }
      this._time = getTime();
      this._pausedTime = 0;
      this._startLoop();
    };
    Animation2.prototype.stop = function() {
      this._running = false;
    };
    Animation2.prototype.pause = function() {
      if (!this._paused) {
        this._pauseStart = getTime();
        this._paused = true;
      }
    };
    Animation2.prototype.resume = function() {
      if (this._paused) {
        this._pausedTime += getTime() - this._pauseStart;
        this._paused = false;
      }
    };
    Animation2.prototype.clear = function() {
      var clip = this._head;
      while (clip) {
        var nextClip = clip.next;
        clip.prev = clip.next = clip.animation = null;
        clip = nextClip;
      }
      this._head = this._tail = null;
    };
    Animation2.prototype.isFinished = function() {
      return this._head == null;
    };
    Animation2.prototype.animate = function(target, options) {
      options = options || {};
      this.start();
      var animator = new Animator$1(target, options.loop);
      this.addAnimator(animator);
      return animator;
    };
    return Animation2;
  }(Eventful$1);
  var Animation$1 = Animation;
  var TOUCH_CLICK_DELAY = 300;
  var globalEventSupported = env$1.domSupported;
  var localNativeListenerNames = function() {
    var mouseHandlerNames = [
      "click",
      "dblclick",
      "mousewheel",
      "wheel",
      "mouseout",
      "mouseup",
      "mousedown",
      "mousemove",
      "contextmenu"
    ];
    var touchHandlerNames = [
      "touchstart",
      "touchend",
      "touchmove"
    ];
    var pointerEventNameMap = {
      pointerdown: 1,
      pointerup: 1,
      pointermove: 1,
      pointerout: 1
    };
    var pointerHandlerNames = map$1(mouseHandlerNames, function(name) {
      var nm = name.replace("mouse", "pointer");
      return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;
    });
    return {
      mouse: mouseHandlerNames,
      touch: touchHandlerNames,
      pointer: pointerHandlerNames
    };
  }();
  var globalNativeListenerNames = {
    mouse: ["mousemove", "mouseup"],
    pointer: ["pointermove", "pointerup"]
  };
  var wheelEventSupported = false;
  function isPointerFromTouch(event) {
    var pointerType = event.pointerType;
    return pointerType === "pen" || pointerType === "touch";
  }
  function setTouchTimer(scope) {
    scope.touching = true;
    if (scope.touchTimer != null) {
      clearTimeout(scope.touchTimer);
      scope.touchTimer = null;
    }
    scope.touchTimer = setTimeout(function() {
      scope.touching = false;
      scope.touchTimer = null;
    }, 700);
  }
  function markTouch(event) {
    event && (event.zrByTouch = true);
  }
  function normalizeGlobalEvent(instance, event) {
    return normalizeEvent(instance.dom, new FakeGlobalEvent(instance, event), true);
  }
  function isLocalEl(instance, el) {
    var elTmp = el;
    var isLocal = false;
    while (elTmp && elTmp.nodeType !== 9 && !(isLocal = elTmp.domBelongToZr || elTmp !== el && elTmp === instance.painterRoot)) {
      elTmp = elTmp.parentNode;
    }
    return isLocal;
  }
  var FakeGlobalEvent = function() {
    function FakeGlobalEvent2(instance, event) {
      this.stopPropagation = noop;
      this.stopImmediatePropagation = noop;
      this.preventDefault = noop;
      this.type = event.type;
      this.target = this.currentTarget = instance.dom;
      this.pointerType = event.pointerType;
      this.clientX = event.clientX;
      this.clientY = event.clientY;
    }
    return FakeGlobalEvent2;
  }();
  var localDOMHandlers = {
    mousedown: function(event) {
      event = normalizeEvent(this.dom, event);
      this.__mayPointerCapture = [event.zrX, event.zrY];
      this.trigger("mousedown", event);
    },
    mousemove: function(event) {
      event = normalizeEvent(this.dom, event);
      var downPoint = this.__mayPointerCapture;
      if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {
        this.__togglePointerCapture(true);
      }
      this.trigger("mousemove", event);
    },
    mouseup: function(event) {
      event = normalizeEvent(this.dom, event);
      this.__togglePointerCapture(false);
      this.trigger("mouseup", event);
    },
    mouseout: function(event) {
      event = normalizeEvent(this.dom, event);
      var element = event.toElement || event.relatedTarget;
      if (!isLocalEl(this, element)) {
        if (this.__pointerCapturing) {
          event.zrEventControl = "no_globalout";
        }
        this.trigger("mouseout", event);
      }
    },
    wheel: function(event) {
      wheelEventSupported = true;
      event = normalizeEvent(this.dom, event);
      this.trigger("mousewheel", event);
    },
    mousewheel: function(event) {
      if (wheelEventSupported) {
        return;
      }
      event = normalizeEvent(this.dom, event);
      this.trigger("mousewheel", event);
    },
    touchstart: function(event) {
      event = normalizeEvent(this.dom, event);
      markTouch(event);
      this.__lastTouchMoment = new Date();
      this.handler.processGesture(event, "start");
      localDOMHandlers.mousemove.call(this, event);
      localDOMHandlers.mousedown.call(this, event);
    },
    touchmove: function(event) {
      event = normalizeEvent(this.dom, event);
      markTouch(event);
      this.handler.processGesture(event, "change");
      localDOMHandlers.mousemove.call(this, event);
    },
    touchend: function(event) {
      event = normalizeEvent(this.dom, event);
      markTouch(event);
      this.handler.processGesture(event, "end");
      localDOMHandlers.mouseup.call(this, event);
      if (+new Date() - +this.__lastTouchMoment < TOUCH_CLICK_DELAY) {
        localDOMHandlers.click.call(this, event);
      }
    },
    pointerdown: function(event) {
      localDOMHandlers.mousedown.call(this, event);
    },
    pointermove: function(event) {
      if (!isPointerFromTouch(event)) {
        localDOMHandlers.mousemove.call(this, event);
      }
    },
    pointerup: function(event) {
      localDOMHandlers.mouseup.call(this, event);
    },
    pointerout: function(event) {
      if (!isPointerFromTouch(event)) {
        localDOMHandlers.mouseout.call(this, event);
      }
    }
  };
  each$3(["click", "dblclick", "contextmenu"], function(name) {
    localDOMHandlers[name] = function(event) {
      event = normalizeEvent(this.dom, event);
      this.trigger(name, event);
    };
  });
  var globalDOMHandlers = {
    pointermove: function(event) {
      if (!isPointerFromTouch(event)) {
        globalDOMHandlers.mousemove.call(this, event);
      }
    },
    pointerup: function(event) {
      globalDOMHandlers.mouseup.call(this, event);
    },
    mousemove: function(event) {
      this.trigger("mousemove", event);
    },
    mouseup: function(event) {
      var pointerCaptureReleasing = this.__pointerCapturing;
      this.__togglePointerCapture(false);
      this.trigger("mouseup", event);
      if (pointerCaptureReleasing) {
        event.zrEventControl = "only_globalout";
        this.trigger("mouseout", event);
      }
    }
  };
  function mountLocalDOMEventListeners(instance, scope) {
    var domHandlers = scope.domHandlers;
    if (env$1.pointerEventsSupported) {
      each$3(localNativeListenerNames.pointer, function(nativeEventName) {
        mountSingleDOMEventListener(scope, nativeEventName, function(event) {
          domHandlers[nativeEventName].call(instance, event);
        });
      });
    } else {
      if (env$1.touchEventsSupported) {
        each$3(localNativeListenerNames.touch, function(nativeEventName) {
          mountSingleDOMEventListener(scope, nativeEventName, function(event) {
            domHandlers[nativeEventName].call(instance, event);
            setTouchTimer(scope);
          });
        });
      }
      each$3(localNativeListenerNames.mouse, function(nativeEventName) {
        mountSingleDOMEventListener(scope, nativeEventName, function(event) {
          event = getNativeEvent(event);
          if (!scope.touching) {
            domHandlers[nativeEventName].call(instance, event);
          }
        });
      });
    }
  }
  function mountGlobalDOMEventListeners(instance, scope) {
    if (env$1.pointerEventsSupported) {
      each$3(globalNativeListenerNames.pointer, mount);
    } else if (!env$1.touchEventsSupported) {
      each$3(globalNativeListenerNames.mouse, mount);
    }
    function mount(nativeEventName) {
      function nativeEventListener(event) {
        event = getNativeEvent(event);
        if (!isLocalEl(instance, event.target)) {
          event = normalizeGlobalEvent(instance, event);
          scope.domHandlers[nativeEventName].call(instance, event);
        }
      }
      mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, { capture: true });
    }
  }
  function mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {
    scope.mounted[nativeEventName] = listener;
    scope.listenerOpts[nativeEventName] = opt;
    addEventListener(scope.domTarget, nativeEventName, listener, opt);
  }
  function unmountDOMEventListeners(scope) {
    var mounted = scope.mounted;
    for (var nativeEventName in mounted) {
      if (mounted.hasOwnProperty(nativeEventName)) {
        removeEventListener(scope.domTarget, nativeEventName, mounted[nativeEventName], scope.listenerOpts[nativeEventName]);
      }
    }
    scope.mounted = {};
  }
  var DOMHandlerScope = function() {
    function DOMHandlerScope2(domTarget, domHandlers) {
      this.mounted = {};
      this.listenerOpts = {};
      this.touching = false;
      this.domTarget = domTarget;
      this.domHandlers = domHandlers;
    }
    return DOMHandlerScope2;
  }();
  var HandlerDomProxy = function(_super) {
    __extends(HandlerDomProxy2, _super);
    function HandlerDomProxy2(dom, painterRoot) {
      var _this = _super.call(this) || this;
      _this.__pointerCapturing = false;
      _this.dom = dom;
      _this.painterRoot = painterRoot;
      _this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);
      if (globalEventSupported) {
        _this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);
      }
      mountLocalDOMEventListeners(_this, _this._localHandlerScope);
      return _this;
    }
    HandlerDomProxy2.prototype.dispose = function() {
      unmountDOMEventListeners(this._localHandlerScope);
      if (globalEventSupported) {
        unmountDOMEventListeners(this._globalHandlerScope);
      }
    };
    HandlerDomProxy2.prototype.setCursor = function(cursorStyle) {
      this.dom.style && (this.dom.style.cursor = cursorStyle || "default");
    };
    HandlerDomProxy2.prototype.__togglePointerCapture = function(isPointerCapturing) {
      this.__mayPointerCapture = null;
      if (globalEventSupported && +this.__pointerCapturing ^ +isPointerCapturing) {
        this.__pointerCapturing = isPointerCapturing;
        var globalHandlerScope = this._globalHandlerScope;
        isPointerCapturing ? mountGlobalDOMEventListeners(this, globalHandlerScope) : unmountDOMEventListeners(globalHandlerScope);
      }
    };
    return HandlerDomProxy2;
  }(Eventful$1);
  var HandlerProxy = HandlerDomProxy;
  var dpr = 1;
  if (env$1.hasGlobalWindow) {
    dpr = Math.max(window.devicePixelRatio || window.screen && window.screen.deviceXDPI / window.screen.logicalXDPI || 1, 1);
  }
  var devicePixelRatio = dpr;
  var DARK_MODE_THRESHOLD = 0.4;
  var DARK_LABEL_COLOR = "#333";
  var LIGHT_LABEL_COLOR = "#ccc";
  var LIGHTER_LABEL_COLOR = "#eee";
  var mIdentity = identity;
  var EPSILON$2 = 5e-5;
  function isNotAroundZero(val) {
    return val > EPSILON$2 || val < -EPSILON$2;
  }
  var scaleTmp = [];
  var tmpTransform = [];
  var originTransform = create();
  var abs = Math.abs;
  var Transformable = function() {
    function Transformable2() {
    }
    Transformable2.prototype.getLocalTransform = function(m2) {
      return Transformable2.getLocalTransform(this, m2);
    };
    Transformable2.prototype.setPosition = function(arr) {
      this.x = arr[0];
      this.y = arr[1];
    };
    Transformable2.prototype.setScale = function(arr) {
      this.scaleX = arr[0];
      this.scaleY = arr[1];
    };
    Transformable2.prototype.setSkew = function(arr) {
      this.skewX = arr[0];
      this.skewY = arr[1];
    };
    Transformable2.prototype.setOrigin = function(arr) {
      this.originX = arr[0];
      this.originY = arr[1];
    };
    Transformable2.prototype.needLocalTransform = function() {
      return isNotAroundZero(this.rotation) || isNotAroundZero(this.x) || isNotAroundZero(this.y) || isNotAroundZero(this.scaleX - 1) || isNotAroundZero(this.scaleY - 1) || isNotAroundZero(this.skewX) || isNotAroundZero(this.skewY);
    };
    Transformable2.prototype.updateTransform = function() {
      var parentTransform = this.parent && this.parent.transform;
      var needLocalTransform = this.needLocalTransform();
      var m2 = this.transform;
      if (!(needLocalTransform || parentTransform)) {
        if (m2) {
          mIdentity(m2);
          this.invTransform = null;
        }
        return;
      }
      m2 = m2 || create();
      if (needLocalTransform) {
        this.getLocalTransform(m2);
      } else {
        mIdentity(m2);
      }
      if (parentTransform) {
        if (needLocalTransform) {
          mul(m2, parentTransform, m2);
        } else {
          copy(m2, parentTransform);
        }
      }
      this.transform = m2;
      this._resolveGlobalScaleRatio(m2);
    };
    Transformable2.prototype._resolveGlobalScaleRatio = function(m2) {
      var globalScaleRatio = this.globalScaleRatio;
      if (globalScaleRatio != null && globalScaleRatio !== 1) {
        this.getGlobalScale(scaleTmp);
        var relX = scaleTmp[0] < 0 ? -1 : 1;
        var relY = scaleTmp[1] < 0 ? -1 : 1;
        var sx = ((scaleTmp[0] - relX) * globalScaleRatio + relX) / scaleTmp[0] || 0;
        var sy = ((scaleTmp[1] - relY) * globalScaleRatio + relY) / scaleTmp[1] || 0;
        m2[0] *= sx;
        m2[1] *= sx;
        m2[2] *= sy;
        m2[3] *= sy;
      }
      this.invTransform = this.invTransform || create();
      invert(this.invTransform, m2);
    };
    Transformable2.prototype.getComputedTransform = function() {
      var transformNode = this;
      var ancestors = [];
      while (transformNode) {
        ancestors.push(transformNode);
        transformNode = transformNode.parent;
      }
      while (transformNode = ancestors.pop()) {
        transformNode.updateTransform();
      }
      return this.transform;
    };
    Transformable2.prototype.setLocalTransform = function(m2) {
      if (!m2) {
        return;
      }
      var sx = m2[0] * m2[0] + m2[1] * m2[1];
      var sy = m2[2] * m2[2] + m2[3] * m2[3];
      var rotation = Math.atan2(m2[1], m2[0]);
      var shearX = Math.PI / 2 + rotation - Math.atan2(m2[3], m2[2]);
      sy = Math.sqrt(sy) * Math.cos(shearX);
      sx = Math.sqrt(sx);
      this.skewX = shearX;
      this.skewY = 0;
      this.rotation = -rotation;
      this.x = +m2[4];
      this.y = +m2[5];
      this.scaleX = sx;
      this.scaleY = sy;
      this.originX = 0;
      this.originY = 0;
    };
    Transformable2.prototype.decomposeTransform = function() {
      if (!this.transform) {
        return;
      }
      var parent = this.parent;
      var m2 = this.transform;
      if (parent && parent.transform) {
        mul(tmpTransform, parent.invTransform, m2);
        m2 = tmpTransform;
      }
      var ox = this.originX;
      var oy = this.originY;
      if (ox || oy) {
        originTransform[4] = ox;
        originTransform[5] = oy;
        mul(tmpTransform, m2, originTransform);
        tmpTransform[4] -= ox;
        tmpTransform[5] -= oy;
        m2 = tmpTransform;
      }
      this.setLocalTransform(m2);
    };
    Transformable2.prototype.getGlobalScale = function(out2) {
      var m2 = this.transform;
      out2 = out2 || [];
      if (!m2) {
        out2[0] = 1;
        out2[1] = 1;
        return out2;
      }
      out2[0] = Math.sqrt(m2[0] * m2[0] + m2[1] * m2[1]);
      out2[1] = Math.sqrt(m2[2] * m2[2] + m2[3] * m2[3]);
      if (m2[0] < 0) {
        out2[0] = -out2[0];
      }
      if (m2[3] < 0) {
        out2[1] = -out2[1];
      }
      return out2;
    };
    Transformable2.prototype.transformCoordToLocal = function(x2, y) {
      var v2 = [x2, y];
      var invTransform = this.invTransform;
      if (invTransform) {
        applyTransform$1(v2, v2, invTransform);
      }
      return v2;
    };
    Transformable2.prototype.transformCoordToGlobal = function(x2, y) {
      var v2 = [x2, y];
      var transform = this.transform;
      if (transform) {
        applyTransform$1(v2, v2, transform);
      }
      return v2;
    };
    Transformable2.prototype.getLineScale = function() {
      var m2 = this.transform;
      return m2 && abs(m2[0] - 1) > 1e-10 && abs(m2[3] - 1) > 1e-10 ? Math.sqrt(abs(m2[0] * m2[3] - m2[2] * m2[1])) : 1;
    };
    Transformable2.prototype.copyTransform = function(source) {
      copyTransform(this, source);
    };
    Transformable2.getLocalTransform = function(target, m2) {
      m2 = m2 || [];
      var ox = target.originX || 0;
      var oy = target.originY || 0;
      var sx = target.scaleX;
      var sy = target.scaleY;
      var ax = target.anchorX;
      var ay = target.anchorY;
      var rotation = target.rotation || 0;
      var x2 = target.x;
      var y = target.y;
      var skewX = target.skewX ? Math.tan(target.skewX) : 0;
      var skewY = target.skewY ? Math.tan(-target.skewY) : 0;
      if (ox || oy || ax || ay) {
        var dx = ox + ax;
        var dy = oy + ay;
        m2[4] = -dx * sx - skewX * dy * sy;
        m2[5] = -dy * sy - skewY * dx * sx;
      } else {
        m2[4] = m2[5] = 0;
      }
      m2[0] = sx;
      m2[3] = sy;
      m2[1] = skewY * sx;
      m2[2] = skewX * sy;
      rotation && rotate(m2, m2, rotation);
      m2[4] += ox + x2;
      m2[5] += oy + y;
      return m2;
    };
    Transformable2.initDefaultProps = function() {
      var proto2 = Transformable2.prototype;
      proto2.scaleX = proto2.scaleY = proto2.globalScaleRatio = 1;
      proto2.x = proto2.y = proto2.originX = proto2.originY = proto2.skewX = proto2.skewY = proto2.rotation = proto2.anchorX = proto2.anchorY = 0;
    }();
    return Transformable2;
  }();
  var TRANSFORMABLE_PROPS = [
    "x",
    "y",
    "originX",
    "originY",
    "anchorX",
    "anchorY",
    "rotation",
    "scaleX",
    "scaleY",
    "skewX",
    "skewY"
  ];
  function copyTransform(target, source) {
    for (var i2 = 0; i2 < TRANSFORMABLE_PROPS.length; i2++) {
      var propName = TRANSFORMABLE_PROPS[i2];
      target[propName] = source[propName];
    }
  }
  var Transformable$1 = Transformable;
  var textWidthCache = {};
  function getWidth(text, font) {
    font = font || DEFAULT_FONT;
    var cacheOfFont = textWidthCache[font];
    if (!cacheOfFont) {
      cacheOfFont = textWidthCache[font] = new LRU$1(500);
    }
    var width = cacheOfFont.get(text);
    if (width == null) {
      width = platformApi.measureText(text, font).width;
      cacheOfFont.put(text, width);
    }
    return width;
  }
  function innerGetBoundingRect(text, font, textAlign, textBaseline) {
    var width = getWidth(text, font);
    var height = getLineHeight(font);
    var x2 = adjustTextX(0, width, textAlign);
    var y = adjustTextY(0, height, textBaseline);
    var rect = new BoundingRect$1(x2, y, width, height);
    return rect;
  }
  function getBoundingRect(text, font, textAlign, textBaseline) {
    var textLines = ((text || "") + "").split("\n");
    var len2 = textLines.length;
    if (len2 === 1) {
      return innerGetBoundingRect(textLines[0], font, textAlign, textBaseline);
    } else {
      var uniondRect = new BoundingRect$1(0, 0, 0, 0);
      for (var i2 = 0; i2 < textLines.length; i2++) {
        var rect = innerGetBoundingRect(textLines[i2], font, textAlign, textBaseline);
        i2 === 0 ? uniondRect.copy(rect) : uniondRect.union(rect);
      }
      return uniondRect;
    }
  }
  function adjustTextX(x2, width, textAlign) {
    if (textAlign === "right") {
      x2 -= width;
    } else if (textAlign === "center") {
      x2 -= width / 2;
    }
    return x2;
  }
  function adjustTextY(y, height, verticalAlign) {
    if (verticalAlign === "middle") {
      y -= height / 2;
    } else if (verticalAlign === "bottom") {
      y -= height;
    }
    return y;
  }
  function getLineHeight(font) {
    return getWidth("\u56FD", font);
  }
  function parsePercent$1(value, maxValue) {
    if (typeof value === "string") {
      if (value.lastIndexOf("%") >= 0) {
        return parseFloat(value) / 100 * maxValue;
      }
      return parseFloat(value);
    }
    return value;
  }
  function calculateTextPosition(out2, opts, rect) {
    var textPosition = opts.position || "inside";
    var distance2 = opts.distance != null ? opts.distance : 5;
    var height = rect.height;
    var width = rect.width;
    var halfHeight = height / 2;
    var x2 = rect.x;
    var y = rect.y;
    var textAlign = "left";
    var textVerticalAlign = "top";
    if (textPosition instanceof Array) {
      x2 += parsePercent$1(textPosition[0], rect.width);
      y += parsePercent$1(textPosition[1], rect.height);
      textAlign = null;
      textVerticalAlign = null;
    } else {
      switch (textPosition) {
        case "left":
          x2 -= distance2;
          y += halfHeight;
          textAlign = "right";
          textVerticalAlign = "middle";
          break;
        case "right":
          x2 += distance2 + width;
          y += halfHeight;
          textVerticalAlign = "middle";
          break;
        case "top":
          x2 += width / 2;
          y -= distance2;
          textAlign = "center";
          textVerticalAlign = "bottom";
          break;
        case "bottom":
          x2 += width / 2;
          y += height + distance2;
          textAlign = "center";
          break;
        case "inside":
          x2 += width / 2;
          y += halfHeight;
          textAlign = "center";
          textVerticalAlign = "middle";
          break;
        case "insideLeft":
          x2 += distance2;
          y += halfHeight;
          textVerticalAlign = "middle";
          break;
        case "insideRight":
          x2 += width - distance2;
          y += halfHeight;
          textAlign = "right";
          textVerticalAlign = "middle";
          break;
        case "insideTop":
          x2 += width / 2;
          y += distance2;
          textAlign = "center";
          break;
        case "insideBottom":
          x2 += width / 2;
          y += height - distance2;
          textAlign = "center";
          textVerticalAlign = "bottom";
          break;
        case "insideTopLeft":
          x2 += distance2;
          y += distance2;
          break;
        case "insideTopRight":
          x2 += width - distance2;
          y += distance2;
          textAlign = "right";
          break;
        case "insideBottomLeft":
          x2 += distance2;
          y += height - distance2;
          textVerticalAlign = "bottom";
          break;
        case "insideBottomRight":
          x2 += width - distance2;
          y += height - distance2;
          textAlign = "right";
          textVerticalAlign = "bottom";
          break;
      }
    }
    out2 = out2 || {};
    out2.x = x2;
    out2.y = y;
    out2.align = textAlign;
    out2.verticalAlign = textVerticalAlign;
    return out2;
  }
  var PRESERVED_NORMAL_STATE = "__zr_normal__";
  var PRIMARY_STATES_KEYS$1 = TRANSFORMABLE_PROPS.concat(["ignore"]);
  var DEFAULT_ANIMATABLE_MAP = reduce(TRANSFORMABLE_PROPS, function(obj, key) {
    obj[key] = true;
    return obj;
  }, { ignore: false });
  var tmpTextPosCalcRes = {};
  var tmpBoundingRect = new BoundingRect$1(0, 0, 0, 0);
  var Element = function() {
    function Element2(props) {
      this.id = guid();
      this.animators = [];
      this.currentStates = [];
      this.states = {};
      this._init(props);
    }
    Element2.prototype._init = function(props) {
      this.attr(props);
    };
    Element2.prototype.drift = function(dx, dy, e2) {
      switch (this.draggable) {
        case "horizontal":
          dy = 0;
          break;
        case "vertical":
          dx = 0;
          break;
      }
      var m2 = this.transform;
      if (!m2) {
        m2 = this.transform = [1, 0, 0, 1, 0, 0];
      }
      m2[4] += dx;
      m2[5] += dy;
      this.decomposeTransform();
      this.markRedraw();
    };
    Element2.prototype.beforeUpdate = function() {
    };
    Element2.prototype.afterUpdate = function() {
    };
    Element2.prototype.update = function() {
      this.updateTransform();
      if (this.__dirty) {
        this.updateInnerText();
      }
    };
    Element2.prototype.updateInnerText = function(forceUpdate) {
      var textEl = this._textContent;
      if (textEl && (!textEl.ignore || forceUpdate)) {
        if (!this.textConfig) {
          this.textConfig = {};
        }
        var textConfig = this.textConfig;
        var isLocal = textConfig.local;
        var innerTransformable = textEl.innerTransformable;
        var textAlign = void 0;
        var textVerticalAlign = void 0;
        var textStyleChanged = false;
        innerTransformable.parent = isLocal ? this : null;
        var innerOrigin = false;
        innerTransformable.copyTransform(textEl);
        if (textConfig.position != null) {
          var layoutRect = tmpBoundingRect;
          if (textConfig.layoutRect) {
            layoutRect.copy(textConfig.layoutRect);
          } else {
            layoutRect.copy(this.getBoundingRect());
          }
          if (!isLocal) {
            layoutRect.applyTransform(this.transform);
          }
          if (this.calculateTextPosition) {
            this.calculateTextPosition(tmpTextPosCalcRes, textConfig, layoutRect);
          } else {
            calculateTextPosition(tmpTextPosCalcRes, textConfig, layoutRect);
          }
          innerTransformable.x = tmpTextPosCalcRes.x;
          innerTransformable.y = tmpTextPosCalcRes.y;
          textAlign = tmpTextPosCalcRes.align;
          textVerticalAlign = tmpTextPosCalcRes.verticalAlign;
          var textOrigin = textConfig.origin;
          if (textOrigin && textConfig.rotation != null) {
            var relOriginX = void 0;
            var relOriginY = void 0;
            if (textOrigin === "center") {
              relOriginX = layoutRect.width * 0.5;
              relOriginY = layoutRect.height * 0.5;
            } else {
              relOriginX = parsePercent$1(textOrigin[0], layoutRect.width);
              relOriginY = parsePercent$1(textOrigin[1], layoutRect.height);
            }
            innerOrigin = true;
            innerTransformable.originX = -innerTransformable.x + relOriginX + (isLocal ? 0 : layoutRect.x);
            innerTransformable.originY = -innerTransformable.y + relOriginY + (isLocal ? 0 : layoutRect.y);
          }
        }
        if (textConfig.rotation != null) {
          innerTransformable.rotation = textConfig.rotation;
        }
        var textOffset = textConfig.offset;
        if (textOffset) {
          innerTransformable.x += textOffset[0];
          innerTransformable.y += textOffset[1];
          if (!innerOrigin) {
            innerTransformable.originX = -textOffset[0];
            innerTransformable.originY = -textOffset[1];
          }
        }
        var isInside = textConfig.inside == null ? typeof textConfig.position === "string" && textConfig.position.indexOf("inside") >= 0 : textConfig.inside;
        var innerTextDefaultStyle = this._innerTextDefaultStyle || (this._innerTextDefaultStyle = {});
        var textFill = void 0;
        var textStroke = void 0;
        var autoStroke = void 0;
        if (isInside && this.canBeInsideText()) {
          textFill = textConfig.insideFill;
          textStroke = textConfig.insideStroke;
          if (textFill == null || textFill === "auto") {
            textFill = this.getInsideTextFill();
          }
          if (textStroke == null || textStroke === "auto") {
            textStroke = this.getInsideTextStroke(textFill);
            autoStroke = true;
          }
        } else {
          textFill = textConfig.outsideFill;
          textStroke = textConfig.outsideStroke;
          if (textFill == null || textFill === "auto") {
            textFill = this.getOutsideFill();
          }
          if (textStroke == null || textStroke === "auto") {
            textStroke = this.getOutsideStroke(textFill);
            autoStroke = true;
          }
        }
        textFill = textFill || "#000";
        if (textFill !== innerTextDefaultStyle.fill || textStroke !== innerTextDefaultStyle.stroke || autoStroke !== innerTextDefaultStyle.autoStroke || textAlign !== innerTextDefaultStyle.align || textVerticalAlign !== innerTextDefaultStyle.verticalAlign) {
          textStyleChanged = true;
          innerTextDefaultStyle.fill = textFill;
          innerTextDefaultStyle.stroke = textStroke;
          innerTextDefaultStyle.autoStroke = autoStroke;
          innerTextDefaultStyle.align = textAlign;
          innerTextDefaultStyle.verticalAlign = textVerticalAlign;
          textEl.setDefaultTextStyle(innerTextDefaultStyle);
        }
        textEl.__dirty |= REDRAW_BIT;
        if (textStyleChanged) {
          textEl.dirtyStyle(true);
        }
      }
    };
    Element2.prototype.canBeInsideText = function() {
      return true;
    };
    Element2.prototype.getInsideTextFill = function() {
      return "#fff";
    };
    Element2.prototype.getInsideTextStroke = function(textFill) {
      return "#000";
    };
    Element2.prototype.getOutsideFill = function() {
      return this.__zr && this.__zr.isDarkMode() ? LIGHT_LABEL_COLOR : DARK_LABEL_COLOR;
    };
    Element2.prototype.getOutsideStroke = function(textFill) {
      var backgroundColor2 = this.__zr && this.__zr.getBackgroundColor();
      var colorArr = typeof backgroundColor2 === "string" && parse(backgroundColor2);
      if (!colorArr) {
        colorArr = [255, 255, 255, 1];
      }
      var alpha = colorArr[3];
      var isDark = this.__zr.isDarkMode();
      for (var i2 = 0; i2 < 3; i2++) {
        colorArr[i2] = colorArr[i2] * alpha + (isDark ? 0 : 255) * (1 - alpha);
      }
      colorArr[3] = 1;
      return stringify(colorArr, "rgba");
    };
    Element2.prototype.traverse = function(cb, context) {
    };
    Element2.prototype.attrKV = function(key, value) {
      if (key === "textConfig") {
        this.setTextConfig(value);
      } else if (key === "textContent") {
        this.setTextContent(value);
      } else if (key === "clipPath") {
        this.setClipPath(value);
      } else if (key === "extra") {
        this.extra = this.extra || {};
        extend(this.extra, value);
      } else {
        this[key] = value;
      }
    };
    Element2.prototype.hide = function() {
      this.ignore = true;
      this.markRedraw();
    };
    Element2.prototype.show = function() {
      this.ignore = false;
      this.markRedraw();
    };
    Element2.prototype.attr = function(keyOrObj, value) {
      if (typeof keyOrObj === "string") {
        this.attrKV(keyOrObj, value);
      } else if (isObject$2(keyOrObj)) {
        var obj = keyOrObj;
        var keysArr = keys(obj);
        for (var i2 = 0; i2 < keysArr.length; i2++) {
          var key = keysArr[i2];
          this.attrKV(key, keyOrObj[key]);
        }
      }
      this.markRedraw();
      return this;
    };
    Element2.prototype.saveCurrentToNormalState = function(toState) {
      this._innerSaveToNormal(toState);
      var normalState = this._normalState;
      for (var i2 = 0; i2 < this.animators.length; i2++) {
        var animator = this.animators[i2];
        var fromStateTransition = animator.__fromStateTransition;
        if (animator.getLoop() || fromStateTransition && fromStateTransition !== PRESERVED_NORMAL_STATE) {
          continue;
        }
        var targetName = animator.targetName;
        var target = targetName ? normalState[targetName] : normalState;
        animator.saveTo(target);
      }
    };
    Element2.prototype._innerSaveToNormal = function(toState) {
      var normalState = this._normalState;
      if (!normalState) {
        normalState = this._normalState = {};
      }
      if (toState.textConfig && !normalState.textConfig) {
        normalState.textConfig = this.textConfig;
      }
      this._savePrimaryToNormal(toState, normalState, PRIMARY_STATES_KEYS$1);
    };
    Element2.prototype._savePrimaryToNormal = function(toState, normalState, primaryKeys) {
      for (var i2 = 0; i2 < primaryKeys.length; i2++) {
        var key = primaryKeys[i2];
        if (toState[key] != null && !(key in normalState)) {
          normalState[key] = this[key];
        }
      }
    };
    Element2.prototype.hasState = function() {
      return this.currentStates.length > 0;
    };
    Element2.prototype.getState = function(name) {
      return this.states[name];
    };
    Element2.prototype.ensureState = function(name) {
      var states = this.states;
      if (!states[name]) {
        states[name] = {};
      }
      return states[name];
    };
    Element2.prototype.clearStates = function(noAnimation) {
      this.useState(PRESERVED_NORMAL_STATE, false, noAnimation);
    };
    Element2.prototype.useState = function(stateName, keepCurrentStates, noAnimation, forceUseHoverLayer) {
      var toNormalState = stateName === PRESERVED_NORMAL_STATE;
      var hasStates = this.hasState();
      if (!hasStates && toNormalState) {
        return;
      }
      var currentStates = this.currentStates;
      var animationCfg = this.stateTransition;
      if (indexOf(currentStates, stateName) >= 0 && (keepCurrentStates || currentStates.length === 1)) {
        return;
      }
      var state;
      if (this.stateProxy && !toNormalState) {
        state = this.stateProxy(stateName);
      }
      if (!state) {
        state = this.states && this.states[stateName];
      }
      if (!state && !toNormalState) {
        logError("State " + stateName + " not exists.");
        return;
      }
      if (!toNormalState) {
        this.saveCurrentToNormalState(state);
      }
      var useHoverLayer = !!(state && state.hoverLayer || forceUseHoverLayer);
      if (useHoverLayer) {
        this._toggleHoverLayerFlag(true);
      }
      this._applyStateObj(stateName, state, this._normalState, keepCurrentStates, !noAnimation && !this.__inHover && animationCfg && animationCfg.duration > 0, animationCfg);
      var textContent = this._textContent;
      var textGuide = this._textGuide;
      if (textContent) {
        textContent.useState(stateName, keepCurrentStates, noAnimation, useHoverLayer);
      }
      if (textGuide) {
        textGuide.useState(stateName, keepCurrentStates, noAnimation, useHoverLayer);
      }
      if (toNormalState) {
        this.currentStates = [];
        this._normalState = {};
      } else {
        if (!keepCurrentStates) {
          this.currentStates = [stateName];
        } else {
          this.currentStates.push(stateName);
        }
      }
      this._updateAnimationTargets();
      this.markRedraw();
      if (!useHoverLayer && this.__inHover) {
        this._toggleHoverLayerFlag(false);
        this.__dirty &= ~REDRAW_BIT;
      }
      return state;
    };
    Element2.prototype.useStates = function(states, noAnimation, forceUseHoverLayer) {
      if (!states.length) {
        this.clearStates();
      } else {
        var stateObjects = [];
        var currentStates = this.currentStates;
        var len2 = states.length;
        var notChange = len2 === currentStates.length;
        if (notChange) {
          for (var i2 = 0; i2 < len2; i2++) {
            if (states[i2] !== currentStates[i2]) {
              notChange = false;
              break;
            }
          }
        }
        if (notChange) {
          return;
        }
        for (var i2 = 0; i2 < len2; i2++) {
          var stateName = states[i2];
          var stateObj = void 0;
          if (this.stateProxy) {
            stateObj = this.stateProxy(stateName, states);
          }
          if (!stateObj) {
            stateObj = this.states[stateName];
          }
          if (stateObj) {
            stateObjects.push(stateObj);
          }
        }
        var lastStateObj = stateObjects[len2 - 1];
        var useHoverLayer = !!(lastStateObj && lastStateObj.hoverLayer || forceUseHoverLayer);
        if (useHoverLayer) {
          this._toggleHoverLayerFlag(true);
        }
        var mergedState = this._mergeStates(stateObjects);
        var animationCfg = this.stateTransition;
        this.saveCurrentToNormalState(mergedState);
        this._applyStateObj(states.join(","), mergedState, this._normalState, false, !noAnimation && !this.__inHover && animationCfg && animationCfg.duration > 0, animationCfg);
        var textContent = this._textContent;
        var textGuide = this._textGuide;
        if (textContent) {
          textContent.useStates(states, noAnimation, useHoverLayer);
        }
        if (textGuide) {
          textGuide.useStates(states, noAnimation, useHoverLayer);
        }
        this._updateAnimationTargets();
        this.currentStates = states.slice();
        this.markRedraw();
        if (!useHoverLayer && this.__inHover) {
          this._toggleHoverLayerFlag(false);
          this.__dirty &= ~REDRAW_BIT;
        }
      }
    };
    Element2.prototype._updateAnimationTargets = function() {
      for (var i2 = 0; i2 < this.animators.length; i2++) {
        var animator = this.animators[i2];
        if (animator.targetName) {
          animator.changeTarget(this[animator.targetName]);
        }
      }
    };
    Element2.prototype.removeState = function(state) {
      var idx = indexOf(this.currentStates, state);
      if (idx >= 0) {
        var currentStates = this.currentStates.slice();
        currentStates.splice(idx, 1);
        this.useStates(currentStates);
      }
    };
    Element2.prototype.replaceState = function(oldState, newState, forceAdd) {
      var currentStates = this.currentStates.slice();
      var idx = indexOf(currentStates, oldState);
      var newStateExists = indexOf(currentStates, newState) >= 0;
      if (idx >= 0) {
        if (!newStateExists) {
          currentStates[idx] = newState;
        } else {
          currentStates.splice(idx, 1);
        }
      } else if (forceAdd && !newStateExists) {
        currentStates.push(newState);
      }
      this.useStates(currentStates);
    };
    Element2.prototype.toggleState = function(state, enable) {
      if (enable) {
        this.useState(state, true);
      } else {
        this.removeState(state);
      }
    };
    Element2.prototype._mergeStates = function(states) {
      var mergedState = {};
      var mergedTextConfig;
      for (var i2 = 0; i2 < states.length; i2++) {
        var state = states[i2];
        extend(mergedState, state);
        if (state.textConfig) {
          mergedTextConfig = mergedTextConfig || {};
          extend(mergedTextConfig, state.textConfig);
        }
      }
      if (mergedTextConfig) {
        mergedState.textConfig = mergedTextConfig;
      }
      return mergedState;
    };
    Element2.prototype._applyStateObj = function(stateName, state, normalState, keepCurrentStates, transition, animationCfg) {
      var needsRestoreToNormal = !(state && keepCurrentStates);
      if (state && state.textConfig) {
        this.textConfig = extend({}, keepCurrentStates ? this.textConfig : normalState.textConfig);
        extend(this.textConfig, state.textConfig);
      } else if (needsRestoreToNormal) {
        if (normalState.textConfig) {
          this.textConfig = normalState.textConfig;
        }
      }
      var transitionTarget = {};
      var hasTransition = false;
      for (var i2 = 0; i2 < PRIMARY_STATES_KEYS$1.length; i2++) {
        var key = PRIMARY_STATES_KEYS$1[i2];
        var propNeedsTransition = transition && DEFAULT_ANIMATABLE_MAP[key];
        if (state && state[key] != null) {
          if (propNeedsTransition) {
            hasTransition = true;
            transitionTarget[key] = state[key];
          } else {
            this[key] = state[key];
          }
        } else if (needsRestoreToNormal) {
          if (normalState[key] != null) {
            if (propNeedsTransition) {
              hasTransition = true;
              transitionTarget[key] = normalState[key];
            } else {
              this[key] = normalState[key];
            }
          }
        }
      }
      if (!transition) {
        for (var i2 = 0; i2 < this.animators.length; i2++) {
          var animator = this.animators[i2];
          var targetName = animator.targetName;
          if (!animator.getLoop()) {
            animator.__changeFinalValue(targetName ? (state || normalState)[targetName] : state || normalState);
          }
        }
      }
      if (hasTransition) {
        this._transitionState(stateName, transitionTarget, animationCfg);
      }
    };
    Element2.prototype._attachComponent = function(componentEl) {
      if (componentEl.__zr && !componentEl.__hostTarget) {
        {
          throw new Error("Text element has been added to zrender.");
        }
      }
      if (componentEl === this) {
        {
          throw new Error("Recursive component attachment.");
        }
      }
      var zr = this.__zr;
      if (zr) {
        componentEl.addSelfToZr(zr);
      }
      componentEl.__zr = zr;
      componentEl.__hostTarget = this;
    };
    Element2.prototype._detachComponent = function(componentEl) {
      if (componentEl.__zr) {
        componentEl.removeSelfFromZr(componentEl.__zr);
      }
      componentEl.__zr = null;
      componentEl.__hostTarget = null;
    };
    Element2.prototype.getClipPath = function() {
      return this._clipPath;
    };
    Element2.prototype.setClipPath = function(clipPath) {
      if (this._clipPath && this._clipPath !== clipPath) {
        this.removeClipPath();
      }
      this._attachComponent(clipPath);
      this._clipPath = clipPath;
      this.markRedraw();
    };
    Element2.prototype.removeClipPath = function() {
      var clipPath = this._clipPath;
      if (clipPath) {
        this._detachComponent(clipPath);
        this._clipPath = null;
        this.markRedraw();
      }
    };
    Element2.prototype.getTextContent = function() {
      return this._textContent;
    };
    Element2.prototype.setTextContent = function(textEl) {
      var previousTextContent = this._textContent;
      if (previousTextContent === textEl) {
        return;
      }
      if (previousTextContent && previousTextContent !== textEl) {
        this.removeTextContent();
      }
      {
        if (textEl.__zr && !textEl.__hostTarget) {
          throw new Error("Text element has been added to zrender.");
        }
      }
      textEl.innerTransformable = new Transformable$1();
      this._attachComponent(textEl);
      this._textContent = textEl;
      this.markRedraw();
    };
    Element2.prototype.setTextConfig = function(cfg) {
      if (!this.textConfig) {
        this.textConfig = {};
      }
      extend(this.textConfig, cfg);
      this.markRedraw();
    };
    Element2.prototype.removeTextConfig = function() {
      this.textConfig = null;
      this.markRedraw();
    };
    Element2.prototype.removeTextContent = function() {
      var textEl = this._textContent;
      if (textEl) {
        textEl.innerTransformable = null;
        this._detachComponent(textEl);
        this._textContent = null;
        this._innerTextDefaultStyle = null;
        this.markRedraw();
      }
    };
    Element2.prototype.getTextGuideLine = function() {
      return this._textGuide;
    };
    Element2.prototype.setTextGuideLine = function(guideLine) {
      if (this._textGuide && this._textGuide !== guideLine) {
        this.removeTextGuideLine();
      }
      this._attachComponent(guideLine);
      this._textGuide = guideLine;
      this.markRedraw();
    };
    Element2.prototype.removeTextGuideLine = function() {
      var textGuide = this._textGuide;
      if (textGuide) {
        this._detachComponent(textGuide);
        this._textGuide = null;
        this.markRedraw();
      }
    };
    Element2.prototype.markRedraw = function() {
      this.__dirty |= REDRAW_BIT;
      var zr = this.__zr;
      if (zr) {
        if (this.__inHover) {
          zr.refreshHover();
        } else {
          zr.refresh();
        }
      }
      if (this.__hostTarget) {
        this.__hostTarget.markRedraw();
      }
    };
    Element2.prototype.dirty = function() {
      this.markRedraw();
    };
    Element2.prototype._toggleHoverLayerFlag = function(inHover) {
      this.__inHover = inHover;
      var textContent = this._textContent;
      var textGuide = this._textGuide;
      if (textContent) {
        textContent.__inHover = inHover;
      }
      if (textGuide) {
        textGuide.__inHover = inHover;
      }
    };
    Element2.prototype.addSelfToZr = function(zr) {
      if (this.__zr === zr) {
        return;
      }
      this.__zr = zr;
      var animators = this.animators;
      if (animators) {
        for (var i2 = 0; i2 < animators.length; i2++) {
          zr.animation.addAnimator(animators[i2]);
        }
      }
      if (this._clipPath) {
        this._clipPath.addSelfToZr(zr);
      }
      if (this._textContent) {
        this._textContent.addSelfToZr(zr);
      }
      if (this._textGuide) {
        this._textGuide.addSelfToZr(zr);
      }
    };
    Element2.prototype.removeSelfFromZr = function(zr) {
      if (!this.__zr) {
        return;
      }
      this.__zr = null;
      var animators = this.animators;
      if (animators) {
        for (var i2 = 0; i2 < animators.length; i2++) {
          zr.animation.removeAnimator(animators[i2]);
        }
      }
      if (this._clipPath) {
        this._clipPath.removeSelfFromZr(zr);
      }
      if (this._textContent) {
        this._textContent.removeSelfFromZr(zr);
      }
      if (this._textGuide) {
        this._textGuide.removeSelfFromZr(zr);
      }
    };
    Element2.prototype.animate = function(key, loop, allowDiscreteAnimation) {
      var target = key ? this[key] : this;
      {
        if (!target) {
          logError('Property "' + key + '" is not existed in element ' + this.id);
          return;
        }
      }
      var animator = new Animator$1(target, loop, allowDiscreteAnimation);
      key && (animator.targetName = key);
      this.addAnimator(animator, key);
      return animator;
    };
    Element2.prototype.addAnimator = function(animator, key) {
      var zr = this.__zr;
      var el = this;
      animator.during(function() {
        el.updateDuringAnimation(key);
      }).done(function() {
        var animators = el.animators;
        var idx = indexOf(animators, animator);
        if (idx >= 0) {
          animators.splice(idx, 1);
        }
      });
      this.animators.push(animator);
      if (zr) {
        zr.animation.addAnimator(animator);
      }
      zr && zr.wakeUp();
    };
    Element2.prototype.updateDuringAnimation = function(key) {
      this.markRedraw();
    };
    Element2.prototype.stopAnimation = function(scope, forwardToLast) {
      var animators = this.animators;
      var len2 = animators.length;
      var leftAnimators = [];
      for (var i2 = 0; i2 < len2; i2++) {
        var animator = animators[i2];
        if (!scope || scope === animator.scope) {
          animator.stop(forwardToLast);
        } else {
          leftAnimators.push(animator);
        }
      }
      this.animators = leftAnimators;
      return this;
    };
    Element2.prototype.animateTo = function(target, cfg, animationProps) {
      animateTo(this, target, cfg, animationProps);
    };
    Element2.prototype.animateFrom = function(target, cfg, animationProps) {
      animateTo(this, target, cfg, animationProps, true);
    };
    Element2.prototype._transitionState = function(stateName, target, cfg, animationProps) {
      var animators = animateTo(this, target, cfg, animationProps);
      for (var i2 = 0; i2 < animators.length; i2++) {
        animators[i2].__fromStateTransition = stateName;
      }
    };
    Element2.prototype.getBoundingRect = function() {
      return null;
    };
    Element2.prototype.getPaintRect = function() {
      return null;
    };
    Element2.initDefaultProps = function() {
      var elProto = Element2.prototype;
      elProto.type = "element";
      elProto.name = "";
      elProto.ignore = elProto.silent = elProto.isGroup = elProto.draggable = elProto.dragging = elProto.ignoreClip = elProto.__inHover = false;
      elProto.__dirty = REDRAW_BIT;
      var logs = {};
      function logDeprecatedError(key, xKey, yKey) {
        if (!logs[key + xKey + yKey]) {
          formatAppLog("warn", "at node_modules/zrender/lib/Element.js:776", "DEPRECATED: '" + key + "' has been deprecated. use '" + xKey + "', '" + yKey + "' instead");
          logs[key + xKey + yKey] = true;
        }
      }
      function createLegacyProperty(key, privateKey, xKey, yKey) {
        Object.defineProperty(elProto, key, {
          get: function() {
            {
              logDeprecatedError(key, xKey, yKey);
            }
            if (!this[privateKey]) {
              var pos = this[privateKey] = [];
              enhanceArray(this, pos);
            }
            return this[privateKey];
          },
          set: function(pos) {
            {
              logDeprecatedError(key, xKey, yKey);
            }
            this[xKey] = pos[0];
            this[yKey] = pos[1];
            this[privateKey] = pos;
            enhanceArray(this, pos);
          }
        });
        function enhanceArray(self2, pos) {
          Object.defineProperty(pos, 0, {
            get: function() {
              return self2[xKey];
            },
            set: function(val) {
              self2[xKey] = val;
            }
          });
          Object.defineProperty(pos, 1, {
            get: function() {
              return self2[yKey];
            },
            set: function(val) {
              self2[yKey] = val;
            }
          });
        }
      }
      if (Object.defineProperty) {
        createLegacyProperty("position", "_legacyPos", "x", "y");
        createLegacyProperty("scale", "_legacyScale", "scaleX", "scaleY");
        createLegacyProperty("origin", "_legacyOrigin", "originX", "originY");
      }
    }();
    return Element2;
  }();
  mixin(Element, Eventful$1);
  mixin(Element, Transformable$1);
  function animateTo(animatable, target, cfg, animationProps, reverse) {
    cfg = cfg || {};
    var animators = [];
    animateToShallow(animatable, "", animatable, target, cfg, animationProps, animators, reverse);
    var finishCount = animators.length;
    var doneHappened = false;
    var cfgDone = cfg.done;
    var cfgAborted = cfg.aborted;
    var doneCb = function() {
      doneHappened = true;
      finishCount--;
      if (finishCount <= 0) {
        doneHappened ? cfgDone && cfgDone() : cfgAborted && cfgAborted();
      }
    };
    var abortedCb = function() {
      finishCount--;
      if (finishCount <= 0) {
        doneHappened ? cfgDone && cfgDone() : cfgAborted && cfgAborted();
      }
    };
    if (!finishCount) {
      cfgDone && cfgDone();
    }
    if (animators.length > 0 && cfg.during) {
      animators[0].during(function(target2, percent) {
        cfg.during(percent);
      });
    }
    for (var i2 = 0; i2 < animators.length; i2++) {
      var animator = animators[i2];
      if (doneCb) {
        animator.done(doneCb);
      }
      if (abortedCb) {
        animator.aborted(abortedCb);
      }
      if (cfg.force) {
        animator.duration(cfg.duration);
      }
      animator.start(cfg.easing);
    }
    return animators;
  }
  function copyArrShallow(source, target, len2) {
    for (var i2 = 0; i2 < len2; i2++) {
      source[i2] = target[i2];
    }
  }
  function is2DArray(value) {
    return isArrayLike(value[0]);
  }
  function copyValue(target, source, key) {
    if (isArrayLike(source[key])) {
      if (!isArrayLike(target[key])) {
        target[key] = [];
      }
      if (isTypedArray(source[key])) {
        var len2 = source[key].length;
        if (target[key].length !== len2) {
          target[key] = new source[key].constructor(len2);
          copyArrShallow(target[key], source[key], len2);
        }
      } else {
        var sourceArr = source[key];
        var targetArr = target[key];
        var len0 = sourceArr.length;
        if (is2DArray(sourceArr)) {
          var len1 = sourceArr[0].length;
          for (var i2 = 0; i2 < len0; i2++) {
            if (!targetArr[i2]) {
              targetArr[i2] = Array.prototype.slice.call(sourceArr[i2]);
            } else {
              copyArrShallow(targetArr[i2], sourceArr[i2], len1);
            }
          }
        } else {
          copyArrShallow(targetArr, sourceArr, len0);
        }
        targetArr.length = sourceArr.length;
      }
    } else {
      target[key] = source[key];
    }
  }
  function isValueSame(val1, val2) {
    return val1 === val2 || isArrayLike(val1) && isArrayLike(val2) && is1DArraySame(val1, val2);
  }
  function is1DArraySame(arr0, arr1) {
    var len2 = arr0.length;
    if (len2 !== arr1.length) {
      return false;
    }
    for (var i2 = 0; i2 < len2; i2++) {
      if (arr0[i2] !== arr1[i2]) {
        return false;
      }
    }
    return true;
  }
  function animateToShallow(animatable, topKey, animateObj, target, cfg, animationProps, animators, reverse) {
    var targetKeys = keys(target);
    var duration = cfg.duration;
    var delay = cfg.delay;
    var additive = cfg.additive;
    var setToFinal = cfg.setToFinal;
    var animateAll = !isObject$2(animationProps);
    var existsAnimators = animatable.animators;
    var animationKeys = [];
    for (var k2 = 0; k2 < targetKeys.length; k2++) {
      var innerKey = targetKeys[k2];
      var targetVal = target[innerKey];
      if (targetVal != null && animateObj[innerKey] != null && (animateAll || animationProps[innerKey])) {
        if (isObject$2(targetVal) && !isArrayLike(targetVal) && !isGradientObject(targetVal)) {
          if (topKey) {
            if (!reverse) {
              animateObj[innerKey] = targetVal;
              animatable.updateDuringAnimation(topKey);
            }
            continue;
          }
          animateToShallow(animatable, innerKey, animateObj[innerKey], targetVal, cfg, animationProps && animationProps[innerKey], animators, reverse);
        } else {
          animationKeys.push(innerKey);
        }
      } else if (!reverse) {
        animateObj[innerKey] = targetVal;
        animatable.updateDuringAnimation(topKey);
        animationKeys.push(innerKey);
      }
    }
    var keyLen = animationKeys.length;
    if (!additive && keyLen) {
      for (var i2 = 0; i2 < existsAnimators.length; i2++) {
        var animator = existsAnimators[i2];
        if (animator.targetName === topKey) {
          var allAborted = animator.stopTracks(animationKeys);
          if (allAborted) {
            var idx = indexOf(existsAnimators, animator);
            existsAnimators.splice(idx, 1);
          }
        }
      }
    }
    if (!cfg.force) {
      animationKeys = filter(animationKeys, function(key) {
        return !isValueSame(target[key], animateObj[key]);
      });
      keyLen = animationKeys.length;
    }
    if (keyLen > 0 || cfg.force && !animators.length) {
      var revertedSource = void 0;
      var reversedTarget = void 0;
      var sourceClone = void 0;
      if (reverse) {
        reversedTarget = {};
        if (setToFinal) {
          revertedSource = {};
        }
        for (var i2 = 0; i2 < keyLen; i2++) {
          var innerKey = animationKeys[i2];
          reversedTarget[innerKey] = animateObj[innerKey];
          if (setToFinal) {
            revertedSource[innerKey] = target[innerKey];
          } else {
            animateObj[innerKey] = target[innerKey];
          }
        }
      } else if (setToFinal) {
        sourceClone = {};
        for (var i2 = 0; i2 < keyLen; i2++) {
          var innerKey = animationKeys[i2];
          sourceClone[innerKey] = cloneValue(animateObj[innerKey]);
          copyValue(animateObj, target, innerKey);
        }
      }
      var animator = new Animator$1(animateObj, false, false, additive ? filter(existsAnimators, function(animator2) {
        return animator2.targetName === topKey;
      }) : null);
      animator.targetName = topKey;
      if (cfg.scope) {
        animator.scope = cfg.scope;
      }
      if (setToFinal && revertedSource) {
        animator.whenWithKeys(0, revertedSource, animationKeys);
      }
      if (sourceClone) {
        animator.whenWithKeys(0, sourceClone, animationKeys);
      }
      animator.whenWithKeys(duration == null ? 500 : duration, reverse ? reversedTarget : target, animationKeys).delay(delay || 0);
      animatable.addAnimator(animator, topKey);
      animators.push(animator);
    }
  }
  var Element$1 = Element;
  var Group = function(_super) {
    __extends(Group2, _super);
    function Group2(opts) {
      var _this = _super.call(this) || this;
      _this.isGroup = true;
      _this._children = [];
      _this.attr(opts);
      return _this;
    }
    Group2.prototype.childrenRef = function() {
      return this._children;
    };
    Group2.prototype.children = function() {
      return this._children.slice();
    };
    Group2.prototype.childAt = function(idx) {
      return this._children[idx];
    };
    Group2.prototype.childOfName = function(name) {
      var children = this._children;
      for (var i2 = 0; i2 < children.length; i2++) {
        if (children[i2].name === name) {
          return children[i2];
        }
      }
    };
    Group2.prototype.childCount = function() {
      return this._children.length;
    };
    Group2.prototype.add = function(child) {
      if (child) {
        if (child !== this && child.parent !== this) {
          this._children.push(child);
          this._doAdd(child);
        }
        {
          if (child.__hostTarget) {
            throw "This elemenet has been used as an attachment";
          }
        }
      }
      return this;
    };
    Group2.prototype.addBefore = function(child, nextSibling) {
      if (child && child !== this && child.parent !== this && nextSibling && nextSibling.parent === this) {
        var children = this._children;
        var idx = children.indexOf(nextSibling);
        if (idx >= 0) {
          children.splice(idx, 0, child);
          this._doAdd(child);
        }
      }
      return this;
    };
    Group2.prototype.replace = function(oldChild, newChild) {
      var idx = indexOf(this._children, oldChild);
      if (idx >= 0) {
        this.replaceAt(newChild, idx);
      }
      return this;
    };
    Group2.prototype.replaceAt = function(child, index) {
      var children = this._children;
      var old = children[index];
      if (child && child !== this && child.parent !== this && child !== old) {
        children[index] = child;
        old.parent = null;
        var zr = this.__zr;
        if (zr) {
          old.removeSelfFromZr(zr);
        }
        this._doAdd(child);
      }
      return this;
    };
    Group2.prototype._doAdd = function(child) {
      if (child.parent) {
        child.parent.remove(child);
      }
      child.parent = this;
      var zr = this.__zr;
      if (zr && zr !== child.__zr) {
        child.addSelfToZr(zr);
      }
      zr && zr.refresh();
    };
    Group2.prototype.remove = function(child) {
      var zr = this.__zr;
      var children = this._children;
      var idx = indexOf(children, child);
      if (idx < 0) {
        return this;
      }
      children.splice(idx, 1);
      child.parent = null;
      if (zr) {
        child.removeSelfFromZr(zr);
      }
      zr && zr.refresh();
      return this;
    };
    Group2.prototype.removeAll = function() {
      var children = this._children;
      var zr = this.__zr;
      for (var i2 = 0; i2 < children.length; i2++) {
        var child = children[i2];
        if (zr) {
          child.removeSelfFromZr(zr);
        }
        child.parent = null;
      }
      children.length = 0;
      return this;
    };
    Group2.prototype.eachChild = function(cb, context) {
      var children = this._children;
      for (var i2 = 0; i2 < children.length; i2++) {
        var child = children[i2];
        cb.call(context, child, i2);
      }
      return this;
    };
    Group2.prototype.traverse = function(cb, context) {
      for (var i2 = 0; i2 < this._children.length; i2++) {
        var child = this._children[i2];
        var stopped = cb.call(context, child);
        if (child.isGroup && !stopped) {
          child.traverse(cb, context);
        }
      }
      return this;
    };
    Group2.prototype.addSelfToZr = function(zr) {
      _super.prototype.addSelfToZr.call(this, zr);
      for (var i2 = 0; i2 < this._children.length; i2++) {
        var child = this._children[i2];
        child.addSelfToZr(zr);
      }
    };
    Group2.prototype.removeSelfFromZr = function(zr) {
      _super.prototype.removeSelfFromZr.call(this, zr);
      for (var i2 = 0; i2 < this._children.length; i2++) {
        var child = this._children[i2];
        child.removeSelfFromZr(zr);
      }
    };
    Group2.prototype.getBoundingRect = function(includeChildren) {
      var tmpRect2 = new BoundingRect$1(0, 0, 0, 0);
      var children = includeChildren || this._children;
      var tmpMat = [];
      var rect = null;
      for (var i2 = 0; i2 < children.length; i2++) {
        var child = children[i2];
        if (child.ignore || child.invisible) {
          continue;
        }
        var childRect = child.getBoundingRect();
        var transform = child.getLocalTransform(tmpMat);
        if (transform) {
          BoundingRect$1.applyTransform(tmpRect2, childRect, transform);
          rect = rect || tmpRect2.clone();
          rect.union(tmpRect2);
        } else {
          rect = rect || childRect.clone();
          rect.union(childRect);
        }
      }
      return rect || tmpRect2;
    };
    return Group2;
  }(Element$1);
  Group.prototype.type = "group";
  var Group$1 = Group;
  /*!
  * ZRender, a high performance 2d drawing library.
  *
  * Copyright (c) 2013, Baidu Inc.
  * All rights reserved.
  *
  * LICENSE
  * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
  */
  var painterCtors = {};
  var instances$1 = {};
  function delInstance(id) {
    delete instances$1[id];
  }
  function isDarkMode(backgroundColor2) {
    if (!backgroundColor2) {
      return false;
    }
    if (typeof backgroundColor2 === "string") {
      return lum(backgroundColor2, 1) < DARK_MODE_THRESHOLD;
    } else if (backgroundColor2.colorStops) {
      var colorStops = backgroundColor2.colorStops;
      var totalLum = 0;
      var len2 = colorStops.length;
      for (var i2 = 0; i2 < len2; i2++) {
        totalLum += lum(colorStops[i2].color, 1);
      }
      totalLum /= len2;
      return totalLum < DARK_MODE_THRESHOLD;
    }
    return false;
  }
  var ZRender = function() {
    function ZRender2(id, dom, opts) {
      var _this = this;
      this._sleepAfterStill = 10;
      this._stillFrameAccum = 0;
      this._needsRefresh = true;
      this._needsRefreshHover = true;
      this._darkMode = false;
      opts = opts || {};
      this.dom = dom;
      this.id = id;
      var storage = new Storage$1();
      var rendererType = opts.renderer || "canvas";
      if (!painterCtors[rendererType]) {
        rendererType = keys(painterCtors)[0];
      }
      {
        if (!painterCtors[rendererType]) {
          throw new Error("Renderer '" + rendererType + "' is not imported. Please import it first.");
        }
      }
      opts.useDirtyRect = opts.useDirtyRect == null ? false : opts.useDirtyRect;
      var painter = new painterCtors[rendererType](dom, storage, opts, id);
      var ssrMode = opts.ssr || painter.ssrOnly;
      this.storage = storage;
      this.painter = painter;
      var handerProxy = !env$1.node && !env$1.worker && !ssrMode ? new HandlerProxy(painter.getViewportRoot(), painter.root) : null;
      var useCoarsePointer = opts.useCoarsePointer;
      var usePointerSize = useCoarsePointer == null || useCoarsePointer === "auto" ? env$1.touchEventsSupported : !!useCoarsePointer;
      var defaultPointerSize = 44;
      var pointerSize;
      if (usePointerSize) {
        pointerSize = retrieve2(opts.pointerSize, defaultPointerSize);
      }
      this.handler = new Handler$1(storage, painter, handerProxy, painter.root, pointerSize);
      this.animation = new Animation$1({
        stage: {
          update: ssrMode ? null : function() {
            return _this._flush(true);
          }
        }
      });
      if (!ssrMode) {
        this.animation.start();
      }
    }
    ZRender2.prototype.add = function(el) {
      if (!el) {
        return;
      }
      this.storage.addRoot(el);
      el.addSelfToZr(this);
      this.refresh();
    };
    ZRender2.prototype.remove = function(el) {
      if (!el) {
        return;
      }
      this.storage.delRoot(el);
      el.removeSelfFromZr(this);
      this.refresh();
    };
    ZRender2.prototype.configLayer = function(zLevel, config) {
      if (this.painter.configLayer) {
        this.painter.configLayer(zLevel, config);
      }
      this.refresh();
    };
    ZRender2.prototype.setBackgroundColor = function(backgroundColor2) {
      if (this.painter.setBackgroundColor) {
        this.painter.setBackgroundColor(backgroundColor2);
      }
      this.refresh();
      this._backgroundColor = backgroundColor2;
      this._darkMode = isDarkMode(backgroundColor2);
    };
    ZRender2.prototype.getBackgroundColor = function() {
      return this._backgroundColor;
    };
    ZRender2.prototype.setDarkMode = function(darkMode) {
      this._darkMode = darkMode;
    };
    ZRender2.prototype.isDarkMode = function() {
      return this._darkMode;
    };
    ZRender2.prototype.refreshImmediately = function(fromInside) {
      if (!fromInside) {
        this.animation.update(true);
      }
      this._needsRefresh = false;
      this.painter.refresh();
      this._needsRefresh = false;
    };
    ZRender2.prototype.refresh = function() {
      this._needsRefresh = true;
      this.animation.start();
    };
    ZRender2.prototype.flush = function() {
      this._flush(false);
    };
    ZRender2.prototype._flush = function(fromInside) {
      var triggerRendered;
      var start2 = getTime();
      if (this._needsRefresh) {
        triggerRendered = true;
        this.refreshImmediately(fromInside);
      }
      if (this._needsRefreshHover) {
        triggerRendered = true;
        this.refreshHoverImmediately();
      }
      var end2 = getTime();
      if (triggerRendered) {
        this._stillFrameAccum = 0;
        this.trigger("rendered", {
          elapsedTime: end2 - start2
        });
      } else if (this._sleepAfterStill > 0) {
        this._stillFrameAccum++;
        if (this._stillFrameAccum > this._sleepAfterStill) {
          this.animation.stop();
        }
      }
    };
    ZRender2.prototype.setSleepAfterStill = function(stillFramesCount) {
      this._sleepAfterStill = stillFramesCount;
    };
    ZRender2.prototype.wakeUp = function() {
      this.animation.start();
      this._stillFrameAccum = 0;
    };
    ZRender2.prototype.refreshHover = function() {
      this._needsRefreshHover = true;
    };
    ZRender2.prototype.refreshHoverImmediately = function() {
      this._needsRefreshHover = false;
      if (this.painter.refreshHover && this.painter.getType() === "canvas") {
        this.painter.refreshHover();
      }
    };
    ZRender2.prototype.resize = function(opts) {
      opts = opts || {};
      this.painter.resize(opts.width, opts.height);
      this.handler.resize();
    };
    ZRender2.prototype.clearAnimation = function() {
      this.animation.clear();
    };
    ZRender2.prototype.getWidth = function() {
      return this.painter.getWidth();
    };
    ZRender2.prototype.getHeight = function() {
      return this.painter.getHeight();
    };
    ZRender2.prototype.setCursorStyle = function(cursorStyle) {
      this.handler.setCursorStyle(cursorStyle);
    };
    ZRender2.prototype.findHover = function(x2, y) {
      return this.handler.findHover(x2, y);
    };
    ZRender2.prototype.on = function(eventName, eventHandler, context) {
      this.handler.on(eventName, eventHandler, context);
      return this;
    };
    ZRender2.prototype.off = function(eventName, eventHandler) {
      this.handler.off(eventName, eventHandler);
    };
    ZRender2.prototype.trigger = function(eventName, event) {
      this.handler.trigger(eventName, event);
    };
    ZRender2.prototype.clear = function() {
      var roots2 = this.storage.getRoots();
      for (var i2 = 0; i2 < roots2.length; i2++) {
        if (roots2[i2] instanceof Group$1) {
          roots2[i2].removeSelfFromZr(this);
        }
      }
      this.storage.delAllRoots();
      this.painter.clear();
    };
    ZRender2.prototype.dispose = function() {
      this.animation.stop();
      this.clear();
      this.storage.dispose();
      this.painter.dispose();
      this.handler.dispose();
      this.animation = this.storage = this.painter = this.handler = null;
      delInstance(this.id);
    };
    return ZRender2;
  }();
  function init$1(dom, opts) {
    var zr = new ZRender(guid(), dom, opts);
    instances$1[zr.id] = zr;
    return zr;
  }
  function dispose$1(zr) {
    zr.dispose();
  }
  function disposeAll() {
    for (var key in instances$1) {
      if (instances$1.hasOwnProperty(key)) {
        instances$1[key].dispose();
      }
    }
    instances$1 = {};
  }
  function getInstance(id) {
    return instances$1[id];
  }
  function registerPainter(name, Ctor) {
    painterCtors[name] = Ctor;
  }
  var version$1 = "5.4.4";
  var zrender = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    init: init$1,
    dispose: dispose$1,
    disposeAll,
    getInstance,
    registerPainter,
    version: version$1
  });
  var RADIAN_EPSILON = 1e-4;
  var ROUND_SUPPORTED_PRECISION_MAX = 20;
  function _trim(str) {
    return str.replace(/^\s+|\s+$/g, "");
  }
  function linearMap(val, domain, range, clamp2) {
    var d0 = domain[0];
    var d1 = domain[1];
    var r0 = range[0];
    var r1 = range[1];
    var subDomain = d1 - d0;
    var subRange = r1 - r0;
    if (subDomain === 0) {
      return subRange === 0 ? r0 : (r0 + r1) / 2;
    }
    if (clamp2) {
      if (subDomain > 0) {
        if (val <= d0) {
          return r0;
        } else if (val >= d1) {
          return r1;
        }
      } else {
        if (val >= d0) {
          return r0;
        } else if (val <= d1) {
          return r1;
        }
      }
    } else {
      if (val === d0) {
        return r0;
      }
      if (val === d1) {
        return r1;
      }
    }
    return (val - d0) / subDomain * subRange + r0;
  }
  function parsePercent(percent, all) {
    switch (percent) {
      case "center":
      case "middle":
        percent = "50%";
        break;
      case "left":
      case "top":
        percent = "0%";
        break;
      case "right":
      case "bottom":
        percent = "100%";
        break;
    }
    if (isString(percent)) {
      if (_trim(percent).match(/%$/)) {
        return parseFloat(percent) / 100 * all;
      }
      return parseFloat(percent);
    }
    return percent == null ? NaN : +percent;
  }
  function round$1(x2, precision, returnStr) {
    if (precision == null) {
      precision = 10;
    }
    precision = Math.min(Math.max(0, precision), ROUND_SUPPORTED_PRECISION_MAX);
    x2 = (+x2).toFixed(precision);
    return returnStr ? x2 : +x2;
  }
  function asc(arr) {
    arr.sort(function(a2, b2) {
      return a2 - b2;
    });
    return arr;
  }
  function getPrecision(val) {
    val = +val;
    if (isNaN(val)) {
      return 0;
    }
    if (val > 1e-14) {
      var e2 = 1;
      for (var i2 = 0; i2 < 15; i2++, e2 *= 10) {
        if (Math.round(val * e2) / e2 === val) {
          return i2;
        }
      }
    }
    return getPrecisionSafe(val);
  }
  function getPrecisionSafe(val) {
    var str = val.toString().toLowerCase();
    var eIndex = str.indexOf("e");
    var exp = eIndex > 0 ? +str.slice(eIndex + 1) : 0;
    var significandPartLen = eIndex > 0 ? eIndex : str.length;
    var dotIndex = str.indexOf(".");
    var decimalPartLen = dotIndex < 0 ? 0 : significandPartLen - 1 - dotIndex;
    return Math.max(0, decimalPartLen - exp);
  }
  function getPixelPrecision(dataExtent, pixelExtent) {
    var log2 = Math.log;
    var LN10 = Math.LN10;
    var dataQuantity = Math.floor(log2(dataExtent[1] - dataExtent[0]) / LN10);
    var sizeQuantity = Math.round(log2(Math.abs(pixelExtent[1] - pixelExtent[0])) / LN10);
    var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);
    return !isFinite(precision) ? 20 : precision;
  }
  function getPercentWithPrecision(valueList, idx, precision) {
    if (!valueList[idx]) {
      return 0;
    }
    var seats = getPercentSeats(valueList, precision);
    return seats[idx] || 0;
  }
  function getPercentSeats(valueList, precision) {
    var sum = reduce(valueList, function(acc, val) {
      return acc + (isNaN(val) ? 0 : val);
    }, 0);
    if (sum === 0) {
      return [];
    }
    var digits = Math.pow(10, precision);
    var votesPerQuota = map$1(valueList, function(val) {
      return (isNaN(val) ? 0 : val) / sum * digits * 100;
    });
    var targetSeats = digits * 100;
    var seats = map$1(votesPerQuota, function(votes) {
      return Math.floor(votes);
    });
    var currentSum = reduce(seats, function(acc, val) {
      return acc + val;
    }, 0);
    var remainder = map$1(votesPerQuota, function(votes, idx) {
      return votes - seats[idx];
    });
    while (currentSum < targetSeats) {
      var max3 = Number.NEGATIVE_INFINITY;
      var maxId = null;
      for (var i2 = 0, len2 = remainder.length; i2 < len2; ++i2) {
        if (remainder[i2] > max3) {
          max3 = remainder[i2];
          maxId = i2;
        }
      }
      ++seats[maxId];
      remainder[maxId] = 0;
      ++currentSum;
    }
    return map$1(seats, function(seat) {
      return seat / digits;
    });
  }
  function addSafe(val0, val1) {
    var maxPrecision = Math.max(getPrecision(val0), getPrecision(val1));
    var sum = val0 + val1;
    return maxPrecision > ROUND_SUPPORTED_PRECISION_MAX ? sum : round$1(sum, maxPrecision);
  }
  var MAX_SAFE_INTEGER = 9007199254740991;
  function remRadian(radian) {
    var pi2 = Math.PI * 2;
    return (radian % pi2 + pi2) % pi2;
  }
  function isRadianAroundZero(val) {
    return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;
  }
  var TIME_REG = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;
  function parseDate(value) {
    if (value instanceof Date) {
      return value;
    } else if (isString(value)) {
      var match = TIME_REG.exec(value);
      if (!match) {
        return new Date(NaN);
      }
      if (!match[8]) {
        return new Date(+match[1], +(match[2] || 1) - 1, +match[3] || 1, +match[4] || 0, +(match[5] || 0), +match[6] || 0, match[7] ? +match[7].substring(0, 3) : 0);
      } else {
        var hour = +match[4] || 0;
        if (match[8].toUpperCase() !== "Z") {
          hour -= +match[8].slice(0, 3);
        }
        return new Date(Date.UTC(+match[1], +(match[2] || 1) - 1, +match[3] || 1, hour, +(match[5] || 0), +match[6] || 0, match[7] ? +match[7].substring(0, 3) : 0));
      }
    } else if (value == null) {
      return new Date(NaN);
    }
    return new Date(Math.round(value));
  }
  function quantity(val) {
    return Math.pow(10, quantityExponent(val));
  }
  function quantityExponent(val) {
    if (val === 0) {
      return 0;
    }
    var exp = Math.floor(Math.log(val) / Math.LN10);
    if (val / Math.pow(10, exp) >= 10) {
      exp++;
    }
    return exp;
  }
  function nice(val, round2) {
    var exponent = quantityExponent(val);
    var exp10 = Math.pow(10, exponent);
    var f2 = val / exp10;
    var nf;
    if (round2) {
      if (f2 < 1.5) {
        nf = 1;
      } else if (f2 < 2.5) {
        nf = 2;
      } else if (f2 < 4) {
        nf = 3;
      } else if (f2 < 7) {
        nf = 5;
      } else {
        nf = 10;
      }
    } else {
      if (f2 < 1) {
        nf = 1;
      } else if (f2 < 2) {
        nf = 2;
      } else if (f2 < 3) {
        nf = 3;
      } else if (f2 < 5) {
        nf = 5;
      } else {
        nf = 10;
      }
    }
    val = nf * exp10;
    return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;
  }
  function quantile(ascArr, p2) {
    var H2 = (ascArr.length - 1) * p2 + 1;
    var h2 = Math.floor(H2);
    var v2 = +ascArr[h2 - 1];
    var e2 = H2 - h2;
    return e2 ? v2 + e2 * (ascArr[h2] - v2) : v2;
  }
  function reformIntervals(list) {
    list.sort(function(a2, b2) {
      return littleThan(a2, b2, 0) ? -1 : 1;
    });
    var curr = -Infinity;
    var currClose = 1;
    for (var i2 = 0; i2 < list.length; ) {
      var interval = list[i2].interval;
      var close_1 = list[i2].close;
      for (var lg = 0; lg < 2; lg++) {
        if (interval[lg] <= curr) {
          interval[lg] = curr;
          close_1[lg] = !lg ? 1 - currClose : 1;
        }
        curr = interval[lg];
        currClose = close_1[lg];
      }
      if (interval[0] === interval[1] && close_1[0] * close_1[1] !== 1) {
        list.splice(i2, 1);
      } else {
        i2++;
      }
    }
    return list;
    function littleThan(a2, b2, lg2) {
      return a2.interval[lg2] < b2.interval[lg2] || a2.interval[lg2] === b2.interval[lg2] && (a2.close[lg2] - b2.close[lg2] === (!lg2 ? 1 : -1) || !lg2 && littleThan(a2, b2, 1));
    }
  }
  function numericToNumber(val) {
    var valFloat = parseFloat(val);
    return valFloat == val && (valFloat !== 0 || !isString(val) || val.indexOf("x") <= 0) ? valFloat : NaN;
  }
  function isNumeric(val) {
    return !isNaN(numericToNumber(val));
  }
  function getRandomIdBase() {
    return Math.round(Math.random() * 9);
  }
  function getGreatestCommonDividor(a2, b2) {
    if (b2 === 0) {
      return a2;
    }
    return getGreatestCommonDividor(b2, a2 % b2);
  }
  function getLeastCommonMultiple(a2, b2) {
    if (a2 == null) {
      return b2;
    }
    if (b2 == null) {
      return a2;
    }
    return a2 * b2 / getGreatestCommonDividor(a2, b2);
  }
  var ECHARTS_PREFIX = "[ECharts] ";
  var storedLogs = {};
  var hasConsole = typeof console !== "undefined" && console.warn && console.log;
  function outputLog(type, str, onlyOnce) {
    if (hasConsole) {
      if (onlyOnce) {
        if (storedLogs[str]) {
          return;
        }
        storedLogs[str] = true;
      }
      console[type](ECHARTS_PREFIX + str);
    }
  }
  function log(str, onlyOnce) {
    outputLog("log", str, onlyOnce);
  }
  function warn(str, onlyOnce) {
    outputLog("warn", str, onlyOnce);
  }
  function error(str, onlyOnce) {
    outputLog("error", str, onlyOnce);
  }
  function deprecateLog(str) {
    {
      outputLog("warn", "DEPRECATED: " + str, true);
    }
  }
  function deprecateReplaceLog(oldOpt, newOpt, scope) {
    {
      deprecateLog((scope ? "[" + scope + "]" : "") + (oldOpt + " is deprecated, use " + newOpt + " instead."));
    }
  }
  function makePrintable() {
    var hintInfo = [];
    for (var _i = 0; _i < arguments.length; _i++) {
      hintInfo[_i] = arguments[_i];
    }
    var msg = "";
    {
      var makePrintableStringIfPossible_1 = function(val) {
        return val === void 0 ? "undefined" : val === Infinity ? "Infinity" : val === -Infinity ? "-Infinity" : eqNaN(val) ? "NaN" : val instanceof Date ? "Date(" + val.toISOString() + ")" : isFunction(val) ? "function () { ... }" : isRegExp(val) ? val + "" : null;
      };
      msg = map$1(hintInfo, function(arg) {
        if (isString(arg)) {
          return arg;
        } else {
          var printableStr = makePrintableStringIfPossible_1(arg);
          if (printableStr != null) {
            return printableStr;
          } else if (typeof JSON !== "undefined" && JSON.stringify) {
            try {
              return JSON.stringify(arg, function(n2, val) {
                var printableStr2 = makePrintableStringIfPossible_1(val);
                return printableStr2 == null ? val : printableStr2;
              });
            } catch (err2) {
              return "?";
            }
          } else {
            return "?";
          }
        }
      }).join(" ");
    }
    return msg;
  }
  function throwError(msg) {
    throw new Error(msg);
  }
  function interpolateNumber(p0, p1, percent) {
    return (p1 - p0) * percent + p0;
  }
  var DUMMY_COMPONENT_NAME_PREFIX = "series\0";
  var INTERNAL_COMPONENT_ID_PREFIX = "\0_ec_\0";
  function normalizeToArray(value) {
    return value instanceof Array ? value : value == null ? [] : [value];
  }
  function defaultEmphasis(opt, key, subOpts) {
    if (opt) {
      opt[key] = opt[key] || {};
      opt.emphasis = opt.emphasis || {};
      opt.emphasis[key] = opt.emphasis[key] || {};
      for (var i2 = 0, len2 = subOpts.length; i2 < len2; i2++) {
        var subOptName = subOpts[i2];
        if (!opt.emphasis[key].hasOwnProperty(subOptName) && opt[key].hasOwnProperty(subOptName)) {
          opt.emphasis[key][subOptName] = opt[key][subOptName];
        }
      }
    }
  }
  var TEXT_STYLE_OPTIONS = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "rich", "tag", "color", "textBorderColor", "textBorderWidth", "width", "height", "lineHeight", "align", "verticalAlign", "baseline", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY", "backgroundColor", "borderColor", "borderWidth", "borderRadius", "padding"];
  function getDataItemValue(dataItem) {
    return isObject$2(dataItem) && !isArray(dataItem) && !(dataItem instanceof Date) ? dataItem.value : dataItem;
  }
  function isDataItemOption(dataItem) {
    return isObject$2(dataItem) && !(dataItem instanceof Array);
  }
  function mappingToExists(existings, newCmptOptions, mode) {
    var isNormalMergeMode = mode === "normalMerge";
    var isReplaceMergeMode = mode === "replaceMerge";
    var isReplaceAllMode = mode === "replaceAll";
    existings = existings || [];
    newCmptOptions = (newCmptOptions || []).slice();
    var existingIdIdxMap = createHashMap();
    each$3(newCmptOptions, function(cmptOption, index) {
      if (!isObject$2(cmptOption)) {
        newCmptOptions[index] = null;
        return;
      }
      {
        if (cmptOption.id != null && !isValidIdOrName(cmptOption.id)) {
          warnInvalidateIdOrName(cmptOption.id);
        }
        if (cmptOption.name != null && !isValidIdOrName(cmptOption.name)) {
          warnInvalidateIdOrName(cmptOption.name);
        }
      }
    });
    var result = prepareResult(existings, existingIdIdxMap, mode);
    if (isNormalMergeMode || isReplaceMergeMode) {
      mappingById(result, existings, existingIdIdxMap, newCmptOptions);
    }
    if (isNormalMergeMode) {
      mappingByName(result, newCmptOptions);
    }
    if (isNormalMergeMode || isReplaceMergeMode) {
      mappingByIndex(result, newCmptOptions, isReplaceMergeMode);
    } else if (isReplaceAllMode) {
      mappingInReplaceAllMode(result, newCmptOptions);
    }
    makeIdAndName(result);
    return result;
  }
  function prepareResult(existings, existingIdIdxMap, mode) {
    var result = [];
    if (mode === "replaceAll") {
      return result;
    }
    for (var index = 0; index < existings.length; index++) {
      var existing = existings[index];
      if (existing && existing.id != null) {
        existingIdIdxMap.set(existing.id, index);
      }
      result.push({
        existing: mode === "replaceMerge" || isComponentIdInternal(existing) ? null : existing,
        newOption: null,
        keyInfo: null,
        brandNew: null
      });
    }
    return result;
  }
  function mappingById(result, existings, existingIdIdxMap, newCmptOptions) {
    each$3(newCmptOptions, function(cmptOption, index) {
      if (!cmptOption || cmptOption.id == null) {
        return;
      }
      var optionId = makeComparableKey(cmptOption.id);
      var existingIdx = existingIdIdxMap.get(optionId);
      if (existingIdx != null) {
        var resultItem = result[existingIdx];
        assert(!resultItem.newOption, 'Duplicated option on id "' + optionId + '".');
        resultItem.newOption = cmptOption;
        resultItem.existing = existings[existingIdx];
        newCmptOptions[index] = null;
      }
    });
  }
  function mappingByName(result, newCmptOptions) {
    each$3(newCmptOptions, function(cmptOption, index) {
      if (!cmptOption || cmptOption.name == null) {
        return;
      }
      for (var i2 = 0; i2 < result.length; i2++) {
        var existing = result[i2].existing;
        if (!result[i2].newOption && existing && (existing.id == null || cmptOption.id == null) && !isComponentIdInternal(cmptOption) && !isComponentIdInternal(existing) && keyExistAndEqual("name", existing, cmptOption)) {
          result[i2].newOption = cmptOption;
          newCmptOptions[index] = null;
          return;
        }
      }
    });
  }
  function mappingByIndex(result, newCmptOptions, brandNew) {
    each$3(newCmptOptions, function(cmptOption) {
      if (!cmptOption) {
        return;
      }
      var resultItem;
      var nextIdx = 0;
      while ((resultItem = result[nextIdx]) && (resultItem.newOption || isComponentIdInternal(resultItem.existing) || resultItem.existing && cmptOption.id != null && !keyExistAndEqual("id", cmptOption, resultItem.existing))) {
        nextIdx++;
      }
      if (resultItem) {
        resultItem.newOption = cmptOption;
        resultItem.brandNew = brandNew;
      } else {
        result.push({
          newOption: cmptOption,
          brandNew,
          existing: null,
          keyInfo: null
        });
      }
      nextIdx++;
    });
  }
  function mappingInReplaceAllMode(result, newCmptOptions) {
    each$3(newCmptOptions, function(cmptOption) {
      result.push({
        newOption: cmptOption,
        brandNew: true,
        existing: null,
        keyInfo: null
      });
    });
  }
  function makeIdAndName(mapResult) {
    var idMap = createHashMap();
    each$3(mapResult, function(item) {
      var existing = item.existing;
      existing && idMap.set(existing.id, item);
    });
    each$3(mapResult, function(item) {
      var opt = item.newOption;
      assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, "id duplicates: " + (opt && opt.id));
      opt && opt.id != null && idMap.set(opt.id, item);
      !item.keyInfo && (item.keyInfo = {});
    });
    each$3(mapResult, function(item, index) {
      var existing = item.existing;
      var opt = item.newOption;
      var keyInfo = item.keyInfo;
      if (!isObject$2(opt)) {
        return;
      }
      keyInfo.name = opt.name != null ? makeComparableKey(opt.name) : existing ? existing.name : DUMMY_COMPONENT_NAME_PREFIX + index;
      if (existing) {
        keyInfo.id = makeComparableKey(existing.id);
      } else if (opt.id != null) {
        keyInfo.id = makeComparableKey(opt.id);
      } else {
        var idNum = 0;
        do {
          keyInfo.id = "\0" + keyInfo.name + "\0" + idNum++;
        } while (idMap.get(keyInfo.id));
      }
      idMap.set(keyInfo.id, item);
    });
  }
  function keyExistAndEqual(attr, obj1, obj2) {
    var key1 = convertOptionIdName(obj1[attr], null);
    var key2 = convertOptionIdName(obj2[attr], null);
    return key1 != null && key2 != null && key1 === key2;
  }
  function makeComparableKey(val) {
    {
      if (val == null) {
        throw new Error();
      }
    }
    return convertOptionIdName(val, "");
  }
  function convertOptionIdName(idOrName, defaultValue) {
    if (idOrName == null) {
      return defaultValue;
    }
    return isString(idOrName) ? idOrName : isNumber(idOrName) || isStringSafe(idOrName) ? idOrName + "" : defaultValue;
  }
  function warnInvalidateIdOrName(idOrName) {
    {
      warn("`" + idOrName + "` is invalid id or name. Must be a string or number.");
    }
  }
  function isValidIdOrName(idOrName) {
    return isStringSafe(idOrName) || isNumeric(idOrName);
  }
  function isNameSpecified(componentModel) {
    var name = componentModel.name;
    return !!(name && name.indexOf(DUMMY_COMPONENT_NAME_PREFIX));
  }
  function isComponentIdInternal(cmptOption) {
    return cmptOption && cmptOption.id != null && makeComparableKey(cmptOption.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX) === 0;
  }
  function setComponentTypeToKeyInfo(mappingResult, mainType, componentModelCtor) {
    each$3(mappingResult, function(item) {
      var newOption = item.newOption;
      if (isObject$2(newOption)) {
        item.keyInfo.mainType = mainType;
        item.keyInfo.subType = determineSubType(mainType, newOption, item.existing, componentModelCtor);
      }
    });
  }
  function determineSubType(mainType, newCmptOption, existComponent, componentModelCtor) {
    var subType = newCmptOption.type ? newCmptOption.type : existComponent ? existComponent.subType : componentModelCtor.determineSubType(mainType, newCmptOption);
    return subType;
  }
  function queryDataIndex(data, payload) {
    if (payload.dataIndexInside != null) {
      return payload.dataIndexInside;
    } else if (payload.dataIndex != null) {
      return isArray(payload.dataIndex) ? map$1(payload.dataIndex, function(value) {
        return data.indexOfRawIndex(value);
      }) : data.indexOfRawIndex(payload.dataIndex);
    } else if (payload.name != null) {
      return isArray(payload.name) ? map$1(payload.name, function(value) {
        return data.indexOfName(value);
      }) : data.indexOfName(payload.name);
    }
  }
  function makeInner() {
    var key = "__ec_inner_" + innerUniqueIndex++;
    return function(hostObj) {
      return hostObj[key] || (hostObj[key] = {});
    };
  }
  var innerUniqueIndex = getRandomIdBase();
  function parseFinder(ecModel, finderInput, opt) {
    var _a2 = preParseFinder(finderInput, opt), mainTypeSpecified = _a2.mainTypeSpecified, queryOptionMap = _a2.queryOptionMap, others = _a2.others;
    var result = others;
    var defaultMainType = opt ? opt.defaultMainType : null;
    if (!mainTypeSpecified && defaultMainType) {
      queryOptionMap.set(defaultMainType, {});
    }
    queryOptionMap.each(function(queryOption, mainType) {
      var queryResult = queryReferringComponents(ecModel, mainType, queryOption, {
        useDefault: defaultMainType === mainType,
        enableAll: opt && opt.enableAll != null ? opt.enableAll : true,
        enableNone: opt && opt.enableNone != null ? opt.enableNone : true
      });
      result[mainType + "Models"] = queryResult.models;
      result[mainType + "Model"] = queryResult.models[0];
    });
    return result;
  }
  function preParseFinder(finderInput, opt) {
    var finder;
    if (isString(finderInput)) {
      var obj = {};
      obj[finderInput + "Index"] = 0;
      finder = obj;
    } else {
      finder = finderInput;
    }
    var queryOptionMap = createHashMap();
    var others = {};
    var mainTypeSpecified = false;
    each$3(finder, function(value, key) {
      if (key === "dataIndex" || key === "dataIndexInside") {
        others[key] = value;
        return;
      }
      var parsedKey = key.match(/^(\w+)(Index|Id|Name)$/) || [];
      var mainType = parsedKey[1];
      var queryType = (parsedKey[2] || "").toLowerCase();
      if (!mainType || !queryType || opt && opt.includeMainTypes && indexOf(opt.includeMainTypes, mainType) < 0) {
        return;
      }
      mainTypeSpecified = mainTypeSpecified || !!mainType;
      var queryOption = queryOptionMap.get(mainType) || queryOptionMap.set(mainType, {});
      queryOption[queryType] = value;
    });
    return {
      mainTypeSpecified,
      queryOptionMap,
      others
    };
  }
  var SINGLE_REFERRING = {
    useDefault: true,
    enableAll: false,
    enableNone: false
  };
  function queryReferringComponents(ecModel, mainType, userOption, opt) {
    opt = opt || SINGLE_REFERRING;
    var indexOption = userOption.index;
    var idOption = userOption.id;
    var nameOption = userOption.name;
    var result = {
      models: null,
      specified: indexOption != null || idOption != null || nameOption != null
    };
    if (!result.specified) {
      var firstCmpt = void 0;
      result.models = opt.useDefault && (firstCmpt = ecModel.getComponent(mainType)) ? [firstCmpt] : [];
      return result;
    }
    if (indexOption === "none" || indexOption === false) {
      assert(opt.enableNone, '`"none"` or `false` is not a valid value on index option.');
      result.models = [];
      return result;
    }
    if (indexOption === "all") {
      assert(opt.enableAll, '`"all"` is not a valid value on index option.');
      indexOption = idOption = nameOption = null;
    }
    result.models = ecModel.queryComponents({
      mainType,
      index: indexOption,
      id: idOption,
      name: nameOption
    });
    return result;
  }
  function setAttribute(dom, key, value) {
    dom.setAttribute ? dom.setAttribute(key, value) : dom[key] = value;
  }
  function getAttribute(dom, key) {
    return dom.getAttribute ? dom.getAttribute(key) : dom[key];
  }
  function getTooltipRenderMode(renderModeOption) {
    if (renderModeOption === "auto") {
      return env$1.domSupported ? "html" : "richText";
    } else {
      return renderModeOption || "html";
    }
  }
  function interpolateRawValues(data, precision, sourceValue, targetValue, percent) {
    var isAutoPrecision = precision == null || precision === "auto";
    if (targetValue == null) {
      return targetValue;
    }
    if (isNumber(targetValue)) {
      var value = interpolateNumber(sourceValue || 0, targetValue, percent);
      return round$1(value, isAutoPrecision ? Math.max(getPrecision(sourceValue || 0), getPrecision(targetValue)) : precision);
    } else if (isString(targetValue)) {
      return percent < 1 ? sourceValue : targetValue;
    } else {
      var interpolated = [];
      var leftArr = sourceValue;
      var rightArr = targetValue;
      var length_1 = Math.max(leftArr ? leftArr.length : 0, rightArr.length);
      for (var i2 = 0; i2 < length_1; ++i2) {
        var info = data.getDimensionInfo(i2);
        if (info && info.type === "ordinal") {
          interpolated[i2] = (percent < 1 && leftArr ? leftArr : rightArr)[i2];
        } else {
          var leftVal = leftArr && leftArr[i2] ? leftArr[i2] : 0;
          var rightVal = rightArr[i2];
          var value = interpolateNumber(leftVal, rightVal, percent);
          interpolated[i2] = round$1(value, isAutoPrecision ? Math.max(getPrecision(leftVal), getPrecision(rightVal)) : precision);
        }
      }
      return interpolated;
    }
  }
  var TYPE_DELIMITER = ".";
  var IS_CONTAINER = "___EC__COMPONENT__CONTAINER___";
  var IS_EXTENDED_CLASS = "___EC__EXTENDED_CLASS___";
  function parseClassType(componentType) {
    var ret = {
      main: "",
      sub: ""
    };
    if (componentType) {
      var typeArr = componentType.split(TYPE_DELIMITER);
      ret.main = typeArr[0] || "";
      ret.sub = typeArr[1] || "";
    }
    return ret;
  }
  function checkClassType(componentType) {
    assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType "' + componentType + '" illegal');
  }
  function isExtendedClass(clz) {
    return !!(clz && clz[IS_EXTENDED_CLASS]);
  }
  function enableClassExtend(rootClz, mandatoryMethods) {
    rootClz.$constructor = rootClz;
    rootClz.extend = function(proto2) {
      {
        each$3(mandatoryMethods, function(method) {
          if (!proto2[method]) {
            formatAppLog("warn", "at node_modules/echarts/lib/util/clazz.js:97", "Method `" + method + "` should be implemented" + (proto2.type ? " in " + proto2.type : "") + ".");
          }
        });
      }
      var superClass = this;
      var ExtendedClass;
      if (isESClass(superClass)) {
        ExtendedClass = function(_super) {
          __extends(class_1, _super);
          function class_1() {
            return _super.apply(this, arguments) || this;
          }
          return class_1;
        }(superClass);
      } else {
        ExtendedClass = function() {
          (proto2.$constructor || superClass).apply(this, arguments);
        };
        inherits(ExtendedClass, this);
      }
      extend(ExtendedClass.prototype, proto2);
      ExtendedClass[IS_EXTENDED_CLASS] = true;
      ExtendedClass.extend = this.extend;
      ExtendedClass.superCall = superCall;
      ExtendedClass.superApply = superApply;
      ExtendedClass.superClass = superClass;
      return ExtendedClass;
    };
  }
  function isESClass(fn2) {
    return isFunction(fn2) && /^class\s/.test(Function.prototype.toString.call(fn2));
  }
  function mountExtend(SubClz, SupperClz) {
    SubClz.extend = SupperClz.extend;
  }
  var classBase = Math.round(Math.random() * 10);
  function enableClassCheck(target) {
    var classAttr = ["__\0is_clz", classBase++].join("_");
    target.prototype[classAttr] = true;
    {
      assert(!target.isInstance, 'The method "is" can not be defined.');
    }
    target.isInstance = function(obj) {
      return !!(obj && obj[classAttr]);
    };
  }
  function superCall(context, methodName) {
    var args = [];
    for (var _i = 2; _i < arguments.length; _i++) {
      args[_i - 2] = arguments[_i];
    }
    return this.superClass.prototype[methodName].apply(context, args);
  }
  function superApply(context, methodName, args) {
    return this.superClass.prototype[methodName].apply(context, args);
  }
  function enableClassManagement(target) {
    var storage = {};
    target.registerClass = function(clz) {
      var componentFullType = clz.type || clz.prototype.type;
      if (componentFullType) {
        checkClassType(componentFullType);
        clz.prototype.type = componentFullType;
        var componentTypeInfo = parseClassType(componentFullType);
        if (!componentTypeInfo.sub) {
          {
            if (storage[componentTypeInfo.main]) {
              formatAppLog("warn", "at node_modules/echarts/lib/util/clazz.js:250", componentTypeInfo.main + " exists.");
            }
          }
          storage[componentTypeInfo.main] = clz;
        } else if (componentTypeInfo.sub !== IS_CONTAINER) {
          var container = makeContainer(componentTypeInfo);
          container[componentTypeInfo.sub] = clz;
        }
      }
      return clz;
    };
    target.getClass = function(mainType, subType, throwWhenNotFound) {
      var clz = storage[mainType];
      if (clz && clz[IS_CONTAINER]) {
        clz = subType ? clz[subType] : null;
      }
      if (throwWhenNotFound && !clz) {
        throw new Error(!subType ? mainType + ".type should be specified." : "Component " + mainType + "." + (subType || "") + " is used but not imported.");
      }
      return clz;
    };
    target.getClassesByMainType = function(componentType) {
      var componentTypeInfo = parseClassType(componentType);
      var result = [];
      var obj = storage[componentTypeInfo.main];
      if (obj && obj[IS_CONTAINER]) {
        each$3(obj, function(o2, type) {
          type !== IS_CONTAINER && result.push(o2);
        });
      } else {
        result.push(obj);
      }
      return result;
    };
    target.hasClass = function(componentType) {
      var componentTypeInfo = parseClassType(componentType);
      return !!storage[componentTypeInfo.main];
    };
    target.getAllClassMainTypes = function() {
      var types = [];
      each$3(storage, function(obj, type) {
        types.push(type);
      });
      return types;
    };
    target.hasSubTypes = function(componentType) {
      var componentTypeInfo = parseClassType(componentType);
      var obj = storage[componentTypeInfo.main];
      return obj && obj[IS_CONTAINER];
    };
    function makeContainer(componentTypeInfo) {
      var container = storage[componentTypeInfo.main];
      if (!container || !container[IS_CONTAINER]) {
        container = storage[componentTypeInfo.main] = {};
        container[IS_CONTAINER] = true;
      }
      return container;
    }
  }
  function makeStyleMapper(properties, ignoreParent) {
    for (var i2 = 0; i2 < properties.length; i2++) {
      if (!properties[i2][1]) {
        properties[i2][1] = properties[i2][0];
      }
    }
    ignoreParent = ignoreParent || false;
    return function(model, excludes, includes) {
      var style = {};
      for (var i3 = 0; i3 < properties.length; i3++) {
        var propName = properties[i3][1];
        if (excludes && indexOf(excludes, propName) >= 0 || includes && indexOf(includes, propName) < 0) {
          continue;
        }
        var val = model.getShallow(propName, ignoreParent);
        if (val != null) {
          style[properties[i3][0]] = val;
        }
      }
      return style;
    };
  }
  var AREA_STYLE_KEY_MAP = [
    ["fill", "color"],
    ["shadowBlur"],
    ["shadowOffsetX"],
    ["shadowOffsetY"],
    ["opacity"],
    ["shadowColor"]
  ];
  var getAreaStyle = makeStyleMapper(AREA_STYLE_KEY_MAP);
  var AreaStyleMixin = function() {
    function AreaStyleMixin2() {
    }
    AreaStyleMixin2.prototype.getAreaStyle = function(excludes, includes) {
      return getAreaStyle(this, excludes, includes);
    };
    return AreaStyleMixin2;
  }();
  var globalImageCache = new LRU$1(50);
  function findExistImage(newImageOrSrc) {
    if (typeof newImageOrSrc === "string") {
      var cachedImgObj = globalImageCache.get(newImageOrSrc);
      return cachedImgObj && cachedImgObj.image;
    } else {
      return newImageOrSrc;
    }
  }
  function createOrUpdateImage(newImageOrSrc, image, hostEl, onload, cbPayload) {
    if (!newImageOrSrc) {
      return image;
    } else if (typeof newImageOrSrc === "string") {
      if (image && image.__zrImageSrc === newImageOrSrc || !hostEl) {
        return image;
      }
      var cachedImgObj = globalImageCache.get(newImageOrSrc);
      var pendingWrap = { hostEl, cb: onload, cbPayload };
      if (cachedImgObj) {
        image = cachedImgObj.image;
        !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);
      } else {
        image = platformApi.loadImage(newImageOrSrc, imageOnLoad, imageOnLoad);
        image.__zrImageSrc = newImageOrSrc;
        globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {
          image,
          pending: [pendingWrap]
        });
      }
      return image;
    } else {
      return newImageOrSrc;
    }
  }
  function imageOnLoad() {
    var cachedImgObj = this.__cachedImgObj;
    this.onload = this.onerror = this.__cachedImgObj = null;
    for (var i2 = 0; i2 < cachedImgObj.pending.length; i2++) {
      var pendingWrap = cachedImgObj.pending[i2];
      var cb = pendingWrap.cb;
      cb && cb(this, pendingWrap.cbPayload);
      pendingWrap.hostEl.dirty();
    }
    cachedImgObj.pending.length = 0;
  }
  function isImageReady(image) {
    return image && image.width && image.height;
  }
  var STYLE_REG = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;
  function truncateText(text, containerWidth, font, ellipsis, options) {
    if (!containerWidth) {
      return "";
    }
    var textLines = (text + "").split("\n");
    options = prepareTruncateOptions(containerWidth, font, ellipsis, options);
    for (var i2 = 0, len2 = textLines.length; i2 < len2; i2++) {
      textLines[i2] = truncateSingleLine(textLines[i2], options);
    }
    return textLines.join("\n");
  }
  function prepareTruncateOptions(containerWidth, font, ellipsis, options) {
    options = options || {};
    var preparedOpts = extend({}, options);
    preparedOpts.font = font;
    ellipsis = retrieve2(ellipsis, "...");
    preparedOpts.maxIterations = retrieve2(options.maxIterations, 2);
    var minChar = preparedOpts.minChar = retrieve2(options.minChar, 0);
    preparedOpts.cnCharWidth = getWidth("\u56FD", font);
    var ascCharWidth = preparedOpts.ascCharWidth = getWidth("a", font);
    preparedOpts.placeholder = retrieve2(options.placeholder, "");
    var contentWidth = containerWidth = Math.max(0, containerWidth - 1);
    for (var i2 = 0; i2 < minChar && contentWidth >= ascCharWidth; i2++) {
      contentWidth -= ascCharWidth;
    }
    var ellipsisWidth = getWidth(ellipsis, font);
    if (ellipsisWidth > contentWidth) {
      ellipsis = "";
      ellipsisWidth = 0;
    }
    contentWidth = containerWidth - ellipsisWidth;
    preparedOpts.ellipsis = ellipsis;
    preparedOpts.ellipsisWidth = ellipsisWidth;
    preparedOpts.contentWidth = contentWidth;
    preparedOpts.containerWidth = containerWidth;
    return preparedOpts;
  }
  function truncateSingleLine(textLine, options) {
    var containerWidth = options.containerWidth;
    var font = options.font;
    var contentWidth = options.contentWidth;
    if (!containerWidth) {
      return "";
    }
    var lineWidth = getWidth(textLine, font);
    if (lineWidth <= containerWidth) {
      return textLine;
    }
    for (var j2 = 0; ; j2++) {
      if (lineWidth <= contentWidth || j2 >= options.maxIterations) {
        textLine += options.ellipsis;
        break;
      }
      var subLength = j2 === 0 ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth) : lineWidth > 0 ? Math.floor(textLine.length * contentWidth / lineWidth) : 0;
      textLine = textLine.substr(0, subLength);
      lineWidth = getWidth(textLine, font);
    }
    if (textLine === "") {
      textLine = options.placeholder;
    }
    return textLine;
  }
  function estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {
    var width = 0;
    var i2 = 0;
    for (var len2 = text.length; i2 < len2 && width < contentWidth; i2++) {
      var charCode = text.charCodeAt(i2);
      width += 0 <= charCode && charCode <= 127 ? ascCharWidth : cnCharWidth;
    }
    return i2;
  }
  function parsePlainText(text, style) {
    text != null && (text += "");
    var overflow = style.overflow;
    var padding = style.padding;
    var font = style.font;
    var truncate = overflow === "truncate";
    var calculatedLineHeight = getLineHeight(font);
    var lineHeight = retrieve2(style.lineHeight, calculatedLineHeight);
    var bgColorDrawn = !!style.backgroundColor;
    var truncateLineOverflow = style.lineOverflow === "truncate";
    var width = style.width;
    var lines;
    if (width != null && (overflow === "break" || overflow === "breakAll")) {
      lines = text ? wrapText(text, style.font, width, overflow === "breakAll", 0).lines : [];
    } else {
      lines = text ? text.split("\n") : [];
    }
    var contentHeight = lines.length * lineHeight;
    var height = retrieve2(style.height, contentHeight);
    if (contentHeight > height && truncateLineOverflow) {
      var lineCount = Math.floor(height / lineHeight);
      lines = lines.slice(0, lineCount);
    }
    if (text && truncate && width != null) {
      var options = prepareTruncateOptions(width, font, style.ellipsis, {
        minChar: style.truncateMinChar,
        placeholder: style.placeholder
      });
      for (var i2 = 0; i2 < lines.length; i2++) {
        lines[i2] = truncateSingleLine(lines[i2], options);
      }
    }
    var outerHeight = height;
    var contentWidth = 0;
    for (var i2 = 0; i2 < lines.length; i2++) {
      contentWidth = Math.max(getWidth(lines[i2], font), contentWidth);
    }
    if (width == null) {
      width = contentWidth;
    }
    var outerWidth = contentWidth;
    if (padding) {
      outerHeight += padding[0] + padding[2];
      outerWidth += padding[1] + padding[3];
      width += padding[1] + padding[3];
    }
    if (bgColorDrawn) {
      outerWidth = width;
    }
    return {
      lines,
      height,
      outerWidth,
      outerHeight,
      lineHeight,
      calculatedLineHeight,
      contentWidth,
      contentHeight,
      width
    };
  }
  var RichTextToken = function() {
    function RichTextToken2() {
    }
    return RichTextToken2;
  }();
  var RichTextLine = function() {
    function RichTextLine2(tokens) {
      this.tokens = [];
      if (tokens) {
        this.tokens = tokens;
      }
    }
    return RichTextLine2;
  }();
  var RichTextContentBlock = function() {
    function RichTextContentBlock2() {
      this.width = 0;
      this.height = 0;
      this.contentWidth = 0;
      this.contentHeight = 0;
      this.outerWidth = 0;
      this.outerHeight = 0;
      this.lines = [];
    }
    return RichTextContentBlock2;
  }();
  function parseRichText(text, style) {
    var contentBlock = new RichTextContentBlock();
    text != null && (text += "");
    if (!text) {
      return contentBlock;
    }
    var topWidth = style.width;
    var topHeight = style.height;
    var overflow = style.overflow;
    var wrapInfo = (overflow === "break" || overflow === "breakAll") && topWidth != null ? { width: topWidth, accumWidth: 0, breakAll: overflow === "breakAll" } : null;
    var lastIndex = STYLE_REG.lastIndex = 0;
    var result;
    while ((result = STYLE_REG.exec(text)) != null) {
      var matchedIndex = result.index;
      if (matchedIndex > lastIndex) {
        pushTokens(contentBlock, text.substring(lastIndex, matchedIndex), style, wrapInfo);
      }
      pushTokens(contentBlock, result[2], style, wrapInfo, result[1]);
      lastIndex = STYLE_REG.lastIndex;
    }
    if (lastIndex < text.length) {
      pushTokens(contentBlock, text.substring(lastIndex, text.length), style, wrapInfo);
    }
    var pendingList = [];
    var calculatedHeight = 0;
    var calculatedWidth = 0;
    var stlPadding = style.padding;
    var truncate = overflow === "truncate";
    var truncateLine = style.lineOverflow === "truncate";
    function finishLine(line2, lineWidth2, lineHeight2) {
      line2.width = lineWidth2;
      line2.lineHeight = lineHeight2;
      calculatedHeight += lineHeight2;
      calculatedWidth = Math.max(calculatedWidth, lineWidth2);
    }
    outer:
      for (var i2 = 0; i2 < contentBlock.lines.length; i2++) {
        var line = contentBlock.lines[i2];
        var lineHeight = 0;
        var lineWidth = 0;
        for (var j2 = 0; j2 < line.tokens.length; j2++) {
          var token = line.tokens[j2];
          var tokenStyle = token.styleName && style.rich[token.styleName] || {};
          var textPadding = token.textPadding = tokenStyle.padding;
          var paddingH = textPadding ? textPadding[1] + textPadding[3] : 0;
          var font = token.font = tokenStyle.font || style.font;
          token.contentHeight = getLineHeight(font);
          var tokenHeight = retrieve2(tokenStyle.height, token.contentHeight);
          token.innerHeight = tokenHeight;
          textPadding && (tokenHeight += textPadding[0] + textPadding[2]);
          token.height = tokenHeight;
          token.lineHeight = retrieve3(tokenStyle.lineHeight, style.lineHeight, tokenHeight);
          token.align = tokenStyle && tokenStyle.align || style.align;
          token.verticalAlign = tokenStyle && tokenStyle.verticalAlign || "middle";
          if (truncateLine && topHeight != null && calculatedHeight + token.lineHeight > topHeight) {
            if (j2 > 0) {
              line.tokens = line.tokens.slice(0, j2);
              finishLine(line, lineWidth, lineHeight);
              contentBlock.lines = contentBlock.lines.slice(0, i2 + 1);
            } else {
              contentBlock.lines = contentBlock.lines.slice(0, i2);
            }
            break outer;
          }
          var styleTokenWidth = tokenStyle.width;
          var tokenWidthNotSpecified = styleTokenWidth == null || styleTokenWidth === "auto";
          if (typeof styleTokenWidth === "string" && styleTokenWidth.charAt(styleTokenWidth.length - 1) === "%") {
            token.percentWidth = styleTokenWidth;
            pendingList.push(token);
            token.contentWidth = getWidth(token.text, font);
          } else {
            if (tokenWidthNotSpecified) {
              var textBackgroundColor = tokenStyle.backgroundColor;
              var bgImg = textBackgroundColor && textBackgroundColor.image;
              if (bgImg) {
                bgImg = findExistImage(bgImg);
                if (isImageReady(bgImg)) {
                  token.width = Math.max(token.width, bgImg.width * tokenHeight / bgImg.height);
                }
              }
            }
            var remainTruncWidth = truncate && topWidth != null ? topWidth - lineWidth : null;
            if (remainTruncWidth != null && remainTruncWidth < token.width) {
              if (!tokenWidthNotSpecified || remainTruncWidth < paddingH) {
                token.text = "";
                token.width = token.contentWidth = 0;
              } else {
                token.text = truncateText(token.text, remainTruncWidth - paddingH, font, style.ellipsis, { minChar: style.truncateMinChar });
                token.width = token.contentWidth = getWidth(token.text, font);
              }
            } else {
              token.contentWidth = getWidth(token.text, font);
            }
          }
          token.width += paddingH;
          lineWidth += token.width;
          tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));
        }
        finishLine(line, lineWidth, lineHeight);
      }
    contentBlock.outerWidth = contentBlock.width = retrieve2(topWidth, calculatedWidth);
    contentBlock.outerHeight = contentBlock.height = retrieve2(topHeight, calculatedHeight);
    contentBlock.contentHeight = calculatedHeight;
    contentBlock.contentWidth = calculatedWidth;
    if (stlPadding) {
      contentBlock.outerWidth += stlPadding[1] + stlPadding[3];
      contentBlock.outerHeight += stlPadding[0] + stlPadding[2];
    }
    for (var i2 = 0; i2 < pendingList.length; i2++) {
      var token = pendingList[i2];
      var percentWidth = token.percentWidth;
      token.width = parseInt(percentWidth, 10) / 100 * contentBlock.width;
    }
    return contentBlock;
  }
  function pushTokens(block, str, style, wrapInfo, styleName) {
    var isEmptyStr = str === "";
    var tokenStyle = styleName && style.rich[styleName] || {};
    var lines = block.lines;
    var font = tokenStyle.font || style.font;
    var newLine = false;
    var strLines;
    var linesWidths;
    if (wrapInfo) {
      var tokenPadding = tokenStyle.padding;
      var tokenPaddingH = tokenPadding ? tokenPadding[1] + tokenPadding[3] : 0;
      if (tokenStyle.width != null && tokenStyle.width !== "auto") {
        var outerWidth_1 = parsePercent$1(tokenStyle.width, wrapInfo.width) + tokenPaddingH;
        if (lines.length > 0) {
          if (outerWidth_1 + wrapInfo.accumWidth > wrapInfo.width) {
            strLines = str.split("\n");
            newLine = true;
          }
        }
        wrapInfo.accumWidth = outerWidth_1;
      } else {
        var res = wrapText(str, font, wrapInfo.width, wrapInfo.breakAll, wrapInfo.accumWidth);
        wrapInfo.accumWidth = res.accumWidth + tokenPaddingH;
        linesWidths = res.linesWidths;
        strLines = res.lines;
      }
    } else {
      strLines = str.split("\n");
    }
    for (var i2 = 0; i2 < strLines.length; i2++) {
      var text = strLines[i2];
      var token = new RichTextToken();
      token.styleName = styleName;
      token.text = text;
      token.isLineHolder = !text && !isEmptyStr;
      if (typeof tokenStyle.width === "number") {
        token.width = tokenStyle.width;
      } else {
        token.width = linesWidths ? linesWidths[i2] : getWidth(text, font);
      }
      if (!i2 && !newLine) {
        var tokens = (lines[lines.length - 1] || (lines[0] = new RichTextLine())).tokens;
        var tokensLen = tokens.length;
        tokensLen === 1 && tokens[0].isLineHolder ? tokens[0] = token : (text || !tokensLen || isEmptyStr) && tokens.push(token);
      } else {
        lines.push(new RichTextLine([token]));
      }
    }
  }
  function isAlphabeticLetter(ch) {
    var code = ch.charCodeAt(0);
    return code >= 32 && code <= 591 || code >= 880 && code <= 4351 || code >= 4608 && code <= 5119 || code >= 7680 && code <= 8303;
  }
  var breakCharMap = reduce(",&?/;] ".split(""), function(obj, ch) {
    obj[ch] = true;
    return obj;
  }, {});
  function isWordBreakChar(ch) {
    if (isAlphabeticLetter(ch)) {
      if (breakCharMap[ch]) {
        return true;
      }
      return false;
    }
    return true;
  }
  function wrapText(text, font, lineWidth, isBreakAll, lastAccumWidth) {
    var lines = [];
    var linesWidths = [];
    var line = "";
    var currentWord = "";
    var currentWordWidth = 0;
    var accumWidth = 0;
    for (var i2 = 0; i2 < text.length; i2++) {
      var ch = text.charAt(i2);
      if (ch === "\n") {
        if (currentWord) {
          line += currentWord;
          accumWidth += currentWordWidth;
        }
        lines.push(line);
        linesWidths.push(accumWidth);
        line = "";
        currentWord = "";
        currentWordWidth = 0;
        accumWidth = 0;
        continue;
      }
      var chWidth = getWidth(ch, font);
      var inWord = isBreakAll ? false : !isWordBreakChar(ch);
      if (!lines.length ? lastAccumWidth + accumWidth + chWidth > lineWidth : accumWidth + chWidth > lineWidth) {
        if (!accumWidth) {
          if (inWord) {
            lines.push(currentWord);
            linesWidths.push(currentWordWidth);
            currentWord = ch;
            currentWordWidth = chWidth;
          } else {
            lines.push(ch);
            linesWidths.push(chWidth);
          }
        } else if (line || currentWord) {
          if (inWord) {
            if (!line) {
              line = currentWord;
              currentWord = "";
              currentWordWidth = 0;
              accumWidth = currentWordWidth;
            }
            lines.push(line);
            linesWidths.push(accumWidth - currentWordWidth);
            currentWord += ch;
            currentWordWidth += chWidth;
            line = "";
            accumWidth = currentWordWidth;
          } else {
            if (currentWord) {
              line += currentWord;
              currentWord = "";
              currentWordWidth = 0;
            }
            lines.push(line);
            linesWidths.push(accumWidth);
            line = ch;
            accumWidth = chWidth;
          }
        }
        continue;
      }
      accumWidth += chWidth;
      if (inWord) {
        currentWord += ch;
        currentWordWidth += chWidth;
      } else {
        if (currentWord) {
          line += currentWord;
          currentWord = "";
          currentWordWidth = 0;
        }
        line += ch;
      }
    }
    if (!lines.length && !line) {
      line = text;
      currentWord = "";
      currentWordWidth = 0;
    }
    if (currentWord) {
      line += currentWord;
    }
    if (line) {
      lines.push(line);
      linesWidths.push(accumWidth);
    }
    if (lines.length === 1) {
      accumWidth += lastAccumWidth;
    }
    return {
      accumWidth,
      lines,
      linesWidths
    };
  }
  var STYLE_MAGIC_KEY = "__zr_style_" + Math.round(Math.random() * 10);
  var DEFAULT_COMMON_STYLE = {
    shadowBlur: 0,
    shadowOffsetX: 0,
    shadowOffsetY: 0,
    shadowColor: "#000",
    opacity: 1,
    blend: "source-over"
  };
  var DEFAULT_COMMON_ANIMATION_PROPS = {
    style: {
      shadowBlur: true,
      shadowOffsetX: true,
      shadowOffsetY: true,
      shadowColor: true,
      opacity: true
    }
  };
  DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY] = true;
  var PRIMARY_STATES_KEYS = ["z", "z2", "invisible"];
  var PRIMARY_STATES_KEYS_IN_HOVER_LAYER = ["invisible"];
  var Displayable = function(_super) {
    __extends(Displayable2, _super);
    function Displayable2(props) {
      return _super.call(this, props) || this;
    }
    Displayable2.prototype._init = function(props) {
      var keysArr = keys(props);
      for (var i2 = 0; i2 < keysArr.length; i2++) {
        var key = keysArr[i2];
        if (key === "style") {
          this.useStyle(props[key]);
        } else {
          _super.prototype.attrKV.call(this, key, props[key]);
        }
      }
      if (!this.style) {
        this.useStyle({});
      }
    };
    Displayable2.prototype.beforeBrush = function() {
    };
    Displayable2.prototype.afterBrush = function() {
    };
    Displayable2.prototype.innerBeforeBrush = function() {
    };
    Displayable2.prototype.innerAfterBrush = function() {
    };
    Displayable2.prototype.shouldBePainted = function(viewWidth, viewHeight, considerClipPath, considerAncestors) {
      var m2 = this.transform;
      if (this.ignore || this.invisible || this.style.opacity === 0 || this.culling && isDisplayableCulled(this, viewWidth, viewHeight) || m2 && !m2[0] && !m2[3]) {
        return false;
      }
      if (considerClipPath && this.__clipPaths) {
        for (var i2 = 0; i2 < this.__clipPaths.length; ++i2) {
          if (this.__clipPaths[i2].isZeroArea()) {
            return false;
          }
        }
      }
      if (considerAncestors && this.parent) {
        var parent_1 = this.parent;
        while (parent_1) {
          if (parent_1.ignore) {
            return false;
          }
          parent_1 = parent_1.parent;
        }
      }
      return true;
    };
    Displayable2.prototype.contain = function(x2, y) {
      return this.rectContain(x2, y);
    };
    Displayable2.prototype.traverse = function(cb, context) {
      cb.call(context, this);
    };
    Displayable2.prototype.rectContain = function(x2, y) {
      var coord = this.transformCoordToLocal(x2, y);
      var rect = this.getBoundingRect();
      return rect.contain(coord[0], coord[1]);
    };
    Displayable2.prototype.getPaintRect = function() {
      var rect = this._paintRect;
      if (!this._paintRect || this.__dirty) {
        var transform = this.transform;
        var elRect = this.getBoundingRect();
        var style = this.style;
        var shadowSize = style.shadowBlur || 0;
        var shadowOffsetX = style.shadowOffsetX || 0;
        var shadowOffsetY = style.shadowOffsetY || 0;
        rect = this._paintRect || (this._paintRect = new BoundingRect$1(0, 0, 0, 0));
        if (transform) {
          BoundingRect$1.applyTransform(rect, elRect, transform);
        } else {
          rect.copy(elRect);
        }
        if (shadowSize || shadowOffsetX || shadowOffsetY) {
          rect.width += shadowSize * 2 + Math.abs(shadowOffsetX);
          rect.height += shadowSize * 2 + Math.abs(shadowOffsetY);
          rect.x = Math.min(rect.x, rect.x + shadowOffsetX - shadowSize);
          rect.y = Math.min(rect.y, rect.y + shadowOffsetY - shadowSize);
        }
        var tolerance = this.dirtyRectTolerance;
        if (!rect.isZero()) {
          rect.x = Math.floor(rect.x - tolerance);
          rect.y = Math.floor(rect.y - tolerance);
          rect.width = Math.ceil(rect.width + 1 + tolerance * 2);
          rect.height = Math.ceil(rect.height + 1 + tolerance * 2);
        }
      }
      return rect;
    };
    Displayable2.prototype.setPrevPaintRect = function(paintRect) {
      if (paintRect) {
        this._prevPaintRect = this._prevPaintRect || new BoundingRect$1(0, 0, 0, 0);
        this._prevPaintRect.copy(paintRect);
      } else {
        this._prevPaintRect = null;
      }
    };
    Displayable2.prototype.getPrevPaintRect = function() {
      return this._prevPaintRect;
    };
    Displayable2.prototype.animateStyle = function(loop) {
      return this.animate("style", loop);
    };
    Displayable2.prototype.updateDuringAnimation = function(targetKey) {
      if (targetKey === "style") {
        this.dirtyStyle();
      } else {
        this.markRedraw();
      }
    };
    Displayable2.prototype.attrKV = function(key, value) {
      if (key !== "style") {
        _super.prototype.attrKV.call(this, key, value);
      } else {
        if (!this.style) {
          this.useStyle(value);
        } else {
          this.setStyle(value);
        }
      }
    };
    Displayable2.prototype.setStyle = function(keyOrObj, value) {
      if (typeof keyOrObj === "string") {
        this.style[keyOrObj] = value;
      } else {
        extend(this.style, keyOrObj);
      }
      this.dirtyStyle();
      return this;
    };
    Displayable2.prototype.dirtyStyle = function(notRedraw) {
      if (!notRedraw) {
        this.markRedraw();
      }
      this.__dirty |= STYLE_CHANGED_BIT;
      if (this._rect) {
        this._rect = null;
      }
    };
    Displayable2.prototype.dirty = function() {
      this.dirtyStyle();
    };
    Displayable2.prototype.styleChanged = function() {
      return !!(this.__dirty & STYLE_CHANGED_BIT);
    };
    Displayable2.prototype.styleUpdated = function() {
      this.__dirty &= ~STYLE_CHANGED_BIT;
    };
    Displayable2.prototype.createStyle = function(obj) {
      return createObject(DEFAULT_COMMON_STYLE, obj);
    };
    Displayable2.prototype.useStyle = function(obj) {
      if (!obj[STYLE_MAGIC_KEY]) {
        obj = this.createStyle(obj);
      }
      if (this.__inHover) {
        this.__hoverStyle = obj;
      } else {
        this.style = obj;
      }
      this.dirtyStyle();
    };
    Displayable2.prototype.isStyleObject = function(obj) {
      return obj[STYLE_MAGIC_KEY];
    };
    Displayable2.prototype._innerSaveToNormal = function(toState) {
      _super.prototype._innerSaveToNormal.call(this, toState);
      var normalState = this._normalState;
      if (toState.style && !normalState.style) {
        normalState.style = this._mergeStyle(this.createStyle(), this.style);
      }
      this._savePrimaryToNormal(toState, normalState, PRIMARY_STATES_KEYS);
    };
    Displayable2.prototype._applyStateObj = function(stateName, state, normalState, keepCurrentStates, transition, animationCfg) {
      _super.prototype._applyStateObj.call(this, stateName, state, normalState, keepCurrentStates, transition, animationCfg);
      var needsRestoreToNormal = !(state && keepCurrentStates);
      var targetStyle;
      if (state && state.style) {
        if (transition) {
          if (keepCurrentStates) {
            targetStyle = state.style;
          } else {
            targetStyle = this._mergeStyle(this.createStyle(), normalState.style);
            this._mergeStyle(targetStyle, state.style);
          }
        } else {
          targetStyle = this._mergeStyle(this.createStyle(), keepCurrentStates ? this.style : normalState.style);
          this._mergeStyle(targetStyle, state.style);
        }
      } else if (needsRestoreToNormal) {
        targetStyle = normalState.style;
      }
      if (targetStyle) {
        if (transition) {
          var sourceStyle = this.style;
          this.style = this.createStyle(needsRestoreToNormal ? {} : sourceStyle);
          if (needsRestoreToNormal) {
            var changedKeys = keys(sourceStyle);
            for (var i2 = 0; i2 < changedKeys.length; i2++) {
              var key = changedKeys[i2];
              if (key in targetStyle) {
                targetStyle[key] = targetStyle[key];
                this.style[key] = sourceStyle[key];
              }
            }
          }
          var targetKeys = keys(targetStyle);
          for (var i2 = 0; i2 < targetKeys.length; i2++) {
            var key = targetKeys[i2];
            this.style[key] = this.style[key];
          }
          this._transitionState(stateName, {
            style: targetStyle
          }, animationCfg, this.getAnimationStyleProps());
        } else {
          this.useStyle(targetStyle);
        }
      }
      var statesKeys = this.__inHover ? PRIMARY_STATES_KEYS_IN_HOVER_LAYER : PRIMARY_STATES_KEYS;
      for (var i2 = 0; i2 < statesKeys.length; i2++) {
        var key = statesKeys[i2];
        if (state && state[key] != null) {
          this[key] = state[key];
        } else if (needsRestoreToNormal) {
          if (normalState[key] != null) {
            this[key] = normalState[key];
          }
        }
      }
    };
    Displayable2.prototype._mergeStates = function(states) {
      var mergedState = _super.prototype._mergeStates.call(this, states);
      var mergedStyle;
      for (var i2 = 0; i2 < states.length; i2++) {
        var state = states[i2];
        if (state.style) {
          mergedStyle = mergedStyle || {};
          this._mergeStyle(mergedStyle, state.style);
        }
      }
      if (mergedStyle) {
        mergedState.style = mergedStyle;
      }
      return mergedState;
    };
    Displayable2.prototype._mergeStyle = function(targetStyle, sourceStyle) {
      extend(targetStyle, sourceStyle);
      return targetStyle;
    };
    Displayable2.prototype.getAnimationStyleProps = function() {
      return DEFAULT_COMMON_ANIMATION_PROPS;
    };
    Displayable2.initDefaultProps = function() {
      var dispProto = Displayable2.prototype;
      dispProto.type = "displayable";
      dispProto.invisible = false;
      dispProto.z = 0;
      dispProto.z2 = 0;
      dispProto.zlevel = 0;
      dispProto.culling = false;
      dispProto.cursor = "pointer";
      dispProto.rectHover = false;
      dispProto.incremental = false;
      dispProto._rect = null;
      dispProto.dirtyRectTolerance = 0;
      dispProto.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT;
    }();
    return Displayable2;
  }(Element$1);
  var tmpRect = new BoundingRect$1(0, 0, 0, 0);
  var viewRect = new BoundingRect$1(0, 0, 0, 0);
  function isDisplayableCulled(el, width, height) {
    tmpRect.copy(el.getBoundingRect());
    if (el.transform) {
      tmpRect.applyTransform(el.transform);
    }
    viewRect.width = width;
    viewRect.height = height;
    return !tmpRect.intersect(viewRect);
  }
  var Displayable$1 = Displayable;
  var mathMin$4 = Math.min;
  var mathMax$4 = Math.max;
  var mathSin$3 = Math.sin;
  var mathCos$3 = Math.cos;
  var PI2$5 = Math.PI * 2;
  var start = create$1();
  var end = create$1();
  var extremity = create$1();
  function fromLine(x0, y0, x1, y1, min3, max3) {
    min3[0] = mathMin$4(x0, x1);
    min3[1] = mathMin$4(y0, y1);
    max3[0] = mathMax$4(x0, x1);
    max3[1] = mathMax$4(y0, y1);
  }
  var xDim = [];
  var yDim = [];
  function fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min3, max3) {
    var cubicExtrema$1 = cubicExtrema;
    var cubicAt$1 = cubicAt;
    var n2 = cubicExtrema$1(x0, x1, x2, x3, xDim);
    min3[0] = Infinity;
    min3[1] = Infinity;
    max3[0] = -Infinity;
    max3[1] = -Infinity;
    for (var i2 = 0; i2 < n2; i2++) {
      var x4 = cubicAt$1(x0, x1, x2, x3, xDim[i2]);
      min3[0] = mathMin$4(x4, min3[0]);
      max3[0] = mathMax$4(x4, max3[0]);
    }
    n2 = cubicExtrema$1(y0, y1, y2, y3, yDim);
    for (var i2 = 0; i2 < n2; i2++) {
      var y = cubicAt$1(y0, y1, y2, y3, yDim[i2]);
      min3[1] = mathMin$4(y, min3[1]);
      max3[1] = mathMax$4(y, max3[1]);
    }
    min3[0] = mathMin$4(x0, min3[0]);
    max3[0] = mathMax$4(x0, max3[0]);
    min3[0] = mathMin$4(x3, min3[0]);
    max3[0] = mathMax$4(x3, max3[0]);
    min3[1] = mathMin$4(y0, min3[1]);
    max3[1] = mathMax$4(y0, max3[1]);
    min3[1] = mathMin$4(y3, min3[1]);
    max3[1] = mathMax$4(y3, max3[1]);
  }
  function fromQuadratic(x0, y0, x1, y1, x2, y2, min3, max3) {
    var quadraticExtremum$1 = quadraticExtremum;
    var quadraticAt$1 = quadraticAt;
    var tx = mathMax$4(mathMin$4(quadraticExtremum$1(x0, x1, x2), 1), 0);
    var ty = mathMax$4(mathMin$4(quadraticExtremum$1(y0, y1, y2), 1), 0);
    var x3 = quadraticAt$1(x0, x1, x2, tx);
    var y = quadraticAt$1(y0, y1, y2, ty);
    min3[0] = mathMin$4(x0, x2, x3);
    min3[1] = mathMin$4(y0, y2, y);
    max3[0] = mathMax$4(x0, x2, x3);
    max3[1] = mathMax$4(y0, y2, y);
  }
  function fromArc(x2, y, rx, ry, startAngle, endAngle, anticlockwise, min3, max3) {
    var vec2Min = min$1;
    var vec2Max = max$1;
    var diff = Math.abs(startAngle - endAngle);
    if (diff % PI2$5 < 1e-4 && diff > 1e-4) {
      min3[0] = x2 - rx;
      min3[1] = y - ry;
      max3[0] = x2 + rx;
      max3[1] = y + ry;
      return;
    }
    start[0] = mathCos$3(startAngle) * rx + x2;
    start[1] = mathSin$3(startAngle) * ry + y;
    end[0] = mathCos$3(endAngle) * rx + x2;
    end[1] = mathSin$3(endAngle) * ry + y;
    vec2Min(min3, start, end);
    vec2Max(max3, start, end);
    startAngle = startAngle % PI2$5;
    if (startAngle < 0) {
      startAngle = startAngle + PI2$5;
    }
    endAngle = endAngle % PI2$5;
    if (endAngle < 0) {
      endAngle = endAngle + PI2$5;
    }
    if (startAngle > endAngle && !anticlockwise) {
      endAngle += PI2$5;
    } else if (startAngle < endAngle && anticlockwise) {
      startAngle += PI2$5;
    }
    if (anticlockwise) {
      var tmp = endAngle;
      endAngle = startAngle;
      startAngle = tmp;
    }
    for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {
      if (angle > startAngle) {
        extremity[0] = mathCos$3(angle) * rx + x2;
        extremity[1] = mathSin$3(angle) * ry + y;
        vec2Min(min3, extremity, min3);
        vec2Max(max3, extremity, max3);
      }
    }
  }
  var CMD$2 = {
    M: 1,
    L: 2,
    C: 3,
    Q: 4,
    A: 5,
    Z: 6,
    R: 7
  };
  var tmpOutX = [];
  var tmpOutY = [];
  var min = [];
  var max = [];
  var min2 = [];
  var max2 = [];
  var mathMin$3 = Math.min;
  var mathMax$3 = Math.max;
  var mathCos$2 = Math.cos;
  var mathSin$2 = Math.sin;
  var mathAbs$1 = Math.abs;
  var PI$4 = Math.PI;
  var PI2$4 = PI$4 * 2;
  var hasTypedArray = typeof Float32Array !== "undefined";
  var tmpAngles = [];
  function modPI2(radian) {
    var n2 = Math.round(radian / PI$4 * 1e8) / 1e8;
    return n2 % 2 * PI$4;
  }
  function normalizeArcAngles(angles, anticlockwise) {
    var newStartAngle = modPI2(angles[0]);
    if (newStartAngle < 0) {
      newStartAngle += PI2$4;
    }
    var delta = newStartAngle - angles[0];
    var newEndAngle = angles[1];
    newEndAngle += delta;
    if (!anticlockwise && newEndAngle - newStartAngle >= PI2$4) {
      newEndAngle = newStartAngle + PI2$4;
    } else if (anticlockwise && newStartAngle - newEndAngle >= PI2$4) {
      newEndAngle = newStartAngle - PI2$4;
    } else if (!anticlockwise && newStartAngle > newEndAngle) {
      newEndAngle = newStartAngle + (PI2$4 - modPI2(newStartAngle - newEndAngle));
    } else if (anticlockwise && newStartAngle < newEndAngle) {
      newEndAngle = newStartAngle - (PI2$4 - modPI2(newEndAngle - newStartAngle));
    }
    angles[0] = newStartAngle;
    angles[1] = newEndAngle;
  }
  var PathProxy = function() {
    function PathProxy2(notSaveData) {
      this.dpr = 1;
      this._xi = 0;
      this._yi = 0;
      this._x0 = 0;
      this._y0 = 0;
      this._len = 0;
      if (notSaveData) {
        this._saveData = false;
      }
      if (this._saveData) {
        this.data = [];
      }
    }
    PathProxy2.prototype.increaseVersion = function() {
      this._version++;
    };
    PathProxy2.prototype.getVersion = function() {
      return this._version;
    };
    PathProxy2.prototype.setScale = function(sx, sy, segmentIgnoreThreshold) {
      segmentIgnoreThreshold = segmentIgnoreThreshold || 0;
      if (segmentIgnoreThreshold > 0) {
        this._ux = mathAbs$1(segmentIgnoreThreshold / devicePixelRatio / sx) || 0;
        this._uy = mathAbs$1(segmentIgnoreThreshold / devicePixelRatio / sy) || 0;
      }
    };
    PathProxy2.prototype.setDPR = function(dpr2) {
      this.dpr = dpr2;
    };
    PathProxy2.prototype.setContext = function(ctx) {
      this._ctx = ctx;
    };
    PathProxy2.prototype.getContext = function() {
      return this._ctx;
    };
    PathProxy2.prototype.beginPath = function() {
      this._ctx && this._ctx.beginPath();
      this.reset();
      return this;
    };
    PathProxy2.prototype.reset = function() {
      if (this._saveData) {
        this._len = 0;
      }
      if (this._pathSegLen) {
        this._pathSegLen = null;
        this._pathLen = 0;
      }
      this._version++;
    };
    PathProxy2.prototype.moveTo = function(x2, y) {
      this._drawPendingPt();
      this.addData(CMD$2.M, x2, y);
      this._ctx && this._ctx.moveTo(x2, y);
      this._x0 = x2;
      this._y0 = y;
      this._xi = x2;
      this._yi = y;
      return this;
    };
    PathProxy2.prototype.lineTo = function(x2, y) {
      var dx = mathAbs$1(x2 - this._xi);
      var dy = mathAbs$1(y - this._yi);
      var exceedUnit = dx > this._ux || dy > this._uy;
      this.addData(CMD$2.L, x2, y);
      if (this._ctx && exceedUnit) {
        this._ctx.lineTo(x2, y);
      }
      if (exceedUnit) {
        this._xi = x2;
        this._yi = y;
        this._pendingPtDist = 0;
      } else {
        var d2 = dx * dx + dy * dy;
        if (d2 > this._pendingPtDist) {
          this._pendingPtX = x2;
          this._pendingPtY = y;
          this._pendingPtDist = d2;
        }
      }
      return this;
    };
    PathProxy2.prototype.bezierCurveTo = function(x1, y1, x2, y2, x3, y3) {
      this._drawPendingPt();
      this.addData(CMD$2.C, x1, y1, x2, y2, x3, y3);
      if (this._ctx) {
        this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);
      }
      this._xi = x3;
      this._yi = y3;
      return this;
    };
    PathProxy2.prototype.quadraticCurveTo = function(x1, y1, x2, y2) {
      this._drawPendingPt();
      this.addData(CMD$2.Q, x1, y1, x2, y2);
      if (this._ctx) {
        this._ctx.quadraticCurveTo(x1, y1, x2, y2);
      }
      this._xi = x2;
      this._yi = y2;
      return this;
    };
    PathProxy2.prototype.arc = function(cx, cy, r2, startAngle, endAngle, anticlockwise) {
      this._drawPendingPt();
      tmpAngles[0] = startAngle;
      tmpAngles[1] = endAngle;
      normalizeArcAngles(tmpAngles, anticlockwise);
      startAngle = tmpAngles[0];
      endAngle = tmpAngles[1];
      var delta = endAngle - startAngle;
      this.addData(CMD$2.A, cx, cy, r2, r2, startAngle, delta, 0, anticlockwise ? 0 : 1);
      this._ctx && this._ctx.arc(cx, cy, r2, startAngle, endAngle, anticlockwise);
      this._xi = mathCos$2(endAngle) * r2 + cx;
      this._yi = mathSin$2(endAngle) * r2 + cy;
      return this;
    };
    PathProxy2.prototype.arcTo = function(x1, y1, x2, y2, radius) {
      this._drawPendingPt();
      if (this._ctx) {
        this._ctx.arcTo(x1, y1, x2, y2, radius);
      }
      return this;
    };
    PathProxy2.prototype.rect = function(x2, y, w2, h2) {
      this._drawPendingPt();
      this._ctx && this._ctx.rect(x2, y, w2, h2);
      this.addData(CMD$2.R, x2, y, w2, h2);
      return this;
    };
    PathProxy2.prototype.closePath = function() {
      this._drawPendingPt();
      this.addData(CMD$2.Z);
      var ctx = this._ctx;
      var x0 = this._x0;
      var y0 = this._y0;
      if (ctx) {
        ctx.closePath();
      }
      this._xi = x0;
      this._yi = y0;
      return this;
    };
    PathProxy2.prototype.fill = function(ctx) {
      ctx && ctx.fill();
      this.toStatic();
    };
    PathProxy2.prototype.stroke = function(ctx) {
      ctx && ctx.stroke();
      this.toStatic();
    };
    PathProxy2.prototype.len = function() {
      return this._len;
    };
    PathProxy2.prototype.setData = function(data) {
      var len2 = data.length;
      if (!(this.data && this.data.length === len2) && hasTypedArray) {
        this.data = new Float32Array(len2);
      }
      for (var i2 = 0; i2 < len2; i2++) {
        this.data[i2] = data[i2];
      }
      this._len = len2;
    };
    PathProxy2.prototype.appendPath = function(path) {
      if (!(path instanceof Array)) {
        path = [path];
      }
      var len2 = path.length;
      var appendSize = 0;
      var offset = this._len;
      for (var i2 = 0; i2 < len2; i2++) {
        appendSize += path[i2].len();
      }
      if (hasTypedArray && this.data instanceof Float32Array) {
        this.data = new Float32Array(offset + appendSize);
      }
      for (var i2 = 0; i2 < len2; i2++) {
        var appendPathData = path[i2].data;
        for (var k2 = 0; k2 < appendPathData.length; k2++) {
          this.data[offset++] = appendPathData[k2];
        }
      }
      this._len = offset;
    };
    PathProxy2.prototype.addData = function(cmd, a2, b2, c2, d2, e2, f2, g2, h2) {
      if (!this._saveData) {
        return;
      }
      var data = this.data;
      if (this._len + arguments.length > data.length) {
        this._expandData();
        data = this.data;
      }
      for (var i2 = 0; i2 < arguments.length; i2++) {
        data[this._len++] = arguments[i2];
      }
    };
    PathProxy2.prototype._drawPendingPt = function() {
      if (this._pendingPtDist > 0) {
        this._ctx && this._ctx.lineTo(this._pendingPtX, this._pendingPtY);
        this._pendingPtDist = 0;
      }
    };
    PathProxy2.prototype._expandData = function() {
      if (!(this.data instanceof Array)) {
        var newData = [];
        for (var i2 = 0; i2 < this._len; i2++) {
          newData[i2] = this.data[i2];
        }
        this.data = newData;
      }
    };
    PathProxy2.prototype.toStatic = function() {
      if (!this._saveData) {
        return;
      }
      this._drawPendingPt();
      var data = this.data;
      if (data instanceof Array) {
        data.length = this._len;
        if (hasTypedArray && this._len > 11) {
          this.data = new Float32Array(data);
        }
      }
    };
    PathProxy2.prototype.getBoundingRect = function() {
      min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE;
      max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;
      var data = this.data;
      var xi = 0;
      var yi = 0;
      var x0 = 0;
      var y0 = 0;
      var i2;
      for (i2 = 0; i2 < this._len; ) {
        var cmd = data[i2++];
        var isFirst = i2 === 1;
        if (isFirst) {
          xi = data[i2];
          yi = data[i2 + 1];
          x0 = xi;
          y0 = yi;
        }
        switch (cmd) {
          case CMD$2.M:
            xi = x0 = data[i2++];
            yi = y0 = data[i2++];
            min2[0] = x0;
            min2[1] = y0;
            max2[0] = x0;
            max2[1] = y0;
            break;
          case CMD$2.L:
            fromLine(xi, yi, data[i2], data[i2 + 1], min2, max2);
            xi = data[i2++];
            yi = data[i2++];
            break;
          case CMD$2.C:
            fromCubic(xi, yi, data[i2++], data[i2++], data[i2++], data[i2++], data[i2], data[i2 + 1], min2, max2);
            xi = data[i2++];
            yi = data[i2++];
            break;
          case CMD$2.Q:
            fromQuadratic(xi, yi, data[i2++], data[i2++], data[i2], data[i2 + 1], min2, max2);
            xi = data[i2++];
            yi = data[i2++];
            break;
          case CMD$2.A:
            var cx = data[i2++];
            var cy = data[i2++];
            var rx = data[i2++];
            var ry = data[i2++];
            var startAngle = data[i2++];
            var endAngle = data[i2++] + startAngle;
            i2 += 1;
            var anticlockwise = !data[i2++];
            if (isFirst) {
              x0 = mathCos$2(startAngle) * rx + cx;
              y0 = mathSin$2(startAngle) * ry + cy;
            }
            fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);
            xi = mathCos$2(endAngle) * rx + cx;
            yi = mathSin$2(endAngle) * ry + cy;
            break;
          case CMD$2.R:
            x0 = xi = data[i2++];
            y0 = yi = data[i2++];
            var width = data[i2++];
            var height = data[i2++];
            fromLine(x0, y0, x0 + width, y0 + height, min2, max2);
            break;
          case CMD$2.Z:
            xi = x0;
            yi = y0;
            break;
        }
        min$1(min, min, min2);
        max$1(max, max, max2);
      }
      if (i2 === 0) {
        min[0] = min[1] = max[0] = max[1] = 0;
      }
      return new BoundingRect$1(min[0], min[1], max[0] - min[0], max[1] - min[1]);
    };
    PathProxy2.prototype._calculateLength = function() {
      var data = this.data;
      var len2 = this._len;
      var ux = this._ux;
      var uy = this._uy;
      var xi = 0;
      var yi = 0;
      var x0 = 0;
      var y0 = 0;
      if (!this._pathSegLen) {
        this._pathSegLen = [];
      }
      var pathSegLen = this._pathSegLen;
      var pathTotalLen = 0;
      var segCount = 0;
      for (var i2 = 0; i2 < len2; ) {
        var cmd = data[i2++];
        var isFirst = i2 === 1;
        if (isFirst) {
          xi = data[i2];
          yi = data[i2 + 1];
          x0 = xi;
          y0 = yi;
        }
        var l2 = -1;
        switch (cmd) {
          case CMD$2.M:
            xi = x0 = data[i2++];
            yi = y0 = data[i2++];
            break;
          case CMD$2.L: {
            var x2 = data[i2++];
            var y2 = data[i2++];
            var dx = x2 - xi;
            var dy = y2 - yi;
            if (mathAbs$1(dx) > ux || mathAbs$1(dy) > uy || i2 === len2 - 1) {
              l2 = Math.sqrt(dx * dx + dy * dy);
              xi = x2;
              yi = y2;
            }
            break;
          }
          case CMD$2.C: {
            var x1 = data[i2++];
            var y1 = data[i2++];
            var x2 = data[i2++];
            var y2 = data[i2++];
            var x3 = data[i2++];
            var y3 = data[i2++];
            l2 = cubicLength(xi, yi, x1, y1, x2, y2, x3, y3, 10);
            xi = x3;
            yi = y3;
            break;
          }
          case CMD$2.Q: {
            var x1 = data[i2++];
            var y1 = data[i2++];
            var x2 = data[i2++];
            var y2 = data[i2++];
            l2 = quadraticLength(xi, yi, x1, y1, x2, y2, 10);
            xi = x2;
            yi = y2;
            break;
          }
          case CMD$2.A:
            var cx = data[i2++];
            var cy = data[i2++];
            var rx = data[i2++];
            var ry = data[i2++];
            var startAngle = data[i2++];
            var delta = data[i2++];
            var endAngle = delta + startAngle;
            i2 += 1;
            !data[i2++];
            if (isFirst) {
              x0 = mathCos$2(startAngle) * rx + cx;
              y0 = mathSin$2(startAngle) * ry + cy;
            }
            l2 = mathMax$3(rx, ry) * mathMin$3(PI2$4, Math.abs(delta));
            xi = mathCos$2(endAngle) * rx + cx;
            yi = mathSin$2(endAngle) * ry + cy;
            break;
          case CMD$2.R: {
            x0 = xi = data[i2++];
            y0 = yi = data[i2++];
            var width = data[i2++];
            var height = data[i2++];
            l2 = width * 2 + height * 2;
            break;
          }
          case CMD$2.Z: {
            var dx = x0 - xi;
            var dy = y0 - yi;
            l2 = Math.sqrt(dx * dx + dy * dy);
            xi = x0;
            yi = y0;
            break;
          }
        }
        if (l2 >= 0) {
          pathSegLen[segCount++] = l2;
          pathTotalLen += l2;
        }
      }
      this._pathLen = pathTotalLen;
      return pathTotalLen;
    };
    PathProxy2.prototype.rebuildPath = function(ctx, percent) {
      var d2 = this.data;
      var ux = this._ux;
      var uy = this._uy;
      var len2 = this._len;
      var x0;
      var y0;
      var xi;
      var yi;
      var x2;
      var y;
      var drawPart = percent < 1;
      var pathSegLen;
      var pathTotalLen;
      var accumLength = 0;
      var segCount = 0;
      var displayedLength;
      var pendingPtDist = 0;
      var pendingPtX;
      var pendingPtY;
      if (drawPart) {
        if (!this._pathSegLen) {
          this._calculateLength();
        }
        pathSegLen = this._pathSegLen;
        pathTotalLen = this._pathLen;
        displayedLength = percent * pathTotalLen;
        if (!displayedLength) {
          return;
        }
      }
      lo:
        for (var i2 = 0; i2 < len2; ) {
          var cmd = d2[i2++];
          var isFirst = i2 === 1;
          if (isFirst) {
            xi = d2[i2];
            yi = d2[i2 + 1];
            x0 = xi;
            y0 = yi;
          }
          if (cmd !== CMD$2.L && pendingPtDist > 0) {
            ctx.lineTo(pendingPtX, pendingPtY);
            pendingPtDist = 0;
          }
          switch (cmd) {
            case CMD$2.M:
              x0 = xi = d2[i2++];
              y0 = yi = d2[i2++];
              ctx.moveTo(xi, yi);
              break;
            case CMD$2.L: {
              x2 = d2[i2++];
              y = d2[i2++];
              var dx = mathAbs$1(x2 - xi);
              var dy = mathAbs$1(y - yi);
              if (dx > ux || dy > uy) {
                if (drawPart) {
                  var l2 = pathSegLen[segCount++];
                  if (accumLength + l2 > displayedLength) {
                    var t2 = (displayedLength - accumLength) / l2;
                    ctx.lineTo(xi * (1 - t2) + x2 * t2, yi * (1 - t2) + y * t2);
                    break lo;
                  }
                  accumLength += l2;
                }
                ctx.lineTo(x2, y);
                xi = x2;
                yi = y;
                pendingPtDist = 0;
              } else {
                var d22 = dx * dx + dy * dy;
                if (d22 > pendingPtDist) {
                  pendingPtX = x2;
                  pendingPtY = y;
                  pendingPtDist = d22;
                }
              }
              break;
            }
            case CMD$2.C: {
              var x1 = d2[i2++];
              var y1 = d2[i2++];
              var x22 = d2[i2++];
              var y2 = d2[i2++];
              var x3 = d2[i2++];
              var y3 = d2[i2++];
              if (drawPart) {
                var l2 = pathSegLen[segCount++];
                if (accumLength + l2 > displayedLength) {
                  var t2 = (displayedLength - accumLength) / l2;
                  cubicSubdivide(xi, x1, x22, x3, t2, tmpOutX);
                  cubicSubdivide(yi, y1, y2, y3, t2, tmpOutY);
                  ctx.bezierCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2], tmpOutX[3], tmpOutY[3]);
                  break lo;
                }
                accumLength += l2;
              }
              ctx.bezierCurveTo(x1, y1, x22, y2, x3, y3);
              xi = x3;
              yi = y3;
              break;
            }
            case CMD$2.Q: {
              var x1 = d2[i2++];
              var y1 = d2[i2++];
              var x22 = d2[i2++];
              var y2 = d2[i2++];
              if (drawPart) {
                var l2 = pathSegLen[segCount++];
                if (accumLength + l2 > displayedLength) {
                  var t2 = (displayedLength - accumLength) / l2;
                  quadraticSubdivide(xi, x1, x22, t2, tmpOutX);
                  quadraticSubdivide(yi, y1, y2, t2, tmpOutY);
                  ctx.quadraticCurveTo(tmpOutX[1], tmpOutY[1], tmpOutX[2], tmpOutY[2]);
                  break lo;
                }
                accumLength += l2;
              }
              ctx.quadraticCurveTo(x1, y1, x22, y2);
              xi = x22;
              yi = y2;
              break;
            }
            case CMD$2.A:
              var cx = d2[i2++];
              var cy = d2[i2++];
              var rx = d2[i2++];
              var ry = d2[i2++];
              var startAngle = d2[i2++];
              var delta = d2[i2++];
              var psi = d2[i2++];
              var anticlockwise = !d2[i2++];
              var r2 = rx > ry ? rx : ry;
              var isEllipse = mathAbs$1(rx - ry) > 1e-3;
              var endAngle = startAngle + delta;
              var breakBuild = false;
              if (drawPart) {
                var l2 = pathSegLen[segCount++];
                if (accumLength + l2 > displayedLength) {
                  endAngle = startAngle + delta * (displayedLength - accumLength) / l2;
                  breakBuild = true;
                }
                accumLength += l2;
              }
              if (isEllipse && ctx.ellipse) {
                ctx.ellipse(cx, cy, rx, ry, psi, startAngle, endAngle, anticlockwise);
              } else {
                ctx.arc(cx, cy, r2, startAngle, endAngle, anticlockwise);
              }
              if (breakBuild) {
                break lo;
              }
              if (isFirst) {
                x0 = mathCos$2(startAngle) * rx + cx;
                y0 = mathSin$2(startAngle) * ry + cy;
              }
              xi = mathCos$2(endAngle) * rx + cx;
              yi = mathSin$2(endAngle) * ry + cy;
              break;
            case CMD$2.R:
              x0 = xi = d2[i2];
              y0 = yi = d2[i2 + 1];
              x2 = d2[i2++];
              y = d2[i2++];
              var width = d2[i2++];
              var height = d2[i2++];
              if (drawPart) {
                var l2 = pathSegLen[segCount++];
                if (accumLength + l2 > displayedLength) {
                  var d_1 = displayedLength - accumLength;
                  ctx.moveTo(x2, y);
                  ctx.lineTo(x2 + mathMin$3(d_1, width), y);
                  d_1 -= width;
                  if (d_1 > 0) {
                    ctx.lineTo(x2 + width, y + mathMin$3(d_1, height));
                  }
                  d_1 -= height;
                  if (d_1 > 0) {
                    ctx.lineTo(x2 + mathMax$3(width - d_1, 0), y + height);
                  }
                  d_1 -= width;
                  if (d_1 > 0) {
                    ctx.lineTo(x2, y + mathMax$3(height - d_1, 0));
                  }
                  break lo;
                }
                accumLength += l2;
              }
              ctx.rect(x2, y, width, height);
              break;
            case CMD$2.Z:
              if (drawPart) {
                var l2 = pathSegLen[segCount++];
                if (accumLength + l2 > displayedLength) {
                  var t2 = (displayedLength - accumLength) / l2;
                  ctx.lineTo(xi * (1 - t2) + x0 * t2, yi * (1 - t2) + y0 * t2);
                  break lo;
                }
                accumLength += l2;
              }
              ctx.closePath();
              xi = x0;
              yi = y0;
          }
        }
    };
    PathProxy2.prototype.clone = function() {
      var newProxy = new PathProxy2();
      var data = this.data;
      newProxy.data = data.slice ? data.slice() : Array.prototype.slice.call(data);
      newProxy._len = this._len;
      return newProxy;
    };
    PathProxy2.CMD = CMD$2;
    PathProxy2.initDefaultProps = function() {
      var proto2 = PathProxy2.prototype;
      proto2._saveData = true;
      proto2._ux = 0;
      proto2._uy = 0;
      proto2._pendingPtDist = 0;
      proto2._version = 0;
    }();
    return PathProxy2;
  }();
  var PathProxy$1 = PathProxy;
  function containStroke$4(x0, y0, x1, y1, lineWidth, x2, y) {
    if (lineWidth === 0) {
      return false;
    }
    var _l = lineWidth;
    var _a2 = 0;
    var _b2 = x0;
    if (y > y0 + _l && y > y1 + _l || y < y0 - _l && y < y1 - _l || x2 > x0 + _l && x2 > x1 + _l || x2 < x0 - _l && x2 < x1 - _l) {
      return false;
    }
    if (x0 !== x1) {
      _a2 = (y0 - y1) / (x0 - x1);
      _b2 = (x0 * y1 - x1 * y0) / (x0 - x1);
    } else {
      return Math.abs(x2 - x0) <= _l / 2;
    }
    var tmp = _a2 * x2 - y + _b2;
    var _s = tmp * tmp / (_a2 * _a2 + 1);
    return _s <= _l / 2 * _l / 2;
  }
  function containStroke$3(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x4, y) {
    if (lineWidth === 0) {
      return false;
    }
    var _l = lineWidth;
    if (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l || x4 > x0 + _l && x4 > x1 + _l && x4 > x2 + _l && x4 > x3 + _l || x4 < x0 - _l && x4 < x1 - _l && x4 < x2 - _l && x4 < x3 - _l) {
      return false;
    }
    var d2 = cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x4, y, null);
    return d2 <= _l / 2;
  }
  function containStroke$2(x0, y0, x1, y1, x2, y2, lineWidth, x3, y) {
    if (lineWidth === 0) {
      return false;
    }
    var _l = lineWidth;
    if (y > y0 + _l && y > y1 + _l && y > y2 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l || x3 > x0 + _l && x3 > x1 + _l && x3 > x2 + _l || x3 < x0 - _l && x3 < x1 - _l && x3 < x2 - _l) {
      return false;
    }
    var d2 = quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x3, y, null);
    return d2 <= _l / 2;
  }
  var PI2$3 = Math.PI * 2;
  function normalizeRadian(angle) {
    angle %= PI2$3;
    if (angle < 0) {
      angle += PI2$3;
    }
    return angle;
  }
  var PI2$2 = Math.PI * 2;
  function containStroke$1(cx, cy, r2, startAngle, endAngle, anticlockwise, lineWidth, x2, y) {
    if (lineWidth === 0) {
      return false;
    }
    var _l = lineWidth;
    x2 -= cx;
    y -= cy;
    var d2 = Math.sqrt(x2 * x2 + y * y);
    if (d2 - _l > r2 || d2 + _l < r2) {
      return false;
    }
    if (Math.abs(startAngle - endAngle) % PI2$2 < 1e-4) {
      return true;
    }
    if (anticlockwise) {
      var tmp = startAngle;
      startAngle = normalizeRadian(endAngle);
      endAngle = normalizeRadian(tmp);
    } else {
      startAngle = normalizeRadian(startAngle);
      endAngle = normalizeRadian(endAngle);
    }
    if (startAngle > endAngle) {
      endAngle += PI2$2;
    }
    var angle = Math.atan2(y, x2);
    if (angle < 0) {
      angle += PI2$2;
    }
    return angle >= startAngle && angle <= endAngle || angle + PI2$2 >= startAngle && angle + PI2$2 <= endAngle;
  }
  function windingLine(x0, y0, x1, y1, x2, y) {
    if (y > y0 && y > y1 || y < y0 && y < y1) {
      return 0;
    }
    if (y1 === y0) {
      return 0;
    }
    var t2 = (y - y0) / (y1 - y0);
    var dir = y1 < y0 ? 1 : -1;
    if (t2 === 1 || t2 === 0) {
      dir = y1 < y0 ? 0.5 : -0.5;
    }
    var x_ = t2 * (x1 - x0) + x0;
    return x_ === x2 ? Infinity : x_ > x2 ? dir : 0;
  }
  var CMD$1 = PathProxy$1.CMD;
  var PI2$1 = Math.PI * 2;
  var EPSILON$1 = 1e-4;
  function isAroundEqual$1(a2, b2) {
    return Math.abs(a2 - b2) < EPSILON$1;
  }
  var roots = [-1, -1, -1];
  var extrema = [-1, -1];
  function swapExtrema() {
    var tmp = extrema[0];
    extrema[0] = extrema[1];
    extrema[1] = tmp;
  }
  function windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x4, y) {
    if (y > y0 && y > y1 && y > y2 && y > y3 || y < y0 && y < y1 && y < y2 && y < y3) {
      return 0;
    }
    var nRoots = cubicRootAt(y0, y1, y2, y3, y, roots);
    if (nRoots === 0) {
      return 0;
    } else {
      var w2 = 0;
      var nExtrema = -1;
      var y0_ = void 0;
      var y1_ = void 0;
      for (var i2 = 0; i2 < nRoots; i2++) {
        var t2 = roots[i2];
        var unit = t2 === 0 || t2 === 1 ? 0.5 : 1;
        var x_ = cubicAt(x0, x1, x2, x3, t2);
        if (x_ < x4) {
          continue;
        }
        if (nExtrema < 0) {
          nExtrema = cubicExtrema(y0, y1, y2, y3, extrema);
          if (extrema[1] < extrema[0] && nExtrema > 1) {
            swapExtrema();
          }
          y0_ = cubicAt(y0, y1, y2, y3, extrema[0]);
          if (nExtrema > 1) {
            y1_ = cubicAt(y0, y1, y2, y3, extrema[1]);
          }
        }
        if (nExtrema === 2) {
          if (t2 < extrema[0]) {
            w2 += y0_ < y0 ? unit : -unit;
          } else if (t2 < extrema[1]) {
            w2 += y1_ < y0_ ? unit : -unit;
          } else {
            w2 += y3 < y1_ ? unit : -unit;
          }
        } else {
          if (t2 < extrema[0]) {
            w2 += y0_ < y0 ? unit : -unit;
          } else {
            w2 += y3 < y0_ ? unit : -unit;
          }
        }
      }
      return w2;
    }
  }
  function windingQuadratic(x0, y0, x1, y1, x2, y2, x3, y) {
    if (y > y0 && y > y1 && y > y2 || y < y0 && y < y1 && y < y2) {
      return 0;
    }
    var nRoots = quadraticRootAt(y0, y1, y2, y, roots);
    if (nRoots === 0) {
      return 0;
    } else {
      var t2 = quadraticExtremum(y0, y1, y2);
      if (t2 >= 0 && t2 <= 1) {
        var w2 = 0;
        var y_ = quadraticAt(y0, y1, y2, t2);
        for (var i2 = 0; i2 < nRoots; i2++) {
          var unit = roots[i2] === 0 || roots[i2] === 1 ? 0.5 : 1;
          var x_ = quadraticAt(x0, x1, x2, roots[i2]);
          if (x_ < x3) {
            continue;
          }
          if (roots[i2] < t2) {
            w2 += y_ < y0 ? unit : -unit;
          } else {
            w2 += y2 < y_ ? unit : -unit;
          }
        }
        return w2;
      } else {
        var unit = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1;
        var x_ = quadraticAt(x0, x1, x2, roots[0]);
        if (x_ < x3) {
          return 0;
        }
        return y2 < y0 ? unit : -unit;
      }
    }
  }
  function windingArc(cx, cy, r2, startAngle, endAngle, anticlockwise, x2, y) {
    y -= cy;
    if (y > r2 || y < -r2) {
      return 0;
    }
    var tmp = Math.sqrt(r2 * r2 - y * y);
    roots[0] = -tmp;
    roots[1] = tmp;
    var dTheta = Math.abs(startAngle - endAngle);
    if (dTheta < 1e-4) {
      return 0;
    }
    if (dTheta >= PI2$1 - 1e-4) {
      startAngle = 0;
      endAngle = PI2$1;
      var dir = anticlockwise ? 1 : -1;
      if (x2 >= roots[0] + cx && x2 <= roots[1] + cx) {
        return dir;
      } else {
        return 0;
      }
    }
    if (startAngle > endAngle) {
      var tmp_1 = startAngle;
      startAngle = endAngle;
      endAngle = tmp_1;
    }
    if (startAngle < 0) {
      startAngle += PI2$1;
      endAngle += PI2$1;
    }
    var w2 = 0;
    for (var i2 = 0; i2 < 2; i2++) {
      var x_ = roots[i2];
      if (x_ + cx > x2) {
        var angle = Math.atan2(y, x_);
        var dir = anticlockwise ? 1 : -1;
        if (angle < 0) {
          angle = PI2$1 + angle;
        }
        if (angle >= startAngle && angle <= endAngle || angle + PI2$1 >= startAngle && angle + PI2$1 <= endAngle) {
          if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {
            dir = -dir;
          }
          w2 += dir;
        }
      }
    }
    return w2;
  }
  function containPath(path, lineWidth, isStroke, x2, y) {
    var data = path.data;
    var len2 = path.len();
    var w2 = 0;
    var xi = 0;
    var yi = 0;
    var x0 = 0;
    var y0 = 0;
    var x1;
    var y1;
    for (var i2 = 0; i2 < len2; ) {
      var cmd = data[i2++];
      var isFirst = i2 === 1;
      if (cmd === CMD$1.M && i2 > 1) {
        if (!isStroke) {
          w2 += windingLine(xi, yi, x0, y0, x2, y);
        }
      }
      if (isFirst) {
        xi = data[i2];
        yi = data[i2 + 1];
        x0 = xi;
        y0 = yi;
      }
      switch (cmd) {
        case CMD$1.M:
          x0 = data[i2++];
          y0 = data[i2++];
          xi = x0;
          yi = y0;
          break;
        case CMD$1.L:
          if (isStroke) {
            if (containStroke$4(xi, yi, data[i2], data[i2 + 1], lineWidth, x2, y)) {
              return true;
            }
          } else {
            w2 += windingLine(xi, yi, data[i2], data[i2 + 1], x2, y) || 0;
          }
          xi = data[i2++];
          yi = data[i2++];
          break;
        case CMD$1.C:
          if (isStroke) {
            if (containStroke$3(xi, yi, data[i2++], data[i2++], data[i2++], data[i2++], data[i2], data[i2 + 1], lineWidth, x2, y)) {
              return true;
            }
          } else {
            w2 += windingCubic(xi, yi, data[i2++], data[i2++], data[i2++], data[i2++], data[i2], data[i2 + 1], x2, y) || 0;
          }
          xi = data[i2++];
          yi = data[i2++];
          break;
        case CMD$1.Q:
          if (isStroke) {
            if (containStroke$2(xi, yi, data[i2++], data[i2++], data[i2], data[i2 + 1], lineWidth, x2, y)) {
              return true;
            }
          } else {
            w2 += windingQuadratic(xi, yi, data[i2++], data[i2++], data[i2], data[i2 + 1], x2, y) || 0;
          }
          xi = data[i2++];
          yi = data[i2++];
          break;
        case CMD$1.A:
          var cx = data[i2++];
          var cy = data[i2++];
          var rx = data[i2++];
          var ry = data[i2++];
          var theta = data[i2++];
          var dTheta = data[i2++];
          i2 += 1;
          var anticlockwise = !!(1 - data[i2++]);
          x1 = Math.cos(theta) * rx + cx;
          y1 = Math.sin(theta) * ry + cy;
          if (!isFirst) {
            w2 += windingLine(xi, yi, x1, y1, x2, y);
          } else {
            x0 = x1;
            y0 = y1;
          }
          var _x = (x2 - cx) * ry / rx + cx;
          if (isStroke) {
            if (containStroke$1(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {
              return true;
            }
          } else {
            w2 += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);
          }
          xi = Math.cos(theta + dTheta) * rx + cx;
          yi = Math.sin(theta + dTheta) * ry + cy;
          break;
        case CMD$1.R:
          x0 = xi = data[i2++];
          y0 = yi = data[i2++];
          var width = data[i2++];
          var height = data[i2++];
          x1 = x0 + width;
          y1 = y0 + height;
          if (isStroke) {
            if (containStroke$4(x0, y0, x1, y0, lineWidth, x2, y) || containStroke$4(x1, y0, x1, y1, lineWidth, x2, y) || containStroke$4(x1, y1, x0, y1, lineWidth, x2, y) || containStroke$4(x0, y1, x0, y0, lineWidth, x2, y)) {
              return true;
            }
          } else {
            w2 += windingLine(x1, y0, x1, y1, x2, y);
            w2 += windingLine(x0, y1, x0, y0, x2, y);
          }
          break;
        case CMD$1.Z:
          if (isStroke) {
            if (containStroke$4(xi, yi, x0, y0, lineWidth, x2, y)) {
              return true;
            }
          } else {
            w2 += windingLine(xi, yi, x0, y0, x2, y);
          }
          xi = x0;
          yi = y0;
          break;
      }
    }
    if (!isStroke && !isAroundEqual$1(yi, y0)) {
      w2 += windingLine(xi, yi, x0, y0, x2, y) || 0;
    }
    return w2 !== 0;
  }
  function contain$2(pathProxy, x2, y) {
    return containPath(pathProxy, 0, false, x2, y);
  }
  function containStroke(pathProxy, lineWidth, x2, y) {
    return containPath(pathProxy, lineWidth, true, x2, y);
  }
  var DEFAULT_PATH_STYLE = defaults({
    fill: "#000",
    stroke: null,
    strokePercent: 1,
    fillOpacity: 1,
    strokeOpacity: 1,
    lineDashOffset: 0,
    lineWidth: 1,
    lineCap: "butt",
    miterLimit: 10,
    strokeNoScale: false,
    strokeFirst: false
  }, DEFAULT_COMMON_STYLE);
  var DEFAULT_PATH_ANIMATION_PROPS = {
    style: defaults({
      fill: true,
      stroke: true,
      strokePercent: true,
      fillOpacity: true,
      strokeOpacity: true,
      lineDashOffset: true,
      lineWidth: true,
      miterLimit: true
    }, DEFAULT_COMMON_ANIMATION_PROPS.style)
  };
  var pathCopyParams = TRANSFORMABLE_PROPS.concat([
    "invisible",
    "culling",
    "z",
    "z2",
    "zlevel",
    "parent"
  ]);
  var Path = function(_super) {
    __extends(Path2, _super);
    function Path2(opts) {
      return _super.call(this, opts) || this;
    }
    Path2.prototype.update = function() {
      var _this = this;
      _super.prototype.update.call(this);
      var style = this.style;
      if (style.decal) {
        var decalEl = this._decalEl = this._decalEl || new Path2();
        if (decalEl.buildPath === Path2.prototype.buildPath) {
          decalEl.buildPath = function(ctx) {
            _this.buildPath(ctx, _this.shape);
          };
        }
        decalEl.silent = true;
        var decalElStyle = decalEl.style;
        for (var key in style) {
          if (decalElStyle[key] !== style[key]) {
            decalElStyle[key] = style[key];
          }
        }
        decalElStyle.fill = style.fill ? style.decal : null;
        decalElStyle.decal = null;
        decalElStyle.shadowColor = null;
        style.strokeFirst && (decalElStyle.stroke = null);
        for (var i2 = 0; i2 < pathCopyParams.length; ++i2) {
          decalEl[pathCopyParams[i2]] = this[pathCopyParams[i2]];
        }
        decalEl.__dirty |= REDRAW_BIT;
      } else if (this._decalEl) {
        this._decalEl = null;
      }
    };
    Path2.prototype.getDecalElement = function() {
      return this._decalEl;
    };
    Path2.prototype._init = function(props) {
      var keysArr = keys(props);
      this.shape = this.getDefaultShape();
      var defaultStyle = this.getDefaultStyle();
      if (defaultStyle) {
        this.useStyle(defaultStyle);
      }
      for (var i2 = 0; i2 < keysArr.length; i2++) {
        var key = keysArr[i2];
        var value = props[key];
        if (key === "style") {
          if (!this.style) {
            this.useStyle(value);
          } else {
            extend(this.style, value);
          }
        } else if (key === "shape") {
          extend(this.shape, value);
        } else {
          _super.prototype.attrKV.call(this, key, value);
        }
      }
      if (!this.style) {
        this.useStyle({});
      }
    };
    Path2.prototype.getDefaultStyle = function() {
      return null;
    };
    Path2.prototype.getDefaultShape = function() {
      return {};
    };
    Path2.prototype.canBeInsideText = function() {
      return this.hasFill();
    };
    Path2.prototype.getInsideTextFill = function() {
      var pathFill = this.style.fill;
      if (pathFill !== "none") {
        if (isString(pathFill)) {
          var fillLum = lum(pathFill, 0);
          if (fillLum > 0.5) {
            return DARK_LABEL_COLOR;
          } else if (fillLum > 0.2) {
            return LIGHTER_LABEL_COLOR;
          }
          return LIGHT_LABEL_COLOR;
        } else if (pathFill) {
          return LIGHT_LABEL_COLOR;
        }
      }
      return DARK_LABEL_COLOR;
    };
    Path2.prototype.getInsideTextStroke = function(textFill) {
      var pathFill = this.style.fill;
      if (isString(pathFill)) {
        var zr = this.__zr;
        var isDarkMode2 = !!(zr && zr.isDarkMode());
        var isDarkLabel = lum(textFill, 0) < DARK_MODE_THRESHOLD;
        if (isDarkMode2 === isDarkLabel) {
          return pathFill;
        }
      }
    };
    Path2.prototype.buildPath = function(ctx, shapeCfg, inBatch) {
    };
    Path2.prototype.pathUpdated = function() {
      this.__dirty &= ~SHAPE_CHANGED_BIT;
    };
    Path2.prototype.getUpdatedPathProxy = function(inBatch) {
      !this.path && this.createPathProxy();
      this.path.beginPath();
      this.buildPath(this.path, this.shape, inBatch);
      return this.path;
    };
    Path2.prototype.createPathProxy = function() {
      this.path = new PathProxy$1(false);
    };
    Path2.prototype.hasStroke = function() {
      var style = this.style;
      var stroke = style.stroke;
      return !(stroke == null || stroke === "none" || !(style.lineWidth > 0));
    };
    Path2.prototype.hasFill = function() {
      var style = this.style;
      var fill = style.fill;
      return fill != null && fill !== "none";
    };
    Path2.prototype.getBoundingRect = function() {
      var rect = this._rect;
      var style = this.style;
      var needsUpdateRect = !rect;
      if (needsUpdateRect) {
        var firstInvoke = false;
        if (!this.path) {
          firstInvoke = true;
          this.createPathProxy();
        }
        var path = this.path;
        if (firstInvoke || this.__dirty & SHAPE_CHANGED_BIT) {
          path.beginPath();
          this.buildPath(path, this.shape, false);
          this.pathUpdated();
        }
        rect = path.getBoundingRect();
      }
      this._rect = rect;
      if (this.hasStroke() && this.path && this.path.len() > 0) {
        var rectStroke = this._rectStroke || (this._rectStroke = rect.clone());
        if (this.__dirty || needsUpdateRect) {
          rectStroke.copy(rect);
          var lineScale = style.strokeNoScale ? this.getLineScale() : 1;
          var w2 = style.lineWidth;
          if (!this.hasFill()) {
            var strokeContainThreshold = this.strokeContainThreshold;
            w2 = Math.max(w2, strokeContainThreshold == null ? 4 : strokeContainThreshold);
          }
          if (lineScale > 1e-10) {
            rectStroke.width += w2 / lineScale;
            rectStroke.height += w2 / lineScale;
            rectStroke.x -= w2 / lineScale / 2;
            rectStroke.y -= w2 / lineScale / 2;
          }
        }
        return rectStroke;
      }
      return rect;
    };
    Path2.prototype.contain = function(x2, y) {
      var localPos = this.transformCoordToLocal(x2, y);
      var rect = this.getBoundingRect();
      var style = this.style;
      x2 = localPos[0];
      y = localPos[1];
      if (rect.contain(x2, y)) {
        var pathProxy = this.path;
        if (this.hasStroke()) {
          var lineWidth = style.lineWidth;
          var lineScale = style.strokeNoScale ? this.getLineScale() : 1;
          if (lineScale > 1e-10) {
            if (!this.hasFill()) {
              lineWidth = Math.max(lineWidth, this.strokeContainThreshold);
            }
            if (containStroke(pathProxy, lineWidth / lineScale, x2, y)) {
              return true;
            }
          }
        }
        if (this.hasFill()) {
          return contain$2(pathProxy, x2, y);
        }
      }
      return false;
    };
    Path2.prototype.dirtyShape = function() {
      this.__dirty |= SHAPE_CHANGED_BIT;
      if (this._rect) {
        this._rect = null;
      }
      if (this._decalEl) {
        this._decalEl.dirtyShape();
      }
      this.markRedraw();
    };
    Path2.prototype.dirty = function() {
      this.dirtyStyle();
      this.dirtyShape();
    };
    Path2.prototype.animateShape = function(loop) {
      return this.animate("shape", loop);
    };
    Path2.prototype.updateDuringAnimation = function(targetKey) {
      if (targetKey === "style") {
        this.dirtyStyle();
      } else if (targetKey === "shape") {
        this.dirtyShape();
      } else {
        this.markRedraw();
      }
    };
    Path2.prototype.attrKV = function(key, value) {
      if (key === "shape") {
        this.setShape(value);
      } else {
        _super.prototype.attrKV.call(this, key, value);
      }
    };
    Path2.prototype.setShape = function(keyOrObj, value) {
      var shape = this.shape;
      if (!shape) {
        shape = this.shape = {};
      }
      if (typeof keyOrObj === "string") {
        shape[keyOrObj] = value;
      } else {
        extend(shape, keyOrObj);
      }
      this.dirtyShape();
      return this;
    };
    Path2.prototype.shapeChanged = function() {
      return !!(this.__dirty & SHAPE_CHANGED_BIT);
    };
    Path2.prototype.createStyle = function(obj) {
      return createObject(DEFAULT_PATH_STYLE, obj);
    };
    Path2.prototype._innerSaveToNormal = function(toState) {
      _super.prototype._innerSaveToNormal.call(this, toState);
      var normalState = this._normalState;
      if (toState.shape && !normalState.shape) {
        normalState.shape = extend({}, this.shape);
      }
    };
    Path2.prototype._applyStateObj = function(stateName, state, normalState, keepCurrentStates, transition, animationCfg) {
      _super.prototype._applyStateObj.call(this, stateName, state, normalState, keepCurrentStates, transition, animationCfg);
      var needsRestoreToNormal = !(state && keepCurrentStates);
      var targetShape;
      if (state && state.shape) {
        if (transition) {
          if (keepCurrentStates) {
            targetShape = state.shape;
          } else {
            targetShape = extend({}, normalState.shape);
            extend(targetShape, state.shape);
          }
        } else {
          targetShape = extend({}, keepCurrentStates ? this.shape : normalState.shape);
          extend(targetShape, state.shape);
        }
      } else if (needsRestoreToNormal) {
        targetShape = normalState.shape;
      }
      if (targetShape) {
        if (transition) {
          this.shape = extend({}, this.shape);
          var targetShapePrimaryProps = {};
          var shapeKeys = keys(targetShape);
          for (var i2 = 0; i2 < shapeKeys.length; i2++) {
            var key = shapeKeys[i2];
            if (typeof targetShape[key] === "object") {
              this.shape[key] = targetShape[key];
            } else {
              targetShapePrimaryProps[key] = targetShape[key];
            }
          }
          this._transitionState(stateName, {
            shape: targetShapePrimaryProps
          }, animationCfg);
        } else {
          this.shape = targetShape;
          this.dirtyShape();
        }
      }
    };
    Path2.prototype._mergeStates = function(states) {
      var mergedState = _super.prototype._mergeStates.call(this, states);
      var mergedShape;
      for (var i2 = 0; i2 < states.length; i2++) {
        var state = states[i2];
        if (state.shape) {
          mergedShape = mergedShape || {};
          this._mergeStyle(mergedShape, state.shape);
        }
      }
      if (mergedShape) {
        mergedState.shape = mergedShape;
      }
      return mergedState;
    };
    Path2.prototype.getAnimationStyleProps = function() {
      return DEFAULT_PATH_ANIMATION_PROPS;
    };
    Path2.prototype.isZeroArea = function() {
      return false;
    };
    Path2.extend = function(defaultProps) {
      var Sub = function(_super2) {
        __extends(Sub2, _super2);
        function Sub2(opts) {
          var _this = _super2.call(this, opts) || this;
          defaultProps.init && defaultProps.init.call(_this, opts);
          return _this;
        }
        Sub2.prototype.getDefaultStyle = function() {
          return clone$3(defaultProps.style);
        };
        Sub2.prototype.getDefaultShape = function() {
          return clone$3(defaultProps.shape);
        };
        return Sub2;
      }(Path2);
      for (var key in defaultProps) {
        if (typeof defaultProps[key] === "function") {
          Sub.prototype[key] = defaultProps[key];
        }
      }
      return Sub;
    };
    Path2.initDefaultProps = function() {
      var pathProto = Path2.prototype;
      pathProto.type = "path";
      pathProto.strokeContainThreshold = 5;
      pathProto.segmentIgnoreThreshold = 0;
      pathProto.subPixelOptimize = false;
      pathProto.autoBatch = false;
      pathProto.__dirty = REDRAW_BIT | STYLE_CHANGED_BIT | SHAPE_CHANGED_BIT;
    }();
    return Path2;
  }(Displayable$1);
  var Path$1 = Path;
  var DEFAULT_TSPAN_STYLE = defaults({
    strokeFirst: true,
    font: DEFAULT_FONT,
    x: 0,
    y: 0,
    textAlign: "left",
    textBaseline: "top",
    miterLimit: 2
  }, DEFAULT_PATH_STYLE);
  var TSpan = function(_super) {
    __extends(TSpan2, _super);
    function TSpan2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    TSpan2.prototype.hasStroke = function() {
      var style = this.style;
      var stroke = style.stroke;
      return stroke != null && stroke !== "none" && style.lineWidth > 0;
    };
    TSpan2.prototype.hasFill = function() {
      var style = this.style;
      var fill = style.fill;
      return fill != null && fill !== "none";
    };
    TSpan2.prototype.createStyle = function(obj) {
      return createObject(DEFAULT_TSPAN_STYLE, obj);
    };
    TSpan2.prototype.setBoundingRect = function(rect) {
      this._rect = rect;
    };
    TSpan2.prototype.getBoundingRect = function() {
      var style = this.style;
      if (!this._rect) {
        var text = style.text;
        text != null ? text += "" : text = "";
        var rect = getBoundingRect(text, style.font, style.textAlign, style.textBaseline);
        rect.x += style.x || 0;
        rect.y += style.y || 0;
        if (this.hasStroke()) {
          var w2 = style.lineWidth;
          rect.x -= w2 / 2;
          rect.y -= w2 / 2;
          rect.width += w2;
          rect.height += w2;
        }
        this._rect = rect;
      }
      return this._rect;
    };
    TSpan2.initDefaultProps = function() {
      var tspanProto = TSpan2.prototype;
      tspanProto.dirtyRectTolerance = 10;
    }();
    return TSpan2;
  }(Displayable$1);
  TSpan.prototype.type = "tspan";
  var TSpan$1 = TSpan;
  var DEFAULT_IMAGE_STYLE = defaults({
    x: 0,
    y: 0
  }, DEFAULT_COMMON_STYLE);
  var DEFAULT_IMAGE_ANIMATION_PROPS = {
    style: defaults({
      x: true,
      y: true,
      width: true,
      height: true,
      sx: true,
      sy: true,
      sWidth: true,
      sHeight: true
    }, DEFAULT_COMMON_ANIMATION_PROPS.style)
  };
  function isImageLike(source) {
    return !!(source && typeof source !== "string" && source.width && source.height);
  }
  var ZRImage = function(_super) {
    __extends(ZRImage2, _super);
    function ZRImage2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    ZRImage2.prototype.createStyle = function(obj) {
      return createObject(DEFAULT_IMAGE_STYLE, obj);
    };
    ZRImage2.prototype._getSize = function(dim) {
      var style = this.style;
      var size = style[dim];
      if (size != null) {
        return size;
      }
      var imageSource = isImageLike(style.image) ? style.image : this.__image;
      if (!imageSource) {
        return 0;
      }
      var otherDim = dim === "width" ? "height" : "width";
      var otherDimSize = style[otherDim];
      if (otherDimSize == null) {
        return imageSource[dim];
      } else {
        return imageSource[dim] / imageSource[otherDim] * otherDimSize;
      }
    };
    ZRImage2.prototype.getWidth = function() {
      return this._getSize("width");
    };
    ZRImage2.prototype.getHeight = function() {
      return this._getSize("height");
    };
    ZRImage2.prototype.getAnimationStyleProps = function() {
      return DEFAULT_IMAGE_ANIMATION_PROPS;
    };
    ZRImage2.prototype.getBoundingRect = function() {
      var style = this.style;
      if (!this._rect) {
        this._rect = new BoundingRect$1(style.x || 0, style.y || 0, this.getWidth(), this.getHeight());
      }
      return this._rect;
    };
    return ZRImage2;
  }(Displayable$1);
  ZRImage.prototype.type = "image";
  var ZRImage$1 = ZRImage;
  function buildPath$2(ctx, shape) {
    var x2 = shape.x;
    var y = shape.y;
    var width = shape.width;
    var height = shape.height;
    var r2 = shape.r;
    var r1;
    var r22;
    var r3;
    var r4;
    if (width < 0) {
      x2 = x2 + width;
      width = -width;
    }
    if (height < 0) {
      y = y + height;
      height = -height;
    }
    if (typeof r2 === "number") {
      r1 = r22 = r3 = r4 = r2;
    } else if (r2 instanceof Array) {
      if (r2.length === 1) {
        r1 = r22 = r3 = r4 = r2[0];
      } else if (r2.length === 2) {
        r1 = r3 = r2[0];
        r22 = r4 = r2[1];
      } else if (r2.length === 3) {
        r1 = r2[0];
        r22 = r4 = r2[1];
        r3 = r2[2];
      } else {
        r1 = r2[0];
        r22 = r2[1];
        r3 = r2[2];
        r4 = r2[3];
      }
    } else {
      r1 = r22 = r3 = r4 = 0;
    }
    var total;
    if (r1 + r22 > width) {
      total = r1 + r22;
      r1 *= width / total;
      r22 *= width / total;
    }
    if (r3 + r4 > width) {
      total = r3 + r4;
      r3 *= width / total;
      r4 *= width / total;
    }
    if (r22 + r3 > height) {
      total = r22 + r3;
      r22 *= height / total;
      r3 *= height / total;
    }
    if (r1 + r4 > height) {
      total = r1 + r4;
      r1 *= height / total;
      r4 *= height / total;
    }
    ctx.moveTo(x2 + r1, y);
    ctx.lineTo(x2 + width - r22, y);
    r22 !== 0 && ctx.arc(x2 + width - r22, y + r22, r22, -Math.PI / 2, 0);
    ctx.lineTo(x2 + width, y + height - r3);
    r3 !== 0 && ctx.arc(x2 + width - r3, y + height - r3, r3, 0, Math.PI / 2);
    ctx.lineTo(x2 + r4, y + height);
    r4 !== 0 && ctx.arc(x2 + r4, y + height - r4, r4, Math.PI / 2, Math.PI);
    ctx.lineTo(x2, y + r1);
    r1 !== 0 && ctx.arc(x2 + r1, y + r1, r1, Math.PI, Math.PI * 1.5);
  }
  var round = Math.round;
  function subPixelOptimizeLine$1(outputShape, inputShape, style) {
    if (!inputShape) {
      return;
    }
    var x1 = inputShape.x1;
    var x2 = inputShape.x2;
    var y1 = inputShape.y1;
    var y2 = inputShape.y2;
    outputShape.x1 = x1;
    outputShape.x2 = x2;
    outputShape.y1 = y1;
    outputShape.y2 = y2;
    var lineWidth = style && style.lineWidth;
    if (!lineWidth) {
      return outputShape;
    }
    if (round(x1 * 2) === round(x2 * 2)) {
      outputShape.x1 = outputShape.x2 = subPixelOptimize$1(x1, lineWidth, true);
    }
    if (round(y1 * 2) === round(y2 * 2)) {
      outputShape.y1 = outputShape.y2 = subPixelOptimize$1(y1, lineWidth, true);
    }
    return outputShape;
  }
  function subPixelOptimizeRect$1(outputShape, inputShape, style) {
    if (!inputShape) {
      return;
    }
    var originX = inputShape.x;
    var originY = inputShape.y;
    var originWidth = inputShape.width;
    var originHeight = inputShape.height;
    outputShape.x = originX;
    outputShape.y = originY;
    outputShape.width = originWidth;
    outputShape.height = originHeight;
    var lineWidth = style && style.lineWidth;
    if (!lineWidth) {
      return outputShape;
    }
    outputShape.x = subPixelOptimize$1(originX, lineWidth, true);
    outputShape.y = subPixelOptimize$1(originY, lineWidth, true);
    outputShape.width = Math.max(subPixelOptimize$1(originX + originWidth, lineWidth, false) - outputShape.x, originWidth === 0 ? 0 : 1);
    outputShape.height = Math.max(subPixelOptimize$1(originY + originHeight, lineWidth, false) - outputShape.y, originHeight === 0 ? 0 : 1);
    return outputShape;
  }
  function subPixelOptimize$1(position, lineWidth, positiveOrNegative) {
    if (!lineWidth) {
      return position;
    }
    var doubledPosition = round(position * 2);
    return (doubledPosition + round(lineWidth)) % 2 === 0 ? doubledPosition / 2 : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;
  }
  var RectShape = function() {
    function RectShape2() {
      this.x = 0;
      this.y = 0;
      this.width = 0;
      this.height = 0;
    }
    return RectShape2;
  }();
  var subPixelOptimizeOutputShape$1 = {};
  var Rect = function(_super) {
    __extends(Rect2, _super);
    function Rect2(opts) {
      return _super.call(this, opts) || this;
    }
    Rect2.prototype.getDefaultShape = function() {
      return new RectShape();
    };
    Rect2.prototype.buildPath = function(ctx, shape) {
      var x2;
      var y;
      var width;
      var height;
      if (this.subPixelOptimize) {
        var optimizedShape = subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1, shape, this.style);
        x2 = optimizedShape.x;
        y = optimizedShape.y;
        width = optimizedShape.width;
        height = optimizedShape.height;
        optimizedShape.r = shape.r;
        shape = optimizedShape;
      } else {
        x2 = shape.x;
        y = shape.y;
        width = shape.width;
        height = shape.height;
      }
      if (!shape.r) {
        ctx.rect(x2, y, width, height);
      } else {
        buildPath$2(ctx, shape);
      }
    };
    Rect2.prototype.isZeroArea = function() {
      return !this.shape.width || !this.shape.height;
    };
    return Rect2;
  }(Path$1);
  Rect.prototype.type = "rect";
  var Rect$1 = Rect;
  var DEFAULT_RICH_TEXT_COLOR = {
    fill: "#000"
  };
  var DEFAULT_STROKE_LINE_WIDTH = 2;
  var DEFAULT_TEXT_ANIMATION_PROPS = {
    style: defaults({
      fill: true,
      stroke: true,
      fillOpacity: true,
      strokeOpacity: true,
      lineWidth: true,
      fontSize: true,
      lineHeight: true,
      width: true,
      height: true,
      textShadowColor: true,
      textShadowBlur: true,
      textShadowOffsetX: true,
      textShadowOffsetY: true,
      backgroundColor: true,
      padding: true,
      borderColor: true,
      borderWidth: true,
      borderRadius: true
    }, DEFAULT_COMMON_ANIMATION_PROPS.style)
  };
  var ZRText = function(_super) {
    __extends(ZRText2, _super);
    function ZRText2(opts) {
      var _this = _super.call(this) || this;
      _this.type = "text";
      _this._children = [];
      _this._defaultStyle = DEFAULT_RICH_TEXT_COLOR;
      _this.attr(opts);
      return _this;
    }
    ZRText2.prototype.childrenRef = function() {
      return this._children;
    };
    ZRText2.prototype.update = function() {
      _super.prototype.update.call(this);
      if (this.styleChanged()) {
        this._updateSubTexts();
      }
      for (var i2 = 0; i2 < this._children.length; i2++) {
        var child = this._children[i2];
        child.zlevel = this.zlevel;
        child.z = this.z;
        child.z2 = this.z2;
        child.culling = this.culling;
        child.cursor = this.cursor;
        child.invisible = this.invisible;
      }
    };
    ZRText2.prototype.updateTransform = function() {
      var innerTransformable = this.innerTransformable;
      if (innerTransformable) {
        innerTransformable.updateTransform();
        if (innerTransformable.transform) {
          this.transform = innerTransformable.transform;
        }
      } else {
        _super.prototype.updateTransform.call(this);
      }
    };
    ZRText2.prototype.getLocalTransform = function(m2) {
      var innerTransformable = this.innerTransformable;
      return innerTransformable ? innerTransformable.getLocalTransform(m2) : _super.prototype.getLocalTransform.call(this, m2);
    };
    ZRText2.prototype.getComputedTransform = function() {
      if (this.__hostTarget) {
        this.__hostTarget.getComputedTransform();
        this.__hostTarget.updateInnerText(true);
      }
      return _super.prototype.getComputedTransform.call(this);
    };
    ZRText2.prototype._updateSubTexts = function() {
      this._childCursor = 0;
      normalizeTextStyle(this.style);
      this.style.rich ? this._updateRichTexts() : this._updatePlainTexts();
      this._children.length = this._childCursor;
      this.styleUpdated();
    };
    ZRText2.prototype.addSelfToZr = function(zr) {
      _super.prototype.addSelfToZr.call(this, zr);
      for (var i2 = 0; i2 < this._children.length; i2++) {
        this._children[i2].__zr = zr;
      }
    };
    ZRText2.prototype.removeSelfFromZr = function(zr) {
      _super.prototype.removeSelfFromZr.call(this, zr);
      for (var i2 = 0; i2 < this._children.length; i2++) {
        this._children[i2].__zr = null;
      }
    };
    ZRText2.prototype.getBoundingRect = function() {
      if (this.styleChanged()) {
        this._updateSubTexts();
      }
      if (!this._rect) {
        var tmpRect2 = new BoundingRect$1(0, 0, 0, 0);
        var children = this._children;
        var tmpMat = [];
        var rect = null;
        for (var i2 = 0; i2 < children.length; i2++) {
          var child = children[i2];
          var childRect = child.getBoundingRect();
          var transform = child.getLocalTransform(tmpMat);
          if (transform) {
            tmpRect2.copy(childRect);
            tmpRect2.applyTransform(transform);
            rect = rect || tmpRect2.clone();
            rect.union(tmpRect2);
          } else {
            rect = rect || childRect.clone();
            rect.union(childRect);
          }
        }
        this._rect = rect || tmpRect2;
      }
      return this._rect;
    };
    ZRText2.prototype.setDefaultTextStyle = function(defaultTextStyle) {
      this._defaultStyle = defaultTextStyle || DEFAULT_RICH_TEXT_COLOR;
    };
    ZRText2.prototype.setTextContent = function(textContent) {
      {
        throw new Error("Can't attach text on another text");
      }
    };
    ZRText2.prototype._mergeStyle = function(targetStyle, sourceStyle) {
      if (!sourceStyle) {
        return targetStyle;
      }
      var sourceRich = sourceStyle.rich;
      var targetRich = targetStyle.rich || sourceRich && {};
      extend(targetStyle, sourceStyle);
      if (sourceRich && targetRich) {
        this._mergeRich(targetRich, sourceRich);
        targetStyle.rich = targetRich;
      } else if (targetRich) {
        targetStyle.rich = targetRich;
      }
      return targetStyle;
    };
    ZRText2.prototype._mergeRich = function(targetRich, sourceRich) {
      var richNames = keys(sourceRich);
      for (var i2 = 0; i2 < richNames.length; i2++) {
        var richName = richNames[i2];
        targetRich[richName] = targetRich[richName] || {};
        extend(targetRich[richName], sourceRich[richName]);
      }
    };
    ZRText2.prototype.getAnimationStyleProps = function() {
      return DEFAULT_TEXT_ANIMATION_PROPS;
    };
    ZRText2.prototype._getOrCreateChild = function(Ctor) {
      var child = this._children[this._childCursor];
      if (!child || !(child instanceof Ctor)) {
        child = new Ctor();
      }
      this._children[this._childCursor++] = child;
      child.__zr = this.__zr;
      child.parent = this;
      return child;
    };
    ZRText2.prototype._updatePlainTexts = function() {
      var style = this.style;
      var textFont = style.font || DEFAULT_FONT;
      var textPadding = style.padding;
      var text = getStyleText(style);
      var contentBlock = parsePlainText(text, style);
      var needDrawBg = needDrawBackground(style);
      var bgColorDrawn = !!style.backgroundColor;
      var outerHeight = contentBlock.outerHeight;
      var outerWidth = contentBlock.outerWidth;
      var contentWidth = contentBlock.contentWidth;
      var textLines = contentBlock.lines;
      var lineHeight = contentBlock.lineHeight;
      var defaultStyle = this._defaultStyle;
      var baseX = style.x || 0;
      var baseY = style.y || 0;
      var textAlign = style.align || defaultStyle.align || "left";
      var verticalAlign = style.verticalAlign || defaultStyle.verticalAlign || "top";
      var textX = baseX;
      var textY = adjustTextY(baseY, contentBlock.contentHeight, verticalAlign);
      if (needDrawBg || textPadding) {
        var boxX = adjustTextX(baseX, outerWidth, textAlign);
        var boxY = adjustTextY(baseY, outerHeight, verticalAlign);
        needDrawBg && this._renderBackground(style, style, boxX, boxY, outerWidth, outerHeight);
      }
      textY += lineHeight / 2;
      if (textPadding) {
        textX = getTextXForPadding(baseX, textAlign, textPadding);
        if (verticalAlign === "top") {
          textY += textPadding[0];
        } else if (verticalAlign === "bottom") {
          textY -= textPadding[2];
        }
      }
      var defaultLineWidth = 0;
      var useDefaultFill = false;
      var textFill = getFill("fill" in style ? style.fill : (useDefaultFill = true, defaultStyle.fill));
      var textStroke = getStroke("stroke" in style ? style.stroke : !bgColorDrawn && (!defaultStyle.autoStroke || useDefaultFill) ? (defaultLineWidth = DEFAULT_STROKE_LINE_WIDTH, defaultStyle.stroke) : null);
      var hasShadow = style.textShadowBlur > 0;
      var fixedBoundingRect = style.width != null && (style.overflow === "truncate" || style.overflow === "break" || style.overflow === "breakAll");
      var calculatedLineHeight = contentBlock.calculatedLineHeight;
      for (var i2 = 0; i2 < textLines.length; i2++) {
        var el = this._getOrCreateChild(TSpan$1);
        var subElStyle = el.createStyle();
        el.useStyle(subElStyle);
        subElStyle.text = textLines[i2];
        subElStyle.x = textX;
        subElStyle.y = textY;
        if (textAlign) {
          subElStyle.textAlign = textAlign;
        }
        subElStyle.textBaseline = "middle";
        subElStyle.opacity = style.opacity;
        subElStyle.strokeFirst = true;
        if (hasShadow) {
          subElStyle.shadowBlur = style.textShadowBlur || 0;
          subElStyle.shadowColor = style.textShadowColor || "transparent";
          subElStyle.shadowOffsetX = style.textShadowOffsetX || 0;
          subElStyle.shadowOffsetY = style.textShadowOffsetY || 0;
        }
        subElStyle.stroke = textStroke;
        subElStyle.fill = textFill;
        if (textStroke) {
          subElStyle.lineWidth = style.lineWidth || defaultLineWidth;
          subElStyle.lineDash = style.lineDash;
          subElStyle.lineDashOffset = style.lineDashOffset || 0;
        }
        subElStyle.font = textFont;
        setSeparateFont(subElStyle, style);
        textY += lineHeight;
        if (fixedBoundingRect) {
          el.setBoundingRect(new BoundingRect$1(adjustTextX(subElStyle.x, style.width, subElStyle.textAlign), adjustTextY(subElStyle.y, calculatedLineHeight, subElStyle.textBaseline), contentWidth, calculatedLineHeight));
        }
      }
    };
    ZRText2.prototype._updateRichTexts = function() {
      var style = this.style;
      var text = getStyleText(style);
      var contentBlock = parseRichText(text, style);
      var contentWidth = contentBlock.width;
      var outerWidth = contentBlock.outerWidth;
      var outerHeight = contentBlock.outerHeight;
      var textPadding = style.padding;
      var baseX = style.x || 0;
      var baseY = style.y || 0;
      var defaultStyle = this._defaultStyle;
      var textAlign = style.align || defaultStyle.align;
      var verticalAlign = style.verticalAlign || defaultStyle.verticalAlign;
      var boxX = adjustTextX(baseX, outerWidth, textAlign);
      var boxY = adjustTextY(baseY, outerHeight, verticalAlign);
      var xLeft = boxX;
      var lineTop = boxY;
      if (textPadding) {
        xLeft += textPadding[3];
        lineTop += textPadding[0];
      }
      var xRight = xLeft + contentWidth;
      if (needDrawBackground(style)) {
        this._renderBackground(style, style, boxX, boxY, outerWidth, outerHeight);
      }
      var bgColorDrawn = !!style.backgroundColor;
      for (var i2 = 0; i2 < contentBlock.lines.length; i2++) {
        var line = contentBlock.lines[i2];
        var tokens = line.tokens;
        var tokenCount = tokens.length;
        var lineHeight = line.lineHeight;
        var remainedWidth = line.width;
        var leftIndex = 0;
        var lineXLeft = xLeft;
        var lineXRight = xRight;
        var rightIndex = tokenCount - 1;
        var token = void 0;
        while (leftIndex < tokenCount && (token = tokens[leftIndex], !token.align || token.align === "left")) {
          this._placeToken(token, style, lineHeight, lineTop, lineXLeft, "left", bgColorDrawn);
          remainedWidth -= token.width;
          lineXLeft += token.width;
          leftIndex++;
        }
        while (rightIndex >= 0 && (token = tokens[rightIndex], token.align === "right")) {
          this._placeToken(token, style, lineHeight, lineTop, lineXRight, "right", bgColorDrawn);
          remainedWidth -= token.width;
          lineXRight -= token.width;
          rightIndex--;
        }
        lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - remainedWidth) / 2;
        while (leftIndex <= rightIndex) {
          token = tokens[leftIndex];
          this._placeToken(token, style, lineHeight, lineTop, lineXLeft + token.width / 2, "center", bgColorDrawn);
          lineXLeft += token.width;
          leftIndex++;
        }
        lineTop += lineHeight;
      }
    };
    ZRText2.prototype._placeToken = function(token, style, lineHeight, lineTop, x2, textAlign, parentBgColorDrawn) {
      var tokenStyle = style.rich[token.styleName] || {};
      tokenStyle.text = token.text;
      var verticalAlign = token.verticalAlign;
      var y = lineTop + lineHeight / 2;
      if (verticalAlign === "top") {
        y = lineTop + token.height / 2;
      } else if (verticalAlign === "bottom") {
        y = lineTop + lineHeight - token.height / 2;
      }
      var needDrawBg = !token.isLineHolder && needDrawBackground(tokenStyle);
      needDrawBg && this._renderBackground(tokenStyle, style, textAlign === "right" ? x2 - token.width : textAlign === "center" ? x2 - token.width / 2 : x2, y - token.height / 2, token.width, token.height);
      var bgColorDrawn = !!tokenStyle.backgroundColor;
      var textPadding = token.textPadding;
      if (textPadding) {
        x2 = getTextXForPadding(x2, textAlign, textPadding);
        y -= token.height / 2 - textPadding[0] - token.innerHeight / 2;
      }
      var el = this._getOrCreateChild(TSpan$1);
      var subElStyle = el.createStyle();
      el.useStyle(subElStyle);
      var defaultStyle = this._defaultStyle;
      var useDefaultFill = false;
      var defaultLineWidth = 0;
      var textFill = getFill("fill" in tokenStyle ? tokenStyle.fill : "fill" in style ? style.fill : (useDefaultFill = true, defaultStyle.fill));
      var textStroke = getStroke("stroke" in tokenStyle ? tokenStyle.stroke : "stroke" in style ? style.stroke : !bgColorDrawn && !parentBgColorDrawn && (!defaultStyle.autoStroke || useDefaultFill) ? (defaultLineWidth = DEFAULT_STROKE_LINE_WIDTH, defaultStyle.stroke) : null);
      var hasShadow = tokenStyle.textShadowBlur > 0 || style.textShadowBlur > 0;
      subElStyle.text = token.text;
      subElStyle.x = x2;
      subElStyle.y = y;
      if (hasShadow) {
        subElStyle.shadowBlur = tokenStyle.textShadowBlur || style.textShadowBlur || 0;
        subElStyle.shadowColor = tokenStyle.textShadowColor || style.textShadowColor || "transparent";
        subElStyle.shadowOffsetX = tokenStyle.textShadowOffsetX || style.textShadowOffsetX || 0;
        subElStyle.shadowOffsetY = tokenStyle.textShadowOffsetY || style.textShadowOffsetY || 0;
      }
      subElStyle.textAlign = textAlign;
      subElStyle.textBaseline = "middle";
      subElStyle.font = token.font || DEFAULT_FONT;
      subElStyle.opacity = retrieve3(tokenStyle.opacity, style.opacity, 1);
      setSeparateFont(subElStyle, tokenStyle);
      if (textStroke) {
        subElStyle.lineWidth = retrieve3(tokenStyle.lineWidth, style.lineWidth, defaultLineWidth);
        subElStyle.lineDash = retrieve2(tokenStyle.lineDash, style.lineDash);
        subElStyle.lineDashOffset = style.lineDashOffset || 0;
        subElStyle.stroke = textStroke;
      }
      if (textFill) {
        subElStyle.fill = textFill;
      }
      var textWidth = token.contentWidth;
      var textHeight = token.contentHeight;
      el.setBoundingRect(new BoundingRect$1(adjustTextX(subElStyle.x, textWidth, subElStyle.textAlign), adjustTextY(subElStyle.y, textHeight, subElStyle.textBaseline), textWidth, textHeight));
    };
    ZRText2.prototype._renderBackground = function(style, topStyle, x2, y, width, height) {
      var textBackgroundColor = style.backgroundColor;
      var textBorderWidth = style.borderWidth;
      var textBorderColor = style.borderColor;
      var isImageBg = textBackgroundColor && textBackgroundColor.image;
      var isPlainOrGradientBg = textBackgroundColor && !isImageBg;
      var textBorderRadius = style.borderRadius;
      var self2 = this;
      var rectEl;
      var imgEl;
      if (isPlainOrGradientBg || style.lineHeight || textBorderWidth && textBorderColor) {
        rectEl = this._getOrCreateChild(Rect$1);
        rectEl.useStyle(rectEl.createStyle());
        rectEl.style.fill = null;
        var rectShape = rectEl.shape;
        rectShape.x = x2;
        rectShape.y = y;
        rectShape.width = width;
        rectShape.height = height;
        rectShape.r = textBorderRadius;
        rectEl.dirtyShape();
      }
      if (isPlainOrGradientBg) {
        var rectStyle = rectEl.style;
        rectStyle.fill = textBackgroundColor || null;
        rectStyle.fillOpacity = retrieve2(style.fillOpacity, 1);
      } else if (isImageBg) {
        imgEl = this._getOrCreateChild(ZRImage$1);
        imgEl.onload = function() {
          self2.dirtyStyle();
        };
        var imgStyle = imgEl.style;
        imgStyle.image = textBackgroundColor.image;
        imgStyle.x = x2;
        imgStyle.y = y;
        imgStyle.width = width;
        imgStyle.height = height;
      }
      if (textBorderWidth && textBorderColor) {
        var rectStyle = rectEl.style;
        rectStyle.lineWidth = textBorderWidth;
        rectStyle.stroke = textBorderColor;
        rectStyle.strokeOpacity = retrieve2(style.strokeOpacity, 1);
        rectStyle.lineDash = style.borderDash;
        rectStyle.lineDashOffset = style.borderDashOffset || 0;
        rectEl.strokeContainThreshold = 0;
        if (rectEl.hasFill() && rectEl.hasStroke()) {
          rectStyle.strokeFirst = true;
          rectStyle.lineWidth *= 2;
        }
      }
      var commonStyle = (rectEl || imgEl).style;
      commonStyle.shadowBlur = style.shadowBlur || 0;
      commonStyle.shadowColor = style.shadowColor || "transparent";
      commonStyle.shadowOffsetX = style.shadowOffsetX || 0;
      commonStyle.shadowOffsetY = style.shadowOffsetY || 0;
      commonStyle.opacity = retrieve3(style.opacity, topStyle.opacity, 1);
    };
    ZRText2.makeFont = function(style) {
      var font = "";
      if (hasSeparateFont(style)) {
        font = [
          style.fontStyle,
          style.fontWeight,
          parseFontSize(style.fontSize),
          style.fontFamily || "sans-serif"
        ].join(" ");
      }
      return font && trim(font) || style.textFont || style.font;
    };
    return ZRText2;
  }(Displayable$1);
  var VALID_TEXT_ALIGN = { left: true, right: 1, center: 1 };
  var VALID_TEXT_VERTICAL_ALIGN = { top: 1, bottom: 1, middle: 1 };
  var FONT_PARTS = ["fontStyle", "fontWeight", "fontSize", "fontFamily"];
  function parseFontSize(fontSize) {
    if (typeof fontSize === "string" && (fontSize.indexOf("px") !== -1 || fontSize.indexOf("rem") !== -1 || fontSize.indexOf("em") !== -1)) {
      return fontSize;
    } else if (!isNaN(+fontSize)) {
      return fontSize + "px";
    } else {
      return DEFAULT_FONT_SIZE + "px";
    }
  }
  function setSeparateFont(targetStyle, sourceStyle) {
    for (var i2 = 0; i2 < FONT_PARTS.length; i2++) {
      var fontProp = FONT_PARTS[i2];
      var val = sourceStyle[fontProp];
      if (val != null) {
        targetStyle[fontProp] = val;
      }
    }
  }
  function hasSeparateFont(style) {
    return style.fontSize != null || style.fontFamily || style.fontWeight;
  }
  function normalizeTextStyle(style) {
    normalizeStyle(style);
    each$3(style.rich, normalizeStyle);
    return style;
  }
  function normalizeStyle(style) {
    if (style) {
      style.font = ZRText.makeFont(style);
      var textAlign = style.align;
      textAlign === "middle" && (textAlign = "center");
      style.align = textAlign == null || VALID_TEXT_ALIGN[textAlign] ? textAlign : "left";
      var verticalAlign = style.verticalAlign;
      verticalAlign === "center" && (verticalAlign = "middle");
      style.verticalAlign = verticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[verticalAlign] ? verticalAlign : "top";
      var textPadding = style.padding;
      if (textPadding) {
        style.padding = normalizeCssArray$1(style.padding);
      }
    }
  }
  function getStroke(stroke, lineWidth) {
    return stroke == null || lineWidth <= 0 || stroke === "transparent" || stroke === "none" ? null : stroke.image || stroke.colorStops ? "#000" : stroke;
  }
  function getFill(fill) {
    return fill == null || fill === "none" ? null : fill.image || fill.colorStops ? "#000" : fill;
  }
  function getTextXForPadding(x2, textAlign, textPadding) {
    return textAlign === "right" ? x2 - textPadding[1] : textAlign === "center" ? x2 + textPadding[3] / 2 - textPadding[1] / 2 : x2 + textPadding[3];
  }
  function getStyleText(style) {
    var text = style.text;
    text != null && (text += "");
    return text;
  }
  function needDrawBackground(style) {
    return !!(style.backgroundColor || style.lineHeight || style.borderWidth && style.borderColor);
  }
  var ZRText$1 = ZRText;
  var getECData = makeInner();
  var setCommonECData = function(seriesIndex, dataType, dataIdx, el) {
    if (el) {
      var ecData = getECData(el);
      ecData.dataIndex = dataIdx;
      ecData.dataType = dataType;
      ecData.seriesIndex = seriesIndex;
      if (el.type === "group") {
        el.traverse(function(child) {
          var childECData = getECData(child);
          childECData.seriesIndex = seriesIndex;
          childECData.dataIndex = dataIdx;
          childECData.dataType = dataType;
        });
      }
    }
  };
  var _highlightNextDigit = 1;
  var _highlightKeyMap = {};
  var getSavedStates = makeInner();
  var getComponentStates = makeInner();
  var HOVER_STATE_NORMAL = 0;
  var HOVER_STATE_BLUR = 1;
  var HOVER_STATE_EMPHASIS = 2;
  var SPECIAL_STATES = ["emphasis", "blur", "select"];
  var DISPLAY_STATES = ["normal", "emphasis", "blur", "select"];
  var Z2_EMPHASIS_LIFT = 10;
  var Z2_SELECT_LIFT = 9;
  var HIGHLIGHT_ACTION_TYPE = "highlight";
  var DOWNPLAY_ACTION_TYPE = "downplay";
  var SELECT_ACTION_TYPE = "select";
  var UNSELECT_ACTION_TYPE = "unselect";
  var TOGGLE_SELECT_ACTION_TYPE = "toggleSelect";
  function hasFillOrStroke(fillOrStroke) {
    return fillOrStroke != null && fillOrStroke !== "none";
  }
  var liftedColorCache = new LRU$1(100);
  function liftColor(color$1) {
    if (isString(color$1)) {
      var liftedColor = liftedColorCache.get(color$1);
      if (!liftedColor) {
        liftedColor = lift(color$1, -0.1);
        liftedColorCache.put(color$1, liftedColor);
      }
      return liftedColor;
    } else if (isGradientObject(color$1)) {
      var ret = extend({}, color$1);
      ret.colorStops = map$1(color$1.colorStops, function(stop2) {
        return {
          offset: stop2.offset,
          color: lift(stop2.color, -0.1)
        };
      });
      return ret;
    }
    return color$1;
  }
  function doChangeHoverState(el, stateName, hoverStateEnum) {
    if (el.onHoverStateChange && (el.hoverState || 0) !== hoverStateEnum) {
      el.onHoverStateChange(stateName);
    }
    el.hoverState = hoverStateEnum;
  }
  function singleEnterEmphasis(el) {
    doChangeHoverState(el, "emphasis", HOVER_STATE_EMPHASIS);
  }
  function singleLeaveEmphasis(el) {
    if (el.hoverState === HOVER_STATE_EMPHASIS) {
      doChangeHoverState(el, "normal", HOVER_STATE_NORMAL);
    }
  }
  function singleEnterBlur(el) {
    doChangeHoverState(el, "blur", HOVER_STATE_BLUR);
  }
  function singleLeaveBlur(el) {
    if (el.hoverState === HOVER_STATE_BLUR) {
      doChangeHoverState(el, "normal", HOVER_STATE_NORMAL);
    }
  }
  function singleEnterSelect(el) {
    el.selected = true;
  }
  function singleLeaveSelect(el) {
    el.selected = false;
  }
  function updateElementState(el, updater, commonParam) {
    updater(el, commonParam);
  }
  function traverseUpdateState(el, updater, commonParam) {
    updateElementState(el, updater, commonParam);
    el.isGroup && el.traverse(function(child) {
      updateElementState(child, updater, commonParam);
    });
  }
  function setStatesFlag(el, stateName) {
    switch (stateName) {
      case "emphasis":
        el.hoverState = HOVER_STATE_EMPHASIS;
        break;
      case "normal":
        el.hoverState = HOVER_STATE_NORMAL;
        break;
      case "blur":
        el.hoverState = HOVER_STATE_BLUR;
        break;
      case "select":
        el.selected = true;
    }
  }
  function getFromStateStyle(el, props, toStateName, defaultValue) {
    var style = el.style;
    var fromState = {};
    for (var i2 = 0; i2 < props.length; i2++) {
      var propName = props[i2];
      var val = style[propName];
      fromState[propName] = val == null ? defaultValue && defaultValue[propName] : val;
    }
    for (var i2 = 0; i2 < el.animators.length; i2++) {
      var animator = el.animators[i2];
      if (animator.__fromStateTransition && animator.__fromStateTransition.indexOf(toStateName) < 0 && animator.targetName === "style") {
        animator.saveTo(fromState, props);
      }
    }
    return fromState;
  }
  function createEmphasisDefaultState(el, stateName, targetStates, state) {
    var hasSelect = targetStates && indexOf(targetStates, "select") >= 0;
    var cloned = false;
    if (el instanceof Path$1) {
      var store = getSavedStates(el);
      var fromFill = hasSelect ? store.selectFill || store.normalFill : store.normalFill;
      var fromStroke = hasSelect ? store.selectStroke || store.normalStroke : store.normalStroke;
      if (hasFillOrStroke(fromFill) || hasFillOrStroke(fromStroke)) {
        state = state || {};
        var emphasisStyle = state.style || {};
        if (emphasisStyle.fill === "inherit") {
          cloned = true;
          state = extend({}, state);
          emphasisStyle = extend({}, emphasisStyle);
          emphasisStyle.fill = fromFill;
        } else if (!hasFillOrStroke(emphasisStyle.fill) && hasFillOrStroke(fromFill)) {
          cloned = true;
          state = extend({}, state);
          emphasisStyle = extend({}, emphasisStyle);
          emphasisStyle.fill = liftColor(fromFill);
        } else if (!hasFillOrStroke(emphasisStyle.stroke) && hasFillOrStroke(fromStroke)) {
          if (!cloned) {
            state = extend({}, state);
            emphasisStyle = extend({}, emphasisStyle);
          }
          emphasisStyle.stroke = liftColor(fromStroke);
        }
        state.style = emphasisStyle;
      }
    }
    if (state) {
      if (state.z2 == null) {
        if (!cloned) {
          state = extend({}, state);
        }
        var z2EmphasisLift = el.z2EmphasisLift;
        state.z2 = el.z2 + (z2EmphasisLift != null ? z2EmphasisLift : Z2_EMPHASIS_LIFT);
      }
    }
    return state;
  }
  function createSelectDefaultState(el, stateName, state) {
    if (state) {
      if (state.z2 == null) {
        state = extend({}, state);
        var z2SelectLift = el.z2SelectLift;
        state.z2 = el.z2 + (z2SelectLift != null ? z2SelectLift : Z2_SELECT_LIFT);
      }
    }
    return state;
  }
  function createBlurDefaultState(el, stateName, state) {
    var hasBlur = indexOf(el.currentStates, stateName) >= 0;
    var currentOpacity = el.style.opacity;
    var fromState = !hasBlur ? getFromStateStyle(el, ["opacity"], stateName, {
      opacity: 1
    }) : null;
    state = state || {};
    var blurStyle = state.style || {};
    if (blurStyle.opacity == null) {
      state = extend({}, state);
      blurStyle = extend({
        opacity: hasBlur ? currentOpacity : fromState.opacity * 0.1
      }, blurStyle);
      state.style = blurStyle;
    }
    return state;
  }
  function elementStateProxy(stateName, targetStates) {
    var state = this.states[stateName];
    if (this.style) {
      if (stateName === "emphasis") {
        return createEmphasisDefaultState(this, stateName, targetStates, state);
      } else if (stateName === "blur") {
        return createBlurDefaultState(this, stateName, state);
      } else if (stateName === "select") {
        return createSelectDefaultState(this, stateName, state);
      }
    }
    return state;
  }
  function setDefaultStateProxy(el) {
    el.stateProxy = elementStateProxy;
    var textContent = el.getTextContent();
    var textGuide = el.getTextGuideLine();
    if (textContent) {
      textContent.stateProxy = elementStateProxy;
    }
    if (textGuide) {
      textGuide.stateProxy = elementStateProxy;
    }
  }
  function enterEmphasisWhenMouseOver(el, e2) {
    !shouldSilent(el, e2) && !el.__highByOuter && traverseUpdateState(el, singleEnterEmphasis);
  }
  function leaveEmphasisWhenMouseOut(el, e2) {
    !shouldSilent(el, e2) && !el.__highByOuter && traverseUpdateState(el, singleLeaveEmphasis);
  }
  function enterEmphasis(el, highlightDigit) {
    el.__highByOuter |= 1 << (highlightDigit || 0);
    traverseUpdateState(el, singleEnterEmphasis);
  }
  function leaveEmphasis(el, highlightDigit) {
    !(el.__highByOuter &= ~(1 << (highlightDigit || 0))) && traverseUpdateState(el, singleLeaveEmphasis);
  }
  function enterBlur(el) {
    traverseUpdateState(el, singleEnterBlur);
  }
  function leaveBlur(el) {
    traverseUpdateState(el, singleLeaveBlur);
  }
  function enterSelect(el) {
    traverseUpdateState(el, singleEnterSelect);
  }
  function leaveSelect(el) {
    traverseUpdateState(el, singleLeaveSelect);
  }
  function shouldSilent(el, e2) {
    return el.__highDownSilentOnTouch && e2.zrByTouch;
  }
  function allLeaveBlur(api) {
    var model = api.getModel();
    var leaveBlurredSeries = [];
    var allComponentViews = [];
    model.eachComponent(function(componentType, componentModel) {
      var componentStates = getComponentStates(componentModel);
      var isSeries2 = componentType === "series";
      var view = isSeries2 ? api.getViewOfSeriesModel(componentModel) : api.getViewOfComponentModel(componentModel);
      !isSeries2 && allComponentViews.push(view);
      if (componentStates.isBlured) {
        view.group.traverse(function(child) {
          singleLeaveBlur(child);
        });
        isSeries2 && leaveBlurredSeries.push(componentModel);
      }
      componentStates.isBlured = false;
    });
    each$3(allComponentViews, function(view) {
      if (view && view.toggleBlurSeries) {
        view.toggleBlurSeries(leaveBlurredSeries, false, model);
      }
    });
  }
  function blurSeries(targetSeriesIndex, focus, blurScope, api) {
    var ecModel = api.getModel();
    blurScope = blurScope || "coordinateSystem";
    function leaveBlurOfIndices(data, dataIndices) {
      for (var i2 = 0; i2 < dataIndices.length; i2++) {
        var itemEl = data.getItemGraphicEl(dataIndices[i2]);
        itemEl && leaveBlur(itemEl);
      }
    }
    if (targetSeriesIndex == null) {
      return;
    }
    if (!focus || focus === "none") {
      return;
    }
    var targetSeriesModel = ecModel.getSeriesByIndex(targetSeriesIndex);
    var targetCoordSys = targetSeriesModel.coordinateSystem;
    if (targetCoordSys && targetCoordSys.master) {
      targetCoordSys = targetCoordSys.master;
    }
    var blurredSeries = [];
    ecModel.eachSeries(function(seriesModel) {
      var sameSeries = targetSeriesModel === seriesModel;
      var coordSys = seriesModel.coordinateSystem;
      if (coordSys && coordSys.master) {
        coordSys = coordSys.master;
      }
      var sameCoordSys = coordSys && targetCoordSys ? coordSys === targetCoordSys : sameSeries;
      if (!(blurScope === "series" && !sameSeries || blurScope === "coordinateSystem" && !sameCoordSys || focus === "series" && sameSeries)) {
        var view = api.getViewOfSeriesModel(seriesModel);
        view.group.traverse(function(child) {
          if (child.__highByOuter && sameSeries && focus === "self") {
            return;
          }
          singleEnterBlur(child);
        });
        if (isArrayLike(focus)) {
          leaveBlurOfIndices(seriesModel.getData(), focus);
        } else if (isObject$2(focus)) {
          var dataTypes = keys(focus);
          for (var d2 = 0; d2 < dataTypes.length; d2++) {
            leaveBlurOfIndices(seriesModel.getData(dataTypes[d2]), focus[dataTypes[d2]]);
          }
        }
        blurredSeries.push(seriesModel);
        getComponentStates(seriesModel).isBlured = true;
      }
    });
    ecModel.eachComponent(function(componentType, componentModel) {
      if (componentType === "series") {
        return;
      }
      var view = api.getViewOfComponentModel(componentModel);
      if (view && view.toggleBlurSeries) {
        view.toggleBlurSeries(blurredSeries, true, ecModel);
      }
    });
  }
  function blurComponent(componentMainType, componentIndex, api) {
    if (componentMainType == null || componentIndex == null) {
      return;
    }
    var componentModel = api.getModel().getComponent(componentMainType, componentIndex);
    if (!componentModel) {
      return;
    }
    getComponentStates(componentModel).isBlured = true;
    var view = api.getViewOfComponentModel(componentModel);
    if (!view || !view.focusBlurEnabled) {
      return;
    }
    view.group.traverse(function(child) {
      singleEnterBlur(child);
    });
  }
  function blurSeriesFromHighlightPayload(seriesModel, payload, api) {
    var seriesIndex = seriesModel.seriesIndex;
    var data = seriesModel.getData(payload.dataType);
    if (!data) {
      {
        error("Unknown dataType " + payload.dataType);
      }
      return;
    }
    var dataIndex = queryDataIndex(data, payload);
    dataIndex = (isArray(dataIndex) ? dataIndex[0] : dataIndex) || 0;
    var el = data.getItemGraphicEl(dataIndex);
    if (!el) {
      var count = data.count();
      var current = 0;
      while (!el && current < count) {
        el = data.getItemGraphicEl(current++);
      }
    }
    if (el) {
      var ecData = getECData(el);
      blurSeries(seriesIndex, ecData.focus, ecData.blurScope, api);
    } else {
      var focus_1 = seriesModel.get(["emphasis", "focus"]);
      var blurScope = seriesModel.get(["emphasis", "blurScope"]);
      if (focus_1 != null) {
        blurSeries(seriesIndex, focus_1, blurScope, api);
      }
    }
  }
  function findComponentHighDownDispatchers(componentMainType, componentIndex, name, api) {
    var ret = {
      focusSelf: false,
      dispatchers: null
    };
    if (componentMainType == null || componentMainType === "series" || componentIndex == null || name == null) {
      return ret;
    }
    var componentModel = api.getModel().getComponent(componentMainType, componentIndex);
    if (!componentModel) {
      return ret;
    }
    var view = api.getViewOfComponentModel(componentModel);
    if (!view || !view.findHighDownDispatchers) {
      return ret;
    }
    var dispatchers = view.findHighDownDispatchers(name);
    var focusSelf;
    for (var i2 = 0; i2 < dispatchers.length; i2++) {
      if (!isHighDownDispatcher(dispatchers[i2])) {
        error("param should be highDownDispatcher");
      }
      if (getECData(dispatchers[i2]).focus === "self") {
        focusSelf = true;
        break;
      }
    }
    return {
      focusSelf,
      dispatchers
    };
  }
  function handleGlobalMouseOverForHighDown(dispatcher, e2, api) {
    if (!isHighDownDispatcher(dispatcher)) {
      error("param should be highDownDispatcher");
    }
    var ecData = getECData(dispatcher);
    var _a2 = findComponentHighDownDispatchers(ecData.componentMainType, ecData.componentIndex, ecData.componentHighDownName, api), dispatchers = _a2.dispatchers, focusSelf = _a2.focusSelf;
    if (dispatchers) {
      if (focusSelf) {
        blurComponent(ecData.componentMainType, ecData.componentIndex, api);
      }
      each$3(dispatchers, function(dispatcher2) {
        return enterEmphasisWhenMouseOver(dispatcher2, e2);
      });
    } else {
      blurSeries(ecData.seriesIndex, ecData.focus, ecData.blurScope, api);
      if (ecData.focus === "self") {
        blurComponent(ecData.componentMainType, ecData.componentIndex, api);
      }
      enterEmphasisWhenMouseOver(dispatcher, e2);
    }
  }
  function handleGlobalMouseOutForHighDown(dispatcher, e2, api) {
    if (!isHighDownDispatcher(dispatcher)) {
      error("param should be highDownDispatcher");
    }
    allLeaveBlur(api);
    var ecData = getECData(dispatcher);
    var dispatchers = findComponentHighDownDispatchers(ecData.componentMainType, ecData.componentIndex, ecData.componentHighDownName, api).dispatchers;
    if (dispatchers) {
      each$3(dispatchers, function(dispatcher2) {
        return leaveEmphasisWhenMouseOut(dispatcher2, e2);
      });
    } else {
      leaveEmphasisWhenMouseOut(dispatcher, e2);
    }
  }
  function toggleSelectionFromPayload(seriesModel, payload, api) {
    if (!isSelectChangePayload(payload)) {
      return;
    }
    var dataType = payload.dataType;
    var data = seriesModel.getData(dataType);
    var dataIndex = queryDataIndex(data, payload);
    if (!isArray(dataIndex)) {
      dataIndex = [dataIndex];
    }
    seriesModel[payload.type === TOGGLE_SELECT_ACTION_TYPE ? "toggleSelect" : payload.type === SELECT_ACTION_TYPE ? "select" : "unselect"](dataIndex, dataType);
  }
  function updateSeriesElementSelection(seriesModel) {
    var allData = seriesModel.getAllData();
    each$3(allData, function(_a2) {
      var data = _a2.data, type = _a2.type;
      data.eachItemGraphicEl(function(el, idx) {
        seriesModel.isSelected(idx, type) ? enterSelect(el) : leaveSelect(el);
      });
    });
  }
  function getAllSelectedIndices(ecModel) {
    var ret = [];
    ecModel.eachSeries(function(seriesModel) {
      var allData = seriesModel.getAllData();
      each$3(allData, function(_a2) {
        _a2.data;
        var type = _a2.type;
        var dataIndices = seriesModel.getSelectedDataIndices();
        if (dataIndices.length > 0) {
          var item = {
            dataIndex: dataIndices,
            seriesIndex: seriesModel.seriesIndex
          };
          if (type != null) {
            item.dataType = type;
          }
          ret.push(item);
        }
      });
    });
    return ret;
  }
  function enableHoverEmphasis(el, focus, blurScope) {
    setAsHighDownDispatcher(el, true);
    traverseUpdateState(el, setDefaultStateProxy);
    enableHoverFocus(el, focus, blurScope);
  }
  function disableHoverEmphasis(el) {
    setAsHighDownDispatcher(el, false);
  }
  function toggleHoverEmphasis(el, focus, blurScope, isDisabled) {
    isDisabled ? disableHoverEmphasis(el) : enableHoverEmphasis(el, focus, blurScope);
  }
  function enableHoverFocus(el, focus, blurScope) {
    var ecData = getECData(el);
    if (focus != null) {
      ecData.focus = focus;
      ecData.blurScope = blurScope;
    } else if (ecData.focus) {
      ecData.focus = null;
    }
  }
  var OTHER_STATES = ["emphasis", "blur", "select"];
  var defaultStyleGetterMap = {
    itemStyle: "getItemStyle",
    lineStyle: "getLineStyle",
    areaStyle: "getAreaStyle"
  };
  function setStatesStylesFromModel(el, itemModel, styleType, getter) {
    styleType = styleType || "itemStyle";
    for (var i2 = 0; i2 < OTHER_STATES.length; i2++) {
      var stateName = OTHER_STATES[i2];
      var model = itemModel.getModel([stateName, styleType]);
      var state = el.ensureState(stateName);
      state.style = getter ? getter(model) : model[defaultStyleGetterMap[styleType]]();
    }
  }
  function setAsHighDownDispatcher(el, asDispatcher) {
    var disable = asDispatcher === false;
    var extendedEl = el;
    if (el.highDownSilentOnTouch) {
      extendedEl.__highDownSilentOnTouch = el.highDownSilentOnTouch;
    }
    if (!disable || extendedEl.__highDownDispatcher) {
      extendedEl.__highByOuter = extendedEl.__highByOuter || 0;
      extendedEl.__highDownDispatcher = !disable;
    }
  }
  function isHighDownDispatcher(el) {
    return !!(el && el.__highDownDispatcher);
  }
  function getHighlightDigit(highlightKey) {
    var highlightDigit = _highlightKeyMap[highlightKey];
    if (highlightDigit == null && _highlightNextDigit <= 32) {
      highlightDigit = _highlightKeyMap[highlightKey] = _highlightNextDigit++;
    }
    return highlightDigit;
  }
  function isSelectChangePayload(payload) {
    var payloadType = payload.type;
    return payloadType === SELECT_ACTION_TYPE || payloadType === UNSELECT_ACTION_TYPE || payloadType === TOGGLE_SELECT_ACTION_TYPE;
  }
  function isHighDownPayload(payload) {
    var payloadType = payload.type;
    return payloadType === HIGHLIGHT_ACTION_TYPE || payloadType === DOWNPLAY_ACTION_TYPE;
  }
  function savePathStates(el) {
    var store = getSavedStates(el);
    store.normalFill = el.style.fill;
    store.normalStroke = el.style.stroke;
    var selectState = el.states.select || {};
    store.selectFill = selectState.style && selectState.style.fill || null;
    store.selectStroke = selectState.style && selectState.style.stroke || null;
  }
  var CMD = PathProxy$1.CMD;
  var points = [[], [], []];
  var mathSqrt$2 = Math.sqrt;
  var mathAtan2 = Math.atan2;
  function transformPath(path, m2) {
    if (!m2) {
      return;
    }
    var data = path.data;
    var len2 = path.len();
    var cmd;
    var nPoint;
    var i2;
    var j2;
    var k2;
    var p2;
    var M2 = CMD.M;
    var C2 = CMD.C;
    var L2 = CMD.L;
    var R2 = CMD.R;
    var A2 = CMD.A;
    var Q2 = CMD.Q;
    for (i2 = 0, j2 = 0; i2 < len2; ) {
      cmd = data[i2++];
      j2 = i2;
      nPoint = 0;
      switch (cmd) {
        case M2:
          nPoint = 1;
          break;
        case L2:
          nPoint = 1;
          break;
        case C2:
          nPoint = 3;
          break;
        case Q2:
          nPoint = 2;
          break;
        case A2:
          var x2 = m2[4];
          var y = m2[5];
          var sx = mathSqrt$2(m2[0] * m2[0] + m2[1] * m2[1]);
          var sy = mathSqrt$2(m2[2] * m2[2] + m2[3] * m2[3]);
          var angle = mathAtan2(-m2[1] / sy, m2[0] / sx);
          data[i2] *= sx;
          data[i2++] += x2;
          data[i2] *= sy;
          data[i2++] += y;
          data[i2++] *= sx;
          data[i2++] *= sy;
          data[i2++] += angle;
          data[i2++] += angle;
          i2 += 2;
          j2 = i2;
          break;
        case R2:
          p2[0] = data[i2++];
          p2[1] = data[i2++];
          applyTransform$1(p2, p2, m2);
          data[j2++] = p2[0];
          data[j2++] = p2[1];
          p2[0] += data[i2++];
          p2[1] += data[i2++];
          applyTransform$1(p2, p2, m2);
          data[j2++] = p2[0];
          data[j2++] = p2[1];
      }
      for (k2 = 0; k2 < nPoint; k2++) {
        var p_1 = points[k2];
        p_1[0] = data[i2++];
        p_1[1] = data[i2++];
        applyTransform$1(p_1, p_1, m2);
        data[j2++] = p_1[0];
        data[j2++] = p_1[1];
      }
    }
    path.increaseVersion();
  }
  var mathSqrt$1 = Math.sqrt;
  var mathSin$1 = Math.sin;
  var mathCos$1 = Math.cos;
  var PI$3 = Math.PI;
  function vMag(v2) {
    return Math.sqrt(v2[0] * v2[0] + v2[1] * v2[1]);
  }
  function vRatio(u2, v2) {
    return (u2[0] * v2[0] + u2[1] * v2[1]) / (vMag(u2) * vMag(v2));
  }
  function vAngle(u2, v2) {
    return (u2[0] * v2[1] < u2[1] * v2[0] ? -1 : 1) * Math.acos(vRatio(u2, v2));
  }
  function processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {
    var psi = psiDeg * (PI$3 / 180);
    var xp = mathCos$1(psi) * (x1 - x2) / 2 + mathSin$1(psi) * (y1 - y2) / 2;
    var yp = -1 * mathSin$1(psi) * (x1 - x2) / 2 + mathCos$1(psi) * (y1 - y2) / 2;
    var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);
    if (lambda > 1) {
      rx *= mathSqrt$1(lambda);
      ry *= mathSqrt$1(lambda);
    }
    var f2 = (fa === fs ? -1 : 1) * mathSqrt$1((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp))) || 0;
    var cxp = f2 * rx * yp / ry;
    var cyp = f2 * -ry * xp / rx;
    var cx = (x1 + x2) / 2 + mathCos$1(psi) * cxp - mathSin$1(psi) * cyp;
    var cy = (y1 + y2) / 2 + mathSin$1(psi) * cxp + mathCos$1(psi) * cyp;
    var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);
    var u2 = [(xp - cxp) / rx, (yp - cyp) / ry];
    var v2 = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];
    var dTheta = vAngle(u2, v2);
    if (vRatio(u2, v2) <= -1) {
      dTheta = PI$3;
    }
    if (vRatio(u2, v2) >= 1) {
      dTheta = 0;
    }
    if (dTheta < 0) {
      var n2 = Math.round(dTheta / PI$3 * 1e6) / 1e6;
      dTheta = PI$3 * 2 + n2 % 2 * PI$3;
    }
    path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);
  }
  var commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig;
  var numberReg = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;
  function createPathProxyFromString(data) {
    var path = new PathProxy$1();
    if (!data) {
      return path;
    }
    var cpx = 0;
    var cpy = 0;
    var subpathX = cpx;
    var subpathY = cpy;
    var prevCmd;
    var CMD2 = PathProxy$1.CMD;
    var cmdList = data.match(commandReg);
    if (!cmdList) {
      return path;
    }
    for (var l2 = 0; l2 < cmdList.length; l2++) {
      var cmdText = cmdList[l2];
      var cmdStr = cmdText.charAt(0);
      var cmd = void 0;
      var p2 = cmdText.match(numberReg) || [];
      var pLen = p2.length;
      for (var i2 = 0; i2 < pLen; i2++) {
        p2[i2] = parseFloat(p2[i2]);
      }
      var off = 0;
      while (off < pLen) {
        var ctlPtx = void 0;
        var ctlPty = void 0;
        var rx = void 0;
        var ry = void 0;
        var psi = void 0;
        var fa = void 0;
        var fs = void 0;
        var x1 = cpx;
        var y1 = cpy;
        var len2 = void 0;
        var pathData = void 0;
        switch (cmdStr) {
          case "l":
            cpx += p2[off++];
            cpy += p2[off++];
            cmd = CMD2.L;
            path.addData(cmd, cpx, cpy);
            break;
          case "L":
            cpx = p2[off++];
            cpy = p2[off++];
            cmd = CMD2.L;
            path.addData(cmd, cpx, cpy);
            break;
          case "m":
            cpx += p2[off++];
            cpy += p2[off++];
            cmd = CMD2.M;
            path.addData(cmd, cpx, cpy);
            subpathX = cpx;
            subpathY = cpy;
            cmdStr = "l";
            break;
          case "M":
            cpx = p2[off++];
            cpy = p2[off++];
            cmd = CMD2.M;
            path.addData(cmd, cpx, cpy);
            subpathX = cpx;
            subpathY = cpy;
            cmdStr = "L";
            break;
          case "h":
            cpx += p2[off++];
            cmd = CMD2.L;
            path.addData(cmd, cpx, cpy);
            break;
          case "H":
            cpx = p2[off++];
            cmd = CMD2.L;
            path.addData(cmd, cpx, cpy);
            break;
          case "v":
            cpy += p2[off++];
            cmd = CMD2.L;
            path.addData(cmd, cpx, cpy);
            break;
          case "V":
            cpy = p2[off++];
            cmd = CMD2.L;
            path.addData(cmd, cpx, cpy);
            break;
          case "C":
            cmd = CMD2.C;
            path.addData(cmd, p2[off++], p2[off++], p2[off++], p2[off++], p2[off++], p2[off++]);
            cpx = p2[off - 2];
            cpy = p2[off - 1];
            break;
          case "c":
            cmd = CMD2.C;
            path.addData(cmd, p2[off++] + cpx, p2[off++] + cpy, p2[off++] + cpx, p2[off++] + cpy, p2[off++] + cpx, p2[off++] + cpy);
            cpx += p2[off - 2];
            cpy += p2[off - 1];
            break;
          case "S":
            ctlPtx = cpx;
            ctlPty = cpy;
            len2 = path.len();
            pathData = path.data;
            if (prevCmd === CMD2.C) {
              ctlPtx += cpx - pathData[len2 - 4];
              ctlPty += cpy - pathData[len2 - 3];
            }
            cmd = CMD2.C;
            x1 = p2[off++];
            y1 = p2[off++];
            cpx = p2[off++];
            cpy = p2[off++];
            path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);
            break;
          case "s":
            ctlPtx = cpx;
            ctlPty = cpy;
            len2 = path.len();
            pathData = path.data;
            if (prevCmd === CMD2.C) {
              ctlPtx += cpx - pathData[len2 - 4];
              ctlPty += cpy - pathData[len2 - 3];
            }
            cmd = CMD2.C;
            x1 = cpx + p2[off++];
            y1 = cpy + p2[off++];
            cpx += p2[off++];
            cpy += p2[off++];
            path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);
            break;
          case "Q":
            x1 = p2[off++];
            y1 = p2[off++];
            cpx = p2[off++];
            cpy = p2[off++];
            cmd = CMD2.Q;
            path.addData(cmd, x1, y1, cpx, cpy);
            break;
          case "q":
            x1 = p2[off++] + cpx;
            y1 = p2[off++] + cpy;
            cpx += p2[off++];
            cpy += p2[off++];
            cmd = CMD2.Q;
            path.addData(cmd, x1, y1, cpx, cpy);
            break;
          case "T":
            ctlPtx = cpx;
            ctlPty = cpy;
            len2 = path.len();
            pathData = path.data;
            if (prevCmd === CMD2.Q) {
              ctlPtx += cpx - pathData[len2 - 4];
              ctlPty += cpy - pathData[len2 - 3];
            }
            cpx = p2[off++];
            cpy = p2[off++];
            cmd = CMD2.Q;
            path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);
            break;
          case "t":
            ctlPtx = cpx;
            ctlPty = cpy;
            len2 = path.len();
            pathData = path.data;
            if (prevCmd === CMD2.Q) {
              ctlPtx += cpx - pathData[len2 - 4];
              ctlPty += cpy - pathData[len2 - 3];
            }
            cpx += p2[off++];
            cpy += p2[off++];
            cmd = CMD2.Q;
            path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);
            break;
          case "A":
            rx = p2[off++];
            ry = p2[off++];
            psi = p2[off++];
            fa = p2[off++];
            fs = p2[off++];
            x1 = cpx, y1 = cpy;
            cpx = p2[off++];
            cpy = p2[off++];
            cmd = CMD2.A;
            processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);
            break;
          case "a":
            rx = p2[off++];
            ry = p2[off++];
            psi = p2[off++];
            fa = p2[off++];
            fs = p2[off++];
            x1 = cpx, y1 = cpy;
            cpx += p2[off++];
            cpy += p2[off++];
            cmd = CMD2.A;
            processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);
            break;
        }
      }
      if (cmdStr === "z" || cmdStr === "Z") {
        cmd = CMD2.Z;
        path.addData(cmd);
        cpx = subpathX;
        cpy = subpathY;
      }
      prevCmd = cmd;
    }
    path.toStatic();
    return path;
  }
  var SVGPath = function(_super) {
    __extends(SVGPath2, _super);
    function SVGPath2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    SVGPath2.prototype.applyTransform = function(m2) {
    };
    return SVGPath2;
  }(Path$1);
  function isPathProxy(path) {
    return path.setData != null;
  }
  function createPathOptions(str, opts) {
    var pathProxy = createPathProxyFromString(str);
    var innerOpts = extend({}, opts);
    innerOpts.buildPath = function(path) {
      if (isPathProxy(path)) {
        path.setData(pathProxy.data);
        var ctx = path.getContext();
        if (ctx) {
          path.rebuildPath(ctx, 1);
        }
      } else {
        var ctx = path;
        pathProxy.rebuildPath(ctx, 1);
      }
    };
    innerOpts.applyTransform = function(m2) {
      transformPath(pathProxy, m2);
      this.dirtyShape();
    };
    return innerOpts;
  }
  function createFromString(str, opts) {
    return new SVGPath(createPathOptions(str, opts));
  }
  function extendFromString(str, defaultOpts) {
    var innerOpts = createPathOptions(str, defaultOpts);
    var Sub = function(_super) {
      __extends(Sub2, _super);
      function Sub2(opts) {
        var _this = _super.call(this, opts) || this;
        _this.applyTransform = innerOpts.applyTransform;
        _this.buildPath = innerOpts.buildPath;
        return _this;
      }
      return Sub2;
    }(SVGPath);
    return Sub;
  }
  function mergePath$1(pathEls, opts) {
    var pathList = [];
    var len2 = pathEls.length;
    for (var i2 = 0; i2 < len2; i2++) {
      var pathEl = pathEls[i2];
      pathList.push(pathEl.getUpdatedPathProxy(true));
    }
    var pathBundle = new Path$1(opts);
    pathBundle.createPathProxy();
    pathBundle.buildPath = function(path) {
      if (isPathProxy(path)) {
        path.appendPath(pathList);
        var ctx = path.getContext();
        if (ctx) {
          path.rebuildPath(ctx, 1);
        }
      }
    };
    return pathBundle;
  }
  var CircleShape = function() {
    function CircleShape2() {
      this.cx = 0;
      this.cy = 0;
      this.r = 0;
    }
    return CircleShape2;
  }();
  var Circle = function(_super) {
    __extends(Circle2, _super);
    function Circle2(opts) {
      return _super.call(this, opts) || this;
    }
    Circle2.prototype.getDefaultShape = function() {
      return new CircleShape();
    };
    Circle2.prototype.buildPath = function(ctx, shape) {
      ctx.moveTo(shape.cx + shape.r, shape.cy);
      ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2);
    };
    return Circle2;
  }(Path$1);
  Circle.prototype.type = "circle";
  var Circle$1 = Circle;
  var EllipseShape = function() {
    function EllipseShape2() {
      this.cx = 0;
      this.cy = 0;
      this.rx = 0;
      this.ry = 0;
    }
    return EllipseShape2;
  }();
  var Ellipse = function(_super) {
    __extends(Ellipse2, _super);
    function Ellipse2(opts) {
      return _super.call(this, opts) || this;
    }
    Ellipse2.prototype.getDefaultShape = function() {
      return new EllipseShape();
    };
    Ellipse2.prototype.buildPath = function(ctx, shape) {
      var k2 = 0.5522848;
      var x2 = shape.cx;
      var y = shape.cy;
      var a2 = shape.rx;
      var b2 = shape.ry;
      var ox = a2 * k2;
      var oy = b2 * k2;
      ctx.moveTo(x2 - a2, y);
      ctx.bezierCurveTo(x2 - a2, y - oy, x2 - ox, y - b2, x2, y - b2);
      ctx.bezierCurveTo(x2 + ox, y - b2, x2 + a2, y - oy, x2 + a2, y);
      ctx.bezierCurveTo(x2 + a2, y + oy, x2 + ox, y + b2, x2, y + b2);
      ctx.bezierCurveTo(x2 - ox, y + b2, x2 - a2, y + oy, x2 - a2, y);
      ctx.closePath();
    };
    return Ellipse2;
  }(Path$1);
  Ellipse.prototype.type = "ellipse";
  var Ellipse$1 = Ellipse;
  var PI$2 = Math.PI;
  var PI2 = PI$2 * 2;
  var mathSin = Math.sin;
  var mathCos = Math.cos;
  var mathACos = Math.acos;
  var mathATan2 = Math.atan2;
  var mathAbs = Math.abs;
  var mathSqrt = Math.sqrt;
  var mathMax$2 = Math.max;
  var mathMin$2 = Math.min;
  var e = 1e-4;
  function intersect(x0, y0, x1, y1, x2, y2, x3, y3) {
    var dx10 = x1 - x0;
    var dy10 = y1 - y0;
    var dx32 = x3 - x2;
    var dy32 = y3 - y2;
    var t2 = dy32 * dx10 - dx32 * dy10;
    if (t2 * t2 < e) {
      return;
    }
    t2 = (dx32 * (y0 - y2) - dy32 * (x0 - x2)) / t2;
    return [x0 + t2 * dx10, y0 + t2 * dy10];
  }
  function computeCornerTangents(x0, y0, x1, y1, radius, cr, clockwise) {
    var x01 = x0 - x1;
    var y01 = y0 - y1;
    var lo = (clockwise ? cr : -cr) / mathSqrt(x01 * x01 + y01 * y01);
    var ox = lo * y01;
    var oy = -lo * x01;
    var x11 = x0 + ox;
    var y11 = y0 + oy;
    var x10 = x1 + ox;
    var y10 = y1 + oy;
    var x00 = (x11 + x10) / 2;
    var y00 = (y11 + y10) / 2;
    var dx = x10 - x11;
    var dy = y10 - y11;
    var d2 = dx * dx + dy * dy;
    var r2 = radius - cr;
    var s2 = x11 * y10 - x10 * y11;
    var d3 = (dy < 0 ? -1 : 1) * mathSqrt(mathMax$2(0, r2 * r2 * d2 - s2 * s2));
    var cx0 = (s2 * dy - dx * d3) / d2;
    var cy0 = (-s2 * dx - dy * d3) / d2;
    var cx1 = (s2 * dy + dx * d3) / d2;
    var cy1 = (-s2 * dx + dy * d3) / d2;
    var dx0 = cx0 - x00;
    var dy0 = cy0 - y00;
    var dx1 = cx1 - x00;
    var dy1 = cy1 - y00;
    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) {
      cx0 = cx1;
      cy0 = cy1;
    }
    return {
      cx: cx0,
      cy: cy0,
      x0: -ox,
      y0: -oy,
      x1: cx0 * (radius / r2 - 1),
      y1: cy0 * (radius / r2 - 1)
    };
  }
  function normalizeCornerRadius(cr) {
    var arr;
    if (isArray(cr)) {
      var len2 = cr.length;
      if (!len2) {
        return cr;
      }
      if (len2 === 1) {
        arr = [cr[0], cr[0], 0, 0];
      } else if (len2 === 2) {
        arr = [cr[0], cr[0], cr[1], cr[1]];
      } else if (len2 === 3) {
        arr = cr.concat(cr[2]);
      } else {
        arr = cr;
      }
    } else {
      arr = [cr, cr, cr, cr];
    }
    return arr;
  }
  function buildPath$1(ctx, shape) {
    var _a2;
    var radius = mathMax$2(shape.r, 0);
    var innerRadius = mathMax$2(shape.r0 || 0, 0);
    var hasRadius = radius > 0;
    var hasInnerRadius = innerRadius > 0;
    if (!hasRadius && !hasInnerRadius) {
      return;
    }
    if (!hasRadius) {
      radius = innerRadius;
      innerRadius = 0;
    }
    if (innerRadius > radius) {
      var tmp = radius;
      radius = innerRadius;
      innerRadius = tmp;
    }
    var startAngle = shape.startAngle, endAngle = shape.endAngle;
    if (isNaN(startAngle) || isNaN(endAngle)) {
      return;
    }
    var cx = shape.cx, cy = shape.cy;
    var clockwise = !!shape.clockwise;
    var arc = mathAbs(endAngle - startAngle);
    var mod = arc > PI2 && arc % PI2;
    mod > e && (arc = mod);
    if (!(radius > e)) {
      ctx.moveTo(cx, cy);
    } else if (arc > PI2 - e) {
      ctx.moveTo(cx + radius * mathCos(startAngle), cy + radius * mathSin(startAngle));
      ctx.arc(cx, cy, radius, startAngle, endAngle, !clockwise);
      if (innerRadius > e) {
        ctx.moveTo(cx + innerRadius * mathCos(endAngle), cy + innerRadius * mathSin(endAngle));
        ctx.arc(cx, cy, innerRadius, endAngle, startAngle, clockwise);
      }
    } else {
      var icrStart = void 0;
      var icrEnd = void 0;
      var ocrStart = void 0;
      var ocrEnd = void 0;
      var ocrs = void 0;
      var ocre = void 0;
      var icrs = void 0;
      var icre = void 0;
      var ocrMax = void 0;
      var icrMax = void 0;
      var limitedOcrMax = void 0;
      var limitedIcrMax = void 0;
      var xre = void 0;
      var yre = void 0;
      var xirs = void 0;
      var yirs = void 0;
      var xrs = radius * mathCos(startAngle);
      var yrs = radius * mathSin(startAngle);
      var xire = innerRadius * mathCos(endAngle);
      var yire = innerRadius * mathSin(endAngle);
      var hasArc = arc > e;
      if (hasArc) {
        var cornerRadius = shape.cornerRadius;
        if (cornerRadius) {
          _a2 = normalizeCornerRadius(cornerRadius), icrStart = _a2[0], icrEnd = _a2[1], ocrStart = _a2[2], ocrEnd = _a2[3];
        }
        var halfRd = mathAbs(radius - innerRadius) / 2;
        ocrs = mathMin$2(halfRd, ocrStart);
        ocre = mathMin$2(halfRd, ocrEnd);
        icrs = mathMin$2(halfRd, icrStart);
        icre = mathMin$2(halfRd, icrEnd);
        limitedOcrMax = ocrMax = mathMax$2(ocrs, ocre);
        limitedIcrMax = icrMax = mathMax$2(icrs, icre);
        if (ocrMax > e || icrMax > e) {
          xre = radius * mathCos(endAngle);
          yre = radius * mathSin(endAngle);
          xirs = innerRadius * mathCos(startAngle);
          yirs = innerRadius * mathSin(startAngle);
          if (arc < PI$2) {
            var it_1 = intersect(xrs, yrs, xirs, yirs, xre, yre, xire, yire);
            if (it_1) {
              var x0 = xrs - it_1[0];
              var y0 = yrs - it_1[1];
              var x1 = xre - it_1[0];
              var y1 = yre - it_1[1];
              var a2 = 1 / mathSin(mathACos((x0 * x1 + y0 * y1) / (mathSqrt(x0 * x0 + y0 * y0) * mathSqrt(x1 * x1 + y1 * y1))) / 2);
              var b2 = mathSqrt(it_1[0] * it_1[0] + it_1[1] * it_1[1]);
              limitedOcrMax = mathMin$2(ocrMax, (radius - b2) / (a2 + 1));
              limitedIcrMax = mathMin$2(icrMax, (innerRadius - b2) / (a2 - 1));
            }
          }
        }
      }
      if (!hasArc) {
        ctx.moveTo(cx + xrs, cy + yrs);
      } else if (limitedOcrMax > e) {
        var crStart = mathMin$2(ocrStart, limitedOcrMax);
        var crEnd = mathMin$2(ocrEnd, limitedOcrMax);
        var ct0 = computeCornerTangents(xirs, yirs, xrs, yrs, radius, crStart, clockwise);
        var ct1 = computeCornerTangents(xre, yre, xire, yire, radius, crEnd, clockwise);
        ctx.moveTo(cx + ct0.cx + ct0.x0, cy + ct0.cy + ct0.y0);
        if (limitedOcrMax < ocrMax && crStart === crEnd) {
          ctx.arc(cx + ct0.cx, cy + ct0.cy, limitedOcrMax, mathATan2(ct0.y0, ct0.x0), mathATan2(ct1.y0, ct1.x0), !clockwise);
        } else {
          crStart > 0 && ctx.arc(cx + ct0.cx, cy + ct0.cy, crStart, mathATan2(ct0.y0, ct0.x0), mathATan2(ct0.y1, ct0.x1), !clockwise);
          ctx.arc(cx, cy, radius, mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1), mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1), !clockwise);
          crEnd > 0 && ctx.arc(cx + ct1.cx, cy + ct1.cy, crEnd, mathATan2(ct1.y1, ct1.x1), mathATan2(ct1.y0, ct1.x0), !clockwise);
        }
      } else {
        ctx.moveTo(cx + xrs, cy + yrs);
        ctx.arc(cx, cy, radius, startAngle, endAngle, !clockwise);
      }
      if (!(innerRadius > e) || !hasArc) {
        ctx.lineTo(cx + xire, cy + yire);
      } else if (limitedIcrMax > e) {
        var crStart = mathMin$2(icrStart, limitedIcrMax);
        var crEnd = mathMin$2(icrEnd, limitedIcrMax);
        var ct0 = computeCornerTangents(xire, yire, xre, yre, innerRadius, -crEnd, clockwise);
        var ct1 = computeCornerTangents(xrs, yrs, xirs, yirs, innerRadius, -crStart, clockwise);
        ctx.lineTo(cx + ct0.cx + ct0.x0, cy + ct0.cy + ct0.y0);
        if (limitedIcrMax < icrMax && crStart === crEnd) {
          ctx.arc(cx + ct0.cx, cy + ct0.cy, limitedIcrMax, mathATan2(ct0.y0, ct0.x0), mathATan2(ct1.y0, ct1.x0), !clockwise);
        } else {
          crEnd > 0 && ctx.arc(cx + ct0.cx, cy + ct0.cy, crEnd, mathATan2(ct0.y0, ct0.x0), mathATan2(ct0.y1, ct0.x1), !clockwise);
          ctx.arc(cx, cy, innerRadius, mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1), mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1), clockwise);
          crStart > 0 && ctx.arc(cx + ct1.cx, cy + ct1.cy, crStart, mathATan2(ct1.y1, ct1.x1), mathATan2(ct1.y0, ct1.x0), !clockwise);
        }
      } else {
        ctx.lineTo(cx + xire, cy + yire);
        ctx.arc(cx, cy, innerRadius, endAngle, startAngle, clockwise);
      }
    }
    ctx.closePath();
  }
  var SectorShape = function() {
    function SectorShape2() {
      this.cx = 0;
      this.cy = 0;
      this.r0 = 0;
      this.r = 0;
      this.startAngle = 0;
      this.endAngle = Math.PI * 2;
      this.clockwise = true;
      this.cornerRadius = 0;
    }
    return SectorShape2;
  }();
  var Sector = function(_super) {
    __extends(Sector2, _super);
    function Sector2(opts) {
      return _super.call(this, opts) || this;
    }
    Sector2.prototype.getDefaultShape = function() {
      return new SectorShape();
    };
    Sector2.prototype.buildPath = function(ctx, shape) {
      buildPath$1(ctx, shape);
    };
    Sector2.prototype.isZeroArea = function() {
      return this.shape.startAngle === this.shape.endAngle || this.shape.r === this.shape.r0;
    };
    return Sector2;
  }(Path$1);
  Sector.prototype.type = "sector";
  var Sector$1 = Sector;
  var RingShape = function() {
    function RingShape2() {
      this.cx = 0;
      this.cy = 0;
      this.r = 0;
      this.r0 = 0;
    }
    return RingShape2;
  }();
  var Ring = function(_super) {
    __extends(Ring2, _super);
    function Ring2(opts) {
      return _super.call(this, opts) || this;
    }
    Ring2.prototype.getDefaultShape = function() {
      return new RingShape();
    };
    Ring2.prototype.buildPath = function(ctx, shape) {
      var x2 = shape.cx;
      var y = shape.cy;
      var PI22 = Math.PI * 2;
      ctx.moveTo(x2 + shape.r, y);
      ctx.arc(x2, y, shape.r, 0, PI22, false);
      ctx.moveTo(x2 + shape.r0, y);
      ctx.arc(x2, y, shape.r0, 0, PI22, true);
    };
    return Ring2;
  }(Path$1);
  Ring.prototype.type = "ring";
  var Ring$1 = Ring;
  function smoothBezier(points2, smooth, isLoop, constraint) {
    var cps = [];
    var v2 = [];
    var v1 = [];
    var v22 = [];
    var prevPoint;
    var nextPoint;
    var min3;
    var max3;
    if (constraint) {
      min3 = [Infinity, Infinity];
      max3 = [-Infinity, -Infinity];
      for (var i2 = 0, len2 = points2.length; i2 < len2; i2++) {
        min$1(min3, min3, points2[i2]);
        max$1(max3, max3, points2[i2]);
      }
      min$1(min3, min3, constraint[0]);
      max$1(max3, max3, constraint[1]);
    }
    for (var i2 = 0, len2 = points2.length; i2 < len2; i2++) {
      var point = points2[i2];
      if (isLoop) {
        prevPoint = points2[i2 ? i2 - 1 : len2 - 1];
        nextPoint = points2[(i2 + 1) % len2];
      } else {
        if (i2 === 0 || i2 === len2 - 1) {
          cps.push(clone$2(points2[i2]));
          continue;
        } else {
          prevPoint = points2[i2 - 1];
          nextPoint = points2[i2 + 1];
        }
      }
      sub(v2, nextPoint, prevPoint);
      scale$2(v2, v2, smooth);
      var d0 = distance(point, prevPoint);
      var d1 = distance(point, nextPoint);
      var sum = d0 + d1;
      if (sum !== 0) {
        d0 /= sum;
        d1 /= sum;
      }
      scale$2(v1, v2, -d0);
      scale$2(v22, v2, d1);
      var cp0 = add([], point, v1);
      var cp1 = add([], point, v22);
      if (constraint) {
        max$1(cp0, cp0, min3);
        min$1(cp0, cp0, max3);
        max$1(cp1, cp1, min3);
        min$1(cp1, cp1, max3);
      }
      cps.push(cp0);
      cps.push(cp1);
    }
    if (isLoop) {
      cps.push(cps.shift());
    }
    return cps;
  }
  function buildPath(ctx, shape, closePath) {
    var smooth = shape.smooth;
    var points2 = shape.points;
    if (points2 && points2.length >= 2) {
      if (smooth) {
        var controlPoints = smoothBezier(points2, smooth, closePath, shape.smoothConstraint);
        ctx.moveTo(points2[0][0], points2[0][1]);
        var len2 = points2.length;
        for (var i2 = 0; i2 < (closePath ? len2 : len2 - 1); i2++) {
          var cp1 = controlPoints[i2 * 2];
          var cp2 = controlPoints[i2 * 2 + 1];
          var p2 = points2[(i2 + 1) % len2];
          ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p2[0], p2[1]);
        }
      } else {
        ctx.moveTo(points2[0][0], points2[0][1]);
        for (var i2 = 1, l2 = points2.length; i2 < l2; i2++) {
          ctx.lineTo(points2[i2][0], points2[i2][1]);
        }
      }
      closePath && ctx.closePath();
    }
  }
  var PolygonShape = function() {
    function PolygonShape2() {
      this.points = null;
      this.smooth = 0;
      this.smoothConstraint = null;
    }
    return PolygonShape2;
  }();
  var Polygon = function(_super) {
    __extends(Polygon2, _super);
    function Polygon2(opts) {
      return _super.call(this, opts) || this;
    }
    Polygon2.prototype.getDefaultShape = function() {
      return new PolygonShape();
    };
    Polygon2.prototype.buildPath = function(ctx, shape) {
      buildPath(ctx, shape, true);
    };
    return Polygon2;
  }(Path$1);
  Polygon.prototype.type = "polygon";
  var Polygon$1 = Polygon;
  var PolylineShape = function() {
    function PolylineShape2() {
      this.points = null;
      this.percent = 1;
      this.smooth = 0;
      this.smoothConstraint = null;
    }
    return PolylineShape2;
  }();
  var Polyline = function(_super) {
    __extends(Polyline2, _super);
    function Polyline2(opts) {
      return _super.call(this, opts) || this;
    }
    Polyline2.prototype.getDefaultStyle = function() {
      return {
        stroke: "#000",
        fill: null
      };
    };
    Polyline2.prototype.getDefaultShape = function() {
      return new PolylineShape();
    };
    Polyline2.prototype.buildPath = function(ctx, shape) {
      buildPath(ctx, shape, false);
    };
    return Polyline2;
  }(Path$1);
  Polyline.prototype.type = "polyline";
  var Polyline$1 = Polyline;
  var subPixelOptimizeOutputShape = {};
  var LineShape = function() {
    function LineShape2() {
      this.x1 = 0;
      this.y1 = 0;
      this.x2 = 0;
      this.y2 = 0;
      this.percent = 1;
    }
    return LineShape2;
  }();
  var Line = function(_super) {
    __extends(Line2, _super);
    function Line2(opts) {
      return _super.call(this, opts) || this;
    }
    Line2.prototype.getDefaultStyle = function() {
      return {
        stroke: "#000",
        fill: null
      };
    };
    Line2.prototype.getDefaultShape = function() {
      return new LineShape();
    };
    Line2.prototype.buildPath = function(ctx, shape) {
      var x1;
      var y1;
      var x2;
      var y2;
      if (this.subPixelOptimize) {
        var optimizedShape = subPixelOptimizeLine$1(subPixelOptimizeOutputShape, shape, this.style);
        x1 = optimizedShape.x1;
        y1 = optimizedShape.y1;
        x2 = optimizedShape.x2;
        y2 = optimizedShape.y2;
      } else {
        x1 = shape.x1;
        y1 = shape.y1;
        x2 = shape.x2;
        y2 = shape.y2;
      }
      var percent = shape.percent;
      if (percent === 0) {
        return;
      }
      ctx.moveTo(x1, y1);
      if (percent < 1) {
        x2 = x1 * (1 - percent) + x2 * percent;
        y2 = y1 * (1 - percent) + y2 * percent;
      }
      ctx.lineTo(x2, y2);
    };
    Line2.prototype.pointAt = function(p2) {
      var shape = this.shape;
      return [
        shape.x1 * (1 - p2) + shape.x2 * p2,
        shape.y1 * (1 - p2) + shape.y2 * p2
      ];
    };
    return Line2;
  }(Path$1);
  Line.prototype.type = "line";
  var Line$1 = Line;
  var out = [];
  var BezierCurveShape = function() {
    function BezierCurveShape2() {
      this.x1 = 0;
      this.y1 = 0;
      this.x2 = 0;
      this.y2 = 0;
      this.cpx1 = 0;
      this.cpy1 = 0;
      this.percent = 1;
    }
    return BezierCurveShape2;
  }();
  function someVectorAt(shape, t2, isTangent) {
    var cpx2 = shape.cpx2;
    var cpy2 = shape.cpy2;
    if (cpx2 != null || cpy2 != null) {
      return [
        (isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t2),
        (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t2)
      ];
    } else {
      return [
        (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t2),
        (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t2)
      ];
    }
  }
  var BezierCurve = function(_super) {
    __extends(BezierCurve2, _super);
    function BezierCurve2(opts) {
      return _super.call(this, opts) || this;
    }
    BezierCurve2.prototype.getDefaultStyle = function() {
      return {
        stroke: "#000",
        fill: null
      };
    };
    BezierCurve2.prototype.getDefaultShape = function() {
      return new BezierCurveShape();
    };
    BezierCurve2.prototype.buildPath = function(ctx, shape) {
      var x1 = shape.x1;
      var y1 = shape.y1;
      var x2 = shape.x2;
      var y2 = shape.y2;
      var cpx1 = shape.cpx1;
      var cpy1 = shape.cpy1;
      var cpx2 = shape.cpx2;
      var cpy2 = shape.cpy2;
      var percent = shape.percent;
      if (percent === 0) {
        return;
      }
      ctx.moveTo(x1, y1);
      if (cpx2 == null || cpy2 == null) {
        if (percent < 1) {
          quadraticSubdivide(x1, cpx1, x2, percent, out);
          cpx1 = out[1];
          x2 = out[2];
          quadraticSubdivide(y1, cpy1, y2, percent, out);
          cpy1 = out[1];
          y2 = out[2];
        }
        ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);
      } else {
        if (percent < 1) {
          cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);
          cpx1 = out[1];
          cpx2 = out[2];
          x2 = out[3];
          cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);
          cpy1 = out[1];
          cpy2 = out[2];
          y2 = out[3];
        }
        ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);
      }
    };
    BezierCurve2.prototype.pointAt = function(t2) {
      return someVectorAt(this.shape, t2, false);
    };
    BezierCurve2.prototype.tangentAt = function(t2) {
      var p2 = someVectorAt(this.shape, t2, true);
      return normalize$1(p2, p2);
    };
    return BezierCurve2;
  }(Path$1);
  BezierCurve.prototype.type = "bezier-curve";
  var BezierCurve$1 = BezierCurve;
  var ArcShape = function() {
    function ArcShape2() {
      this.cx = 0;
      this.cy = 0;
      this.r = 0;
      this.startAngle = 0;
      this.endAngle = Math.PI * 2;
      this.clockwise = true;
    }
    return ArcShape2;
  }();
  var Arc = function(_super) {
    __extends(Arc2, _super);
    function Arc2(opts) {
      return _super.call(this, opts) || this;
    }
    Arc2.prototype.getDefaultStyle = function() {
      return {
        stroke: "#000",
        fill: null
      };
    };
    Arc2.prototype.getDefaultShape = function() {
      return new ArcShape();
    };
    Arc2.prototype.buildPath = function(ctx, shape) {
      var x2 = shape.cx;
      var y = shape.cy;
      var r2 = Math.max(shape.r, 0);
      var startAngle = shape.startAngle;
      var endAngle = shape.endAngle;
      var clockwise = shape.clockwise;
      var unitX = Math.cos(startAngle);
      var unitY = Math.sin(startAngle);
      ctx.moveTo(unitX * r2 + x2, unitY * r2 + y);
      ctx.arc(x2, y, r2, startAngle, endAngle, !clockwise);
    };
    return Arc2;
  }(Path$1);
  Arc.prototype.type = "arc";
  var Arc$1 = Arc;
  var CompoundPath = function(_super) {
    __extends(CompoundPath2, _super);
    function CompoundPath2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = "compound";
      return _this;
    }
    CompoundPath2.prototype._updatePathDirty = function() {
      var paths = this.shape.paths;
      var dirtyPath = this.shapeChanged();
      for (var i2 = 0; i2 < paths.length; i2++) {
        dirtyPath = dirtyPath || paths[i2].shapeChanged();
      }
      if (dirtyPath) {
        this.dirtyShape();
      }
    };
    CompoundPath2.prototype.beforeBrush = function() {
      this._updatePathDirty();
      var paths = this.shape.paths || [];
      var scale2 = this.getGlobalScale();
      for (var i2 = 0; i2 < paths.length; i2++) {
        if (!paths[i2].path) {
          paths[i2].createPathProxy();
        }
        paths[i2].path.setScale(scale2[0], scale2[1], paths[i2].segmentIgnoreThreshold);
      }
    };
    CompoundPath2.prototype.buildPath = function(ctx, shape) {
      var paths = shape.paths || [];
      for (var i2 = 0; i2 < paths.length; i2++) {
        paths[i2].buildPath(ctx, paths[i2].shape, true);
      }
    };
    CompoundPath2.prototype.afterBrush = function() {
      var paths = this.shape.paths || [];
      for (var i2 = 0; i2 < paths.length; i2++) {
        paths[i2].pathUpdated();
      }
    };
    CompoundPath2.prototype.getBoundingRect = function() {
      this._updatePathDirty.call(this);
      return Path$1.prototype.getBoundingRect.call(this);
    };
    return CompoundPath2;
  }(Path$1);
  var CompoundPath$1 = CompoundPath;
  var Gradient = function() {
    function Gradient2(colorStops) {
      this.colorStops = colorStops || [];
    }
    Gradient2.prototype.addColorStop = function(offset, color2) {
      this.colorStops.push({
        offset,
        color: color2
      });
    };
    return Gradient2;
  }();
  var Gradient$1 = Gradient;
  var LinearGradient = function(_super) {
    __extends(LinearGradient2, _super);
    function LinearGradient2(x2, y, x22, y2, colorStops, globalCoord) {
      var _this = _super.call(this, colorStops) || this;
      _this.x = x2 == null ? 0 : x2;
      _this.y = y == null ? 0 : y;
      _this.x2 = x22 == null ? 1 : x22;
      _this.y2 = y2 == null ? 0 : y2;
      _this.type = "linear";
      _this.global = globalCoord || false;
      return _this;
    }
    return LinearGradient2;
  }(Gradient$1);
  var LinearGradient$1 = LinearGradient;
  var RadialGradient = function(_super) {
    __extends(RadialGradient2, _super);
    function RadialGradient2(x2, y, r2, colorStops, globalCoord) {
      var _this = _super.call(this, colorStops) || this;
      _this.x = x2 == null ? 0.5 : x2;
      _this.y = y == null ? 0.5 : y;
      _this.r = r2 == null ? 0.5 : r2;
      _this.type = "radial";
      _this.global = globalCoord || false;
      return _this;
    }
    return RadialGradient2;
  }(Gradient$1);
  var RadialGradient$1 = RadialGradient;
  var extent = [0, 0];
  var extent2 = [0, 0];
  var minTv = new Point$1();
  var maxTv = new Point$1();
  var OrientedBoundingRect = function() {
    function OrientedBoundingRect2(rect, transform) {
      this._corners = [];
      this._axes = [];
      this._origin = [0, 0];
      for (var i2 = 0; i2 < 4; i2++) {
        this._corners[i2] = new Point$1();
      }
      for (var i2 = 0; i2 < 2; i2++) {
        this._axes[i2] = new Point$1();
      }
      if (rect) {
        this.fromBoundingRect(rect, transform);
      }
    }
    OrientedBoundingRect2.prototype.fromBoundingRect = function(rect, transform) {
      var corners = this._corners;
      var axes = this._axes;
      var x2 = rect.x;
      var y = rect.y;
      var x22 = x2 + rect.width;
      var y2 = y + rect.height;
      corners[0].set(x2, y);
      corners[1].set(x22, y);
      corners[2].set(x22, y2);
      corners[3].set(x2, y2);
      if (transform) {
        for (var i2 = 0; i2 < 4; i2++) {
          corners[i2].transform(transform);
        }
      }
      Point$1.sub(axes[0], corners[1], corners[0]);
      Point$1.sub(axes[1], corners[3], corners[0]);
      axes[0].normalize();
      axes[1].normalize();
      for (var i2 = 0; i2 < 2; i2++) {
        this._origin[i2] = axes[i2].dot(corners[0]);
      }
    };
    OrientedBoundingRect2.prototype.intersect = function(other, mtv) {
      var overlapped = true;
      var noMtv = !mtv;
      minTv.set(Infinity, Infinity);
      maxTv.set(0, 0);
      if (!this._intersectCheckOneSide(this, other, minTv, maxTv, noMtv, 1)) {
        overlapped = false;
        if (noMtv) {
          return overlapped;
        }
      }
      if (!this._intersectCheckOneSide(other, this, minTv, maxTv, noMtv, -1)) {
        overlapped = false;
        if (noMtv) {
          return overlapped;
        }
      }
      if (!noMtv) {
        Point$1.copy(mtv, overlapped ? minTv : maxTv);
      }
      return overlapped;
    };
    OrientedBoundingRect2.prototype._intersectCheckOneSide = function(self2, other, minTv2, maxTv2, noMtv, inverse) {
      var overlapped = true;
      for (var i2 = 0; i2 < 2; i2++) {
        var axis = this._axes[i2];
        this._getProjMinMaxOnAxis(i2, self2._corners, extent);
        this._getProjMinMaxOnAxis(i2, other._corners, extent2);
        if (extent[1] < extent2[0] || extent[0] > extent2[1]) {
          overlapped = false;
          if (noMtv) {
            return overlapped;
          }
          var dist0 = Math.abs(extent2[0] - extent[1]);
          var dist1 = Math.abs(extent[0] - extent2[1]);
          if (Math.min(dist0, dist1) > maxTv2.len()) {
            if (dist0 < dist1) {
              Point$1.scale(maxTv2, axis, -dist0 * inverse);
            } else {
              Point$1.scale(maxTv2, axis, dist1 * inverse);
            }
          }
        } else if (minTv2) {
          var dist0 = Math.abs(extent2[0] - extent[1]);
          var dist1 = Math.abs(extent[0] - extent2[1]);
          if (Math.min(dist0, dist1) < minTv2.len()) {
            if (dist0 < dist1) {
              Point$1.scale(minTv2, axis, dist0 * inverse);
            } else {
              Point$1.scale(minTv2, axis, -dist1 * inverse);
            }
          }
        }
      }
      return overlapped;
    };
    OrientedBoundingRect2.prototype._getProjMinMaxOnAxis = function(dim, corners, out2) {
      var axis = this._axes[dim];
      var origin = this._origin;
      var proj = corners[0].dot(axis) + origin[dim];
      var min3 = proj;
      var max3 = proj;
      for (var i2 = 1; i2 < corners.length; i2++) {
        var proj_1 = corners[i2].dot(axis) + origin[dim];
        min3 = Math.min(proj_1, min3);
        max3 = Math.max(proj_1, max3);
      }
      out2[0] = min3;
      out2[1] = max3;
    };
    return OrientedBoundingRect2;
  }();
  var OrientedBoundingRect$1 = OrientedBoundingRect;
  var m = [];
  var IncrementalDisplayable = function(_super) {
    __extends(IncrementalDisplayable2, _super);
    function IncrementalDisplayable2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.notClear = true;
      _this.incremental = true;
      _this._displayables = [];
      _this._temporaryDisplayables = [];
      _this._cursor = 0;
      return _this;
    }
    IncrementalDisplayable2.prototype.traverse = function(cb, context) {
      cb.call(context, this);
    };
    IncrementalDisplayable2.prototype.useStyle = function() {
      this.style = {};
    };
    IncrementalDisplayable2.prototype.getCursor = function() {
      return this._cursor;
    };
    IncrementalDisplayable2.prototype.innerAfterBrush = function() {
      this._cursor = this._displayables.length;
    };
    IncrementalDisplayable2.prototype.clearDisplaybles = function() {
      this._displayables = [];
      this._temporaryDisplayables = [];
      this._cursor = 0;
      this.markRedraw();
      this.notClear = false;
    };
    IncrementalDisplayable2.prototype.clearTemporalDisplayables = function() {
      this._temporaryDisplayables = [];
    };
    IncrementalDisplayable2.prototype.addDisplayable = function(displayable, notPersistent) {
      if (notPersistent) {
        this._temporaryDisplayables.push(displayable);
      } else {
        this._displayables.push(displayable);
      }
      this.markRedraw();
    };
    IncrementalDisplayable2.prototype.addDisplayables = function(displayables, notPersistent) {
      notPersistent = notPersistent || false;
      for (var i2 = 0; i2 < displayables.length; i2++) {
        this.addDisplayable(displayables[i2], notPersistent);
      }
    };
    IncrementalDisplayable2.prototype.getDisplayables = function() {
      return this._displayables;
    };
    IncrementalDisplayable2.prototype.getTemporalDisplayables = function() {
      return this._temporaryDisplayables;
    };
    IncrementalDisplayable2.prototype.eachPendingDisplayable = function(cb) {
      for (var i2 = this._cursor; i2 < this._displayables.length; i2++) {
        cb && cb(this._displayables[i2]);
      }
      for (var i2 = 0; i2 < this._temporaryDisplayables.length; i2++) {
        cb && cb(this._temporaryDisplayables[i2]);
      }
    };
    IncrementalDisplayable2.prototype.update = function() {
      this.updateTransform();
      for (var i2 = this._cursor; i2 < this._displayables.length; i2++) {
        var displayable = this._displayables[i2];
        displayable.parent = this;
        displayable.update();
        displayable.parent = null;
      }
      for (var i2 = 0; i2 < this._temporaryDisplayables.length; i2++) {
        var displayable = this._temporaryDisplayables[i2];
        displayable.parent = this;
        displayable.update();
        displayable.parent = null;
      }
    };
    IncrementalDisplayable2.prototype.getBoundingRect = function() {
      if (!this._rect) {
        var rect = new BoundingRect$1(Infinity, Infinity, -Infinity, -Infinity);
        for (var i2 = 0; i2 < this._displayables.length; i2++) {
          var displayable = this._displayables[i2];
          var childRect = displayable.getBoundingRect().clone();
          if (displayable.needLocalTransform()) {
            childRect.applyTransform(displayable.getLocalTransform(m));
          }
          rect.union(childRect);
        }
        this._rect = rect;
      }
      return this._rect;
    };
    IncrementalDisplayable2.prototype.contain = function(x2, y) {
      var localPos = this.transformCoordToLocal(x2, y);
      var rect = this.getBoundingRect();
      if (rect.contain(localPos[0], localPos[1])) {
        for (var i2 = 0; i2 < this._displayables.length; i2++) {
          var displayable = this._displayables[i2];
          if (displayable.contain(x2, y)) {
            return true;
          }
        }
      }
      return false;
    };
    return IncrementalDisplayable2;
  }(Displayable$1);
  var IncrementalDisplayable$1 = IncrementalDisplayable;
  var transitionStore = makeInner();
  function getAnimationConfig(animationType, animatableModel, dataIndex, extraOpts, extraDelayParams) {
    var animationPayload;
    if (animatableModel && animatableModel.ecModel) {
      var updatePayload = animatableModel.ecModel.getUpdatePayload();
      animationPayload = updatePayload && updatePayload.animation;
    }
    var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();
    var isUpdate = animationType === "update";
    if (animationEnabled) {
      var duration = void 0;
      var easing = void 0;
      var delay = void 0;
      if (extraOpts) {
        duration = retrieve2(extraOpts.duration, 200);
        easing = retrieve2(extraOpts.easing, "cubicOut");
        delay = 0;
      } else {
        duration = animatableModel.getShallow(isUpdate ? "animationDurationUpdate" : "animationDuration");
        easing = animatableModel.getShallow(isUpdate ? "animationEasingUpdate" : "animationEasing");
        delay = animatableModel.getShallow(isUpdate ? "animationDelayUpdate" : "animationDelay");
      }
      if (animationPayload) {
        animationPayload.duration != null && (duration = animationPayload.duration);
        animationPayload.easing != null && (easing = animationPayload.easing);
        animationPayload.delay != null && (delay = animationPayload.delay);
      }
      if (isFunction(delay)) {
        delay = delay(dataIndex, extraDelayParams);
      }
      if (isFunction(duration)) {
        duration = duration(dataIndex);
      }
      var config = {
        duration: duration || 0,
        delay,
        easing
      };
      return config;
    } else {
      return null;
    }
  }
  function animateOrSetProps(animationType, el, props, animatableModel, dataIndex, cb, during) {
    var isFrom = false;
    var removeOpt;
    if (isFunction(dataIndex)) {
      during = cb;
      cb = dataIndex;
      dataIndex = null;
    } else if (isObject$2(dataIndex)) {
      cb = dataIndex.cb;
      during = dataIndex.during;
      isFrom = dataIndex.isFrom;
      removeOpt = dataIndex.removeOpt;
      dataIndex = dataIndex.dataIndex;
    }
    var isRemove = animationType === "leave";
    if (!isRemove) {
      el.stopAnimation("leave");
    }
    var animationConfig = getAnimationConfig(animationType, animatableModel, dataIndex, isRemove ? removeOpt || {} : null, animatableModel && animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);
    if (animationConfig && animationConfig.duration > 0) {
      var duration = animationConfig.duration;
      var animationDelay = animationConfig.delay;
      var animationEasing = animationConfig.easing;
      var animateConfig = {
        duration,
        delay: animationDelay || 0,
        easing: animationEasing,
        done: cb,
        force: !!cb || !!during,
        setToFinal: !isRemove,
        scope: animationType,
        during
      };
      isFrom ? el.animateFrom(props, animateConfig) : el.animateTo(props, animateConfig);
    } else {
      el.stopAnimation();
      !isFrom && el.attr(props);
      during && during(1);
      cb && cb();
    }
  }
  function updateProps$1(el, props, animatableModel, dataIndex, cb, during) {
    animateOrSetProps("update", el, props, animatableModel, dataIndex, cb, during);
  }
  function initProps(el, props, animatableModel, dataIndex, cb, during) {
    animateOrSetProps("enter", el, props, animatableModel, dataIndex, cb, during);
  }
  function isElementRemoved(el) {
    if (!el.__zr) {
      return true;
    }
    for (var i2 = 0; i2 < el.animators.length; i2++) {
      var animator = el.animators[i2];
      if (animator.scope === "leave") {
        return true;
      }
    }
    return false;
  }
  function removeElement(el, props, animatableModel, dataIndex, cb, during) {
    if (isElementRemoved(el)) {
      return;
    }
    animateOrSetProps("leave", el, props, animatableModel, dataIndex, cb, during);
  }
  function fadeOutDisplayable(el, animatableModel, dataIndex, done) {
    el.removeTextContent();
    el.removeTextGuideLine();
    removeElement(el, {
      style: {
        opacity: 0
      }
    }, animatableModel, dataIndex, done);
  }
  function removeElementWithFadeOut(el, animatableModel, dataIndex) {
    function doRemove() {
      el.parent && el.parent.remove(el);
    }
    if (!el.isGroup) {
      fadeOutDisplayable(el, animatableModel, dataIndex, doRemove);
    } else {
      el.traverse(function(disp) {
        if (!disp.isGroup) {
          fadeOutDisplayable(disp, animatableModel, dataIndex, doRemove);
        }
      });
    }
  }
  function saveOldStyle(el) {
    transitionStore(el).oldStyle = el.style;
  }
  var mathMax$1 = Math.max;
  var mathMin$1 = Math.min;
  var _customShapeMap = {};
  function extendShape(opts) {
    return Path$1.extend(opts);
  }
  var extendPathFromString = extendFromString;
  function extendPath(pathData, opts) {
    return extendPathFromString(pathData, opts);
  }
  function registerShape(name, ShapeClass) {
    _customShapeMap[name] = ShapeClass;
  }
  function getShapeClass(name) {
    if (_customShapeMap.hasOwnProperty(name)) {
      return _customShapeMap[name];
    }
  }
  function makePath(pathData, opts, rect, layout2) {
    var path = createFromString(pathData, opts);
    if (rect) {
      if (layout2 === "center") {
        rect = centerGraphic(rect, path.getBoundingRect());
      }
      resizePath(path, rect);
    }
    return path;
  }
  function makeImage(imageUrl, rect, layout2) {
    var zrImg = new ZRImage$1({
      style: {
        image: imageUrl,
        x: rect.x,
        y: rect.y,
        width: rect.width,
        height: rect.height
      },
      onload: function(img) {
        if (layout2 === "center") {
          var boundingRect = {
            width: img.width,
            height: img.height
          };
          zrImg.setStyle(centerGraphic(rect, boundingRect));
        }
      }
    });
    return zrImg;
  }
  function centerGraphic(rect, boundingRect) {
    var aspect = boundingRect.width / boundingRect.height;
    var width = rect.height * aspect;
    var height;
    if (width <= rect.width) {
      height = rect.height;
    } else {
      width = rect.width;
      height = width / aspect;
    }
    var cx = rect.x + rect.width / 2;
    var cy = rect.y + rect.height / 2;
    return {
      x: cx - width / 2,
      y: cy - height / 2,
      width,
      height
    };
  }
  var mergePath = mergePath$1;
  function resizePath(path, rect) {
    if (!path.applyTransform) {
      return;
    }
    var pathRect = path.getBoundingRect();
    var m2 = pathRect.calculateTransform(rect);
    path.applyTransform(m2);
  }
  function subPixelOptimizeLine(shape, lineWidth) {
    subPixelOptimizeLine$1(shape, shape, {
      lineWidth
    });
    return shape;
  }
  function subPixelOptimizeRect(param) {
    subPixelOptimizeRect$1(param.shape, param.shape, param.style);
    return param;
  }
  var subPixelOptimize = subPixelOptimize$1;
  function getTransform(target, ancestor) {
    var mat = identity([]);
    while (target && target !== ancestor) {
      mul(mat, target.getLocalTransform(), mat);
      target = target.parent;
    }
    return mat;
  }
  function applyTransform(target, transform, invert$1) {
    if (transform && !isArrayLike(transform)) {
      transform = Transformable$1.getLocalTransform(transform);
    }
    if (invert$1) {
      transform = invert([], transform);
    }
    return applyTransform$1([], target, transform);
  }
  function transformDirection(direction, transform, invert2) {
    var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : Math.abs(2 * transform[4] / transform[0]);
    var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : Math.abs(2 * transform[4] / transform[2]);
    var vertex = [direction === "left" ? -hBase : direction === "right" ? hBase : 0, direction === "top" ? -vBase : direction === "bottom" ? vBase : 0];
    vertex = applyTransform(vertex, transform, invert2);
    return Math.abs(vertex[0]) > Math.abs(vertex[1]) ? vertex[0] > 0 ? "right" : "left" : vertex[1] > 0 ? "bottom" : "top";
  }
  function isNotGroup(el) {
    return !el.isGroup;
  }
  function isPath(el) {
    return el.shape != null;
  }
  function groupTransition(g1, g2, animatableModel) {
    if (!g1 || !g2) {
      return;
    }
    function getElMap(g3) {
      var elMap = {};
      g3.traverse(function(el) {
        if (isNotGroup(el) && el.anid) {
          elMap[el.anid] = el;
        }
      });
      return elMap;
    }
    function getAnimatableProps(el) {
      var obj = {
        x: el.x,
        y: el.y,
        rotation: el.rotation
      };
      if (isPath(el)) {
        obj.shape = extend({}, el.shape);
      }
      return obj;
    }
    var elMap1 = getElMap(g1);
    g2.traverse(function(el) {
      if (isNotGroup(el) && el.anid) {
        var oldEl = elMap1[el.anid];
        if (oldEl) {
          var newProp = getAnimatableProps(el);
          el.attr(getAnimatableProps(oldEl));
          updateProps$1(el, newProp, animatableModel, getECData(el).dataIndex);
        }
      }
    });
  }
  function clipPointsByRect(points2, rect) {
    return map$1(points2, function(point) {
      var x2 = point[0];
      x2 = mathMax$1(x2, rect.x);
      x2 = mathMin$1(x2, rect.x + rect.width);
      var y = point[1];
      y = mathMax$1(y, rect.y);
      y = mathMin$1(y, rect.y + rect.height);
      return [x2, y];
    });
  }
  function clipRectByRect(targetRect, rect) {
    var x2 = mathMax$1(targetRect.x, rect.x);
    var x22 = mathMin$1(targetRect.x + targetRect.width, rect.x + rect.width);
    var y = mathMax$1(targetRect.y, rect.y);
    var y2 = mathMin$1(targetRect.y + targetRect.height, rect.y + rect.height);
    if (x22 >= x2 && y2 >= y) {
      return {
        x: x2,
        y,
        width: x22 - x2,
        height: y2 - y
      };
    }
  }
  function createIcon(iconStr, opt, rect) {
    var innerOpts = extend({
      rectHover: true
    }, opt);
    var style = innerOpts.style = {
      strokeNoScale: true
    };
    rect = rect || {
      x: -1,
      y: -1,
      width: 2,
      height: 2
    };
    if (iconStr) {
      return iconStr.indexOf("image://") === 0 ? (style.image = iconStr.slice(8), defaults(style, rect), new ZRImage$1(innerOpts)) : makePath(iconStr.replace("path://", ""), innerOpts, rect, "center");
    }
  }
  function linePolygonIntersect(a1x, a1y, a2x, a2y, points2) {
    for (var i2 = 0, p2 = points2[points2.length - 1]; i2 < points2.length; i2++) {
      var p3 = points2[i2];
      if (lineLineIntersect(a1x, a1y, a2x, a2y, p3[0], p3[1], p2[0], p2[1])) {
        return true;
      }
      p2 = p3;
    }
  }
  function lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {
    var mx = a2x - a1x;
    var my = a2y - a1y;
    var nx = b2x - b1x;
    var ny = b2y - b1y;
    var nmCrossProduct = crossProduct2d(nx, ny, mx, my);
    if (nearZero(nmCrossProduct)) {
      return false;
    }
    var b1a1x = a1x - b1x;
    var b1a1y = a1y - b1y;
    var q2 = crossProduct2d(b1a1x, b1a1y, mx, my) / nmCrossProduct;
    if (q2 < 0 || q2 > 1) {
      return false;
    }
    var p2 = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;
    if (p2 < 0 || p2 > 1) {
      return false;
    }
    return true;
  }
  function crossProduct2d(x1, y1, x2, y2) {
    return x1 * y2 - x2 * y1;
  }
  function nearZero(val) {
    return val <= 1e-6 && val >= -1e-6;
  }
  function setTooltipConfig(opt) {
    var itemTooltipOption = opt.itemTooltipOption;
    var componentModel = opt.componentModel;
    var itemName = opt.itemName;
    var itemTooltipOptionObj = isString(itemTooltipOption) ? {
      formatter: itemTooltipOption
    } : itemTooltipOption;
    var mainType = componentModel.mainType;
    var componentIndex = componentModel.componentIndex;
    var formatterParams = {
      componentType: mainType,
      name: itemName,
      $vars: ["name"]
    };
    formatterParams[mainType + "Index"] = componentIndex;
    var formatterParamsExtra = opt.formatterParamsExtra;
    if (formatterParamsExtra) {
      each$3(keys(formatterParamsExtra), function(key) {
        if (!hasOwn(formatterParams, key)) {
          formatterParams[key] = formatterParamsExtra[key];
          formatterParams.$vars.push(key);
        }
      });
    }
    var ecData = getECData(opt.el);
    ecData.componentMainType = mainType;
    ecData.componentIndex = componentIndex;
    ecData.tooltipConfig = {
      name: itemName,
      option: defaults({
        content: itemName,
        formatterParams
      }, itemTooltipOptionObj)
    };
  }
  function traverseElement(el, cb) {
    var stopped;
    if (el.isGroup) {
      stopped = cb(el);
    }
    if (!stopped) {
      el.traverse(cb);
    }
  }
  function traverseElements(els, cb) {
    if (els) {
      if (isArray(els)) {
        for (var i2 = 0; i2 < els.length; i2++) {
          traverseElement(els[i2], cb);
        }
      } else {
        traverseElement(els, cb);
      }
    }
  }
  registerShape("circle", Circle$1);
  registerShape("ellipse", Ellipse$1);
  registerShape("sector", Sector$1);
  registerShape("ring", Ring$1);
  registerShape("polygon", Polygon$1);
  registerShape("polyline", Polyline$1);
  registerShape("rect", Rect$1);
  registerShape("line", Line$1);
  registerShape("bezierCurve", BezierCurve$1);
  registerShape("arc", Arc$1);
  var graphic$1 = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    updateProps: updateProps$1,
    initProps,
    removeElement,
    removeElementWithFadeOut,
    isElementRemoved,
    extendShape,
    extendPath,
    registerShape,
    getShapeClass,
    makePath,
    makeImage,
    mergePath,
    resizePath,
    subPixelOptimizeLine,
    subPixelOptimizeRect,
    subPixelOptimize,
    getTransform,
    applyTransform,
    transformDirection,
    groupTransition,
    clipPointsByRect,
    clipRectByRect,
    createIcon,
    linePolygonIntersect,
    lineLineIntersect,
    setTooltipConfig,
    traverseElements,
    Group: Group$1,
    Image: ZRImage$1,
    Text: ZRText$1,
    Circle: Circle$1,
    Ellipse: Ellipse$1,
    Sector: Sector$1,
    Ring: Ring$1,
    Polygon: Polygon$1,
    Polyline: Polyline$1,
    Rect: Rect$1,
    Line: Line$1,
    BezierCurve: BezierCurve$1,
    Arc: Arc$1,
    IncrementalDisplayable: IncrementalDisplayable$1,
    CompoundPath: CompoundPath$1,
    LinearGradient: LinearGradient$1,
    RadialGradient: RadialGradient$1,
    BoundingRect: BoundingRect$1,
    OrientedBoundingRect: OrientedBoundingRect$1,
    Point: Point$1,
    Path: Path$1
  });
  var EMPTY_OBJ = {};
  function setLabelText(label, labelTexts) {
    for (var i2 = 0; i2 < SPECIAL_STATES.length; i2++) {
      var stateName = SPECIAL_STATES[i2];
      var text = labelTexts[stateName];
      var state = label.ensureState(stateName);
      state.style = state.style || {};
      state.style.text = text;
    }
    var oldStates = label.currentStates.slice();
    label.clearStates(true);
    label.setStyle({
      text: labelTexts.normal
    });
    label.useStates(oldStates, true);
  }
  function getLabelText(opt, stateModels, interpolatedValue) {
    var labelFetcher = opt.labelFetcher;
    var labelDataIndex = opt.labelDataIndex;
    var labelDimIndex = opt.labelDimIndex;
    var normalModel = stateModels.normal;
    var baseText;
    if (labelFetcher) {
      baseText = labelFetcher.getFormattedLabel(labelDataIndex, "normal", null, labelDimIndex, normalModel && normalModel.get("formatter"), interpolatedValue != null ? {
        interpolatedValue
      } : null);
    }
    if (baseText == null) {
      baseText = isFunction(opt.defaultText) ? opt.defaultText(labelDataIndex, opt, interpolatedValue) : opt.defaultText;
    }
    var statesText = {
      normal: baseText
    };
    for (var i2 = 0; i2 < SPECIAL_STATES.length; i2++) {
      var stateName = SPECIAL_STATES[i2];
      var stateModel = stateModels[stateName];
      statesText[stateName] = retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, stateName, null, labelDimIndex, stateModel && stateModel.get("formatter")) : null, baseText);
    }
    return statesText;
  }
  function setLabelStyle(targetEl, labelStatesModels, opt, stateSpecified) {
    opt = opt || EMPTY_OBJ;
    var isSetOnText = targetEl instanceof ZRText$1;
    var needsCreateText = false;
    for (var i2 = 0; i2 < DISPLAY_STATES.length; i2++) {
      var stateModel = labelStatesModels[DISPLAY_STATES[i2]];
      if (stateModel && stateModel.getShallow("show")) {
        needsCreateText = true;
        break;
      }
    }
    var textContent = isSetOnText ? targetEl : targetEl.getTextContent();
    if (needsCreateText) {
      if (!isSetOnText) {
        if (!textContent) {
          textContent = new ZRText$1();
          targetEl.setTextContent(textContent);
        }
        if (targetEl.stateProxy) {
          textContent.stateProxy = targetEl.stateProxy;
        }
      }
      var labelStatesTexts = getLabelText(opt, labelStatesModels);
      var normalModel = labelStatesModels.normal;
      var showNormal = !!normalModel.getShallow("show");
      var normalStyle = createTextStyle$1(normalModel, stateSpecified && stateSpecified.normal, opt, false, !isSetOnText);
      normalStyle.text = labelStatesTexts.normal;
      if (!isSetOnText) {
        targetEl.setTextConfig(createTextConfig(normalModel, opt, false));
      }
      for (var i2 = 0; i2 < SPECIAL_STATES.length; i2++) {
        var stateName = SPECIAL_STATES[i2];
        var stateModel = labelStatesModels[stateName];
        if (stateModel) {
          var stateObj = textContent.ensureState(stateName);
          var stateShow = !!retrieve2(stateModel.getShallow("show"), showNormal);
          if (stateShow !== showNormal) {
            stateObj.ignore = !stateShow;
          }
          stateObj.style = createTextStyle$1(stateModel, stateSpecified && stateSpecified[stateName], opt, true, !isSetOnText);
          stateObj.style.text = labelStatesTexts[stateName];
          if (!isSetOnText) {
            var targetElEmphasisState = targetEl.ensureState(stateName);
            targetElEmphasisState.textConfig = createTextConfig(stateModel, opt, true);
          }
        }
      }
      textContent.silent = !!normalModel.getShallow("silent");
      if (textContent.style.x != null) {
        normalStyle.x = textContent.style.x;
      }
      if (textContent.style.y != null) {
        normalStyle.y = textContent.style.y;
      }
      textContent.ignore = !showNormal;
      textContent.useStyle(normalStyle);
      textContent.dirty();
      if (opt.enableTextSetter) {
        labelInner(textContent).setLabelText = function(interpolatedValue) {
          var labelStatesTexts2 = getLabelText(opt, labelStatesModels, interpolatedValue);
          setLabelText(textContent, labelStatesTexts2);
        };
      }
    } else if (textContent) {
      textContent.ignore = true;
    }
    targetEl.dirty();
  }
  function getLabelStatesModels(itemModel, labelName) {
    labelName = labelName || "label";
    var statesModels = {
      normal: itemModel.getModel(labelName)
    };
    for (var i2 = 0; i2 < SPECIAL_STATES.length; i2++) {
      var stateName = SPECIAL_STATES[i2];
      statesModels[stateName] = itemModel.getModel([stateName, labelName]);
    }
    return statesModels;
  }
  function createTextStyle$1(textStyleModel, specifiedTextStyle, opt, isNotNormal, isAttached) {
    var textStyle = {};
    setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached);
    specifiedTextStyle && extend(textStyle, specifiedTextStyle);
    return textStyle;
  }
  function createTextConfig(textStyleModel, opt, isNotNormal) {
    opt = opt || {};
    var textConfig = {};
    var labelPosition;
    var labelRotate = textStyleModel.getShallow("rotate");
    var labelDistance = retrieve2(textStyleModel.getShallow("distance"), isNotNormal ? null : 5);
    var labelOffset = textStyleModel.getShallow("offset");
    labelPosition = textStyleModel.getShallow("position") || (isNotNormal ? null : "inside");
    labelPosition === "outside" && (labelPosition = opt.defaultOutsidePosition || "top");
    if (labelPosition != null) {
      textConfig.position = labelPosition;
    }
    if (labelOffset != null) {
      textConfig.offset = labelOffset;
    }
    if (labelRotate != null) {
      labelRotate *= Math.PI / 180;
      textConfig.rotation = labelRotate;
    }
    if (labelDistance != null) {
      textConfig.distance = labelDistance;
    }
    textConfig.outsideFill = textStyleModel.get("color") === "inherit" ? opt.inheritColor || null : "auto";
    return textConfig;
  }
  function setTextStyleCommon(textStyle, textStyleModel, opt, isNotNormal, isAttached) {
    opt = opt || EMPTY_OBJ;
    var ecModel = textStyleModel.ecModel;
    var globalTextStyle = ecModel && ecModel.option.textStyle;
    var richItemNames = getRichItemNames(textStyleModel);
    var richResult;
    if (richItemNames) {
      richResult = {};
      for (var name_1 in richItemNames) {
        if (richItemNames.hasOwnProperty(name_1)) {
          var richTextStyle = textStyleModel.getModel(["rich", name_1]);
          setTokenTextStyle(richResult[name_1] = {}, richTextStyle, globalTextStyle, opt, isNotNormal, isAttached, false, true);
        }
      }
    }
    if (richResult) {
      textStyle.rich = richResult;
    }
    var overflow = textStyleModel.get("overflow");
    if (overflow) {
      textStyle.overflow = overflow;
    }
    var margin = textStyleModel.get("minMargin");
    if (margin != null) {
      textStyle.margin = margin;
    }
    setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isNotNormal, isAttached, true, false);
  }
  function getRichItemNames(textStyleModel) {
    var richItemNameMap;
    while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {
      var rich = (textStyleModel.option || EMPTY_OBJ).rich;
      if (rich) {
        richItemNameMap = richItemNameMap || {};
        var richKeys = keys(rich);
        for (var i2 = 0; i2 < richKeys.length; i2++) {
          var richKey = richKeys[i2];
          richItemNameMap[richKey] = 1;
        }
      }
      textStyleModel = textStyleModel.parentModel;
    }
    return richItemNameMap;
  }
  var TEXT_PROPS_WITH_GLOBAL = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "textShadowColor", "textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"];
  var TEXT_PROPS_SELF = ["align", "lineHeight", "width", "height", "tag", "verticalAlign", "ellipsis"];
  var TEXT_PROPS_BOX = ["padding", "borderWidth", "borderRadius", "borderDashOffset", "backgroundColor", "borderColor", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"];
  function setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isNotNormal, isAttached, isBlock, inRich) {
    globalTextStyle = !isNotNormal && globalTextStyle || EMPTY_OBJ;
    var inheritColor = opt && opt.inheritColor;
    var fillColor = textStyleModel.getShallow("color");
    var strokeColor = textStyleModel.getShallow("textBorderColor");
    var opacity = retrieve2(textStyleModel.getShallow("opacity"), globalTextStyle.opacity);
    if (fillColor === "inherit" || fillColor === "auto") {
      {
        if (fillColor === "auto") {
          deprecateReplaceLog("color: 'auto'", "color: 'inherit'");
        }
      }
      if (inheritColor) {
        fillColor = inheritColor;
      } else {
        fillColor = null;
      }
    }
    if (strokeColor === "inherit" || strokeColor === "auto") {
      {
        if (strokeColor === "auto") {
          deprecateReplaceLog("color: 'auto'", "color: 'inherit'");
        }
      }
      if (inheritColor) {
        strokeColor = inheritColor;
      } else {
        strokeColor = null;
      }
    }
    if (!isAttached) {
      fillColor = fillColor || globalTextStyle.color;
      strokeColor = strokeColor || globalTextStyle.textBorderColor;
    }
    if (fillColor != null) {
      textStyle.fill = fillColor;
    }
    if (strokeColor != null) {
      textStyle.stroke = strokeColor;
    }
    var textBorderWidth = retrieve2(textStyleModel.getShallow("textBorderWidth"), globalTextStyle.textBorderWidth);
    if (textBorderWidth != null) {
      textStyle.lineWidth = textBorderWidth;
    }
    var textBorderType = retrieve2(textStyleModel.getShallow("textBorderType"), globalTextStyle.textBorderType);
    if (textBorderType != null) {
      textStyle.lineDash = textBorderType;
    }
    var textBorderDashOffset = retrieve2(textStyleModel.getShallow("textBorderDashOffset"), globalTextStyle.textBorderDashOffset);
    if (textBorderDashOffset != null) {
      textStyle.lineDashOffset = textBorderDashOffset;
    }
    if (!isNotNormal && opacity == null && !inRich) {
      opacity = opt && opt.defaultOpacity;
    }
    if (opacity != null) {
      textStyle.opacity = opacity;
    }
    if (!isNotNormal && !isAttached) {
      if (textStyle.fill == null && opt.inheritColor) {
        textStyle.fill = opt.inheritColor;
      }
    }
    for (var i2 = 0; i2 < TEXT_PROPS_WITH_GLOBAL.length; i2++) {
      var key = TEXT_PROPS_WITH_GLOBAL[i2];
      var val = retrieve2(textStyleModel.getShallow(key), globalTextStyle[key]);
      if (val != null) {
        textStyle[key] = val;
      }
    }
    for (var i2 = 0; i2 < TEXT_PROPS_SELF.length; i2++) {
      var key = TEXT_PROPS_SELF[i2];
      var val = textStyleModel.getShallow(key);
      if (val != null) {
        textStyle[key] = val;
      }
    }
    if (textStyle.verticalAlign == null) {
      var baseline = textStyleModel.getShallow("baseline");
      if (baseline != null) {
        textStyle.verticalAlign = baseline;
      }
    }
    if (!isBlock || !opt.disableBox) {
      for (var i2 = 0; i2 < TEXT_PROPS_BOX.length; i2++) {
        var key = TEXT_PROPS_BOX[i2];
        var val = textStyleModel.getShallow(key);
        if (val != null) {
          textStyle[key] = val;
        }
      }
      var borderType = textStyleModel.getShallow("borderType");
      if (borderType != null) {
        textStyle.borderDash = borderType;
      }
      if ((textStyle.backgroundColor === "auto" || textStyle.backgroundColor === "inherit") && inheritColor) {
        {
          if (textStyle.backgroundColor === "auto") {
            deprecateReplaceLog("backgroundColor: 'auto'", "backgroundColor: 'inherit'");
          }
        }
        textStyle.backgroundColor = inheritColor;
      }
      if ((textStyle.borderColor === "auto" || textStyle.borderColor === "inherit") && inheritColor) {
        {
          if (textStyle.borderColor === "auto") {
            deprecateReplaceLog("borderColor: 'auto'", "borderColor: 'inherit'");
          }
        }
        textStyle.borderColor = inheritColor;
      }
    }
  }
  function getFont(opt, ecModel) {
    var gTextStyleModel = ecModel && ecModel.getModel("textStyle");
    return trim([
      opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow("fontStyle") || "",
      opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow("fontWeight") || "",
      (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow("fontSize") || 12) + "px",
      opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow("fontFamily") || "sans-serif"
    ].join(" "));
  }
  var labelInner = makeInner();
  var PATH_COLOR = ["textStyle", "color"];
  var textStyleParams = ["fontStyle", "fontWeight", "fontSize", "fontFamily", "padding", "lineHeight", "rich", "width", "height", "overflow"];
  var tmpText = new ZRText$1();
  var TextStyleMixin = function() {
    function TextStyleMixin2() {
    }
    TextStyleMixin2.prototype.getTextColor = function(isEmphasis) {
      var ecModel = this.ecModel;
      return this.getShallow("color") || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);
    };
    TextStyleMixin2.prototype.getFont = function() {
      return getFont({
        fontStyle: this.getShallow("fontStyle"),
        fontWeight: this.getShallow("fontWeight"),
        fontSize: this.getShallow("fontSize"),
        fontFamily: this.getShallow("fontFamily")
      }, this.ecModel);
    };
    TextStyleMixin2.prototype.getTextRect = function(text) {
      var style = {
        text,
        verticalAlign: this.getShallow("verticalAlign") || this.getShallow("baseline")
      };
      for (var i2 = 0; i2 < textStyleParams.length; i2++) {
        style[textStyleParams[i2]] = this.getShallow(textStyleParams[i2]);
      }
      tmpText.useStyle(style);
      tmpText.update();
      return tmpText.getBoundingRect();
    };
    return TextStyleMixin2;
  }();
  var TextStyleMixin$1 = TextStyleMixin;
  var LINE_STYLE_KEY_MAP = [
    ["lineWidth", "width"],
    ["stroke", "color"],
    ["opacity"],
    ["shadowBlur"],
    ["shadowOffsetX"],
    ["shadowOffsetY"],
    ["shadowColor"],
    ["lineDash", "type"],
    ["lineDashOffset", "dashOffset"],
    ["lineCap", "cap"],
    ["lineJoin", "join"],
    ["miterLimit"]
  ];
  var getLineStyle = makeStyleMapper(LINE_STYLE_KEY_MAP);
  var LineStyleMixin = function() {
    function LineStyleMixin2() {
    }
    LineStyleMixin2.prototype.getLineStyle = function(excludes) {
      return getLineStyle(this, excludes);
    };
    return LineStyleMixin2;
  }();
  var ITEM_STYLE_KEY_MAP = [
    ["fill", "color"],
    ["stroke", "borderColor"],
    ["lineWidth", "borderWidth"],
    ["opacity"],
    ["shadowBlur"],
    ["shadowOffsetX"],
    ["shadowOffsetY"],
    ["shadowColor"],
    ["lineDash", "borderType"],
    ["lineDashOffset", "borderDashOffset"],
    ["lineCap", "borderCap"],
    ["lineJoin", "borderJoin"],
    ["miterLimit", "borderMiterLimit"]
  ];
  var getItemStyle = makeStyleMapper(ITEM_STYLE_KEY_MAP);
  var ItemStyleMixin = function() {
    function ItemStyleMixin2() {
    }
    ItemStyleMixin2.prototype.getItemStyle = function(excludes, includes) {
      return getItemStyle(this, excludes, includes);
    };
    return ItemStyleMixin2;
  }();
  var Model = function() {
    function Model2(option, parentModel, ecModel) {
      this.parentModel = parentModel;
      this.ecModel = ecModel;
      this.option = option;
    }
    Model2.prototype.init = function(option, parentModel, ecModel) {
      var rest = [];
      for (var _i = 3; _i < arguments.length; _i++) {
        rest[_i - 3] = arguments[_i];
      }
    };
    Model2.prototype.mergeOption = function(option, ecModel) {
      merge(this.option, option, true);
    };
    Model2.prototype.get = function(path, ignoreParent) {
      if (path == null) {
        return this.option;
      }
      return this._doGet(this.parsePath(path), !ignoreParent && this.parentModel);
    };
    Model2.prototype.getShallow = function(key, ignoreParent) {
      var option = this.option;
      var val = option == null ? option : option[key];
      if (val == null && !ignoreParent) {
        var parentModel = this.parentModel;
        if (parentModel) {
          val = parentModel.getShallow(key);
        }
      }
      return val;
    };
    Model2.prototype.getModel = function(path, parentModel) {
      var hasPath = path != null;
      var pathFinal = hasPath ? this.parsePath(path) : null;
      var obj = hasPath ? this._doGet(pathFinal) : this.option;
      parentModel = parentModel || this.parentModel && this.parentModel.getModel(this.resolveParentPath(pathFinal));
      return new Model2(obj, parentModel, this.ecModel);
    };
    Model2.prototype.isEmpty = function() {
      return this.option == null;
    };
    Model2.prototype.restoreData = function() {
    };
    Model2.prototype.clone = function() {
      var Ctor = this.constructor;
      return new Ctor(clone$3(this.option));
    };
    Model2.prototype.parsePath = function(path) {
      if (typeof path === "string") {
        return path.split(".");
      }
      return path;
    };
    Model2.prototype.resolveParentPath = function(path) {
      return path;
    };
    Model2.prototype.isAnimationEnabled = function() {
      if (!env$1.node && this.option) {
        if (this.option.animation != null) {
          return !!this.option.animation;
        } else if (this.parentModel) {
          return this.parentModel.isAnimationEnabled();
        }
      }
    };
    Model2.prototype._doGet = function(pathArr, parentModel) {
      var obj = this.option;
      if (!pathArr) {
        return obj;
      }
      for (var i2 = 0; i2 < pathArr.length; i2++) {
        if (!pathArr[i2]) {
          continue;
        }
        obj = obj && typeof obj === "object" ? obj[pathArr[i2]] : null;
        if (obj == null) {
          break;
        }
      }
      if (obj == null && parentModel) {
        obj = parentModel._doGet(this.resolveParentPath(pathArr), parentModel.parentModel);
      }
      return obj;
    };
    return Model2;
  }();
  enableClassExtend(Model);
  enableClassCheck(Model);
  mixin(Model, LineStyleMixin);
  mixin(Model, ItemStyleMixin);
  mixin(Model, AreaStyleMixin);
  mixin(Model, TextStyleMixin$1);
  var Model$1 = Model;
  var base = Math.round(Math.random() * 10);
  function getUID(type) {
    return [type || "", base++].join("_");
  }
  function enableSubTypeDefaulter(target) {
    var subTypeDefaulters = {};
    target.registerSubTypeDefaulter = function(componentType, defaulter) {
      var componentTypeInfo = parseClassType(componentType);
      subTypeDefaulters[componentTypeInfo.main] = defaulter;
    };
    target.determineSubType = function(componentType, option) {
      var type = option.type;
      if (!type) {
        var componentTypeMain = parseClassType(componentType).main;
        if (target.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {
          type = subTypeDefaulters[componentTypeMain](option);
        }
      }
      return type;
    };
  }
  function enableTopologicalTravel(entity, dependencyGetter) {
    entity.topologicalTravel = function(targetNameList, fullNameList, callback, context) {
      if (!targetNameList.length) {
        return;
      }
      var result = makeDepndencyGraph(fullNameList);
      var graph = result.graph;
      var noEntryList = result.noEntryList;
      var targetNameSet = {};
      each$3(targetNameList, function(name) {
        targetNameSet[name] = true;
      });
      while (noEntryList.length) {
        var currComponentType = noEntryList.pop();
        var currVertex = graph[currComponentType];
        var isInTargetNameSet = !!targetNameSet[currComponentType];
        if (isInTargetNameSet) {
          callback.call(context, currComponentType, currVertex.originalDeps.slice());
          delete targetNameSet[currComponentType];
        }
        each$3(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);
      }
      each$3(targetNameSet, function() {
        var errMsg = "";
        {
          errMsg = makePrintable("Circular dependency may exists: ", targetNameSet, targetNameList, fullNameList);
        }
        throw new Error(errMsg);
      });
      function removeEdge(succComponentType) {
        graph[succComponentType].entryCount--;
        if (graph[succComponentType].entryCount === 0) {
          noEntryList.push(succComponentType);
        }
      }
      function removeEdgeAndAdd(succComponentType) {
        targetNameSet[succComponentType] = true;
        removeEdge(succComponentType);
      }
    };
    function makeDepndencyGraph(fullNameList) {
      var graph = {};
      var noEntryList = [];
      each$3(fullNameList, function(name) {
        var thisItem = createDependencyGraphItem(graph, name);
        var originalDeps = thisItem.originalDeps = dependencyGetter(name);
        var availableDeps = getAvailableDependencies(originalDeps, fullNameList);
        thisItem.entryCount = availableDeps.length;
        if (thisItem.entryCount === 0) {
          noEntryList.push(name);
        }
        each$3(availableDeps, function(dependentName) {
          if (indexOf(thisItem.predecessor, dependentName) < 0) {
            thisItem.predecessor.push(dependentName);
          }
          var thatItem = createDependencyGraphItem(graph, dependentName);
          if (indexOf(thatItem.successor, dependentName) < 0) {
            thatItem.successor.push(name);
          }
        });
      });
      return {
        graph,
        noEntryList
      };
    }
    function createDependencyGraphItem(graph, name) {
      if (!graph[name]) {
        graph[name] = {
          predecessor: [],
          successor: []
        };
      }
      return graph[name];
    }
    function getAvailableDependencies(originalDeps, fullNameList) {
      var availableDeps = [];
      each$3(originalDeps, function(dep) {
        indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);
      });
      return availableDeps;
    }
  }
  var langEN = {
    time: {
      month: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
      monthAbbr: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
      dayOfWeek: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
      dayOfWeekAbbr: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]
    },
    legend: {
      selector: {
        all: "All",
        inverse: "Inv"
      }
    },
    toolbox: {
      brush: {
        title: {
          rect: "Box Select",
          polygon: "Lasso Select",
          lineX: "Horizontally Select",
          lineY: "Vertically Select",
          keep: "Keep Selections",
          clear: "Clear Selections"
        }
      },
      dataView: {
        title: "Data View",
        lang: ["Data View", "Close", "Refresh"]
      },
      dataZoom: {
        title: {
          zoom: "Zoom",
          back: "Zoom Reset"
        }
      },
      magicType: {
        title: {
          line: "Switch to Line Chart",
          bar: "Switch to Bar Chart",
          stack: "Stack",
          tiled: "Tile"
        }
      },
      restore: {
        title: "Restore"
      },
      saveAsImage: {
        title: "Save as Image",
        lang: ["Right Click to Save Image"]
      }
    },
    series: {
      typeNames: {
        pie: "Pie chart",
        bar: "Bar chart",
        line: "Line chart",
        scatter: "Scatter plot",
        effectScatter: "Ripple scatter plot",
        radar: "Radar chart",
        tree: "Tree",
        treemap: "Treemap",
        boxplot: "Boxplot",
        candlestick: "Candlestick",
        k: "K line chart",
        heatmap: "Heat map",
        map: "Map",
        parallel: "Parallel coordinate map",
        lines: "Line graph",
        graph: "Relationship graph",
        sankey: "Sankey diagram",
        funnel: "Funnel chart",
        gauge: "Gauge",
        pictorialBar: "Pictorial bar",
        themeRiver: "Theme River Map",
        sunburst: "Sunburst"
      }
    },
    aria: {
      general: {
        withTitle: 'This is a chart about "{title}"',
        withoutTitle: "This is a chart"
      },
      series: {
        single: {
          prefix: "",
          withName: " with type {seriesType} named {seriesName}.",
          withoutName: " with type {seriesType}."
        },
        multiple: {
          prefix: ". It consists of {seriesCount} series count.",
          withName: " The {seriesId} series is a {seriesType} representing {seriesName}.",
          withoutName: " The {seriesId} series is a {seriesType}.",
          separator: {
            middle: "",
            end: ""
          }
        }
      },
      data: {
        allData: "The data is as follows: ",
        partialData: "The first {displayCnt} items are: ",
        withName: "the data for {name} is {value}",
        withoutName: "{value}",
        separator: {
          middle: ", ",
          end: ". "
        }
      }
    }
  };
  var langZH = {
    time: {
      month: ["\u4E00\u6708", "\u4E8C\u6708", "\u4E09\u6708", "\u56DB\u6708", "\u4E94\u6708", "\u516D\u6708", "\u4E03\u6708", "\u516B\u6708", "\u4E5D\u6708", "\u5341\u6708", "\u5341\u4E00\u6708", "\u5341\u4E8C\u6708"],
      monthAbbr: ["1\u6708", "2\u6708", "3\u6708", "4\u6708", "5\u6708", "6\u6708", "7\u6708", "8\u6708", "9\u6708", "10\u6708", "11\u6708", "12\u6708"],
      dayOfWeek: ["\u661F\u671F\u65E5", "\u661F\u671F\u4E00", "\u661F\u671F\u4E8C", "\u661F\u671F\u4E09", "\u661F\u671F\u56DB", "\u661F\u671F\u4E94", "\u661F\u671F\u516D"],
      dayOfWeekAbbr: ["\u65E5", "\u4E00", "\u4E8C", "\u4E09", "\u56DB", "\u4E94", "\u516D"]
    },
    legend: {
      selector: {
        all: "\u5168\u9009",
        inverse: "\u53CD\u9009"
      }
    },
    toolbox: {
      brush: {
        title: {
          rect: "\u77E9\u5F62\u9009\u62E9",
          polygon: "\u5708\u9009",
          lineX: "\u6A2A\u5411\u9009\u62E9",
          lineY: "\u7EB5\u5411\u9009\u62E9",
          keep: "\u4FDD\u6301\u9009\u62E9",
          clear: "\u6E05\u9664\u9009\u62E9"
        }
      },
      dataView: {
        title: "\u6570\u636E\u89C6\u56FE",
        lang: ["\u6570\u636E\u89C6\u56FE", "\u5173\u95ED", "\u5237\u65B0"]
      },
      dataZoom: {
        title: {
          zoom: "\u533A\u57DF\u7F29\u653E",
          back: "\u533A\u57DF\u7F29\u653E\u8FD8\u539F"
        }
      },
      magicType: {
        title: {
          line: "\u5207\u6362\u4E3A\u6298\u7EBF\u56FE",
          bar: "\u5207\u6362\u4E3A\u67F1\u72B6\u56FE",
          stack: "\u5207\u6362\u4E3A\u5806\u53E0",
          tiled: "\u5207\u6362\u4E3A\u5E73\u94FA"
        }
      },
      restore: {
        title: "\u8FD8\u539F"
      },
      saveAsImage: {
        title: "\u4FDD\u5B58\u4E3A\u56FE\u7247",
        lang: ["\u53F3\u952E\u53E6\u5B58\u4E3A\u56FE\u7247"]
      }
    },
    series: {
      typeNames: {
        pie: "\u997C\u56FE",
        bar: "\u67F1\u72B6\u56FE",
        line: "\u6298\u7EBF\u56FE",
        scatter: "\u6563\u70B9\u56FE",
        effectScatter: "\u6D9F\u6F2A\u6563\u70B9\u56FE",
        radar: "\u96F7\u8FBE\u56FE",
        tree: "\u6811\u56FE",
        treemap: "\u77E9\u5F62\u6811\u56FE",
        boxplot: "\u7BB1\u578B\u56FE",
        candlestick: "K\u7EBF\u56FE",
        k: "K\u7EBF\u56FE",
        heatmap: "\u70ED\u529B\u56FE",
        map: "\u5730\u56FE",
        parallel: "\u5E73\u884C\u5750\u6807\u56FE",
        lines: "\u7EBF\u56FE",
        graph: "\u5173\u7CFB\u56FE",
        sankey: "\u6851\u57FA\u56FE",
        funnel: "\u6F0F\u6597\u56FE",
        gauge: "\u4EEA\u8868\u76D8\u56FE",
        pictorialBar: "\u8C61\u5F62\u67F1\u56FE",
        themeRiver: "\u4E3B\u9898\u6CB3\u6D41\u56FE",
        sunburst: "\u65ED\u65E5\u56FE"
      }
    },
    aria: {
      general: {
        withTitle: "\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002",
        withoutTitle: "\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C"
      },
      series: {
        single: {
          prefix: "",
          withName: "\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\uFF0C\u8868\u793A{seriesName}\u3002",
          withoutName: "\u56FE\u8868\u7C7B\u578B\u662F{seriesType}\u3002"
        },
        multiple: {
          prefix: "\u5B83\u7531{seriesCount}\u4E2A\u56FE\u8868\u7CFB\u5217\u7EC4\u6210\u3002",
          withName: "\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A\u8868\u793A{seriesName}\u7684{seriesType}\uFF0C",
          withoutName: "\u7B2C{seriesId}\u4E2A\u7CFB\u5217\u662F\u4E00\u4E2A{seriesType}\uFF0C",
          separator: {
            middle: "\uFF1B",
            end: "\u3002"
          }
        }
      },
      data: {
        allData: "\u5176\u6570\u636E\u662F\u2014\u2014",
        partialData: "\u5176\u4E2D\uFF0C\u524D{displayCnt}\u9879\u662F\u2014\u2014",
        withName: "{name}\u7684\u6570\u636E\u662F{value}",
        withoutName: "{value}",
        separator: {
          middle: "\uFF0C",
          end: ""
        }
      }
    }
  };
  var LOCALE_ZH = "ZH";
  var LOCALE_EN = "EN";
  var DEFAULT_LOCALE = LOCALE_EN;
  var localeStorage = {};
  var localeModels = {};
  var SYSTEM_LANG = !env$1.domSupported ? DEFAULT_LOCALE : function() {
    var langStr = (document.documentElement.lang || navigator.language || navigator.browserLanguage).toUpperCase();
    return langStr.indexOf(LOCALE_ZH) > -1 ? LOCALE_ZH : DEFAULT_LOCALE;
  }();
  function registerLocale(locale, localeObj) {
    locale = locale.toUpperCase();
    localeModels[locale] = new Model$1(localeObj);
    localeStorage[locale] = localeObj;
  }
  function createLocaleObject(locale) {
    if (isString(locale)) {
      var localeObj = localeStorage[locale.toUpperCase()] || {};
      if (locale === LOCALE_ZH || locale === LOCALE_EN) {
        return clone$3(localeObj);
      } else {
        return merge(clone$3(localeObj), clone$3(localeStorage[DEFAULT_LOCALE]), false);
      }
    } else {
      return merge(clone$3(locale), clone$3(localeStorage[DEFAULT_LOCALE]), false);
    }
  }
  function getLocaleModel(lang) {
    return localeModels[lang];
  }
  function getDefaultLocaleModel() {
    return localeModels[DEFAULT_LOCALE];
  }
  registerLocale(LOCALE_EN, langEN);
  registerLocale(LOCALE_ZH, langZH);
  var ONE_SECOND = 1e3;
  var ONE_MINUTE = ONE_SECOND * 60;
  var ONE_HOUR = ONE_MINUTE * 60;
  var ONE_DAY = ONE_HOUR * 24;
  var ONE_YEAR = ONE_DAY * 365;
  var defaultLeveledFormatter = {
    year: "{yyyy}",
    month: "{MMM}",
    day: "{d}",
    hour: "{HH}:{mm}",
    minute: "{HH}:{mm}",
    second: "{HH}:{mm}:{ss}",
    millisecond: "{HH}:{mm}:{ss} {SSS}",
    none: "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"
  };
  var fullDayFormatter = "{yyyy}-{MM}-{dd}";
  var fullLeveledFormatter = {
    year: "{yyyy}",
    month: "{yyyy}-{MM}",
    day: fullDayFormatter,
    hour: fullDayFormatter + " " + defaultLeveledFormatter.hour,
    minute: fullDayFormatter + " " + defaultLeveledFormatter.minute,
    second: fullDayFormatter + " " + defaultLeveledFormatter.second,
    millisecond: defaultLeveledFormatter.none
  };
  var primaryTimeUnits = ["year", "month", "day", "hour", "minute", "second", "millisecond"];
  var timeUnits = ["year", "half-year", "quarter", "month", "week", "half-week", "day", "half-day", "quarter-day", "hour", "minute", "second", "millisecond"];
  function pad(str, len2) {
    str += "";
    return "0000".substr(0, len2 - str.length) + str;
  }
  function getPrimaryTimeUnit(timeUnit) {
    switch (timeUnit) {
      case "half-year":
      case "quarter":
        return "month";
      case "week":
      case "half-week":
        return "day";
      case "half-day":
      case "quarter-day":
        return "hour";
      default:
        return timeUnit;
    }
  }
  function isPrimaryTimeUnit(timeUnit) {
    return timeUnit === getPrimaryTimeUnit(timeUnit);
  }
  function getDefaultFormatPrecisionOfInterval(timeUnit) {
    switch (timeUnit) {
      case "year":
      case "month":
        return "day";
      case "millisecond":
        return "millisecond";
      default:
        return "second";
    }
  }
  function format$1(time2, template, isUTC, lang) {
    var date = parseDate(time2);
    var y = date[fullYearGetterName(isUTC)]();
    var M2 = date[monthGetterName(isUTC)]() + 1;
    var q2 = Math.floor((M2 - 1) / 3) + 1;
    var d2 = date[dateGetterName(isUTC)]();
    var e2 = date["get" + (isUTC ? "UTC" : "") + "Day"]();
    var H2 = date[hoursGetterName(isUTC)]();
    var h2 = (H2 - 1) % 12 + 1;
    var m2 = date[minutesGetterName(isUTC)]();
    var s2 = date[secondsGetterName(isUTC)]();
    var S2 = date[millisecondsGetterName(isUTC)]();
    var localeModel = lang instanceof Model$1 ? lang : getLocaleModel(lang || SYSTEM_LANG) || getDefaultLocaleModel();
    var timeModel = localeModel.getModel("time");
    var month = timeModel.get("month");
    var monthAbbr = timeModel.get("monthAbbr");
    var dayOfWeek = timeModel.get("dayOfWeek");
    var dayOfWeekAbbr = timeModel.get("dayOfWeekAbbr");
    return (template || "").replace(/{yyyy}/g, y + "").replace(/{yy}/g, pad(y % 100 + "", 2)).replace(/{Q}/g, q2 + "").replace(/{MMMM}/g, month[M2 - 1]).replace(/{MMM}/g, monthAbbr[M2 - 1]).replace(/{MM}/g, pad(M2, 2)).replace(/{M}/g, M2 + "").replace(/{dd}/g, pad(d2, 2)).replace(/{d}/g, d2 + "").replace(/{eeee}/g, dayOfWeek[e2]).replace(/{ee}/g, dayOfWeekAbbr[e2]).replace(/{e}/g, e2 + "").replace(/{HH}/g, pad(H2, 2)).replace(/{H}/g, H2 + "").replace(/{hh}/g, pad(h2 + "", 2)).replace(/{h}/g, h2 + "").replace(/{mm}/g, pad(m2, 2)).replace(/{m}/g, m2 + "").replace(/{ss}/g, pad(s2, 2)).replace(/{s}/g, s2 + "").replace(/{SSS}/g, pad(S2, 3)).replace(/{S}/g, S2 + "");
  }
  function leveledFormat(tick, idx, formatter, lang, isUTC) {
    var template = null;
    if (isString(formatter)) {
      template = formatter;
    } else if (isFunction(formatter)) {
      template = formatter(tick.value, idx, {
        level: tick.level
      });
    } else {
      var defaults$1 = extend({}, defaultLeveledFormatter);
      if (tick.level > 0) {
        for (var i2 = 0; i2 < primaryTimeUnits.length; ++i2) {
          defaults$1[primaryTimeUnits[i2]] = "{primary|" + defaults$1[primaryTimeUnits[i2]] + "}";
        }
      }
      var mergedFormatter = formatter ? formatter.inherit === false ? formatter : defaults(formatter, defaults$1) : defaults$1;
      var unit = getUnitFromValue(tick.value, isUTC);
      if (mergedFormatter[unit]) {
        template = mergedFormatter[unit];
      } else if (mergedFormatter.inherit) {
        var targetId = timeUnits.indexOf(unit);
        for (var i2 = targetId - 1; i2 >= 0; --i2) {
          if (mergedFormatter[unit]) {
            template = mergedFormatter[unit];
            break;
          }
        }
        template = template || defaults$1.none;
      }
      if (isArray(template)) {
        var levelId = tick.level == null ? 0 : tick.level >= 0 ? tick.level : template.length + tick.level;
        levelId = Math.min(levelId, template.length - 1);
        template = template[levelId];
      }
    }
    return format$1(new Date(tick.value), template, isUTC, lang);
  }
  function getUnitFromValue(value, isUTC) {
    var date = parseDate(value);
    var M2 = date[monthGetterName(isUTC)]() + 1;
    var d2 = date[dateGetterName(isUTC)]();
    var h2 = date[hoursGetterName(isUTC)]();
    var m2 = date[minutesGetterName(isUTC)]();
    var s2 = date[secondsGetterName(isUTC)]();
    var S2 = date[millisecondsGetterName(isUTC)]();
    var isSecond = S2 === 0;
    var isMinute = isSecond && s2 === 0;
    var isHour = isMinute && m2 === 0;
    var isDay = isHour && h2 === 0;
    var isMonth = isDay && d2 === 1;
    var isYear = isMonth && M2 === 1;
    if (isYear) {
      return "year";
    } else if (isMonth) {
      return "month";
    } else if (isDay) {
      return "day";
    } else if (isHour) {
      return "hour";
    } else if (isMinute) {
      return "minute";
    } else if (isSecond) {
      return "second";
    } else {
      return "millisecond";
    }
  }
  function getUnitValue(value, unit, isUTC) {
    var date = isNumber(value) ? parseDate(value) : value;
    unit = unit || getUnitFromValue(value, isUTC);
    switch (unit) {
      case "year":
        return date[fullYearGetterName(isUTC)]();
      case "half-year":
        return date[monthGetterName(isUTC)]() >= 6 ? 1 : 0;
      case "quarter":
        return Math.floor((date[monthGetterName(isUTC)]() + 1) / 4);
      case "month":
        return date[monthGetterName(isUTC)]();
      case "day":
        return date[dateGetterName(isUTC)]();
      case "half-day":
        return date[hoursGetterName(isUTC)]() / 24;
      case "hour":
        return date[hoursGetterName(isUTC)]();
      case "minute":
        return date[minutesGetterName(isUTC)]();
      case "second":
        return date[secondsGetterName(isUTC)]();
      case "millisecond":
        return date[millisecondsGetterName(isUTC)]();
    }
  }
  function fullYearGetterName(isUTC) {
    return isUTC ? "getUTCFullYear" : "getFullYear";
  }
  function monthGetterName(isUTC) {
    return isUTC ? "getUTCMonth" : "getMonth";
  }
  function dateGetterName(isUTC) {
    return isUTC ? "getUTCDate" : "getDate";
  }
  function hoursGetterName(isUTC) {
    return isUTC ? "getUTCHours" : "getHours";
  }
  function minutesGetterName(isUTC) {
    return isUTC ? "getUTCMinutes" : "getMinutes";
  }
  function secondsGetterName(isUTC) {
    return isUTC ? "getUTCSeconds" : "getSeconds";
  }
  function millisecondsGetterName(isUTC) {
    return isUTC ? "getUTCMilliseconds" : "getMilliseconds";
  }
  function fullYearSetterName(isUTC) {
    return isUTC ? "setUTCFullYear" : "setFullYear";
  }
  function monthSetterName(isUTC) {
    return isUTC ? "setUTCMonth" : "setMonth";
  }
  function dateSetterName(isUTC) {
    return isUTC ? "setUTCDate" : "setDate";
  }
  function hoursSetterName(isUTC) {
    return isUTC ? "setUTCHours" : "setHours";
  }
  function minutesSetterName(isUTC) {
    return isUTC ? "setUTCMinutes" : "setMinutes";
  }
  function secondsSetterName(isUTC) {
    return isUTC ? "setUTCSeconds" : "setSeconds";
  }
  function millisecondsSetterName(isUTC) {
    return isUTC ? "setUTCMilliseconds" : "setMilliseconds";
  }
  function getTextRect(text, font, align, verticalAlign, padding, rich, truncate, lineHeight) {
    var textEl = new ZRText$1({
      style: {
        text,
        font,
        align,
        verticalAlign,
        padding,
        rich,
        overflow: truncate ? "truncate" : null,
        lineHeight
      }
    });
    return textEl.getBoundingRect();
  }
  function addCommas(x2) {
    if (!isNumeric(x2)) {
      return isString(x2) ? x2 : "-";
    }
    var parts = (x2 + "").split(".");
    return parts[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, "$1,") + (parts.length > 1 ? "." + parts[1] : "");
  }
  function toCamelCase(str, upperCaseFirst) {
    str = (str || "").toLowerCase().replace(/-(.)/g, function(match, group1) {
      return group1.toUpperCase();
    });
    if (upperCaseFirst && str) {
      str = str.charAt(0).toUpperCase() + str.slice(1);
    }
    return str;
  }
  var normalizeCssArray = normalizeCssArray$1;
  function makeValueReadable(value, valueType, useUTC) {
    var USER_READABLE_DEFUALT_TIME_PATTERN = "{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";
    function stringToUserReadable(str) {
      return str && trim(str) ? str : "-";
    }
    function isNumberUserReadable(num) {
      return !!(num != null && !isNaN(num) && isFinite(num));
    }
    var isTypeTime = valueType === "time";
    var isValueDate = value instanceof Date;
    if (isTypeTime || isValueDate) {
      var date = isTypeTime ? parseDate(value) : value;
      if (!isNaN(+date)) {
        return format$1(date, USER_READABLE_DEFUALT_TIME_PATTERN, useUTC);
      } else if (isValueDate) {
        return "-";
      }
    }
    if (valueType === "ordinal") {
      return isStringSafe(value) ? stringToUserReadable(value) : isNumber(value) ? isNumberUserReadable(value) ? value + "" : "-" : "-";
    }
    var numericResult = numericToNumber(value);
    return isNumberUserReadable(numericResult) ? addCommas(numericResult) : isStringSafe(value) ? stringToUserReadable(value) : typeof value === "boolean" ? value + "" : "-";
  }
  var TPL_VAR_ALIAS = ["a", "b", "c", "d", "e", "f", "g"];
  var wrapVar = function(varName, seriesIdx) {
    return "{" + varName + (seriesIdx == null ? "" : seriesIdx) + "}";
  };
  function formatTpl(tpl, paramsList, encode) {
    if (!isArray(paramsList)) {
      paramsList = [paramsList];
    }
    var seriesLen = paramsList.length;
    if (!seriesLen) {
      return "";
    }
    var $vars = paramsList[0].$vars || [];
    for (var i2 = 0; i2 < $vars.length; i2++) {
      var alias = TPL_VAR_ALIAS[i2];
      tpl = tpl.replace(wrapVar(alias), wrapVar(alias, 0));
    }
    for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {
      for (var k2 = 0; k2 < $vars.length; k2++) {
        var val = paramsList[seriesIdx][$vars[k2]];
        tpl = tpl.replace(wrapVar(TPL_VAR_ALIAS[k2], seriesIdx), encode ? encodeHTML(val) : val);
      }
    }
    return tpl;
  }
  function getTooltipMarker(inOpt, extraCssText) {
    var opt = isString(inOpt) ? {
      color: inOpt,
      extraCssText
    } : inOpt || {};
    var color2 = opt.color;
    var type = opt.type;
    extraCssText = opt.extraCssText;
    var renderMode = opt.renderMode || "html";
    if (!color2) {
      return "";
    }
    if (renderMode === "html") {
      return type === "subItem" ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' + encodeHTML(color2) + ";" + (extraCssText || "") + '"></span>' : '<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:' + encodeHTML(color2) + ";" + (extraCssText || "") + '"></span>';
    } else {
      var markerId = opt.markerId || "markerX";
      return {
        renderMode,
        content: "{" + markerId + "|}  ",
        style: type === "subItem" ? {
          width: 4,
          height: 4,
          borderRadius: 2,
          backgroundColor: color2
        } : {
          width: 10,
          height: 10,
          borderRadius: 5,
          backgroundColor: color2
        }
      };
    }
  }
  function formatTime(tpl, value, isUTC) {
    {
      deprecateReplaceLog("echarts.format.formatTime", "echarts.time.format");
    }
    if (tpl === "week" || tpl === "month" || tpl === "quarter" || tpl === "half-year" || tpl === "year") {
      tpl = "MM-dd\nyyyy";
    }
    var date = parseDate(value);
    var getUTC = isUTC ? "getUTC" : "get";
    var y = date[getUTC + "FullYear"]();
    var M2 = date[getUTC + "Month"]() + 1;
    var d2 = date[getUTC + "Date"]();
    var h2 = date[getUTC + "Hours"]();
    var m2 = date[getUTC + "Minutes"]();
    var s2 = date[getUTC + "Seconds"]();
    var S2 = date[getUTC + "Milliseconds"]();
    tpl = tpl.replace("MM", pad(M2, 2)).replace("M", M2).replace("yyyy", y).replace("yy", pad(y % 100 + "", 2)).replace("dd", pad(d2, 2)).replace("d", d2).replace("hh", pad(h2, 2)).replace("h", h2).replace("mm", pad(m2, 2)).replace("m", m2).replace("ss", pad(s2, 2)).replace("s", s2).replace("SSS", pad(S2, 3));
    return tpl;
  }
  function capitalFirst(str) {
    return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;
  }
  function convertToColorString(color2, defaultColor) {
    defaultColor = defaultColor || "transparent";
    return isString(color2) ? color2 : isObject$2(color2) ? color2.colorStops && (color2.colorStops[0] || {}).color || defaultColor : defaultColor;
  }
  var each$2 = each$3;
  var LOCATION_PARAMS = ["left", "right", "top", "bottom", "width", "height"];
  var HV_NAMES = [["width", "left", "right"], ["height", "top", "bottom"]];
  function boxLayout(orient, group, gap, maxWidth, maxHeight) {
    var x2 = 0;
    var y = 0;
    if (maxWidth == null) {
      maxWidth = Infinity;
    }
    if (maxHeight == null) {
      maxHeight = Infinity;
    }
    var currentLineMaxSize = 0;
    group.eachChild(function(child, idx) {
      var rect = child.getBoundingRect();
      var nextChild = group.childAt(idx + 1);
      var nextChildRect = nextChild && nextChild.getBoundingRect();
      var nextX;
      var nextY;
      if (orient === "horizontal") {
        var moveX = rect.width + (nextChildRect ? -nextChildRect.x + rect.x : 0);
        nextX = x2 + moveX;
        if (nextX > maxWidth || child.newline) {
          x2 = 0;
          nextX = moveX;
          y += currentLineMaxSize + gap;
          currentLineMaxSize = rect.height;
        } else {
          currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);
        }
      } else {
        var moveY = rect.height + (nextChildRect ? -nextChildRect.y + rect.y : 0);
        nextY = y + moveY;
        if (nextY > maxHeight || child.newline) {
          x2 += currentLineMaxSize + gap;
          y = 0;
          nextY = moveY;
          currentLineMaxSize = rect.width;
        } else {
          currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);
        }
      }
      if (child.newline) {
        return;
      }
      child.x = x2;
      child.y = y;
      child.markRedraw();
      orient === "horizontal" ? x2 = nextX + gap : y = nextY + gap;
    });
  }
  curry(boxLayout, "vertical");
  curry(boxLayout, "horizontal");
  function getLayoutRect(positionInfo, containerRect, margin) {
    margin = normalizeCssArray(margin || 0);
    var containerWidth = containerRect.width;
    var containerHeight = containerRect.height;
    var left = parsePercent(positionInfo.left, containerWidth);
    var top = parsePercent(positionInfo.top, containerHeight);
    var right = parsePercent(positionInfo.right, containerWidth);
    var bottom = parsePercent(positionInfo.bottom, containerHeight);
    var width = parsePercent(positionInfo.width, containerWidth);
    var height = parsePercent(positionInfo.height, containerHeight);
    var verticalMargin = margin[2] + margin[0];
    var horizontalMargin = margin[1] + margin[3];
    var aspect = positionInfo.aspect;
    if (isNaN(width)) {
      width = containerWidth - right - horizontalMargin - left;
    }
    if (isNaN(height)) {
      height = containerHeight - bottom - verticalMargin - top;
    }
    if (aspect != null) {
      if (isNaN(width) && isNaN(height)) {
        if (aspect > containerWidth / containerHeight) {
          width = containerWidth * 0.8;
        } else {
          height = containerHeight * 0.8;
        }
      }
      if (isNaN(width)) {
        width = aspect * height;
      }
      if (isNaN(height)) {
        height = width / aspect;
      }
    }
    if (isNaN(left)) {
      left = containerWidth - right - width - horizontalMargin;
    }
    if (isNaN(top)) {
      top = containerHeight - bottom - height - verticalMargin;
    }
    switch (positionInfo.left || positionInfo.right) {
      case "center":
        left = containerWidth / 2 - width / 2 - margin[3];
        break;
      case "right":
        left = containerWidth - width - horizontalMargin;
        break;
    }
    switch (positionInfo.top || positionInfo.bottom) {
      case "middle":
      case "center":
        top = containerHeight / 2 - height / 2 - margin[0];
        break;
      case "bottom":
        top = containerHeight - height - verticalMargin;
        break;
    }
    left = left || 0;
    top = top || 0;
    if (isNaN(width)) {
      width = containerWidth - horizontalMargin - left - (right || 0);
    }
    if (isNaN(height)) {
      height = containerHeight - verticalMargin - top - (bottom || 0);
    }
    var rect = new BoundingRect$1(left + margin[3], top + margin[0], width, height);
    rect.margin = margin;
    return rect;
  }
  function fetchLayoutMode(ins) {
    var layoutMode = ins.layoutMode || ins.constructor.layoutMode;
    return isObject$2(layoutMode) ? layoutMode : layoutMode ? {
      type: layoutMode
    } : null;
  }
  function mergeLayoutParam(targetOption, newOption, opt) {
    var ignoreSize = opt && opt.ignoreSize;
    !isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);
    var hResult = merge2(HV_NAMES[0], 0);
    var vResult = merge2(HV_NAMES[1], 1);
    copy2(HV_NAMES[0], targetOption, hResult);
    copy2(HV_NAMES[1], targetOption, vResult);
    function merge2(names, hvIdx) {
      var newParams = {};
      var newValueCount = 0;
      var merged = {};
      var mergedValueCount = 0;
      var enoughParamNumber = 2;
      each$2(names, function(name) {
        merged[name] = targetOption[name];
      });
      each$2(names, function(name) {
        hasProp(newOption, name) && (newParams[name] = merged[name] = newOption[name]);
        hasValue(newParams, name) && newValueCount++;
        hasValue(merged, name) && mergedValueCount++;
      });
      if (ignoreSize[hvIdx]) {
        if (hasValue(newOption, names[1])) {
          merged[names[2]] = null;
        } else if (hasValue(newOption, names[2])) {
          merged[names[1]] = null;
        }
        return merged;
      }
      if (mergedValueCount === enoughParamNumber || !newValueCount) {
        return merged;
      } else if (newValueCount >= enoughParamNumber) {
        return newParams;
      } else {
        for (var i2 = 0; i2 < names.length; i2++) {
          var name_1 = names[i2];
          if (!hasProp(newParams, name_1) && hasProp(targetOption, name_1)) {
            newParams[name_1] = targetOption[name_1];
            break;
          }
        }
        return newParams;
      }
    }
    function hasProp(obj, name) {
      return obj.hasOwnProperty(name);
    }
    function hasValue(obj, name) {
      return obj[name] != null && obj[name] !== "auto";
    }
    function copy2(names, target, source) {
      each$2(names, function(name) {
        target[name] = source[name];
      });
    }
  }
  function getLayoutParams(source) {
    return copyLayoutParams({}, source);
  }
  function copyLayoutParams(target, source) {
    source && target && each$2(LOCATION_PARAMS, function(name) {
      source.hasOwnProperty(name) && (target[name] = source[name]);
    });
    return target;
  }
  var inner$9 = makeInner();
  var ComponentModel = function(_super) {
    __extends(ComponentModel2, _super);
    function ComponentModel2(option, parentModel, ecModel) {
      var _this = _super.call(this, option, parentModel, ecModel) || this;
      _this.uid = getUID("ec_cpt_model");
      return _this;
    }
    ComponentModel2.prototype.init = function(option, parentModel, ecModel) {
      this.mergeDefaultAndTheme(option, ecModel);
    };
    ComponentModel2.prototype.mergeDefaultAndTheme = function(option, ecModel) {
      var layoutMode = fetchLayoutMode(this);
      var inputPositionParams = layoutMode ? getLayoutParams(option) : {};
      var themeModel = ecModel.getTheme();
      merge(option, themeModel.get(this.mainType));
      merge(option, this.getDefaultOption());
      if (layoutMode) {
        mergeLayoutParam(option, inputPositionParams, layoutMode);
      }
    };
    ComponentModel2.prototype.mergeOption = function(option, ecModel) {
      merge(this.option, option, true);
      var layoutMode = fetchLayoutMode(this);
      if (layoutMode) {
        mergeLayoutParam(this.option, option, layoutMode);
      }
    };
    ComponentModel2.prototype.optionUpdated = function(newCptOption, isInit) {
    };
    ComponentModel2.prototype.getDefaultOption = function() {
      var ctor = this.constructor;
      if (!isExtendedClass(ctor)) {
        return ctor.defaultOption;
      }
      var fields = inner$9(this);
      if (!fields.defaultOption) {
        var optList = [];
        var clz = ctor;
        while (clz) {
          var opt = clz.prototype.defaultOption;
          opt && optList.push(opt);
          clz = clz.superClass;
        }
        var defaultOption2 = {};
        for (var i2 = optList.length - 1; i2 >= 0; i2--) {
          defaultOption2 = merge(defaultOption2, optList[i2], true);
        }
        fields.defaultOption = defaultOption2;
      }
      return fields.defaultOption;
    };
    ComponentModel2.prototype.getReferringComponents = function(mainType, opt) {
      var indexKey = mainType + "Index";
      var idKey = mainType + "Id";
      return queryReferringComponents(this.ecModel, mainType, {
        index: this.get(indexKey, true),
        id: this.get(idKey, true)
      }, opt);
    };
    ComponentModel2.prototype.getBoxLayoutParams = function() {
      var boxLayoutModel = this;
      return {
        left: boxLayoutModel.get("left"),
        top: boxLayoutModel.get("top"),
        right: boxLayoutModel.get("right"),
        bottom: boxLayoutModel.get("bottom"),
        width: boxLayoutModel.get("width"),
        height: boxLayoutModel.get("height")
      };
    };
    ComponentModel2.prototype.getZLevelKey = function() {
      return "";
    };
    ComponentModel2.prototype.setZLevel = function(zlevel) {
      this.option.zlevel = zlevel;
    };
    ComponentModel2.protoInitialize = function() {
      var proto2 = ComponentModel2.prototype;
      proto2.type = "component";
      proto2.id = "";
      proto2.name = "";
      proto2.mainType = "";
      proto2.subType = "";
      proto2.componentIndex = 0;
    }();
    return ComponentModel2;
  }(Model$1);
  mountExtend(ComponentModel, Model$1);
  enableClassManagement(ComponentModel);
  enableSubTypeDefaulter(ComponentModel);
  enableTopologicalTravel(ComponentModel, getDependencies);
  function getDependencies(componentType) {
    var deps = [];
    each$3(ComponentModel.getClassesByMainType(componentType), function(clz) {
      deps = deps.concat(clz.dependencies || clz.prototype.dependencies || []);
    });
    deps = map$1(deps, function(type) {
      return parseClassType(type).main;
    });
    if (componentType !== "dataset" && indexOf(deps, "dataset") <= 0) {
      deps.unshift("dataset");
    }
    return deps;
  }
  var ComponentModel$1 = ComponentModel;
  var platform = "";
  if (typeof navigator !== "undefined") {
    platform = navigator.platform || "";
  }
  var decalColor = "rgba(0, 0, 0, 0.2)";
  var globalDefault = {
    darkMode: "auto",
    colorBy: "series",
    color: ["#5470c6", "#91cc75", "#fac858", "#ee6666", "#73c0de", "#3ba272", "#fc8452", "#9a60b4", "#ea7ccc"],
    gradientColor: ["#f6efa6", "#d88273", "#bf444c"],
    aria: {
      decal: {
        decals: [{
          color: decalColor,
          dashArrayX: [1, 0],
          dashArrayY: [2, 5],
          symbolSize: 1,
          rotation: Math.PI / 6
        }, {
          color: decalColor,
          symbol: "circle",
          dashArrayX: [[8, 8], [0, 8, 8, 0]],
          dashArrayY: [6, 0],
          symbolSize: 0.8
        }, {
          color: decalColor,
          dashArrayX: [1, 0],
          dashArrayY: [4, 3],
          rotation: -Math.PI / 4
        }, {
          color: decalColor,
          dashArrayX: [[6, 6], [0, 6, 6, 0]],
          dashArrayY: [6, 0]
        }, {
          color: decalColor,
          dashArrayX: [[1, 0], [1, 6]],
          dashArrayY: [1, 0, 6, 0],
          rotation: Math.PI / 4
        }, {
          color: decalColor,
          symbol: "triangle",
          dashArrayX: [[9, 9], [0, 9, 9, 0]],
          dashArrayY: [7, 2],
          symbolSize: 0.75
        }]
      }
    },
    textStyle: {
      fontFamily: platform.match(/^Win/) ? "Microsoft YaHei" : "sans-serif",
      fontSize: 12,
      fontStyle: "normal",
      fontWeight: "normal"
    },
    blendMode: null,
    stateAnimation: {
      duration: 300,
      easing: "cubicOut"
    },
    animation: "auto",
    animationDuration: 1e3,
    animationDurationUpdate: 500,
    animationEasing: "cubicInOut",
    animationEasingUpdate: "cubicInOut",
    animationThreshold: 2e3,
    progressiveThreshold: 3e3,
    progressive: 400,
    hoverLayerThreshold: 3e3,
    useUTC: false
  };
  var VISUAL_DIMENSIONS = createHashMap(["tooltip", "label", "itemName", "itemId", "itemGroupId", "seriesName"]);
  var SOURCE_FORMAT_ORIGINAL = "original";
  var SOURCE_FORMAT_ARRAY_ROWS = "arrayRows";
  var SOURCE_FORMAT_OBJECT_ROWS = "objectRows";
  var SOURCE_FORMAT_KEYED_COLUMNS = "keyedColumns";
  var SOURCE_FORMAT_TYPED_ARRAY = "typedArray";
  var SOURCE_FORMAT_UNKNOWN = "unknown";
  var SERIES_LAYOUT_BY_COLUMN = "column";
  var SERIES_LAYOUT_BY_ROW = "row";
  var BE_ORDINAL = {
    Must: 1,
    Might: 2,
    Not: 3
  };
  var innerGlobalModel = makeInner();
  function resetSourceDefaulter(ecModel) {
    innerGlobalModel(ecModel).datasetMap = createHashMap();
  }
  function makeSeriesEncodeForAxisCoordSys(coordDimensions, seriesModel, source) {
    var encode = {};
    var datasetModel = querySeriesUpstreamDatasetModel(seriesModel);
    if (!datasetModel || !coordDimensions) {
      return encode;
    }
    var encodeItemName = [];
    var encodeSeriesName = [];
    var ecModel = seriesModel.ecModel;
    var datasetMap = innerGlobalModel(ecModel).datasetMap;
    var key = datasetModel.uid + "_" + source.seriesLayoutBy;
    var baseCategoryDimIndex;
    var categoryWayValueDimStart;
    coordDimensions = coordDimensions.slice();
    each$3(coordDimensions, function(coordDimInfoLoose, coordDimIdx) {
      var coordDimInfo = isObject$2(coordDimInfoLoose) ? coordDimInfoLoose : coordDimensions[coordDimIdx] = {
        name: coordDimInfoLoose
      };
      if (coordDimInfo.type === "ordinal" && baseCategoryDimIndex == null) {
        baseCategoryDimIndex = coordDimIdx;
        categoryWayValueDimStart = getDataDimCountOnCoordDim(coordDimInfo);
      }
      encode[coordDimInfo.name] = [];
    });
    var datasetRecord = datasetMap.get(key) || datasetMap.set(key, {
      categoryWayDim: categoryWayValueDimStart,
      valueWayDim: 0
    });
    each$3(coordDimensions, function(coordDimInfo, coordDimIdx) {
      var coordDimName = coordDimInfo.name;
      var count = getDataDimCountOnCoordDim(coordDimInfo);
      if (baseCategoryDimIndex == null) {
        var start2 = datasetRecord.valueWayDim;
        pushDim(encode[coordDimName], start2, count);
        pushDim(encodeSeriesName, start2, count);
        datasetRecord.valueWayDim += count;
      } else if (baseCategoryDimIndex === coordDimIdx) {
        pushDim(encode[coordDimName], 0, count);
        pushDim(encodeItemName, 0, count);
      } else {
        var start2 = datasetRecord.categoryWayDim;
        pushDim(encode[coordDimName], start2, count);
        pushDim(encodeSeriesName, start2, count);
        datasetRecord.categoryWayDim += count;
      }
    });
    function pushDim(dimIdxArr, idxFrom, idxCount) {
      for (var i2 = 0; i2 < idxCount; i2++) {
        dimIdxArr.push(idxFrom + i2);
      }
    }
    function getDataDimCountOnCoordDim(coordDimInfo) {
      var dimsDef = coordDimInfo.dimsDef;
      return dimsDef ? dimsDef.length : 1;
    }
    encodeItemName.length && (encode.itemName = encodeItemName);
    encodeSeriesName.length && (encode.seriesName = encodeSeriesName);
    return encode;
  }
  function querySeriesUpstreamDatasetModel(seriesModel) {
    var thisData = seriesModel.get("data", true);
    if (!thisData) {
      return queryReferringComponents(seriesModel.ecModel, "dataset", {
        index: seriesModel.get("datasetIndex", true),
        id: seriesModel.get("datasetId", true)
      }, SINGLE_REFERRING).models[0];
    }
  }
  function queryDatasetUpstreamDatasetModels(datasetModel) {
    if (!datasetModel.get("transform", true) && !datasetModel.get("fromTransformResult", true)) {
      return [];
    }
    return queryReferringComponents(datasetModel.ecModel, "dataset", {
      index: datasetModel.get("fromDatasetIndex", true),
      id: datasetModel.get("fromDatasetId", true)
    }, SINGLE_REFERRING).models;
  }
  function guessOrdinal(source, dimIndex) {
    return doGuessOrdinal(source.data, source.sourceFormat, source.seriesLayoutBy, source.dimensionsDefine, source.startIndex, dimIndex);
  }
  function doGuessOrdinal(data, sourceFormat, seriesLayoutBy, dimensionsDefine, startIndex, dimIndex) {
    var result;
    var maxLoop = 5;
    if (isTypedArray(data)) {
      return BE_ORDINAL.Not;
    }
    var dimName;
    var dimType;
    if (dimensionsDefine) {
      var dimDefItem = dimensionsDefine[dimIndex];
      if (isObject$2(dimDefItem)) {
        dimName = dimDefItem.name;
        dimType = dimDefItem.type;
      } else if (isString(dimDefItem)) {
        dimName = dimDefItem;
      }
    }
    if (dimType != null) {
      return dimType === "ordinal" ? BE_ORDINAL.Must : BE_ORDINAL.Not;
    }
    if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {
      var dataArrayRows = data;
      if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW) {
        var sample = dataArrayRows[dimIndex];
        for (var i2 = 0; i2 < (sample || []).length && i2 < maxLoop; i2++) {
          if ((result = detectValue(sample[startIndex + i2])) != null) {
            return result;
          }
        }
      } else {
        for (var i2 = 0; i2 < dataArrayRows.length && i2 < maxLoop; i2++) {
          var row = dataArrayRows[startIndex + i2];
          if (row && (result = detectValue(row[dimIndex])) != null) {
            return result;
          }
        }
      }
    } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {
      var dataObjectRows = data;
      if (!dimName) {
        return BE_ORDINAL.Not;
      }
      for (var i2 = 0; i2 < dataObjectRows.length && i2 < maxLoop; i2++) {
        var item = dataObjectRows[i2];
        if (item && (result = detectValue(item[dimName])) != null) {
          return result;
        }
      }
    } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {
      var dataKeyedColumns = data;
      if (!dimName) {
        return BE_ORDINAL.Not;
      }
      var sample = dataKeyedColumns[dimName];
      if (!sample || isTypedArray(sample)) {
        return BE_ORDINAL.Not;
      }
      for (var i2 = 0; i2 < sample.length && i2 < maxLoop; i2++) {
        if ((result = detectValue(sample[i2])) != null) {
          return result;
        }
      }
    } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {
      var dataOriginal = data;
      for (var i2 = 0; i2 < dataOriginal.length && i2 < maxLoop; i2++) {
        var item = dataOriginal[i2];
        var val = getDataItemValue(item);
        if (!isArray(val)) {
          return BE_ORDINAL.Not;
        }
        if ((result = detectValue(val[dimIndex])) != null) {
          return result;
        }
      }
    }
    function detectValue(val2) {
      var beStr = isString(val2);
      if (val2 != null && isFinite(val2) && val2 !== "") {
        return beStr ? BE_ORDINAL.Might : BE_ORDINAL.Not;
      } else if (beStr && val2 !== "-") {
        return BE_ORDINAL.Must;
      }
    }
    return BE_ORDINAL.Not;
  }
  var internalOptionCreatorMap = createHashMap();
  function concatInternalOptions(ecModel, mainType, newCmptOptionList) {
    var internalOptionCreator = internalOptionCreatorMap.get(mainType);
    if (!internalOptionCreator) {
      return newCmptOptionList;
    }
    var internalOptions = internalOptionCreator(ecModel);
    if (!internalOptions) {
      return newCmptOptionList;
    }
    {
      for (var i2 = 0; i2 < internalOptions.length; i2++) {
        assert(isComponentIdInternal(internalOptions[i2]));
      }
    }
    return newCmptOptionList.concat(internalOptions);
  }
  var innerColor = makeInner();
  makeInner();
  var PaletteMixin = function() {
    function PaletteMixin2() {
    }
    PaletteMixin2.prototype.getColorFromPalette = function(name, scope, requestNum) {
      var defaultPalette = normalizeToArray(this.get("color", true));
      var layeredPalette = this.get("colorLayer", true);
      return getFromPalette(this, innerColor, defaultPalette, layeredPalette, name, scope, requestNum);
    };
    PaletteMixin2.prototype.clearColorPalette = function() {
      clearPalette(this, innerColor);
    };
    return PaletteMixin2;
  }();
  function getNearestPalette(palettes, requestColorNum) {
    var paletteNum = palettes.length;
    for (var i2 = 0; i2 < paletteNum; i2++) {
      if (palettes[i2].length > requestColorNum) {
        return palettes[i2];
      }
    }
    return palettes[paletteNum - 1];
  }
  function getFromPalette(that, inner2, defaultPalette, layeredPalette, name, scope, requestNum) {
    scope = scope || that;
    var scopeFields = inner2(scope);
    var paletteIdx = scopeFields.paletteIdx || 0;
    var paletteNameMap = scopeFields.paletteNameMap = scopeFields.paletteNameMap || {};
    if (paletteNameMap.hasOwnProperty(name)) {
      return paletteNameMap[name];
    }
    var palette = requestNum == null || !layeredPalette ? defaultPalette : getNearestPalette(layeredPalette, requestNum);
    palette = palette || defaultPalette;
    if (!palette || !palette.length) {
      return;
    }
    var pickedPaletteItem = palette[paletteIdx];
    if (name) {
      paletteNameMap[name] = pickedPaletteItem;
    }
    scopeFields.paletteIdx = (paletteIdx + 1) % palette.length;
    return pickedPaletteItem;
  }
  function clearPalette(that, inner2) {
    inner2(that).paletteIdx = 0;
    inner2(that).paletteNameMap = {};
  }
  var reCreateSeriesIndices;
  var assertSeriesInitialized;
  var initBase;
  var OPTION_INNER_KEY = "\0_ec_inner";
  var OPTION_INNER_VALUE = 1;
  var BUITIN_COMPONENTS_MAP = {
    grid: "GridComponent",
    polar: "PolarComponent",
    geo: "GeoComponent",
    singleAxis: "SingleAxisComponent",
    parallel: "ParallelComponent",
    calendar: "CalendarComponent",
    graphic: "GraphicComponent",
    toolbox: "ToolboxComponent",
    tooltip: "TooltipComponent",
    axisPointer: "AxisPointerComponent",
    brush: "BrushComponent",
    title: "TitleComponent",
    timeline: "TimelineComponent",
    markPoint: "MarkPointComponent",
    markLine: "MarkLineComponent",
    markArea: "MarkAreaComponent",
    legend: "LegendComponent",
    dataZoom: "DataZoomComponent",
    visualMap: "VisualMapComponent",
    xAxis: "GridComponent",
    yAxis: "GridComponent",
    angleAxis: "PolarComponent",
    radiusAxis: "PolarComponent"
  };
  var BUILTIN_CHARTS_MAP = {
    line: "LineChart",
    bar: "BarChart",
    pie: "PieChart",
    scatter: "ScatterChart",
    radar: "RadarChart",
    map: "MapChart",
    tree: "TreeChart",
    treemap: "TreemapChart",
    graph: "GraphChart",
    gauge: "GaugeChart",
    funnel: "FunnelChart",
    parallel: "ParallelChart",
    sankey: "SankeyChart",
    boxplot: "BoxplotChart",
    candlestick: "CandlestickChart",
    effectScatter: "EffectScatterChart",
    lines: "LinesChart",
    heatmap: "HeatmapChart",
    pictorialBar: "PictorialBarChart",
    themeRiver: "ThemeRiverChart",
    sunburst: "SunburstChart",
    custom: "CustomChart"
  };
  var componetsMissingLogPrinted = {};
  function checkMissingComponents(option) {
    each$3(option, function(componentOption, mainType) {
      if (!ComponentModel$1.hasClass(mainType)) {
        var componentImportName = BUITIN_COMPONENTS_MAP[mainType];
        if (componentImportName && !componetsMissingLogPrinted[componentImportName]) {
          error("Component " + mainType + " is used but not imported.\nimport { " + componentImportName + " } from 'echarts/components';\necharts.use([" + componentImportName + "]);");
          componetsMissingLogPrinted[componentImportName] = true;
        }
      }
    });
  }
  var GlobalModel = function(_super) {
    __extends(GlobalModel2, _super);
    function GlobalModel2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    GlobalModel2.prototype.init = function(option, parentModel, ecModel, theme2, locale, optionManager) {
      theme2 = theme2 || {};
      this.option = null;
      this._theme = new Model$1(theme2);
      this._locale = new Model$1(locale);
      this._optionManager = optionManager;
    };
    GlobalModel2.prototype.setOption = function(option, opts, optionPreprocessorFuncs2) {
      {
        assert(option != null, "option is null/undefined");
        assert(option[OPTION_INNER_KEY] !== OPTION_INNER_VALUE, "please use chart.getOption()");
      }
      var innerOpt = normalizeSetOptionInput(opts);
      this._optionManager.setOption(option, optionPreprocessorFuncs2, innerOpt);
      this._resetOption(null, innerOpt);
    };
    GlobalModel2.prototype.resetOption = function(type, opt) {
      return this._resetOption(type, normalizeSetOptionInput(opt));
    };
    GlobalModel2.prototype._resetOption = function(type, opt) {
      var optionChanged = false;
      var optionManager = this._optionManager;
      if (!type || type === "recreate") {
        var baseOption = optionManager.mountOption(type === "recreate");
        {
          checkMissingComponents(baseOption);
        }
        if (!this.option || type === "recreate") {
          initBase(this, baseOption);
        } else {
          this.restoreData();
          this._mergeOption(baseOption, opt);
        }
        optionChanged = true;
      }
      if (type === "timeline" || type === "media") {
        this.restoreData();
      }
      if (!type || type === "recreate" || type === "timeline") {
        var timelineOption = optionManager.getTimelineOption(this);
        if (timelineOption) {
          optionChanged = true;
          this._mergeOption(timelineOption, opt);
        }
      }
      if (!type || type === "recreate" || type === "media") {
        var mediaOptions = optionManager.getMediaOption(this);
        if (mediaOptions.length) {
          each$3(mediaOptions, function(mediaOption) {
            optionChanged = true;
            this._mergeOption(mediaOption, opt);
          }, this);
        }
      }
      return optionChanged;
    };
    GlobalModel2.prototype.mergeOption = function(option) {
      this._mergeOption(option, null);
    };
    GlobalModel2.prototype._mergeOption = function(newOption, opt) {
      var option = this.option;
      var componentsMap = this._componentsMap;
      var componentsCount = this._componentsCount;
      var newCmptTypes = [];
      var newCmptTypeMap = createHashMap();
      var replaceMergeMainTypeMap = opt && opt.replaceMergeMainTypeMap;
      resetSourceDefaulter(this);
      each$3(newOption, function(componentOption, mainType) {
        if (componentOption == null) {
          return;
        }
        if (!ComponentModel$1.hasClass(mainType)) {
          option[mainType] = option[mainType] == null ? clone$3(componentOption) : merge(option[mainType], componentOption, true);
        } else if (mainType) {
          newCmptTypes.push(mainType);
          newCmptTypeMap.set(mainType, true);
        }
      });
      if (replaceMergeMainTypeMap) {
        replaceMergeMainTypeMap.each(function(val, mainTypeInReplaceMerge) {
          if (ComponentModel$1.hasClass(mainTypeInReplaceMerge) && !newCmptTypeMap.get(mainTypeInReplaceMerge)) {
            newCmptTypes.push(mainTypeInReplaceMerge);
            newCmptTypeMap.set(mainTypeInReplaceMerge, true);
          }
        });
      }
      ComponentModel$1.topologicalTravel(newCmptTypes, ComponentModel$1.getAllClassMainTypes(), visitComponent, this);
      function visitComponent(mainType) {
        var newCmptOptionList = concatInternalOptions(this, mainType, normalizeToArray(newOption[mainType]));
        var oldCmptList = componentsMap.get(mainType);
        var mergeMode = !oldCmptList ? "replaceAll" : replaceMergeMainTypeMap && replaceMergeMainTypeMap.get(mainType) ? "replaceMerge" : "normalMerge";
        var mappingResult = mappingToExists(oldCmptList, newCmptOptionList, mergeMode);
        setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel$1);
        option[mainType] = null;
        componentsMap.set(mainType, null);
        componentsCount.set(mainType, 0);
        var optionsByMainType = [];
        var cmptsByMainType = [];
        var cmptsCountByMainType = 0;
        var tooltipExists;
        var tooltipWarningLogged;
        each$3(mappingResult, function(resultItem, index) {
          var componentModel = resultItem.existing;
          var newCmptOption = resultItem.newOption;
          if (!newCmptOption) {
            if (componentModel) {
              componentModel.mergeOption({}, this);
              componentModel.optionUpdated({}, false);
            }
          } else {
            var isSeriesType = mainType === "series";
            var ComponentModelClass = ComponentModel$1.getClass(mainType, resultItem.keyInfo.subType, !isSeriesType);
            if (!ComponentModelClass) {
              {
                var subType = resultItem.keyInfo.subType;
                var seriesImportName = BUILTIN_CHARTS_MAP[subType];
                if (!componetsMissingLogPrinted[subType]) {
                  componetsMissingLogPrinted[subType] = true;
                  if (seriesImportName) {
                    error("Series " + subType + " is used but not imported.\nimport { " + seriesImportName + " } from 'echarts/charts';\necharts.use([" + seriesImportName + "]);");
                  } else {
                    error("Unknown series " + subType);
                  }
                }
              }
              return;
            }
            if (mainType === "tooltip") {
              if (tooltipExists) {
                {
                  if (!tooltipWarningLogged) {
                    warn("Currently only one tooltip component is allowed.");
                    tooltipWarningLogged = true;
                  }
                }
                return;
              }
              tooltipExists = true;
            }
            if (componentModel && componentModel.constructor === ComponentModelClass) {
              componentModel.name = resultItem.keyInfo.name;
              componentModel.mergeOption(newCmptOption, this);
              componentModel.optionUpdated(newCmptOption, false);
            } else {
              var extraOpt = extend({
                componentIndex: index
              }, resultItem.keyInfo);
              componentModel = new ComponentModelClass(newCmptOption, this, this, extraOpt);
              extend(componentModel, extraOpt);
              if (resultItem.brandNew) {
                componentModel.__requireNewView = true;
              }
              componentModel.init(newCmptOption, this, this);
              componentModel.optionUpdated(null, true);
            }
          }
          if (componentModel) {
            optionsByMainType.push(componentModel.option);
            cmptsByMainType.push(componentModel);
            cmptsCountByMainType++;
          } else {
            optionsByMainType.push(void 0);
            cmptsByMainType.push(void 0);
          }
        }, this);
        option[mainType] = optionsByMainType;
        componentsMap.set(mainType, cmptsByMainType);
        componentsCount.set(mainType, cmptsCountByMainType);
        if (mainType === "series") {
          reCreateSeriesIndices(this);
        }
      }
      if (!this._seriesIndices) {
        reCreateSeriesIndices(this);
      }
    };
    GlobalModel2.prototype.getOption = function() {
      var option = clone$3(this.option);
      each$3(option, function(optInMainType, mainType) {
        if (ComponentModel$1.hasClass(mainType)) {
          var opts = normalizeToArray(optInMainType);
          var realLen = opts.length;
          var metNonInner = false;
          for (var i2 = realLen - 1; i2 >= 0; i2--) {
            if (opts[i2] && !isComponentIdInternal(opts[i2])) {
              metNonInner = true;
            } else {
              opts[i2] = null;
              !metNonInner && realLen--;
            }
          }
          opts.length = realLen;
          option[mainType] = opts;
        }
      });
      delete option[OPTION_INNER_KEY];
      return option;
    };
    GlobalModel2.prototype.getTheme = function() {
      return this._theme;
    };
    GlobalModel2.prototype.getLocaleModel = function() {
      return this._locale;
    };
    GlobalModel2.prototype.setUpdatePayload = function(payload) {
      this._payload = payload;
    };
    GlobalModel2.prototype.getUpdatePayload = function() {
      return this._payload;
    };
    GlobalModel2.prototype.getComponent = function(mainType, idx) {
      var list = this._componentsMap.get(mainType);
      if (list) {
        var cmpt = list[idx || 0];
        if (cmpt) {
          return cmpt;
        } else if (idx == null) {
          for (var i2 = 0; i2 < list.length; i2++) {
            if (list[i2]) {
              return list[i2];
            }
          }
        }
      }
    };
    GlobalModel2.prototype.queryComponents = function(condition) {
      var mainType = condition.mainType;
      if (!mainType) {
        return [];
      }
      var index = condition.index;
      var id = condition.id;
      var name = condition.name;
      var cmpts = this._componentsMap.get(mainType);
      if (!cmpts || !cmpts.length) {
        return [];
      }
      var result;
      if (index != null) {
        result = [];
        each$3(normalizeToArray(index), function(idx) {
          cmpts[idx] && result.push(cmpts[idx]);
        });
      } else if (id != null) {
        result = queryByIdOrName("id", id, cmpts);
      } else if (name != null) {
        result = queryByIdOrName("name", name, cmpts);
      } else {
        result = filter(cmpts, function(cmpt) {
          return !!cmpt;
        });
      }
      return filterBySubType(result, condition);
    };
    GlobalModel2.prototype.findComponents = function(condition) {
      var query = condition.query;
      var mainType = condition.mainType;
      var queryCond = getQueryCond(query);
      var result = queryCond ? this.queryComponents(queryCond) : filter(this._componentsMap.get(mainType), function(cmpt) {
        return !!cmpt;
      });
      return doFilter(filterBySubType(result, condition));
      function getQueryCond(q2) {
        var indexAttr = mainType + "Index";
        var idAttr = mainType + "Id";
        var nameAttr = mainType + "Name";
        return q2 && (q2[indexAttr] != null || q2[idAttr] != null || q2[nameAttr] != null) ? {
          mainType,
          index: q2[indexAttr],
          id: q2[idAttr],
          name: q2[nameAttr]
        } : null;
      }
      function doFilter(res) {
        return condition.filter ? filter(res, condition.filter) : res;
      }
    };
    GlobalModel2.prototype.eachComponent = function(mainType, cb, context) {
      var componentsMap = this._componentsMap;
      if (isFunction(mainType)) {
        var ctxForAll_1 = cb;
        var cbForAll_1 = mainType;
        componentsMap.each(function(cmpts2, componentType) {
          for (var i3 = 0; cmpts2 && i3 < cmpts2.length; i3++) {
            var cmpt2 = cmpts2[i3];
            cmpt2 && cbForAll_1.call(ctxForAll_1, componentType, cmpt2, cmpt2.componentIndex);
          }
        });
      } else {
        var cmpts = isString(mainType) ? componentsMap.get(mainType) : isObject$2(mainType) ? this.findComponents(mainType) : null;
        for (var i2 = 0; cmpts && i2 < cmpts.length; i2++) {
          var cmpt = cmpts[i2];
          cmpt && cb.call(context, cmpt, cmpt.componentIndex);
        }
      }
    };
    GlobalModel2.prototype.getSeriesByName = function(name) {
      var nameStr = convertOptionIdName(name, null);
      return filter(this._componentsMap.get("series"), function(oneSeries) {
        return !!oneSeries && nameStr != null && oneSeries.name === nameStr;
      });
    };
    GlobalModel2.prototype.getSeriesByIndex = function(seriesIndex) {
      return this._componentsMap.get("series")[seriesIndex];
    };
    GlobalModel2.prototype.getSeriesByType = function(subType) {
      return filter(this._componentsMap.get("series"), function(oneSeries) {
        return !!oneSeries && oneSeries.subType === subType;
      });
    };
    GlobalModel2.prototype.getSeries = function() {
      return filter(this._componentsMap.get("series"), function(oneSeries) {
        return !!oneSeries;
      });
    };
    GlobalModel2.prototype.getSeriesCount = function() {
      return this._componentsCount.get("series");
    };
    GlobalModel2.prototype.eachSeries = function(cb, context) {
      assertSeriesInitialized(this);
      each$3(this._seriesIndices, function(rawSeriesIndex) {
        var series = this._componentsMap.get("series")[rawSeriesIndex];
        cb.call(context, series, rawSeriesIndex);
      }, this);
    };
    GlobalModel2.prototype.eachRawSeries = function(cb, context) {
      each$3(this._componentsMap.get("series"), function(series) {
        series && cb.call(context, series, series.componentIndex);
      });
    };
    GlobalModel2.prototype.eachSeriesByType = function(subType, cb, context) {
      assertSeriesInitialized(this);
      each$3(this._seriesIndices, function(rawSeriesIndex) {
        var series = this._componentsMap.get("series")[rawSeriesIndex];
        if (series.subType === subType) {
          cb.call(context, series, rawSeriesIndex);
        }
      }, this);
    };
    GlobalModel2.prototype.eachRawSeriesByType = function(subType, cb, context) {
      return each$3(this.getSeriesByType(subType), cb, context);
    };
    GlobalModel2.prototype.isSeriesFiltered = function(seriesModel) {
      assertSeriesInitialized(this);
      return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;
    };
    GlobalModel2.prototype.getCurrentSeriesIndices = function() {
      return (this._seriesIndices || []).slice();
    };
    GlobalModel2.prototype.filterSeries = function(cb, context) {
      assertSeriesInitialized(this);
      var newSeriesIndices = [];
      each$3(this._seriesIndices, function(seriesRawIdx) {
        var series = this._componentsMap.get("series")[seriesRawIdx];
        cb.call(context, series, seriesRawIdx) && newSeriesIndices.push(seriesRawIdx);
      }, this);
      this._seriesIndices = newSeriesIndices;
      this._seriesIndicesMap = createHashMap(newSeriesIndices);
    };
    GlobalModel2.prototype.restoreData = function(payload) {
      reCreateSeriesIndices(this);
      var componentsMap = this._componentsMap;
      var componentTypes = [];
      componentsMap.each(function(components, componentType) {
        if (ComponentModel$1.hasClass(componentType)) {
          componentTypes.push(componentType);
        }
      });
      ComponentModel$1.topologicalTravel(componentTypes, ComponentModel$1.getAllClassMainTypes(), function(componentType) {
        each$3(componentsMap.get(componentType), function(component) {
          if (component && (componentType !== "series" || !isNotTargetSeries(component, payload))) {
            component.restoreData();
          }
        });
      });
    };
    GlobalModel2.internalField = function() {
      reCreateSeriesIndices = function(ecModel) {
        var seriesIndices = ecModel._seriesIndices = [];
        each$3(ecModel._componentsMap.get("series"), function(series) {
          series && seriesIndices.push(series.componentIndex);
        });
        ecModel._seriesIndicesMap = createHashMap(seriesIndices);
      };
      assertSeriesInitialized = function(ecModel) {
        {
          if (!ecModel._seriesIndices) {
            throw new Error("Option should contains series.");
          }
        }
      };
      initBase = function(ecModel, baseOption) {
        ecModel.option = {};
        ecModel.option[OPTION_INNER_KEY] = OPTION_INNER_VALUE;
        ecModel._componentsMap = createHashMap({
          series: []
        });
        ecModel._componentsCount = createHashMap();
        var airaOption = baseOption.aria;
        if (isObject$2(airaOption) && airaOption.enabled == null) {
          airaOption.enabled = true;
        }
        mergeTheme(baseOption, ecModel._theme.option);
        merge(baseOption, globalDefault, false);
        ecModel._mergeOption(baseOption, null);
      };
    }();
    return GlobalModel2;
  }(Model$1);
  function isNotTargetSeries(seriesModel, payload) {
    if (payload) {
      var index = payload.seriesIndex;
      var id = payload.seriesId;
      var name_1 = payload.seriesName;
      return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name_1 != null && seriesModel.name !== name_1;
    }
  }
  function mergeTheme(option, theme2) {
    var notMergeColorLayer = option.color && !option.colorLayer;
    each$3(theme2, function(themeItem, name) {
      if (name === "colorLayer" && notMergeColorLayer) {
        return;
      }
      if (!ComponentModel$1.hasClass(name)) {
        if (typeof themeItem === "object") {
          option[name] = !option[name] ? clone$3(themeItem) : merge(option[name], themeItem, false);
        } else {
          if (option[name] == null) {
            option[name] = themeItem;
          }
        }
      }
    });
  }
  function queryByIdOrName(attr, idOrName, cmpts) {
    if (isArray(idOrName)) {
      var keyMap_1 = createHashMap();
      each$3(idOrName, function(idOrNameItem) {
        if (idOrNameItem != null) {
          var idName = convertOptionIdName(idOrNameItem, null);
          idName != null && keyMap_1.set(idOrNameItem, true);
        }
      });
      return filter(cmpts, function(cmpt) {
        return cmpt && keyMap_1.get(cmpt[attr]);
      });
    } else {
      var idName_1 = convertOptionIdName(idOrName, null);
      return filter(cmpts, function(cmpt) {
        return cmpt && idName_1 != null && cmpt[attr] === idName_1;
      });
    }
  }
  function filterBySubType(components, condition) {
    return condition.hasOwnProperty("subType") ? filter(components, function(cmpt) {
      return cmpt && cmpt.subType === condition.subType;
    }) : components;
  }
  function normalizeSetOptionInput(opts) {
    var replaceMergeMainTypeMap = createHashMap();
    opts && each$3(normalizeToArray(opts.replaceMerge), function(mainType) {
      {
        assert(ComponentModel$1.hasClass(mainType), '"' + mainType + '" is not valid component main type in "replaceMerge"');
      }
      replaceMergeMainTypeMap.set(mainType, true);
    });
    return {
      replaceMergeMainTypeMap
    };
  }
  mixin(GlobalModel, PaletteMixin);
  var GlobalModel$1 = GlobalModel;
  var availableMethods = [
    "getDom",
    "getZr",
    "getWidth",
    "getHeight",
    "getDevicePixelRatio",
    "dispatchAction",
    "isSSR",
    "isDisposed",
    "on",
    "off",
    "getDataURL",
    "getConnectedDataURL",
    "getOption",
    "getId",
    "updateLabelLayout"
  ];
  var ExtensionAPI = function() {
    function ExtensionAPI2(ecInstance) {
      each$3(availableMethods, function(methodName) {
        this[methodName] = bind$1(ecInstance[methodName], ecInstance);
      }, this);
    }
    return ExtensionAPI2;
  }();
  var ExtensionAPI$1 = ExtensionAPI;
  var coordinateSystemCreators = {};
  var CoordinateSystemManager = function() {
    function CoordinateSystemManager2() {
      this._coordinateSystems = [];
    }
    CoordinateSystemManager2.prototype.create = function(ecModel, api) {
      var coordinateSystems = [];
      each$3(coordinateSystemCreators, function(creator, type) {
        var list = creator.create(ecModel, api);
        coordinateSystems = coordinateSystems.concat(list || []);
      });
      this._coordinateSystems = coordinateSystems;
    };
    CoordinateSystemManager2.prototype.update = function(ecModel, api) {
      each$3(this._coordinateSystems, function(coordSys) {
        coordSys.update && coordSys.update(ecModel, api);
      });
    };
    CoordinateSystemManager2.prototype.getCoordinateSystems = function() {
      return this._coordinateSystems.slice();
    };
    CoordinateSystemManager2.register = function(type, creator) {
      coordinateSystemCreators[type] = creator;
    };
    CoordinateSystemManager2.get = function(type) {
      return coordinateSystemCreators[type];
    };
    return CoordinateSystemManager2;
  }();
  var CoordinateSystem = CoordinateSystemManager;
  var QUERY_REG = /^(min|max)?(.+)$/;
  var OptionManager = function() {
    function OptionManager2(api) {
      this._timelineOptions = [];
      this._mediaList = [];
      this._currentMediaIndices = [];
      this._api = api;
    }
    OptionManager2.prototype.setOption = function(rawOption, optionPreprocessorFuncs2, opt) {
      if (rawOption) {
        each$3(normalizeToArray(rawOption.series), function(series) {
          series && series.data && isTypedArray(series.data) && setAsPrimitive(series.data);
        });
        each$3(normalizeToArray(rawOption.dataset), function(dataset) {
          dataset && dataset.source && isTypedArray(dataset.source) && setAsPrimitive(dataset.source);
        });
      }
      rawOption = clone$3(rawOption);
      var optionBackup = this._optionBackup;
      var newParsedOption = parseRawOption(rawOption, optionPreprocessorFuncs2, !optionBackup);
      this._newBaseOption = newParsedOption.baseOption;
      if (optionBackup) {
        if (newParsedOption.timelineOptions.length) {
          optionBackup.timelineOptions = newParsedOption.timelineOptions;
        }
        if (newParsedOption.mediaList.length) {
          optionBackup.mediaList = newParsedOption.mediaList;
        }
        if (newParsedOption.mediaDefault) {
          optionBackup.mediaDefault = newParsedOption.mediaDefault;
        }
      } else {
        this._optionBackup = newParsedOption;
      }
    };
    OptionManager2.prototype.mountOption = function(isRecreate) {
      var optionBackup = this._optionBackup;
      this._timelineOptions = optionBackup.timelineOptions;
      this._mediaList = optionBackup.mediaList;
      this._mediaDefault = optionBackup.mediaDefault;
      this._currentMediaIndices = [];
      return clone$3(isRecreate ? optionBackup.baseOption : this._newBaseOption);
    };
    OptionManager2.prototype.getTimelineOption = function(ecModel) {
      var option;
      var timelineOptions = this._timelineOptions;
      if (timelineOptions.length) {
        var timelineModel = ecModel.getComponent("timeline");
        if (timelineModel) {
          option = clone$3(timelineOptions[timelineModel.getCurrentIndex()]);
        }
      }
      return option;
    };
    OptionManager2.prototype.getMediaOption = function(ecModel) {
      var ecWidth = this._api.getWidth();
      var ecHeight = this._api.getHeight();
      var mediaList = this._mediaList;
      var mediaDefault = this._mediaDefault;
      var indices = [];
      var result = [];
      if (!mediaList.length && !mediaDefault) {
        return result;
      }
      for (var i2 = 0, len2 = mediaList.length; i2 < len2; i2++) {
        if (applyMediaQuery(mediaList[i2].query, ecWidth, ecHeight)) {
          indices.push(i2);
        }
      }
      if (!indices.length && mediaDefault) {
        indices = [-1];
      }
      if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {
        result = map$1(indices, function(index) {
          return clone$3(index === -1 ? mediaDefault.option : mediaList[index].option);
        });
      }
      this._currentMediaIndices = indices;
      return result;
    };
    return OptionManager2;
  }();
  function parseRawOption(rawOption, optionPreprocessorFuncs2, isNew) {
    var mediaList = [];
    var mediaDefault;
    var baseOption;
    var declaredBaseOption = rawOption.baseOption;
    var timelineOnRoot = rawOption.timeline;
    var timelineOptionsOnRoot = rawOption.options;
    var mediaOnRoot = rawOption.media;
    var hasMedia = !!rawOption.media;
    var hasTimeline = !!(timelineOptionsOnRoot || timelineOnRoot || declaredBaseOption && declaredBaseOption.timeline);
    if (declaredBaseOption) {
      baseOption = declaredBaseOption;
      if (!baseOption.timeline) {
        baseOption.timeline = timelineOnRoot;
      }
    } else {
      if (hasTimeline || hasMedia) {
        rawOption.options = rawOption.media = null;
      }
      baseOption = rawOption;
    }
    if (hasMedia) {
      if (isArray(mediaOnRoot)) {
        each$3(mediaOnRoot, function(singleMedia) {
          {
            if (singleMedia && !singleMedia.option && isObject$2(singleMedia.query) && isObject$2(singleMedia.query.option)) {
              error("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }");
            }
          }
          if (singleMedia && singleMedia.option) {
            if (singleMedia.query) {
              mediaList.push(singleMedia);
            } else if (!mediaDefault) {
              mediaDefault = singleMedia;
            }
          }
        });
      } else {
        {
          error("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }");
        }
      }
    }
    doPreprocess(baseOption);
    each$3(timelineOptionsOnRoot, function(option) {
      return doPreprocess(option);
    });
    each$3(mediaList, function(media) {
      return doPreprocess(media.option);
    });
    function doPreprocess(option) {
      each$3(optionPreprocessorFuncs2, function(preProcess) {
        preProcess(option, isNew);
      });
    }
    return {
      baseOption,
      timelineOptions: timelineOptionsOnRoot || [],
      mediaDefault,
      mediaList
    };
  }
  function applyMediaQuery(query, ecWidth, ecHeight) {
    var realMap = {
      width: ecWidth,
      height: ecHeight,
      aspectratio: ecWidth / ecHeight
    };
    var applicable = true;
    each$3(query, function(value, attr) {
      var matched = attr.match(QUERY_REG);
      if (!matched || !matched[1] || !matched[2]) {
        return;
      }
      var operator = matched[1];
      var realAttr = matched[2].toLowerCase();
      if (!compare(realMap[realAttr], value, operator)) {
        applicable = false;
      }
    });
    return applicable;
  }
  function compare(real, expect, operator) {
    if (operator === "min") {
      return real >= expect;
    } else if (operator === "max") {
      return real <= expect;
    } else {
      return real === expect;
    }
  }
  function indicesEquals(indices1, indices2) {
    return indices1.join(",") === indices2.join(",");
  }
  var OptionManager$1 = OptionManager;
  var each$1 = each$3;
  var isObject$1 = isObject$2;
  var POSSIBLE_STYLES = ["areaStyle", "lineStyle", "nodeStyle", "linkStyle", "chordStyle", "label", "labelLine"];
  function compatEC2ItemStyle(opt) {
    var itemStyleOpt = opt && opt.itemStyle;
    if (!itemStyleOpt) {
      return;
    }
    for (var i2 = 0, len2 = POSSIBLE_STYLES.length; i2 < len2; i2++) {
      var styleName = POSSIBLE_STYLES[i2];
      var normalItemStyleOpt = itemStyleOpt.normal;
      var emphasisItemStyleOpt = itemStyleOpt.emphasis;
      if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {
        {
          deprecateReplaceLog("itemStyle.normal." + styleName, styleName);
        }
        opt[styleName] = opt[styleName] || {};
        if (!opt[styleName].normal) {
          opt[styleName].normal = normalItemStyleOpt[styleName];
        } else {
          merge(opt[styleName].normal, normalItemStyleOpt[styleName]);
        }
        normalItemStyleOpt[styleName] = null;
      }
      if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {
        {
          deprecateReplaceLog("itemStyle.emphasis." + styleName, "emphasis." + styleName);
        }
        opt[styleName] = opt[styleName] || {};
        if (!opt[styleName].emphasis) {
          opt[styleName].emphasis = emphasisItemStyleOpt[styleName];
        } else {
          merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);
        }
        emphasisItemStyleOpt[styleName] = null;
      }
    }
  }
  function convertNormalEmphasis(opt, optType, useExtend) {
    if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {
      var normalOpt = opt[optType].normal;
      var emphasisOpt = opt[optType].emphasis;
      if (normalOpt) {
        {
          deprecateLog("'normal' hierarchy in " + optType + " has been removed since 4.0. All style properties are configured in " + optType + " directly now.");
        }
        if (useExtend) {
          opt[optType].normal = opt[optType].emphasis = null;
          defaults(opt[optType], normalOpt);
        } else {
          opt[optType] = normalOpt;
        }
      }
      if (emphasisOpt) {
        {
          deprecateLog(optType + ".emphasis has been changed to emphasis." + optType + " since 4.0");
        }
        opt.emphasis = opt.emphasis || {};
        opt.emphasis[optType] = emphasisOpt;
        if (emphasisOpt.focus) {
          opt.emphasis.focus = emphasisOpt.focus;
        }
        if (emphasisOpt.blurScope) {
          opt.emphasis.blurScope = emphasisOpt.blurScope;
        }
      }
    }
  }
  function removeEC3NormalStatus(opt) {
    convertNormalEmphasis(opt, "itemStyle");
    convertNormalEmphasis(opt, "lineStyle");
    convertNormalEmphasis(opt, "areaStyle");
    convertNormalEmphasis(opt, "label");
    convertNormalEmphasis(opt, "labelLine");
    convertNormalEmphasis(opt, "upperLabel");
    convertNormalEmphasis(opt, "edgeLabel");
  }
  function compatTextStyle(opt, propName) {
    var labelOptSingle = isObject$1(opt) && opt[propName];
    var textStyle = isObject$1(labelOptSingle) && labelOptSingle.textStyle;
    if (textStyle) {
      {
        deprecateLog("textStyle hierarchy in " + propName + " has been removed since 4.0. All textStyle properties are configured in " + propName + " directly now.");
      }
      for (var i2 = 0, len2 = TEXT_STYLE_OPTIONS.length; i2 < len2; i2++) {
        var textPropName = TEXT_STYLE_OPTIONS[i2];
        if (textStyle.hasOwnProperty(textPropName)) {
          labelOptSingle[textPropName] = textStyle[textPropName];
        }
      }
    }
  }
  function compatEC3CommonStyles(opt) {
    if (opt) {
      removeEC3NormalStatus(opt);
      compatTextStyle(opt, "label");
      opt.emphasis && compatTextStyle(opt.emphasis, "label");
    }
  }
  function processSeries(seriesOpt) {
    if (!isObject$1(seriesOpt)) {
      return;
    }
    compatEC2ItemStyle(seriesOpt);
    removeEC3NormalStatus(seriesOpt);
    compatTextStyle(seriesOpt, "label");
    compatTextStyle(seriesOpt, "upperLabel");
    compatTextStyle(seriesOpt, "edgeLabel");
    if (seriesOpt.emphasis) {
      compatTextStyle(seriesOpt.emphasis, "label");
      compatTextStyle(seriesOpt.emphasis, "upperLabel");
      compatTextStyle(seriesOpt.emphasis, "edgeLabel");
    }
    var markPoint = seriesOpt.markPoint;
    if (markPoint) {
      compatEC2ItemStyle(markPoint);
      compatEC3CommonStyles(markPoint);
    }
    var markLine = seriesOpt.markLine;
    if (markLine) {
      compatEC2ItemStyle(markLine);
      compatEC3CommonStyles(markLine);
    }
    var markArea = seriesOpt.markArea;
    if (markArea) {
      compatEC3CommonStyles(markArea);
    }
    var data = seriesOpt.data;
    if (seriesOpt.type === "graph") {
      data = data || seriesOpt.nodes;
      var edgeData = seriesOpt.links || seriesOpt.edges;
      if (edgeData && !isTypedArray(edgeData)) {
        for (var i2 = 0; i2 < edgeData.length; i2++) {
          compatEC3CommonStyles(edgeData[i2]);
        }
      }
      each$3(seriesOpt.categories, function(opt) {
        removeEC3NormalStatus(opt);
      });
    }
    if (data && !isTypedArray(data)) {
      for (var i2 = 0; i2 < data.length; i2++) {
        compatEC3CommonStyles(data[i2]);
      }
    }
    markPoint = seriesOpt.markPoint;
    if (markPoint && markPoint.data) {
      var mpData = markPoint.data;
      for (var i2 = 0; i2 < mpData.length; i2++) {
        compatEC3CommonStyles(mpData[i2]);
      }
    }
    markLine = seriesOpt.markLine;
    if (markLine && markLine.data) {
      var mlData = markLine.data;
      for (var i2 = 0; i2 < mlData.length; i2++) {
        if (isArray(mlData[i2])) {
          compatEC3CommonStyles(mlData[i2][0]);
          compatEC3CommonStyles(mlData[i2][1]);
        } else {
          compatEC3CommonStyles(mlData[i2]);
        }
      }
    }
    if (seriesOpt.type === "gauge") {
      compatTextStyle(seriesOpt, "axisLabel");
      compatTextStyle(seriesOpt, "title");
      compatTextStyle(seriesOpt, "detail");
    } else if (seriesOpt.type === "treemap") {
      convertNormalEmphasis(seriesOpt.breadcrumb, "itemStyle");
      each$3(seriesOpt.levels, function(opt) {
        removeEC3NormalStatus(opt);
      });
    } else if (seriesOpt.type === "tree") {
      removeEC3NormalStatus(seriesOpt.leaves);
    }
  }
  function toArr(o2) {
    return isArray(o2) ? o2 : o2 ? [o2] : [];
  }
  function toObj(o2) {
    return (isArray(o2) ? o2[0] : o2) || {};
  }
  function globalCompatStyle(option, isTheme) {
    each$1(toArr(option.series), function(seriesOpt) {
      isObject$1(seriesOpt) && processSeries(seriesOpt);
    });
    var axes = ["xAxis", "yAxis", "radiusAxis", "angleAxis", "singleAxis", "parallelAxis", "radar"];
    isTheme && axes.push("valueAxis", "categoryAxis", "logAxis", "timeAxis");
    each$1(axes, function(axisName) {
      each$1(toArr(option[axisName]), function(axisOpt) {
        if (axisOpt) {
          compatTextStyle(axisOpt, "axisLabel");
          compatTextStyle(axisOpt.axisPointer, "label");
        }
      });
    });
    each$1(toArr(option.parallel), function(parallelOpt) {
      var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;
      compatTextStyle(parallelAxisDefault, "axisLabel");
      compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, "label");
    });
    each$1(toArr(option.calendar), function(calendarOpt) {
      convertNormalEmphasis(calendarOpt, "itemStyle");
      compatTextStyle(calendarOpt, "dayLabel");
      compatTextStyle(calendarOpt, "monthLabel");
      compatTextStyle(calendarOpt, "yearLabel");
    });
    each$1(toArr(option.radar), function(radarOpt) {
      compatTextStyle(radarOpt, "name");
      if (radarOpt.name && radarOpt.axisName == null) {
        radarOpt.axisName = radarOpt.name;
        delete radarOpt.name;
        {
          deprecateLog("name property in radar component has been changed to axisName");
        }
      }
      if (radarOpt.nameGap != null && radarOpt.axisNameGap == null) {
        radarOpt.axisNameGap = radarOpt.nameGap;
        delete radarOpt.nameGap;
        {
          deprecateLog("nameGap property in radar component has been changed to axisNameGap");
        }
      }
      {
        each$1(radarOpt.indicator, function(indicatorOpt) {
          if (indicatorOpt.text) {
            deprecateReplaceLog("text", "name", "radar.indicator");
          }
        });
      }
    });
    each$1(toArr(option.geo), function(geoOpt) {
      if (isObject$1(geoOpt)) {
        compatEC3CommonStyles(geoOpt);
        each$1(toArr(geoOpt.regions), function(regionObj) {
          compatEC3CommonStyles(regionObj);
        });
      }
    });
    each$1(toArr(option.timeline), function(timelineOpt) {
      compatEC3CommonStyles(timelineOpt);
      convertNormalEmphasis(timelineOpt, "label");
      convertNormalEmphasis(timelineOpt, "itemStyle");
      convertNormalEmphasis(timelineOpt, "controlStyle", true);
      var data = timelineOpt.data;
      isArray(data) && each$3(data, function(item) {
        if (isObject$2(item)) {
          convertNormalEmphasis(item, "label");
          convertNormalEmphasis(item, "itemStyle");
        }
      });
    });
    each$1(toArr(option.toolbox), function(toolboxOpt) {
      convertNormalEmphasis(toolboxOpt, "iconStyle");
      each$1(toolboxOpt.feature, function(featureOpt) {
        convertNormalEmphasis(featureOpt, "iconStyle");
      });
    });
    compatTextStyle(toObj(option.axisPointer), "label");
    compatTextStyle(toObj(option.tooltip).axisPointer, "label");
  }
  function get(opt, path) {
    var pathArr = path.split(",");
    var obj = opt;
    for (var i2 = 0; i2 < pathArr.length; i2++) {
      obj = obj && obj[pathArr[i2]];
      if (obj == null) {
        break;
      }
    }
    return obj;
  }
  function set(opt, path, val, overwrite) {
    var pathArr = path.split(",");
    var obj = opt;
    var key;
    var i2 = 0;
    for (; i2 < pathArr.length - 1; i2++) {
      key = pathArr[i2];
      if (obj[key] == null) {
        obj[key] = {};
      }
      obj = obj[key];
    }
    if (overwrite || obj[pathArr[i2]] == null) {
      obj[pathArr[i2]] = val;
    }
  }
  function compatLayoutProperties(option) {
    option && each$3(LAYOUT_PROPERTIES, function(prop) {
      if (prop[0] in option && !(prop[1] in option)) {
        option[prop[1]] = option[prop[0]];
      }
    });
  }
  var LAYOUT_PROPERTIES = [["x", "left"], ["y", "top"], ["x2", "right"], ["y2", "bottom"]];
  var COMPATITABLE_COMPONENTS = ["grid", "geo", "parallel", "legend", "toolbox", "title", "visualMap", "dataZoom", "timeline"];
  var BAR_ITEM_STYLE_MAP = [["borderRadius", "barBorderRadius"], ["borderColor", "barBorderColor"], ["borderWidth", "barBorderWidth"]];
  function compatBarItemStyle(option) {
    var itemStyle = option && option.itemStyle;
    if (itemStyle) {
      for (var i2 = 0; i2 < BAR_ITEM_STYLE_MAP.length; i2++) {
        var oldName = BAR_ITEM_STYLE_MAP[i2][1];
        var newName = BAR_ITEM_STYLE_MAP[i2][0];
        if (itemStyle[oldName] != null) {
          itemStyle[newName] = itemStyle[oldName];
          {
            deprecateReplaceLog(oldName, newName);
          }
        }
      }
    }
  }
  function compatPieLabel(option) {
    if (!option) {
      return;
    }
    if (option.alignTo === "edge" && option.margin != null && option.edgeDistance == null) {
      {
        deprecateReplaceLog("label.margin", "label.edgeDistance", "pie");
      }
      option.edgeDistance = option.margin;
    }
  }
  function compatSunburstState(option) {
    if (!option) {
      return;
    }
    if (option.downplay && !option.blur) {
      option.blur = option.downplay;
      {
        deprecateReplaceLog("downplay", "blur", "sunburst");
      }
    }
  }
  function compatGraphFocus(option) {
    if (!option) {
      return;
    }
    if (option.focusNodeAdjacency != null) {
      option.emphasis = option.emphasis || {};
      if (option.emphasis.focus == null) {
        {
          deprecateReplaceLog("focusNodeAdjacency", "emphasis: { focus: 'adjacency'}", "graph/sankey");
        }
        option.emphasis.focus = "adjacency";
      }
    }
  }
  function traverseTree(data, cb) {
    if (data) {
      for (var i2 = 0; i2 < data.length; i2++) {
        cb(data[i2]);
        data[i2] && traverseTree(data[i2].children, cb);
      }
    }
  }
  function globalBackwardCompat(option, isTheme) {
    globalCompatStyle(option, isTheme);
    option.series = normalizeToArray(option.series);
    each$3(option.series, function(seriesOpt) {
      if (!isObject$2(seriesOpt)) {
        return;
      }
      var seriesType2 = seriesOpt.type;
      if (seriesType2 === "line") {
        if (seriesOpt.clipOverflow != null) {
          seriesOpt.clip = seriesOpt.clipOverflow;
          {
            deprecateReplaceLog("clipOverflow", "clip", "line");
          }
        }
      } else if (seriesType2 === "pie" || seriesType2 === "gauge") {
        if (seriesOpt.clockWise != null) {
          seriesOpt.clockwise = seriesOpt.clockWise;
          {
            deprecateReplaceLog("clockWise", "clockwise");
          }
        }
        compatPieLabel(seriesOpt.label);
        var data = seriesOpt.data;
        if (data && !isTypedArray(data)) {
          for (var i2 = 0; i2 < data.length; i2++) {
            compatPieLabel(data[i2]);
          }
        }
        if (seriesOpt.hoverOffset != null) {
          seriesOpt.emphasis = seriesOpt.emphasis || {};
          if (seriesOpt.emphasis.scaleSize = null) {
            {
              deprecateReplaceLog("hoverOffset", "emphasis.scaleSize");
            }
            seriesOpt.emphasis.scaleSize = seriesOpt.hoverOffset;
          }
        }
      } else if (seriesType2 === "gauge") {
        var pointerColor = get(seriesOpt, "pointer.color");
        pointerColor != null && set(seriesOpt, "itemStyle.color", pointerColor);
      } else if (seriesType2 === "bar") {
        compatBarItemStyle(seriesOpt);
        compatBarItemStyle(seriesOpt.backgroundStyle);
        compatBarItemStyle(seriesOpt.emphasis);
        var data = seriesOpt.data;
        if (data && !isTypedArray(data)) {
          for (var i2 = 0; i2 < data.length; i2++) {
            if (typeof data[i2] === "object") {
              compatBarItemStyle(data[i2]);
              compatBarItemStyle(data[i2] && data[i2].emphasis);
            }
          }
        }
      } else if (seriesType2 === "sunburst") {
        var highlightPolicy = seriesOpt.highlightPolicy;
        if (highlightPolicy) {
          seriesOpt.emphasis = seriesOpt.emphasis || {};
          if (!seriesOpt.emphasis.focus) {
            seriesOpt.emphasis.focus = highlightPolicy;
            {
              deprecateReplaceLog("highlightPolicy", "emphasis.focus", "sunburst");
            }
          }
        }
        compatSunburstState(seriesOpt);
        traverseTree(seriesOpt.data, compatSunburstState);
      } else if (seriesType2 === "graph" || seriesType2 === "sankey") {
        compatGraphFocus(seriesOpt);
      } else if (seriesType2 === "map") {
        if (seriesOpt.mapType && !seriesOpt.map) {
          {
            deprecateReplaceLog("mapType", "map", "map");
          }
          seriesOpt.map = seriesOpt.mapType;
        }
        if (seriesOpt.mapLocation) {
          {
            deprecateLog("`mapLocation` is not used anymore.");
          }
          defaults(seriesOpt, seriesOpt.mapLocation);
        }
      }
      if (seriesOpt.hoverAnimation != null) {
        seriesOpt.emphasis = seriesOpt.emphasis || {};
        if (seriesOpt.emphasis && seriesOpt.emphasis.scale == null) {
          {
            deprecateReplaceLog("hoverAnimation", "emphasis.scale");
          }
          seriesOpt.emphasis.scale = seriesOpt.hoverAnimation;
        }
      }
      compatLayoutProperties(seriesOpt);
    });
    if (option.dataRange) {
      option.visualMap = option.dataRange;
    }
    each$3(COMPATITABLE_COMPONENTS, function(componentName) {
      var options = option[componentName];
      if (options) {
        if (!isArray(options)) {
          options = [options];
        }
        each$3(options, function(option2) {
          compatLayoutProperties(option2);
        });
      }
    });
  }
  function dataStack$1(ecModel) {
    var stackInfoMap = createHashMap();
    ecModel.eachSeries(function(seriesModel) {
      var stack = seriesModel.get("stack");
      if (stack) {
        var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);
        var data = seriesModel.getData();
        var stackInfo = {
          stackResultDimension: data.getCalculationInfo("stackResultDimension"),
          stackedOverDimension: data.getCalculationInfo("stackedOverDimension"),
          stackedDimension: data.getCalculationInfo("stackedDimension"),
          stackedByDimension: data.getCalculationInfo("stackedByDimension"),
          isStackedByIndex: data.getCalculationInfo("isStackedByIndex"),
          data,
          seriesModel
        };
        if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {
          return;
        }
        stackInfoList.length && data.setCalculationInfo("stackedOnSeries", stackInfoList[stackInfoList.length - 1].seriesModel);
        stackInfoList.push(stackInfo);
      }
    });
    stackInfoMap.each(calculateStack);
  }
  function calculateStack(stackInfoList) {
    each$3(stackInfoList, function(targetStackInfo, idxInStack) {
      var resultVal = [];
      var resultNaN = [NaN, NaN];
      var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];
      var targetData = targetStackInfo.data;
      var isStackedByIndex = targetStackInfo.isStackedByIndex;
      var stackStrategy = targetStackInfo.seriesModel.get("stackStrategy") || "samesign";
      targetData.modify(dims, function(v0, v1, dataIndex) {
        var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex);
        if (isNaN(sum)) {
          return resultNaN;
        }
        var byValue;
        var stackedDataRawIndex;
        if (isStackedByIndex) {
          stackedDataRawIndex = targetData.getRawIndex(dataIndex);
        } else {
          byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);
        }
        var stackedOver = NaN;
        for (var j2 = idxInStack - 1; j2 >= 0; j2--) {
          var stackInfo = stackInfoList[j2];
          if (!isStackedByIndex) {
            stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);
          }
          if (stackedDataRawIndex >= 0) {
            var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex);
            if (stackStrategy === "all" || stackStrategy === "positive" && val > 0 || stackStrategy === "negative" && val < 0 || stackStrategy === "samesign" && sum >= 0 && val > 0 || stackStrategy === "samesign" && sum <= 0 && val < 0) {
              sum = addSafe(sum, val);
              stackedOver = val;
              break;
            }
          }
        }
        resultVal[0] = sum;
        resultVal[1] = stackedOver;
        return resultVal;
      });
    });
  }
  var SourceImpl = function() {
    function SourceImpl2(fields) {
      this.data = fields.data || (fields.sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS ? {} : []);
      this.sourceFormat = fields.sourceFormat || SOURCE_FORMAT_UNKNOWN;
      this.seriesLayoutBy = fields.seriesLayoutBy || SERIES_LAYOUT_BY_COLUMN;
      this.startIndex = fields.startIndex || 0;
      this.dimensionsDetectedCount = fields.dimensionsDetectedCount;
      this.metaRawOption = fields.metaRawOption;
      var dimensionsDefine = this.dimensionsDefine = fields.dimensionsDefine;
      if (dimensionsDefine) {
        for (var i2 = 0; i2 < dimensionsDefine.length; i2++) {
          var dim = dimensionsDefine[i2];
          if (dim.type == null) {
            if (guessOrdinal(this, i2) === BE_ORDINAL.Must) {
              dim.type = "ordinal";
            }
          }
        }
      }
    }
    return SourceImpl2;
  }();
  function isSourceInstance(val) {
    return val instanceof SourceImpl;
  }
  function createSource(sourceData, thisMetaRawOption, sourceFormat) {
    sourceFormat = sourceFormat || detectSourceFormat(sourceData);
    var seriesLayoutBy = thisMetaRawOption.seriesLayoutBy;
    var determined = determineSourceDimensions(sourceData, sourceFormat, seriesLayoutBy, thisMetaRawOption.sourceHeader, thisMetaRawOption.dimensions);
    var source = new SourceImpl({
      data: sourceData,
      sourceFormat,
      seriesLayoutBy,
      dimensionsDefine: determined.dimensionsDefine,
      startIndex: determined.startIndex,
      dimensionsDetectedCount: determined.dimensionsDetectedCount,
      metaRawOption: clone$3(thisMetaRawOption)
    });
    return source;
  }
  function createSourceFromSeriesDataOption(data) {
    return new SourceImpl({
      data,
      sourceFormat: isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL
    });
  }
  function cloneSourceShallow(source) {
    return new SourceImpl({
      data: source.data,
      sourceFormat: source.sourceFormat,
      seriesLayoutBy: source.seriesLayoutBy,
      dimensionsDefine: clone$3(source.dimensionsDefine),
      startIndex: source.startIndex,
      dimensionsDetectedCount: source.dimensionsDetectedCount
    });
  }
  function detectSourceFormat(data) {
    var sourceFormat = SOURCE_FORMAT_UNKNOWN;
    if (isTypedArray(data)) {
      sourceFormat = SOURCE_FORMAT_TYPED_ARRAY;
    } else if (isArray(data)) {
      if (data.length === 0) {
        sourceFormat = SOURCE_FORMAT_ARRAY_ROWS;
      }
      for (var i2 = 0, len2 = data.length; i2 < len2; i2++) {
        var item = data[i2];
        if (item == null) {
          continue;
        } else if (isArray(item)) {
          sourceFormat = SOURCE_FORMAT_ARRAY_ROWS;
          break;
        } else if (isObject$2(item)) {
          sourceFormat = SOURCE_FORMAT_OBJECT_ROWS;
          break;
        }
      }
    } else if (isObject$2(data)) {
      for (var key in data) {
        if (hasOwn(data, key) && isArrayLike(data[key])) {
          sourceFormat = SOURCE_FORMAT_KEYED_COLUMNS;
          break;
        }
      }
    }
    return sourceFormat;
  }
  function determineSourceDimensions(data, sourceFormat, seriesLayoutBy, sourceHeader, dimensionsDefine) {
    var dimensionsDetectedCount;
    var startIndex;
    if (!data) {
      return {
        dimensionsDefine: normalizeDimensionsOption(dimensionsDefine),
        startIndex,
        dimensionsDetectedCount
      };
    }
    if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {
      var dataArrayRows = data;
      if (sourceHeader === "auto" || sourceHeader == null) {
        arrayRowsTravelFirst(function(val) {
          if (val != null && val !== "-") {
            if (isString(val)) {
              startIndex == null && (startIndex = 1);
            } else {
              startIndex = 0;
            }
          }
        }, seriesLayoutBy, dataArrayRows, 10);
      } else {
        startIndex = isNumber(sourceHeader) ? sourceHeader : sourceHeader ? 1 : 0;
      }
      if (!dimensionsDefine && startIndex === 1) {
        dimensionsDefine = [];
        arrayRowsTravelFirst(function(val, index) {
          dimensionsDefine[index] = val != null ? val + "" : "";
        }, seriesLayoutBy, dataArrayRows, Infinity);
      }
      dimensionsDetectedCount = dimensionsDefine ? dimensionsDefine.length : seriesLayoutBy === SERIES_LAYOUT_BY_ROW ? dataArrayRows.length : dataArrayRows[0] ? dataArrayRows[0].length : null;
    } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {
      if (!dimensionsDefine) {
        dimensionsDefine = objectRowsCollectDimensions(data);
      }
    } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {
      if (!dimensionsDefine) {
        dimensionsDefine = [];
        each$3(data, function(colArr, key) {
          dimensionsDefine.push(key);
        });
      }
    } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {
      var value0 = getDataItemValue(data[0]);
      dimensionsDetectedCount = isArray(value0) && value0.length || 1;
    } else if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {
      {
        assert(!!dimensionsDefine, "dimensions must be given if data is TypedArray.");
      }
    }
    return {
      startIndex,
      dimensionsDefine: normalizeDimensionsOption(dimensionsDefine),
      dimensionsDetectedCount
    };
  }
  function objectRowsCollectDimensions(data) {
    var firstIndex = 0;
    var obj;
    while (firstIndex < data.length && !(obj = data[firstIndex++])) {
    }
    if (obj) {
      return keys(obj);
    }
  }
  function normalizeDimensionsOption(dimensionsDefine) {
    if (!dimensionsDefine) {
      return;
    }
    var nameMap = createHashMap();
    return map$1(dimensionsDefine, function(rawItem, index) {
      rawItem = isObject$2(rawItem) ? rawItem : {
        name: rawItem
      };
      var item = {
        name: rawItem.name,
        displayName: rawItem.displayName,
        type: rawItem.type
      };
      if (item.name == null) {
        return item;
      }
      item.name += "";
      if (item.displayName == null) {
        item.displayName = item.name;
      }
      var exist = nameMap.get(item.name);
      if (!exist) {
        nameMap.set(item.name, {
          count: 1
        });
      } else {
        item.name += "-" + exist.count++;
      }
      return item;
    });
  }
  function arrayRowsTravelFirst(cb, seriesLayoutBy, data, maxLoop) {
    if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW) {
      for (var i2 = 0; i2 < data.length && i2 < maxLoop; i2++) {
        cb(data[i2] ? data[i2][0] : null, i2);
      }
    } else {
      var value0 = data[0] || [];
      for (var i2 = 0; i2 < value0.length && i2 < maxLoop; i2++) {
        cb(value0[i2], i2);
      }
    }
  }
  function shouldRetrieveDataByName(source) {
    var sourceFormat = source.sourceFormat;
    return sourceFormat === SOURCE_FORMAT_OBJECT_ROWS || sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS;
  }
  var _a, _b, _c;
  var providerMethods;
  var mountMethods;
  var DefaultDataProvider = function() {
    function DefaultDataProvider2(sourceParam, dimSize) {
      var source = !isSourceInstance(sourceParam) ? createSourceFromSeriesDataOption(sourceParam) : sourceParam;
      this._source = source;
      var data = this._data = source.data;
      if (source.sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {
        {
          if (dimSize == null) {
            throw new Error("Typed array data must specify dimension size");
          }
        }
        this._offset = 0;
        this._dimSize = dimSize;
        this._data = data;
      }
      mountMethods(this, data, source);
    }
    DefaultDataProvider2.prototype.getSource = function() {
      return this._source;
    };
    DefaultDataProvider2.prototype.count = function() {
      return 0;
    };
    DefaultDataProvider2.prototype.getItem = function(idx, out2) {
      return;
    };
    DefaultDataProvider2.prototype.appendData = function(newData) {
    };
    DefaultDataProvider2.prototype.clean = function() {
    };
    DefaultDataProvider2.protoInitialize = function() {
      var proto2 = DefaultDataProvider2.prototype;
      proto2.pure = false;
      proto2.persistent = true;
    }();
    DefaultDataProvider2.internalField = function() {
      var _a2;
      mountMethods = function(provider, data, source) {
        var sourceFormat = source.sourceFormat;
        var seriesLayoutBy = source.seriesLayoutBy;
        var startIndex = source.startIndex;
        var dimsDef = source.dimensionsDefine;
        var methods = providerMethods[getMethodMapKey(sourceFormat, seriesLayoutBy)];
        {
          assert(methods, "Invalide sourceFormat: " + sourceFormat);
        }
        extend(provider, methods);
        if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {
          provider.getItem = getItemForTypedArray;
          provider.count = countForTypedArray;
          provider.fillStorage = fillStorageForTypedArray;
        } else {
          var rawItemGetter = getRawSourceItemGetter(sourceFormat, seriesLayoutBy);
          provider.getItem = bind$1(rawItemGetter, null, data, startIndex, dimsDef);
          var rawCounter = getRawSourceDataCounter(sourceFormat, seriesLayoutBy);
          provider.count = bind$1(rawCounter, null, data, startIndex, dimsDef);
        }
      };
      var getItemForTypedArray = function(idx, out2) {
        idx = idx - this._offset;
        out2 = out2 || [];
        var data = this._data;
        var dimSize = this._dimSize;
        var offset = dimSize * idx;
        for (var i2 = 0; i2 < dimSize; i2++) {
          out2[i2] = data[offset + i2];
        }
        return out2;
      };
      var fillStorageForTypedArray = function(start2, end2, storage, extent3) {
        var data = this._data;
        var dimSize = this._dimSize;
        for (var dim = 0; dim < dimSize; dim++) {
          var dimExtent = extent3[dim];
          var min3 = dimExtent[0] == null ? Infinity : dimExtent[0];
          var max3 = dimExtent[1] == null ? -Infinity : dimExtent[1];
          var count = end2 - start2;
          var arr = storage[dim];
          for (var i2 = 0; i2 < count; i2++) {
            var val = data[i2 * dimSize + dim];
            arr[start2 + i2] = val;
            val < min3 && (min3 = val);
            val > max3 && (max3 = val);
          }
          dimExtent[0] = min3;
          dimExtent[1] = max3;
        }
      };
      var countForTypedArray = function() {
        return this._data ? this._data.length / this._dimSize : 0;
      };
      providerMethods = (_a2 = {}, _a2[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_COLUMN] = {
        pure: true,
        appendData: appendDataSimply
      }, _a2[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_ROW] = {
        pure: true,
        appendData: function() {
          throw new Error('Do not support appendData when set seriesLayoutBy: "row".');
        }
      }, _a2[SOURCE_FORMAT_OBJECT_ROWS] = {
        pure: true,
        appendData: appendDataSimply
      }, _a2[SOURCE_FORMAT_KEYED_COLUMNS] = {
        pure: true,
        appendData: function(newData) {
          var data = this._data;
          each$3(newData, function(newCol, key) {
            var oldCol = data[key] || (data[key] = []);
            for (var i2 = 0; i2 < (newCol || []).length; i2++) {
              oldCol.push(newCol[i2]);
            }
          });
        }
      }, _a2[SOURCE_FORMAT_ORIGINAL] = {
        appendData: appendDataSimply
      }, _a2[SOURCE_FORMAT_TYPED_ARRAY] = {
        persistent: false,
        pure: true,
        appendData: function(newData) {
          {
            assert(isTypedArray(newData), "Added data must be TypedArray if data in initialization is TypedArray");
          }
          this._data = newData;
        },
        clean: function() {
          this._offset += this.count();
          this._data = null;
        }
      }, _a2);
      function appendDataSimply(newData) {
        for (var i2 = 0; i2 < newData.length; i2++) {
          this._data.push(newData[i2]);
        }
      }
    }();
    return DefaultDataProvider2;
  }();
  var getItemSimply = function(rawData, startIndex, dimsDef, idx) {
    return rawData[idx];
  };
  var rawSourceItemGetterMap = (_a = {}, _a[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_COLUMN] = function(rawData, startIndex, dimsDef, idx) {
    return rawData[idx + startIndex];
  }, _a[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_ROW] = function(rawData, startIndex, dimsDef, idx, out2) {
    idx += startIndex;
    var item = out2 || [];
    var data = rawData;
    for (var i2 = 0; i2 < data.length; i2++) {
      var row = data[i2];
      item[i2] = row ? row[idx] : null;
    }
    return item;
  }, _a[SOURCE_FORMAT_OBJECT_ROWS] = getItemSimply, _a[SOURCE_FORMAT_KEYED_COLUMNS] = function(rawData, startIndex, dimsDef, idx, out2) {
    var item = out2 || [];
    for (var i2 = 0; i2 < dimsDef.length; i2++) {
      var dimName = dimsDef[i2].name;
      {
        if (dimName == null) {
          throw new Error();
        }
      }
      var col = rawData[dimName];
      item[i2] = col ? col[idx] : null;
    }
    return item;
  }, _a[SOURCE_FORMAT_ORIGINAL] = getItemSimply, _a);
  function getRawSourceItemGetter(sourceFormat, seriesLayoutBy) {
    var method = rawSourceItemGetterMap[getMethodMapKey(sourceFormat, seriesLayoutBy)];
    {
      assert(method, 'Do not support get item on "' + sourceFormat + '", "' + seriesLayoutBy + '".');
    }
    return method;
  }
  var countSimply = function(rawData, startIndex, dimsDef) {
    return rawData.length;
  };
  var rawSourceDataCounterMap = (_b = {}, _b[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_COLUMN] = function(rawData, startIndex, dimsDef) {
    return Math.max(0, rawData.length - startIndex);
  }, _b[SOURCE_FORMAT_ARRAY_ROWS + "_" + SERIES_LAYOUT_BY_ROW] = function(rawData, startIndex, dimsDef) {
    var row = rawData[0];
    return row ? Math.max(0, row.length - startIndex) : 0;
  }, _b[SOURCE_FORMAT_OBJECT_ROWS] = countSimply, _b[SOURCE_FORMAT_KEYED_COLUMNS] = function(rawData, startIndex, dimsDef) {
    var dimName = dimsDef[0].name;
    {
      if (dimName == null) {
        throw new Error();
      }
    }
    var col = rawData[dimName];
    return col ? col.length : 0;
  }, _b[SOURCE_FORMAT_ORIGINAL] = countSimply, _b);
  function getRawSourceDataCounter(sourceFormat, seriesLayoutBy) {
    var method = rawSourceDataCounterMap[getMethodMapKey(sourceFormat, seriesLayoutBy)];
    {
      assert(method, 'Do not support count on "' + sourceFormat + '", "' + seriesLayoutBy + '".');
    }
    return method;
  }
  var getRawValueSimply = function(dataItem, dimIndex, property) {
    return dataItem[dimIndex];
  };
  var rawSourceValueGetterMap = (_c = {}, _c[SOURCE_FORMAT_ARRAY_ROWS] = getRawValueSimply, _c[SOURCE_FORMAT_OBJECT_ROWS] = function(dataItem, dimIndex, property) {
    return dataItem[property];
  }, _c[SOURCE_FORMAT_KEYED_COLUMNS] = getRawValueSimply, _c[SOURCE_FORMAT_ORIGINAL] = function(dataItem, dimIndex, property) {
    var value = getDataItemValue(dataItem);
    return !(value instanceof Array) ? value : value[dimIndex];
  }, _c[SOURCE_FORMAT_TYPED_ARRAY] = getRawValueSimply, _c);
  function getRawSourceValueGetter(sourceFormat) {
    var method = rawSourceValueGetterMap[sourceFormat];
    {
      assert(method, 'Do not support get value on "' + sourceFormat + '".');
    }
    return method;
  }
  function getMethodMapKey(sourceFormat, seriesLayoutBy) {
    return sourceFormat === SOURCE_FORMAT_ARRAY_ROWS ? sourceFormat + "_" + seriesLayoutBy : sourceFormat;
  }
  function retrieveRawValue(data, dataIndex, dim) {
    if (!data) {
      return;
    }
    var dataItem = data.getRawDataItem(dataIndex);
    if (dataItem == null) {
      return;
    }
    var store = data.getStore();
    var sourceFormat = store.getSource().sourceFormat;
    if (dim != null) {
      var dimIndex = data.getDimensionIndex(dim);
      var property = store.getDimensionProperty(dimIndex);
      return getRawSourceValueGetter(sourceFormat)(dataItem, dimIndex, property);
    } else {
      var result = dataItem;
      if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {
        result = getDataItemValue(dataItem);
      }
      return result;
    }
  }
  var DIMENSION_LABEL_REG = /\{@(.+?)\}/g;
  var DataFormatMixin = function() {
    function DataFormatMixin2() {
    }
    DataFormatMixin2.prototype.getDataParams = function(dataIndex, dataType) {
      var data = this.getData(dataType);
      var rawValue = this.getRawValue(dataIndex, dataType);
      var rawDataIndex = data.getRawIndex(dataIndex);
      var name = data.getName(dataIndex);
      var itemOpt = data.getRawDataItem(dataIndex);
      var style = data.getItemVisual(dataIndex, "style");
      var color2 = style && style[data.getItemVisual(dataIndex, "drawType") || "fill"];
      var borderColor = style && style.stroke;
      var mainType = this.mainType;
      var isSeries2 = mainType === "series";
      var userOutput = data.userOutput && data.userOutput.get();
      return {
        componentType: mainType,
        componentSubType: this.subType,
        componentIndex: this.componentIndex,
        seriesType: isSeries2 ? this.subType : null,
        seriesIndex: this.seriesIndex,
        seriesId: isSeries2 ? this.id : null,
        seriesName: isSeries2 ? this.name : null,
        name,
        dataIndex: rawDataIndex,
        data: itemOpt,
        dataType,
        value: rawValue,
        color: color2,
        borderColor,
        dimensionNames: userOutput ? userOutput.fullDimensions : null,
        encode: userOutput ? userOutput.encode : null,
        $vars: ["seriesName", "name", "value"]
      };
    };
    DataFormatMixin2.prototype.getFormattedLabel = function(dataIndex, status, dataType, labelDimIndex, formatter, extendParams) {
      status = status || "normal";
      var data = this.getData(dataType);
      var params = this.getDataParams(dataIndex, dataType);
      if (extendParams) {
        params.value = extendParams.interpolatedValue;
      }
      if (labelDimIndex != null && isArray(params.value)) {
        params.value = params.value[labelDimIndex];
      }
      if (!formatter) {
        var itemModel = data.getItemModel(dataIndex);
        formatter = itemModel.get(status === "normal" ? ["label", "formatter"] : [status, "label", "formatter"]);
      }
      if (isFunction(formatter)) {
        params.status = status;
        params.dimensionIndex = labelDimIndex;
        return formatter(params);
      } else if (isString(formatter)) {
        var str = formatTpl(formatter, params);
        return str.replace(DIMENSION_LABEL_REG, function(origin, dimStr) {
          var len2 = dimStr.length;
          var dimLoose = dimStr;
          if (dimLoose.charAt(0) === "[" && dimLoose.charAt(len2 - 1) === "]") {
            dimLoose = +dimLoose.slice(1, len2 - 1);
            {
              if (isNaN(dimLoose)) {
                error("Invalide label formatter: @" + dimStr + ", only support @[0], @[1], @[2], ...");
              }
            }
          }
          var val = retrieveRawValue(data, dataIndex, dimLoose);
          if (extendParams && isArray(extendParams.interpolatedValue)) {
            var dimIndex = data.getDimensionIndex(dimLoose);
            if (dimIndex >= 0) {
              val = extendParams.interpolatedValue[dimIndex];
            }
          }
          return val != null ? val + "" : "";
        });
      }
    };
    DataFormatMixin2.prototype.getRawValue = function(idx, dataType) {
      return retrieveRawValue(this.getData(dataType), idx);
    };
    DataFormatMixin2.prototype.formatTooltip = function(dataIndex, multipleSeries, dataType) {
      return;
    };
    return DataFormatMixin2;
  }();
  function normalizeTooltipFormatResult(result) {
    var markupText;
    var markupFragment;
    if (isObject$2(result)) {
      if (result.type) {
        markupFragment = result;
      } else {
        {
          formatAppLog("warn", "at node_modules/echarts/lib/model/mixin/dataFormat.js:209", "The return type of `formatTooltip` is not supported: " + makePrintable(result));
        }
      }
    } else {
      markupText = result;
    }
    return {
      text: markupText,
      frag: markupFragment
    };
  }
  function createTask(define) {
    return new Task(define);
  }
  var Task = function() {
    function Task2(define) {
      define = define || {};
      this._reset = define.reset;
      this._plan = define.plan;
      this._count = define.count;
      this._onDirty = define.onDirty;
      this._dirty = true;
    }
    Task2.prototype.perform = function(performArgs) {
      var upTask = this._upstream;
      var skip = performArgs && performArgs.skip;
      if (this._dirty && upTask) {
        var context = this.context;
        context.data = context.outputData = upTask.context.outputData;
      }
      if (this.__pipeline) {
        this.__pipeline.currentTask = this;
      }
      var planResult;
      if (this._plan && !skip) {
        planResult = this._plan(this.context);
      }
      var lastModBy = normalizeModBy(this._modBy);
      var lastModDataCount = this._modDataCount || 0;
      var modBy = normalizeModBy(performArgs && performArgs.modBy);
      var modDataCount = performArgs && performArgs.modDataCount || 0;
      if (lastModBy !== modBy || lastModDataCount !== modDataCount) {
        planResult = "reset";
      }
      function normalizeModBy(val) {
        !(val >= 1) && (val = 1);
        return val;
      }
      var forceFirstProgress;
      if (this._dirty || planResult === "reset") {
        this._dirty = false;
        forceFirstProgress = this._doReset(skip);
      }
      this._modBy = modBy;
      this._modDataCount = modDataCount;
      var step = performArgs && performArgs.step;
      if (upTask) {
        {
          assert(upTask._outputDueEnd != null);
        }
        this._dueEnd = upTask._outputDueEnd;
      } else {
        {
          assert(!this._progress || this._count);
        }
        this._dueEnd = this._count ? this._count(this.context) : Infinity;
      }
      if (this._progress) {
        var start2 = this._dueIndex;
        var end2 = Math.min(step != null ? this._dueIndex + step : Infinity, this._dueEnd);
        if (!skip && (forceFirstProgress || start2 < end2)) {
          var progress = this._progress;
          if (isArray(progress)) {
            for (var i2 = 0; i2 < progress.length; i2++) {
              this._doProgress(progress[i2], start2, end2, modBy, modDataCount);
            }
          } else {
            this._doProgress(progress, start2, end2, modBy, modDataCount);
          }
        }
        this._dueIndex = end2;
        var outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : end2;
        {
          assert(outputDueEnd >= this._outputDueEnd);
        }
        this._outputDueEnd = outputDueEnd;
      } else {
        this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;
      }
      return this.unfinished();
    };
    Task2.prototype.dirty = function() {
      this._dirty = true;
      this._onDirty && this._onDirty(this.context);
    };
    Task2.prototype._doProgress = function(progress, start2, end2, modBy, modDataCount) {
      iterator.reset(start2, end2, modBy, modDataCount);
      this._callingProgress = progress;
      this._callingProgress({
        start: start2,
        end: end2,
        count: end2 - start2,
        next: iterator.next
      }, this.context);
    };
    Task2.prototype._doReset = function(skip) {
      this._dueIndex = this._outputDueEnd = this._dueEnd = 0;
      this._settedOutputEnd = null;
      var progress;
      var forceFirstProgress;
      if (!skip && this._reset) {
        progress = this._reset(this.context);
        if (progress && progress.progress) {
          forceFirstProgress = progress.forceFirstProgress;
          progress = progress.progress;
        }
        if (isArray(progress) && !progress.length) {
          progress = null;
        }
      }
      this._progress = progress;
      this._modBy = this._modDataCount = null;
      var downstream = this._downstream;
      downstream && downstream.dirty();
      return forceFirstProgress;
    };
    Task2.prototype.unfinished = function() {
      return this._progress && this._dueIndex < this._dueEnd;
    };
    Task2.prototype.pipe = function(downTask) {
      {
        assert(downTask && !downTask._disposed && downTask !== this);
      }
      if (this._downstream !== downTask || this._dirty) {
        this._downstream = downTask;
        downTask._upstream = this;
        downTask.dirty();
      }
    };
    Task2.prototype.dispose = function() {
      if (this._disposed) {
        return;
      }
      this._upstream && (this._upstream._downstream = null);
      this._downstream && (this._downstream._upstream = null);
      this._dirty = false;
      this._disposed = true;
    };
    Task2.prototype.getUpstream = function() {
      return this._upstream;
    };
    Task2.prototype.getDownstream = function() {
      return this._downstream;
    };
    Task2.prototype.setOutputEnd = function(end2) {
      this._outputDueEnd = this._settedOutputEnd = end2;
    };
    return Task2;
  }();
  var iterator = function() {
    var end2;
    var current;
    var modBy;
    var modDataCount;
    var winCount;
    var it2 = {
      reset: function(s2, e2, sStep, sCount) {
        current = s2;
        end2 = e2;
        modBy = sStep;
        modDataCount = sCount;
        winCount = Math.ceil(modDataCount / modBy);
        it2.next = modBy > 1 && modDataCount > 0 ? modNext : sequentialNext;
      }
    };
    return it2;
    function sequentialNext() {
      return current < end2 ? current++ : null;
    }
    function modNext() {
      var dataIndex = current % winCount * modBy + Math.ceil(current / winCount);
      var result = current >= end2 ? null : dataIndex < modDataCount ? dataIndex : current;
      current++;
      return result;
    }
  }();
  function parseDataValue(value, opt) {
    var dimType = opt && opt.type;
    if (dimType === "ordinal") {
      return value;
    }
    if (dimType === "time" && !isNumber(value) && value != null && value !== "-") {
      value = +parseDate(value);
    }
    return value == null || value === "" ? NaN : +value;
  }
  createHashMap({
    "number": function(val) {
      return parseFloat(val);
    },
    "time": function(val) {
      return +parseDate(val);
    },
    "trim": function(val) {
      return isString(val) ? trim(val) : val;
    }
  });
  var SortOrderComparator = function() {
    function SortOrderComparator2(order, incomparable) {
      var isDesc = order === "desc";
      this._resultLT = isDesc ? 1 : -1;
      if (incomparable == null) {
        incomparable = isDesc ? "min" : "max";
      }
      this._incomparable = incomparable === "min" ? -Infinity : Infinity;
    }
    SortOrderComparator2.prototype.evaluate = function(lval, rval) {
      var lvalFloat = isNumber(lval) ? lval : numericToNumber(lval);
      var rvalFloat = isNumber(rval) ? rval : numericToNumber(rval);
      var lvalNotNumeric = isNaN(lvalFloat);
      var rvalNotNumeric = isNaN(rvalFloat);
      if (lvalNotNumeric) {
        lvalFloat = this._incomparable;
      }
      if (rvalNotNumeric) {
        rvalFloat = this._incomparable;
      }
      if (lvalNotNumeric && rvalNotNumeric) {
        var lvalIsStr = isString(lval);
        var rvalIsStr = isString(rval);
        if (lvalIsStr) {
          lvalFloat = rvalIsStr ? lval : 0;
        }
        if (rvalIsStr) {
          rvalFloat = lvalIsStr ? rval : 0;
        }
      }
      return lvalFloat < rvalFloat ? this._resultLT : lvalFloat > rvalFloat ? -this._resultLT : 0;
    };
    return SortOrderComparator2;
  }();
  var ExternalSource = function() {
    function ExternalSource2() {
    }
    ExternalSource2.prototype.getRawData = function() {
      throw new Error("not supported");
    };
    ExternalSource2.prototype.getRawDataItem = function(dataIndex) {
      throw new Error("not supported");
    };
    ExternalSource2.prototype.cloneRawData = function() {
      return;
    };
    ExternalSource2.prototype.getDimensionInfo = function(dim) {
      return;
    };
    ExternalSource2.prototype.cloneAllDimensionInfo = function() {
      return;
    };
    ExternalSource2.prototype.count = function() {
      return;
    };
    ExternalSource2.prototype.retrieveValue = function(dataIndex, dimIndex) {
      return;
    };
    ExternalSource2.prototype.retrieveValueFromItem = function(dataItem, dimIndex) {
      return;
    };
    ExternalSource2.prototype.convertValue = function(rawVal, dimInfo) {
      return parseDataValue(rawVal, dimInfo);
    };
    return ExternalSource2;
  }();
  function createExternalSource(internalSource, externalTransform) {
    var extSource = new ExternalSource();
    var data = internalSource.data;
    var sourceFormat = extSource.sourceFormat = internalSource.sourceFormat;
    var sourceHeaderCount = internalSource.startIndex;
    var errMsg = "";
    if (internalSource.seriesLayoutBy !== SERIES_LAYOUT_BY_COLUMN) {
      {
        errMsg = '`seriesLayoutBy` of upstream dataset can only be "column" in data transform.';
      }
      throwError(errMsg);
    }
    var dimensions = [];
    var dimsByName = {};
    var dimsDef = internalSource.dimensionsDefine;
    if (dimsDef) {
      each$3(dimsDef, function(dimDef, idx) {
        var name = dimDef.name;
        var dimDefExt = {
          index: idx,
          name,
          displayName: dimDef.displayName
        };
        dimensions.push(dimDefExt);
        if (name != null) {
          var errMsg_1 = "";
          if (hasOwn(dimsByName, name)) {
            {
              errMsg_1 = 'dimension name "' + name + '" duplicated.';
            }
            throwError(errMsg_1);
          }
          dimsByName[name] = dimDefExt;
        }
      });
    } else {
      for (var i2 = 0; i2 < internalSource.dimensionsDetectedCount || 0; i2++) {
        dimensions.push({
          index: i2
        });
      }
    }
    var rawItemGetter = getRawSourceItemGetter(sourceFormat, SERIES_LAYOUT_BY_COLUMN);
    if (externalTransform.__isBuiltIn) {
      extSource.getRawDataItem = function(dataIndex) {
        return rawItemGetter(data, sourceHeaderCount, dimensions, dataIndex);
      };
      extSource.getRawData = bind$1(getRawData, null, internalSource);
    }
    extSource.cloneRawData = bind$1(cloneRawData, null, internalSource);
    var rawCounter = getRawSourceDataCounter(sourceFormat, SERIES_LAYOUT_BY_COLUMN);
    extSource.count = bind$1(rawCounter, null, data, sourceHeaderCount, dimensions);
    var rawValueGetter = getRawSourceValueGetter(sourceFormat);
    extSource.retrieveValue = function(dataIndex, dimIndex) {
      var rawItem = rawItemGetter(data, sourceHeaderCount, dimensions, dataIndex);
      return retrieveValueFromItem(rawItem, dimIndex);
    };
    var retrieveValueFromItem = extSource.retrieveValueFromItem = function(dataItem, dimIndex) {
      if (dataItem == null) {
        return;
      }
      var dimDef = dimensions[dimIndex];
      if (dimDef) {
        return rawValueGetter(dataItem, dimIndex, dimDef.name);
      }
    };
    extSource.getDimensionInfo = bind$1(getDimensionInfo, null, dimensions, dimsByName);
    extSource.cloneAllDimensionInfo = bind$1(cloneAllDimensionInfo, null, dimensions);
    return extSource;
  }
  function getRawData(upstream) {
    var sourceFormat = upstream.sourceFormat;
    if (!isSupportedSourceFormat(sourceFormat)) {
      var errMsg = "";
      {
        errMsg = "`getRawData` is not supported in source format " + sourceFormat;
      }
      throwError(errMsg);
    }
    return upstream.data;
  }
  function cloneRawData(upstream) {
    var sourceFormat = upstream.sourceFormat;
    var data = upstream.data;
    if (!isSupportedSourceFormat(sourceFormat)) {
      var errMsg = "";
      {
        errMsg = "`cloneRawData` is not supported in source format " + sourceFormat;
      }
      throwError(errMsg);
    }
    if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {
      var result = [];
      for (var i2 = 0, len2 = data.length; i2 < len2; i2++) {
        result.push(data[i2].slice());
      }
      return result;
    } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {
      var result = [];
      for (var i2 = 0, len2 = data.length; i2 < len2; i2++) {
        result.push(extend({}, data[i2]));
      }
      return result;
    }
  }
  function getDimensionInfo(dimensions, dimsByName, dim) {
    if (dim == null) {
      return;
    }
    if (isNumber(dim) || !isNaN(dim) && !hasOwn(dimsByName, dim)) {
      return dimensions[dim];
    } else if (hasOwn(dimsByName, dim)) {
      return dimsByName[dim];
    }
  }
  function cloneAllDimensionInfo(dimensions) {
    return clone$3(dimensions);
  }
  var externalTransformMap = createHashMap();
  function registerExternalTransform(externalTransform) {
    externalTransform = clone$3(externalTransform);
    var type = externalTransform.type;
    var errMsg = "";
    if (!type) {
      {
        errMsg = "Must have a `type` when `registerTransform`.";
      }
      throwError(errMsg);
    }
    var typeParsed = type.split(":");
    if (typeParsed.length !== 2) {
      {
        errMsg = 'Name must include namespace like "ns:regression".';
      }
      throwError(errMsg);
    }
    var isBuiltIn = false;
    if (typeParsed[0] === "echarts") {
      type = typeParsed[1];
      isBuiltIn = true;
    }
    externalTransform.__isBuiltIn = isBuiltIn;
    externalTransformMap.set(type, externalTransform);
  }
  function applyDataTransform(rawTransOption, sourceList, infoForPrint) {
    var pipedTransOption = normalizeToArray(rawTransOption);
    var pipeLen = pipedTransOption.length;
    var errMsg = "";
    if (!pipeLen) {
      {
        errMsg = "If `transform` declared, it should at least contain one transform.";
      }
      throwError(errMsg);
    }
    for (var i2 = 0, len2 = pipeLen; i2 < len2; i2++) {
      var transOption = pipedTransOption[i2];
      sourceList = applySingleDataTransform(transOption, sourceList, infoForPrint, pipeLen === 1 ? null : i2);
      if (i2 !== len2 - 1) {
        sourceList.length = Math.max(sourceList.length, 1);
      }
    }
    return sourceList;
  }
  function applySingleDataTransform(transOption, upSourceList, infoForPrint, pipeIndex) {
    var errMsg = "";
    if (!upSourceList.length) {
      {
        errMsg = "Must have at least one upstream dataset.";
      }
      throwError(errMsg);
    }
    if (!isObject$2(transOption)) {
      {
        errMsg = "transform declaration must be an object rather than " + typeof transOption + ".";
      }
      throwError(errMsg);
    }
    var transType = transOption.type;
    var externalTransform = externalTransformMap.get(transType);
    if (!externalTransform) {
      {
        errMsg = 'Can not find transform on type "' + transType + '".';
      }
      throwError(errMsg);
    }
    var extUpSourceList = map$1(upSourceList, function(upSource) {
      return createExternalSource(upSource, externalTransform);
    });
    var resultList = normalizeToArray(externalTransform.transform({
      upstream: extUpSourceList[0],
      upstreamList: extUpSourceList,
      config: clone$3(transOption.config)
    }));
    {
      if (transOption.print) {
        var printStrArr = map$1(resultList, function(extSource) {
          var pipeIndexStr = pipeIndex != null ? " === pipe index: " + pipeIndex : "";
          return ["=== dataset index: " + infoForPrint.datasetIndex + pipeIndexStr + " ===", "- transform result data:", makePrintable(extSource.data), "- transform result dimensions:", makePrintable(extSource.dimensions)].join("\n");
        }).join("\n");
        log(printStrArr);
      }
    }
    return map$1(resultList, function(result, resultIndex) {
      var errMsg2 = "";
      if (!isObject$2(result)) {
        {
          errMsg2 = "A transform should not return some empty results.";
        }
        throwError(errMsg2);
      }
      if (!result.data) {
        {
          errMsg2 = "Transform result data should be not be null or undefined";
        }
        throwError(errMsg2);
      }
      var sourceFormat = detectSourceFormat(result.data);
      if (!isSupportedSourceFormat(sourceFormat)) {
        {
          errMsg2 = "Transform result data should be array rows or object rows.";
        }
        throwError(errMsg2);
      }
      var resultMetaRawOption;
      var firstUpSource = upSourceList[0];
      if (firstUpSource && resultIndex === 0 && !result.dimensions) {
        var startIndex = firstUpSource.startIndex;
        if (startIndex) {
          result.data = firstUpSource.data.slice(0, startIndex).concat(result.data);
        }
        resultMetaRawOption = {
          seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,
          sourceHeader: startIndex,
          dimensions: firstUpSource.metaRawOption.dimensions
        };
      } else {
        resultMetaRawOption = {
          seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,
          sourceHeader: 0,
          dimensions: result.dimensions
        };
      }
      return createSource(result.data, resultMetaRawOption, null);
    });
  }
  function isSupportedSourceFormat(sourceFormat) {
    return sourceFormat === SOURCE_FORMAT_ARRAY_ROWS || sourceFormat === SOURCE_FORMAT_OBJECT_ROWS;
  }
  var UNDEFINED = "undefined";
  var CtorUint32Array = typeof Uint32Array === UNDEFINED ? Array : Uint32Array;
  var CtorUint16Array = typeof Uint16Array === UNDEFINED ? Array : Uint16Array;
  var CtorInt32Array$1 = typeof Int32Array === UNDEFINED ? Array : Int32Array;
  var CtorFloat64Array = typeof Float64Array === UNDEFINED ? Array : Float64Array;
  var dataCtors = {
    "float": CtorFloat64Array,
    "int": CtorInt32Array$1,
    "ordinal": Array,
    "number": Array,
    "time": CtorFloat64Array
  };
  var defaultDimValueGetters;
  function getIndicesCtor(rawCount) {
    return rawCount > 65535 ? CtorUint32Array : CtorUint16Array;
  }
  function getInitialExtent() {
    return [Infinity, -Infinity];
  }
  function cloneChunk(originalChunk) {
    var Ctor = originalChunk.constructor;
    return Ctor === Array ? originalChunk.slice() : new Ctor(originalChunk);
  }
  function prepareStore(store, dimIdx, dimType, end2, append) {
    var DataCtor = dataCtors[dimType || "float"];
    if (append) {
      var oldStore = store[dimIdx];
      var oldLen = oldStore && oldStore.length;
      if (!(oldLen === end2)) {
        var newStore = new DataCtor(end2);
        for (var j2 = 0; j2 < oldLen; j2++) {
          newStore[j2] = oldStore[j2];
        }
        store[dimIdx] = newStore;
      }
    } else {
      store[dimIdx] = new DataCtor(end2);
    }
  }
  var DataStore = function() {
    function DataStore2() {
      this._chunks = [];
      this._rawExtent = [];
      this._extent = [];
      this._count = 0;
      this._rawCount = 0;
      this._calcDimNameToIdx = createHashMap();
    }
    DataStore2.prototype.initData = function(provider, inputDimensions, dimValueGetter) {
      {
        assert(isFunction(provider.getItem) && isFunction(provider.count), "Invalid data provider.");
      }
      this._provider = provider;
      this._chunks = [];
      this._indices = null;
      this.getRawIndex = this._getRawIdxIdentity;
      var source = provider.getSource();
      var defaultGetter = this.defaultDimValueGetter = defaultDimValueGetters[source.sourceFormat];
      this._dimValueGetter = dimValueGetter || defaultGetter;
      this._rawExtent = [];
      var willRetrieveDataByName = shouldRetrieveDataByName(source);
      this._dimensions = map$1(inputDimensions, function(dim) {
        {
          if (willRetrieveDataByName) {
            assert(dim.property != null);
          }
        }
        return {
          type: dim.type,
          property: dim.property
        };
      });
      this._initDataFromProvider(0, provider.count());
    };
    DataStore2.prototype.getProvider = function() {
      return this._provider;
    };
    DataStore2.prototype.getSource = function() {
      return this._provider.getSource();
    };
    DataStore2.prototype.ensureCalculationDimension = function(dimName, type) {
      var calcDimNameToIdx = this._calcDimNameToIdx;
      var dimensions = this._dimensions;
      var calcDimIdx = calcDimNameToIdx.get(dimName);
      if (calcDimIdx != null) {
        if (dimensions[calcDimIdx].type === type) {
          return calcDimIdx;
        }
      } else {
        calcDimIdx = dimensions.length;
      }
      dimensions[calcDimIdx] = {
        type
      };
      calcDimNameToIdx.set(dimName, calcDimIdx);
      this._chunks[calcDimIdx] = new dataCtors[type || "float"](this._rawCount);
      this._rawExtent[calcDimIdx] = getInitialExtent();
      return calcDimIdx;
    };
    DataStore2.prototype.collectOrdinalMeta = function(dimIdx, ordinalMeta) {
      var chunk = this._chunks[dimIdx];
      var dim = this._dimensions[dimIdx];
      var rawExtents = this._rawExtent;
      var offset = dim.ordinalOffset || 0;
      var len2 = chunk.length;
      if (offset === 0) {
        rawExtents[dimIdx] = getInitialExtent();
      }
      var dimRawExtent = rawExtents[dimIdx];
      for (var i2 = offset; i2 < len2; i2++) {
        var val = chunk[i2] = ordinalMeta.parseAndCollect(chunk[i2]);
        if (!isNaN(val)) {
          dimRawExtent[0] = Math.min(val, dimRawExtent[0]);
          dimRawExtent[1] = Math.max(val, dimRawExtent[1]);
        }
      }
      dim.ordinalMeta = ordinalMeta;
      dim.ordinalOffset = len2;
      dim.type = "ordinal";
    };
    DataStore2.prototype.getOrdinalMeta = function(dimIdx) {
      var dimInfo = this._dimensions[dimIdx];
      var ordinalMeta = dimInfo.ordinalMeta;
      return ordinalMeta;
    };
    DataStore2.prototype.getDimensionProperty = function(dimIndex) {
      var item = this._dimensions[dimIndex];
      return item && item.property;
    };
    DataStore2.prototype.appendData = function(data) {
      {
        assert(!this._indices, "appendData can only be called on raw data.");
      }
      var provider = this._provider;
      var start2 = this.count();
      provider.appendData(data);
      var end2 = provider.count();
      if (!provider.persistent) {
        end2 += start2;
      }
      if (start2 < end2) {
        this._initDataFromProvider(start2, end2, true);
      }
      return [start2, end2];
    };
    DataStore2.prototype.appendValues = function(values, minFillLen) {
      var chunks = this._chunks;
      var dimensions = this._dimensions;
      var dimLen = dimensions.length;
      var rawExtent = this._rawExtent;
      var start2 = this.count();
      var end2 = start2 + Math.max(values.length, minFillLen || 0);
      for (var i2 = 0; i2 < dimLen; i2++) {
        var dim = dimensions[i2];
        prepareStore(chunks, i2, dim.type, end2, true);
      }
      var emptyDataItem = [];
      for (var idx = start2; idx < end2; idx++) {
        var sourceIdx = idx - start2;
        for (var dimIdx = 0; dimIdx < dimLen; dimIdx++) {
          var dim = dimensions[dimIdx];
          var val = defaultDimValueGetters.arrayRows.call(this, values[sourceIdx] || emptyDataItem, dim.property, sourceIdx, dimIdx);
          chunks[dimIdx][idx] = val;
          var dimRawExtent = rawExtent[dimIdx];
          val < dimRawExtent[0] && (dimRawExtent[0] = val);
          val > dimRawExtent[1] && (dimRawExtent[1] = val);
        }
      }
      this._rawCount = this._count = end2;
      return {
        start: start2,
        end: end2
      };
    };
    DataStore2.prototype._initDataFromProvider = function(start2, end2, append) {
      var provider = this._provider;
      var chunks = this._chunks;
      var dimensions = this._dimensions;
      var dimLen = dimensions.length;
      var rawExtent = this._rawExtent;
      var dimNames = map$1(dimensions, function(dim2) {
        return dim2.property;
      });
      for (var i2 = 0; i2 < dimLen; i2++) {
        var dim = dimensions[i2];
        if (!rawExtent[i2]) {
          rawExtent[i2] = getInitialExtent();
        }
        prepareStore(chunks, i2, dim.type, end2, append);
      }
      if (provider.fillStorage) {
        provider.fillStorage(start2, end2, chunks, rawExtent);
      } else {
        var dataItem = [];
        for (var idx = start2; idx < end2; idx++) {
          dataItem = provider.getItem(idx, dataItem);
          for (var dimIdx = 0; dimIdx < dimLen; dimIdx++) {
            var dimStorage = chunks[dimIdx];
            var val = this._dimValueGetter(dataItem, dimNames[dimIdx], idx, dimIdx);
            dimStorage[idx] = val;
            var dimRawExtent = rawExtent[dimIdx];
            val < dimRawExtent[0] && (dimRawExtent[0] = val);
            val > dimRawExtent[1] && (dimRawExtent[1] = val);
          }
        }
      }
      if (!provider.persistent && provider.clean) {
        provider.clean();
      }
      this._rawCount = this._count = end2;
      this._extent = [];
    };
    DataStore2.prototype.count = function() {
      return this._count;
    };
    DataStore2.prototype.get = function(dim, idx) {
      if (!(idx >= 0 && idx < this._count)) {
        return NaN;
      }
      var dimStore = this._chunks[dim];
      return dimStore ? dimStore[this.getRawIndex(idx)] : NaN;
    };
    DataStore2.prototype.getValues = function(dimensions, idx) {
      var values = [];
      var dimArr = [];
      if (idx == null) {
        idx = dimensions;
        dimensions = [];
        for (var i2 = 0; i2 < this._dimensions.length; i2++) {
          dimArr.push(i2);
        }
      } else {
        dimArr = dimensions;
      }
      for (var i2 = 0, len2 = dimArr.length; i2 < len2; i2++) {
        values.push(this.get(dimArr[i2], idx));
      }
      return values;
    };
    DataStore2.prototype.getByRawIndex = function(dim, rawIdx) {
      if (!(rawIdx >= 0 && rawIdx < this._rawCount)) {
        return NaN;
      }
      var dimStore = this._chunks[dim];
      return dimStore ? dimStore[rawIdx] : NaN;
    };
    DataStore2.prototype.getSum = function(dim) {
      var dimData = this._chunks[dim];
      var sum = 0;
      if (dimData) {
        for (var i2 = 0, len2 = this.count(); i2 < len2; i2++) {
          var value = this.get(dim, i2);
          if (!isNaN(value)) {
            sum += value;
          }
        }
      }
      return sum;
    };
    DataStore2.prototype.getMedian = function(dim) {
      var dimDataArray = [];
      this.each([dim], function(val) {
        if (!isNaN(val)) {
          dimDataArray.push(val);
        }
      });
      var sortedDimDataArray = dimDataArray.sort(function(a2, b2) {
        return a2 - b2;
      });
      var len2 = this.count();
      return len2 === 0 ? 0 : len2 % 2 === 1 ? sortedDimDataArray[(len2 - 1) / 2] : (sortedDimDataArray[len2 / 2] + sortedDimDataArray[len2 / 2 - 1]) / 2;
    };
    DataStore2.prototype.indexOfRawIndex = function(rawIndex) {
      if (rawIndex >= this._rawCount || rawIndex < 0) {
        return -1;
      }
      if (!this._indices) {
        return rawIndex;
      }
      var indices = this._indices;
      var rawDataIndex = indices[rawIndex];
      if (rawDataIndex != null && rawDataIndex < this._count && rawDataIndex === rawIndex) {
        return rawIndex;
      }
      var left = 0;
      var right = this._count - 1;
      while (left <= right) {
        var mid = (left + right) / 2 | 0;
        if (indices[mid] < rawIndex) {
          left = mid + 1;
        } else if (indices[mid] > rawIndex) {
          right = mid - 1;
        } else {
          return mid;
        }
      }
      return -1;
    };
    DataStore2.prototype.indicesOfNearest = function(dim, value, maxDistance) {
      var chunks = this._chunks;
      var dimData = chunks[dim];
      var nearestIndices = [];
      if (!dimData) {
        return nearestIndices;
      }
      if (maxDistance == null) {
        maxDistance = Infinity;
      }
      var minDist = Infinity;
      var minDiff = -1;
      var nearestIndicesLen = 0;
      for (var i2 = 0, len2 = this.count(); i2 < len2; i2++) {
        var dataIndex = this.getRawIndex(i2);
        var diff = value - dimData[dataIndex];
        var dist2 = Math.abs(diff);
        if (dist2 <= maxDistance) {
          if (dist2 < minDist || dist2 === minDist && diff >= 0 && minDiff < 0) {
            minDist = dist2;
            minDiff = diff;
            nearestIndicesLen = 0;
          }
          if (diff === minDiff) {
            nearestIndices[nearestIndicesLen++] = i2;
          }
        }
      }
      nearestIndices.length = nearestIndicesLen;
      return nearestIndices;
    };
    DataStore2.prototype.getIndices = function() {
      var newIndices;
      var indices = this._indices;
      if (indices) {
        var Ctor = indices.constructor;
        var thisCount = this._count;
        if (Ctor === Array) {
          newIndices = new Ctor(thisCount);
          for (var i2 = 0; i2 < thisCount; i2++) {
            newIndices[i2] = indices[i2];
          }
        } else {
          newIndices = new Ctor(indices.buffer, 0, thisCount);
        }
      } else {
        var Ctor = getIndicesCtor(this._rawCount);
        newIndices = new Ctor(this.count());
        for (var i2 = 0; i2 < newIndices.length; i2++) {
          newIndices[i2] = i2;
        }
      }
      return newIndices;
    };
    DataStore2.prototype.filter = function(dims, cb) {
      if (!this._count) {
        return this;
      }
      var newStore = this.clone();
      var count = newStore.count();
      var Ctor = getIndicesCtor(newStore._rawCount);
      var newIndices = new Ctor(count);
      var value = [];
      var dimSize = dims.length;
      var offset = 0;
      var dim0 = dims[0];
      var chunks = newStore._chunks;
      for (var i2 = 0; i2 < count; i2++) {
        var keep = void 0;
        var rawIdx = newStore.getRawIndex(i2);
        if (dimSize === 0) {
          keep = cb(i2);
        } else if (dimSize === 1) {
          var val = chunks[dim0][rawIdx];
          keep = cb(val, i2);
        } else {
          var k2 = 0;
          for (; k2 < dimSize; k2++) {
            value[k2] = chunks[dims[k2]][rawIdx];
          }
          value[k2] = i2;
          keep = cb.apply(null, value);
        }
        if (keep) {
          newIndices[offset++] = rawIdx;
        }
      }
      if (offset < count) {
        newStore._indices = newIndices;
      }
      newStore._count = offset;
      newStore._extent = [];
      newStore._updateGetRawIdx();
      return newStore;
    };
    DataStore2.prototype.selectRange = function(range) {
      var newStore = this.clone();
      var len2 = newStore._count;
      if (!len2) {
        return this;
      }
      var dims = keys(range);
      var dimSize = dims.length;
      if (!dimSize) {
        return this;
      }
      var originalCount = newStore.count();
      var Ctor = getIndicesCtor(newStore._rawCount);
      var newIndices = new Ctor(originalCount);
      var offset = 0;
      var dim0 = dims[0];
      var min3 = range[dim0][0];
      var max3 = range[dim0][1];
      var storeArr = newStore._chunks;
      var quickFinished = false;
      if (!newStore._indices) {
        var idx = 0;
        if (dimSize === 1) {
          var dimStorage = storeArr[dims[0]];
          for (var i2 = 0; i2 < len2; i2++) {
            var val = dimStorage[i2];
            if (val >= min3 && val <= max3 || isNaN(val)) {
              newIndices[offset++] = idx;
            }
            idx++;
          }
          quickFinished = true;
        } else if (dimSize === 2) {
          var dimStorage = storeArr[dims[0]];
          var dimStorage2 = storeArr[dims[1]];
          var min22 = range[dims[1]][0];
          var max22 = range[dims[1]][1];
          for (var i2 = 0; i2 < len2; i2++) {
            var val = dimStorage[i2];
            var val2 = dimStorage2[i2];
            if ((val >= min3 && val <= max3 || isNaN(val)) && (val2 >= min22 && val2 <= max22 || isNaN(val2))) {
              newIndices[offset++] = idx;
            }
            idx++;
          }
          quickFinished = true;
        }
      }
      if (!quickFinished) {
        if (dimSize === 1) {
          for (var i2 = 0; i2 < originalCount; i2++) {
            var rawIndex = newStore.getRawIndex(i2);
            var val = storeArr[dims[0]][rawIndex];
            if (val >= min3 && val <= max3 || isNaN(val)) {
              newIndices[offset++] = rawIndex;
            }
          }
        } else {
          for (var i2 = 0; i2 < originalCount; i2++) {
            var keep = true;
            var rawIndex = newStore.getRawIndex(i2);
            for (var k2 = 0; k2 < dimSize; k2++) {
              var dimk = dims[k2];
              var val = storeArr[dimk][rawIndex];
              if (val < range[dimk][0] || val > range[dimk][1]) {
                keep = false;
              }
            }
            if (keep) {
              newIndices[offset++] = newStore.getRawIndex(i2);
            }
          }
        }
      }
      if (offset < originalCount) {
        newStore._indices = newIndices;
      }
      newStore._count = offset;
      newStore._extent = [];
      newStore._updateGetRawIdx();
      return newStore;
    };
    DataStore2.prototype.map = function(dims, cb) {
      var target = this.clone(dims);
      this._updateDims(target, dims, cb);
      return target;
    };
    DataStore2.prototype.modify = function(dims, cb) {
      this._updateDims(this, dims, cb);
    };
    DataStore2.prototype._updateDims = function(target, dims, cb) {
      var targetChunks = target._chunks;
      var tmpRetValue = [];
      var dimSize = dims.length;
      var dataCount = target.count();
      var values = [];
      var rawExtent = target._rawExtent;
      for (var i2 = 0; i2 < dims.length; i2++) {
        rawExtent[dims[i2]] = getInitialExtent();
      }
      for (var dataIndex = 0; dataIndex < dataCount; dataIndex++) {
        var rawIndex = target.getRawIndex(dataIndex);
        for (var k2 = 0; k2 < dimSize; k2++) {
          values[k2] = targetChunks[dims[k2]][rawIndex];
        }
        values[dimSize] = dataIndex;
        var retValue = cb && cb.apply(null, values);
        if (retValue != null) {
          if (typeof retValue !== "object") {
            tmpRetValue[0] = retValue;
            retValue = tmpRetValue;
          }
          for (var i2 = 0; i2 < retValue.length; i2++) {
            var dim = dims[i2];
            var val = retValue[i2];
            var rawExtentOnDim = rawExtent[dim];
            var dimStore = targetChunks[dim];
            if (dimStore) {
              dimStore[rawIndex] = val;
            }
            if (val < rawExtentOnDim[0]) {
              rawExtentOnDim[0] = val;
            }
            if (val > rawExtentOnDim[1]) {
              rawExtentOnDim[1] = val;
            }
          }
        }
      }
    };
    DataStore2.prototype.lttbDownSample = function(valueDimension, rate) {
      var target = this.clone([valueDimension], true);
      var targetStorage = target._chunks;
      var dimStore = targetStorage[valueDimension];
      var len2 = this.count();
      var sampledIndex = 0;
      var frameSize = Math.floor(1 / rate);
      var currentRawIndex = this.getRawIndex(0);
      var maxArea;
      var area;
      var nextRawIndex;
      var newIndices = new (getIndicesCtor(this._rawCount))(Math.min((Math.ceil(len2 / frameSize) + 2) * 2, len2));
      newIndices[sampledIndex++] = currentRawIndex;
      for (var i2 = 1; i2 < len2 - 1; i2 += frameSize) {
        var nextFrameStart = Math.min(i2 + frameSize, len2 - 1);
        var nextFrameEnd = Math.min(i2 + frameSize * 2, len2);
        var avgX = (nextFrameEnd + nextFrameStart) / 2;
        var avgY = 0;
        for (var idx = nextFrameStart; idx < nextFrameEnd; idx++) {
          var rawIndex = this.getRawIndex(idx);
          var y = dimStore[rawIndex];
          if (isNaN(y)) {
            continue;
          }
          avgY += y;
        }
        avgY /= nextFrameEnd - nextFrameStart;
        var frameStart = i2;
        var frameEnd = Math.min(i2 + frameSize, len2);
        var pointAX = i2 - 1;
        var pointAY = dimStore[currentRawIndex];
        maxArea = -1;
        nextRawIndex = frameStart;
        var firstNaNIndex = -1;
        var countNaN = 0;
        for (var idx = frameStart; idx < frameEnd; idx++) {
          var rawIndex = this.getRawIndex(idx);
          var y = dimStore[rawIndex];
          if (isNaN(y)) {
            countNaN++;
            if (firstNaNIndex < 0) {
              firstNaNIndex = rawIndex;
            }
            continue;
          }
          area = Math.abs((pointAX - avgX) * (y - pointAY) - (pointAX - idx) * (avgY - pointAY));
          if (area > maxArea) {
            maxArea = area;
            nextRawIndex = rawIndex;
          }
        }
        if (countNaN > 0 && countNaN < frameEnd - frameStart) {
          newIndices[sampledIndex++] = Math.min(firstNaNIndex, nextRawIndex);
          nextRawIndex = Math.max(firstNaNIndex, nextRawIndex);
        }
        newIndices[sampledIndex++] = nextRawIndex;
        currentRawIndex = nextRawIndex;
      }
      newIndices[sampledIndex++] = this.getRawIndex(len2 - 1);
      target._count = sampledIndex;
      target._indices = newIndices;
      target.getRawIndex = this._getRawIdx;
      return target;
    };
    DataStore2.prototype.downSample = function(dimension, rate, sampleValue, sampleIndex) {
      var target = this.clone([dimension], true);
      var targetStorage = target._chunks;
      var frameValues = [];
      var frameSize = Math.floor(1 / rate);
      var dimStore = targetStorage[dimension];
      var len2 = this.count();
      var rawExtentOnDim = target._rawExtent[dimension] = getInitialExtent();
      var newIndices = new (getIndicesCtor(this._rawCount))(Math.ceil(len2 / frameSize));
      var offset = 0;
      for (var i2 = 0; i2 < len2; i2 += frameSize) {
        if (frameSize > len2 - i2) {
          frameSize = len2 - i2;
          frameValues.length = frameSize;
        }
        for (var k2 = 0; k2 < frameSize; k2++) {
          var dataIdx = this.getRawIndex(i2 + k2);
          frameValues[k2] = dimStore[dataIdx];
        }
        var value = sampleValue(frameValues);
        var sampleFrameIdx = this.getRawIndex(Math.min(i2 + sampleIndex(frameValues, value) || 0, len2 - 1));
        dimStore[sampleFrameIdx] = value;
        if (value < rawExtentOnDim[0]) {
          rawExtentOnDim[0] = value;
        }
        if (value > rawExtentOnDim[1]) {
          rawExtentOnDim[1] = value;
        }
        newIndices[offset++] = sampleFrameIdx;
      }
      target._count = offset;
      target._indices = newIndices;
      target._updateGetRawIdx();
      return target;
    };
    DataStore2.prototype.each = function(dims, cb) {
      if (!this._count) {
        return;
      }
      var dimSize = dims.length;
      var chunks = this._chunks;
      for (var i2 = 0, len2 = this.count(); i2 < len2; i2++) {
        var rawIdx = this.getRawIndex(i2);
        switch (dimSize) {
          case 0:
            cb(i2);
            break;
          case 1:
            cb(chunks[dims[0]][rawIdx], i2);
            break;
          case 2:
            cb(chunks[dims[0]][rawIdx], chunks[dims[1]][rawIdx], i2);
            break;
          default:
            var k2 = 0;
            var value = [];
            for (; k2 < dimSize; k2++) {
              value[k2] = chunks[dims[k2]][rawIdx];
            }
            value[k2] = i2;
            cb.apply(null, value);
        }
      }
    };
    DataStore2.prototype.getDataExtent = function(dim) {
      var dimData = this._chunks[dim];
      var initialExtent = getInitialExtent();
      if (!dimData) {
        return initialExtent;
      }
      var currEnd = this.count();
      var useRaw = !this._indices;
      var dimExtent;
      if (useRaw) {
        return this._rawExtent[dim].slice();
      }
      dimExtent = this._extent[dim];
      if (dimExtent) {
        return dimExtent.slice();
      }
      dimExtent = initialExtent;
      var min3 = dimExtent[0];
      var max3 = dimExtent[1];
      for (var i2 = 0; i2 < currEnd; i2++) {
        var rawIdx = this.getRawIndex(i2);
        var value = dimData[rawIdx];
        value < min3 && (min3 = value);
        value > max3 && (max3 = value);
      }
      dimExtent = [min3, max3];
      this._extent[dim] = dimExtent;
      return dimExtent;
    };
    DataStore2.prototype.getRawDataItem = function(idx) {
      var rawIdx = this.getRawIndex(idx);
      if (!this._provider.persistent) {
        var val = [];
        var chunks = this._chunks;
        for (var i2 = 0; i2 < chunks.length; i2++) {
          val.push(chunks[i2][rawIdx]);
        }
        return val;
      } else {
        return this._provider.getItem(rawIdx);
      }
    };
    DataStore2.prototype.clone = function(clonedDims, ignoreIndices) {
      var target = new DataStore2();
      var chunks = this._chunks;
      var clonedDimsMap = clonedDims && reduce(clonedDims, function(obj, dimIdx) {
        obj[dimIdx] = true;
        return obj;
      }, {});
      if (clonedDimsMap) {
        for (var i2 = 0; i2 < chunks.length; i2++) {
          target._chunks[i2] = !clonedDimsMap[i2] ? chunks[i2] : cloneChunk(chunks[i2]);
        }
      } else {
        target._chunks = chunks;
      }
      this._copyCommonProps(target);
      if (!ignoreIndices) {
        target._indices = this._cloneIndices();
      }
      target._updateGetRawIdx();
      return target;
    };
    DataStore2.prototype._copyCommonProps = function(target) {
      target._count = this._count;
      target._rawCount = this._rawCount;
      target._provider = this._provider;
      target._dimensions = this._dimensions;
      target._extent = clone$3(this._extent);
      target._rawExtent = clone$3(this._rawExtent);
    };
    DataStore2.prototype._cloneIndices = function() {
      if (this._indices) {
        var Ctor = this._indices.constructor;
        var indices = void 0;
        if (Ctor === Array) {
          var thisCount = this._indices.length;
          indices = new Ctor(thisCount);
          for (var i2 = 0; i2 < thisCount; i2++) {
            indices[i2] = this._indices[i2];
          }
        } else {
          indices = new Ctor(this._indices);
        }
        return indices;
      }
      return null;
    };
    DataStore2.prototype._getRawIdxIdentity = function(idx) {
      return idx;
    };
    DataStore2.prototype._getRawIdx = function(idx) {
      if (idx < this._count && idx >= 0) {
        return this._indices[idx];
      }
      return -1;
    };
    DataStore2.prototype._updateGetRawIdx = function() {
      this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity;
    };
    DataStore2.internalField = function() {
      function getDimValueSimply(dataItem, property, dataIndex, dimIndex) {
        return parseDataValue(dataItem[dimIndex], this._dimensions[dimIndex]);
      }
      defaultDimValueGetters = {
        arrayRows: getDimValueSimply,
        objectRows: function(dataItem, property, dataIndex, dimIndex) {
          return parseDataValue(dataItem[property], this._dimensions[dimIndex]);
        },
        keyedColumns: getDimValueSimply,
        original: function(dataItem, property, dataIndex, dimIndex) {
          var value = dataItem && (dataItem.value == null ? dataItem : dataItem.value);
          return parseDataValue(value instanceof Array ? value[dimIndex] : value, this._dimensions[dimIndex]);
        },
        typedArray: function(dataItem, property, dataIndex, dimIndex) {
          return dataItem[dimIndex];
        }
      };
    }();
    return DataStore2;
  }();
  var DataStore$1 = DataStore;
  var SourceManager = function() {
    function SourceManager2(sourceHost) {
      this._sourceList = [];
      this._storeList = [];
      this._upstreamSignList = [];
      this._versionSignBase = 0;
      this._dirty = true;
      this._sourceHost = sourceHost;
    }
    SourceManager2.prototype.dirty = function() {
      this._setLocalSource([], []);
      this._storeList = [];
      this._dirty = true;
    };
    SourceManager2.prototype._setLocalSource = function(sourceList, upstreamSignList) {
      this._sourceList = sourceList;
      this._upstreamSignList = upstreamSignList;
      this._versionSignBase++;
      if (this._versionSignBase > 9e10) {
        this._versionSignBase = 0;
      }
    };
    SourceManager2.prototype._getVersionSign = function() {
      return this._sourceHost.uid + "_" + this._versionSignBase;
    };
    SourceManager2.prototype.prepareSource = function() {
      if (this._isDirty()) {
        this._createSource();
        this._dirty = false;
      }
    };
    SourceManager2.prototype._createSource = function() {
      this._setLocalSource([], []);
      var sourceHost = this._sourceHost;
      var upSourceMgrList = this._getUpstreamSourceManagers();
      var hasUpstream = !!upSourceMgrList.length;
      var resultSourceList;
      var upstreamSignList;
      if (isSeries(sourceHost)) {
        var seriesModel = sourceHost;
        var data = void 0;
        var sourceFormat = void 0;
        var upSource = void 0;
        if (hasUpstream) {
          var upSourceMgr = upSourceMgrList[0];
          upSourceMgr.prepareSource();
          upSource = upSourceMgr.getSource();
          data = upSource.data;
          sourceFormat = upSource.sourceFormat;
          upstreamSignList = [upSourceMgr._getVersionSign()];
        } else {
          data = seriesModel.get("data", true);
          sourceFormat = isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL;
          upstreamSignList = [];
        }
        var newMetaRawOption = this._getSourceMetaRawOption() || {};
        var upMetaRawOption = upSource && upSource.metaRawOption || {};
        var seriesLayoutBy = retrieve2(newMetaRawOption.seriesLayoutBy, upMetaRawOption.seriesLayoutBy) || null;
        var sourceHeader = retrieve2(newMetaRawOption.sourceHeader, upMetaRawOption.sourceHeader);
        var dimensions = retrieve2(newMetaRawOption.dimensions, upMetaRawOption.dimensions);
        var needsCreateSource = seriesLayoutBy !== upMetaRawOption.seriesLayoutBy || !!sourceHeader !== !!upMetaRawOption.sourceHeader || dimensions;
        resultSourceList = needsCreateSource ? [createSource(data, {
          seriesLayoutBy,
          sourceHeader,
          dimensions
        }, sourceFormat)] : [];
      } else {
        var datasetModel = sourceHost;
        if (hasUpstream) {
          var result = this._applyTransform(upSourceMgrList);
          resultSourceList = result.sourceList;
          upstreamSignList = result.upstreamSignList;
        } else {
          var sourceData = datasetModel.get("source", true);
          resultSourceList = [createSource(sourceData, this._getSourceMetaRawOption(), null)];
          upstreamSignList = [];
        }
      }
      {
        assert(resultSourceList && upstreamSignList);
      }
      this._setLocalSource(resultSourceList, upstreamSignList);
    };
    SourceManager2.prototype._applyTransform = function(upMgrList) {
      var datasetModel = this._sourceHost;
      var transformOption = datasetModel.get("transform", true);
      var fromTransformResult = datasetModel.get("fromTransformResult", true);
      {
        assert(fromTransformResult != null || transformOption != null);
      }
      if (fromTransformResult != null) {
        var errMsg = "";
        if (upMgrList.length !== 1) {
          {
            errMsg = "When using `fromTransformResult`, there should be only one upstream dataset";
          }
          doThrow(errMsg);
        }
      }
      var sourceList;
      var upSourceList = [];
      var upstreamSignList = [];
      each$3(upMgrList, function(upMgr) {
        upMgr.prepareSource();
        var upSource = upMgr.getSource(fromTransformResult || 0);
        var errMsg2 = "";
        if (fromTransformResult != null && !upSource) {
          {
            errMsg2 = "Can not retrieve result by `fromTransformResult`: " + fromTransformResult;
          }
          doThrow(errMsg2);
        }
        upSourceList.push(upSource);
        upstreamSignList.push(upMgr._getVersionSign());
      });
      if (transformOption) {
        sourceList = applyDataTransform(transformOption, upSourceList, {
          datasetIndex: datasetModel.componentIndex
        });
      } else if (fromTransformResult != null) {
        sourceList = [cloneSourceShallow(upSourceList[0])];
      }
      return {
        sourceList,
        upstreamSignList
      };
    };
    SourceManager2.prototype._isDirty = function() {
      if (this._dirty) {
        return true;
      }
      var upSourceMgrList = this._getUpstreamSourceManagers();
      for (var i2 = 0; i2 < upSourceMgrList.length; i2++) {
        var upSrcMgr = upSourceMgrList[i2];
        if (upSrcMgr._isDirty() || this._upstreamSignList[i2] !== upSrcMgr._getVersionSign()) {
          return true;
        }
      }
    };
    SourceManager2.prototype.getSource = function(sourceIndex) {
      sourceIndex = sourceIndex || 0;
      var source = this._sourceList[sourceIndex];
      if (!source) {
        var upSourceMgrList = this._getUpstreamSourceManagers();
        return upSourceMgrList[0] && upSourceMgrList[0].getSource(sourceIndex);
      }
      return source;
    };
    SourceManager2.prototype.getSharedDataStore = function(seriesDimRequest) {
      {
        assert(isSeries(this._sourceHost), "Can only call getDataStore on series source manager.");
      }
      var schema = seriesDimRequest.makeStoreSchema();
      return this._innerGetDataStore(schema.dimensions, seriesDimRequest.source, schema.hash);
    };
    SourceManager2.prototype._innerGetDataStore = function(storeDims, seriesSource, sourceReadKey) {
      var sourceIndex = 0;
      var storeList = this._storeList;
      var cachedStoreMap = storeList[sourceIndex];
      if (!cachedStoreMap) {
        cachedStoreMap = storeList[sourceIndex] = {};
      }
      var cachedStore = cachedStoreMap[sourceReadKey];
      if (!cachedStore) {
        var upSourceMgr = this._getUpstreamSourceManagers()[0];
        if (isSeries(this._sourceHost) && upSourceMgr) {
          cachedStore = upSourceMgr._innerGetDataStore(storeDims, seriesSource, sourceReadKey);
        } else {
          cachedStore = new DataStore$1();
          cachedStore.initData(new DefaultDataProvider(seriesSource, storeDims.length), storeDims);
        }
        cachedStoreMap[sourceReadKey] = cachedStore;
      }
      return cachedStore;
    };
    SourceManager2.prototype._getUpstreamSourceManagers = function() {
      var sourceHost = this._sourceHost;
      if (isSeries(sourceHost)) {
        var datasetModel = querySeriesUpstreamDatasetModel(sourceHost);
        return !datasetModel ? [] : [datasetModel.getSourceManager()];
      } else {
        return map$1(queryDatasetUpstreamDatasetModels(sourceHost), function(datasetModel2) {
          return datasetModel2.getSourceManager();
        });
      }
    };
    SourceManager2.prototype._getSourceMetaRawOption = function() {
      var sourceHost = this._sourceHost;
      var seriesLayoutBy;
      var sourceHeader;
      var dimensions;
      if (isSeries(sourceHost)) {
        seriesLayoutBy = sourceHost.get("seriesLayoutBy", true);
        sourceHeader = sourceHost.get("sourceHeader", true);
        dimensions = sourceHost.get("dimensions", true);
      } else if (!this._getUpstreamSourceManagers().length) {
        var model = sourceHost;
        seriesLayoutBy = model.get("seriesLayoutBy", true);
        sourceHeader = model.get("sourceHeader", true);
        dimensions = model.get("dimensions", true);
      }
      return {
        seriesLayoutBy,
        sourceHeader,
        dimensions
      };
    };
    return SourceManager2;
  }();
  function isSeries(sourceHost) {
    return sourceHost.mainType === "series";
  }
  function doThrow(errMsg) {
    throw new Error(errMsg);
  }
  var TOOLTIP_LINE_HEIGHT_CSS = "line-height:1";
  function getTooltipTextStyle(textStyle, renderMode) {
    var nameFontColor = textStyle.color || "#6e7079";
    var nameFontSize = textStyle.fontSize || 12;
    var nameFontWeight = textStyle.fontWeight || "400";
    var valueFontColor = textStyle.color || "#464646";
    var valueFontSize = textStyle.fontSize || 14;
    var valueFontWeight = textStyle.fontWeight || "900";
    if (renderMode === "html") {
      return {
        nameStyle: "font-size:" + encodeHTML(nameFontSize + "") + "px;color:" + encodeHTML(nameFontColor) + ";font-weight:" + encodeHTML(nameFontWeight + ""),
        valueStyle: "font-size:" + encodeHTML(valueFontSize + "") + "px;color:" + encodeHTML(valueFontColor) + ";font-weight:" + encodeHTML(valueFontWeight + "")
      };
    } else {
      return {
        nameStyle: {
          fontSize: nameFontSize,
          fill: nameFontColor,
          fontWeight: nameFontWeight
        },
        valueStyle: {
          fontSize: valueFontSize,
          fill: valueFontColor,
          fontWeight: valueFontWeight
        }
      };
    }
  }
  var HTML_GAPS = [0, 10, 20, 30];
  var RICH_TEXT_GAPS = ["", "\n", "\n\n", "\n\n\n"];
  function createTooltipMarkup(type, option) {
    option.type = type;
    return option;
  }
  function isSectionFragment(frag) {
    return frag.type === "section";
  }
  function getBuilder(frag) {
    return isSectionFragment(frag) ? buildSection : buildNameValue;
  }
  function getBlockGapLevel(frag) {
    if (isSectionFragment(frag)) {
      var gapLevel_1 = 0;
      var subBlockLen = frag.blocks.length;
      var hasInnerGap_1 = subBlockLen > 1 || subBlockLen > 0 && !frag.noHeader;
      each$3(frag.blocks, function(subBlock) {
        var subGapLevel = getBlockGapLevel(subBlock);
        if (subGapLevel >= gapLevel_1) {
          gapLevel_1 = subGapLevel + +(hasInnerGap_1 && (!subGapLevel || isSectionFragment(subBlock) && !subBlock.noHeader));
        }
      });
      return gapLevel_1;
    }
    return 0;
  }
  function buildSection(ctx, fragment, topMarginForOuterGap, toolTipTextStyle) {
    var noHeader = fragment.noHeader;
    var gaps = getGap(getBlockGapLevel(fragment));
    var subMarkupTextList = [];
    var subBlocks = fragment.blocks || [];
    assert(!subBlocks || isArray(subBlocks));
    subBlocks = subBlocks || [];
    var orderMode = ctx.orderMode;
    if (fragment.sortBlocks && orderMode) {
      subBlocks = subBlocks.slice();
      var orderMap = {
        valueAsc: "asc",
        valueDesc: "desc"
      };
      if (hasOwn(orderMap, orderMode)) {
        var comparator_1 = new SortOrderComparator(orderMap[orderMode], null);
        subBlocks.sort(function(a2, b2) {
          return comparator_1.evaluate(a2.sortParam, b2.sortParam);
        });
      } else if (orderMode === "seriesDesc") {
        subBlocks.reverse();
      }
    }
    each$3(subBlocks, function(subBlock, idx) {
      var valueFormatter = fragment.valueFormatter;
      var subMarkupText2 = getBuilder(subBlock)(valueFormatter ? extend(extend({}, ctx), {
        valueFormatter
      }) : ctx, subBlock, idx > 0 ? gaps.html : 0, toolTipTextStyle);
      subMarkupText2 != null && subMarkupTextList.push(subMarkupText2);
    });
    var subMarkupText = ctx.renderMode === "richText" ? subMarkupTextList.join(gaps.richText) : wrapBlockHTML(subMarkupTextList.join(""), noHeader ? topMarginForOuterGap : gaps.html);
    if (noHeader) {
      return subMarkupText;
    }
    var displayableHeader = makeValueReadable(fragment.header, "ordinal", ctx.useUTC);
    var nameStyle = getTooltipTextStyle(toolTipTextStyle, ctx.renderMode).nameStyle;
    if (ctx.renderMode === "richText") {
      return wrapInlineNameRichText(ctx, displayableHeader, nameStyle) + gaps.richText + subMarkupText;
    } else {
      return wrapBlockHTML('<div style="' + nameStyle + ";" + TOOLTIP_LINE_HEIGHT_CSS + ';">' + encodeHTML(displayableHeader) + "</div>" + subMarkupText, topMarginForOuterGap);
    }
  }
  function buildNameValue(ctx, fragment, topMarginForOuterGap, toolTipTextStyle) {
    var renderMode = ctx.renderMode;
    var noName = fragment.noName;
    var noValue = fragment.noValue;
    var noMarker = !fragment.markerType;
    var name = fragment.name;
    var useUTC = ctx.useUTC;
    var valueFormatter = fragment.valueFormatter || ctx.valueFormatter || function(value) {
      value = isArray(value) ? value : [value];
      return map$1(value, function(val, idx) {
        return makeValueReadable(val, isArray(valueTypeOption) ? valueTypeOption[idx] : valueTypeOption, useUTC);
      });
    };
    if (noName && noValue) {
      return;
    }
    var markerStr = noMarker ? "" : ctx.markupStyleCreator.makeTooltipMarker(fragment.markerType, fragment.markerColor || "#333", renderMode);
    var readableName = noName ? "" : makeValueReadable(name, "ordinal", useUTC);
    var valueTypeOption = fragment.valueType;
    var readableValueList = noValue ? [] : valueFormatter(fragment.value);
    var valueAlignRight = !noMarker || !noName;
    var valueCloseToMarker = !noMarker && noName;
    var _a2 = getTooltipTextStyle(toolTipTextStyle, renderMode), nameStyle = _a2.nameStyle, valueStyle = _a2.valueStyle;
    return renderMode === "richText" ? (noMarker ? "" : markerStr) + (noName ? "" : wrapInlineNameRichText(ctx, readableName, nameStyle)) + (noValue ? "" : wrapInlineValueRichText(ctx, readableValueList, valueAlignRight, valueCloseToMarker, valueStyle)) : wrapBlockHTML((noMarker ? "" : markerStr) + (noName ? "" : wrapInlineNameHTML(readableName, !noMarker, nameStyle)) + (noValue ? "" : wrapInlineValueHTML(readableValueList, valueAlignRight, valueCloseToMarker, valueStyle)), topMarginForOuterGap);
  }
  function buildTooltipMarkup(fragment, markupStyleCreator, renderMode, orderMode, useUTC, toolTipTextStyle) {
    if (!fragment) {
      return;
    }
    var builder = getBuilder(fragment);
    var ctx = {
      useUTC,
      renderMode,
      orderMode,
      markupStyleCreator,
      valueFormatter: fragment.valueFormatter
    };
    return builder(ctx, fragment, 0, toolTipTextStyle);
  }
  function getGap(gapLevel) {
    return {
      html: HTML_GAPS[gapLevel],
      richText: RICH_TEXT_GAPS[gapLevel]
    };
  }
  function wrapBlockHTML(encodedContent, topGap) {
    var clearfix = '<div style="clear:both"></div>';
    var marginCSS = "margin: " + topGap + "px 0 0";
    return '<div style="' + marginCSS + ";" + TOOLTIP_LINE_HEIGHT_CSS + ';">' + encodedContent + clearfix + "</div>";
  }
  function wrapInlineNameHTML(name, leftHasMarker, style) {
    var marginCss = leftHasMarker ? "margin-left:2px" : "";
    return '<span style="' + style + ";" + marginCss + '">' + encodeHTML(name) + "</span>";
  }
  function wrapInlineValueHTML(valueList, alignRight, valueCloseToMarker, style) {
    var paddingStr = valueCloseToMarker ? "10px" : "20px";
    var alignCSS = alignRight ? "float:right;margin-left:" + paddingStr : "";
    valueList = isArray(valueList) ? valueList : [valueList];
    return '<span style="' + alignCSS + ";" + style + '">' + map$1(valueList, function(value) {
      return encodeHTML(value);
    }).join("&nbsp;&nbsp;") + "</span>";
  }
  function wrapInlineNameRichText(ctx, name, style) {
    return ctx.markupStyleCreator.wrapRichTextStyle(name, style);
  }
  function wrapInlineValueRichText(ctx, values, alignRight, valueCloseToMarker, style) {
    var styles = [style];
    var paddingLeft = valueCloseToMarker ? 10 : 20;
    alignRight && styles.push({
      padding: [0, 0, 0, paddingLeft],
      align: "right"
    });
    return ctx.markupStyleCreator.wrapRichTextStyle(isArray(values) ? values.join("  ") : values, styles);
  }
  function retrieveVisualColorForTooltipMarker(series, dataIndex) {
    var style = series.getData().getItemVisual(dataIndex, "style");
    var color2 = style[series.visualDrawType];
    return convertToColorString(color2);
  }
  function getPaddingFromTooltipModel(model, renderMode) {
    var padding = model.get("padding");
    return padding != null ? padding : renderMode === "richText" ? [8, 10] : 10;
  }
  var TooltipMarkupStyleCreator = function() {
    function TooltipMarkupStyleCreator2() {
      this.richTextStyles = {};
      this._nextStyleNameId = getRandomIdBase();
    }
    TooltipMarkupStyleCreator2.prototype._generateStyleName = function() {
      return "__EC_aUTo_" + this._nextStyleNameId++;
    };
    TooltipMarkupStyleCreator2.prototype.makeTooltipMarker = function(markerType, colorStr, renderMode) {
      var markerId = renderMode === "richText" ? this._generateStyleName() : null;
      var marker = getTooltipMarker({
        color: colorStr,
        type: markerType,
        renderMode,
        markerId
      });
      if (isString(marker)) {
        return marker;
      } else {
        {
          assert(markerId);
        }
        this.richTextStyles[markerId] = marker.style;
        return marker.content;
      }
    };
    TooltipMarkupStyleCreator2.prototype.wrapRichTextStyle = function(text, styles) {
      var finalStl = {};
      if (isArray(styles)) {
        each$3(styles, function(stl) {
          return extend(finalStl, stl);
        });
      } else {
        extend(finalStl, styles);
      }
      var styleName = this._generateStyleName();
      this.richTextStyles[styleName] = finalStl;
      return "{" + styleName + "|" + text + "}";
    };
    return TooltipMarkupStyleCreator2;
  }();
  function defaultSeriesFormatTooltip(opt) {
    var series = opt.series;
    var dataIndex = opt.dataIndex;
    var multipleSeries = opt.multipleSeries;
    var data = series.getData();
    var tooltipDims = data.mapDimensionsAll("defaultedTooltip");
    var tooltipDimLen = tooltipDims.length;
    var value = series.getRawValue(dataIndex);
    var isValueArr = isArray(value);
    var markerColor = retrieveVisualColorForTooltipMarker(series, dataIndex);
    var inlineValue;
    var inlineValueType;
    var subBlocks;
    var sortParam;
    if (tooltipDimLen > 1 || isValueArr && !tooltipDimLen) {
      var formatArrResult = formatTooltipArrayValue(value, series, dataIndex, tooltipDims, markerColor);
      inlineValue = formatArrResult.inlineValues;
      inlineValueType = formatArrResult.inlineValueTypes;
      subBlocks = formatArrResult.blocks;
      sortParam = formatArrResult.inlineValues[0];
    } else if (tooltipDimLen) {
      var dimInfo = data.getDimensionInfo(tooltipDims[0]);
      sortParam = inlineValue = retrieveRawValue(data, dataIndex, tooltipDims[0]);
      inlineValueType = dimInfo.type;
    } else {
      sortParam = inlineValue = isValueArr ? value[0] : value;
    }
    var seriesNameSpecified = isNameSpecified(series);
    var seriesName = seriesNameSpecified && series.name || "";
    var itemName = data.getName(dataIndex);
    var inlineName = multipleSeries ? seriesName : itemName;
    return createTooltipMarkup("section", {
      header: seriesName,
      noHeader: multipleSeries || !seriesNameSpecified,
      sortParam,
      blocks: [createTooltipMarkup("nameValue", {
        markerType: "item",
        markerColor,
        name: inlineName,
        noName: !trim(inlineName),
        value: inlineValue,
        valueType: inlineValueType
      })].concat(subBlocks || [])
    });
  }
  function formatTooltipArrayValue(value, series, dataIndex, tooltipDims, colorStr) {
    var data = series.getData();
    var isValueMultipleLine = reduce(value, function(isValueMultipleLine2, val, idx) {
      var dimItem = data.getDimensionInfo(idx);
      return isValueMultipleLine2 = isValueMultipleLine2 || dimItem && dimItem.tooltip !== false && dimItem.displayName != null;
    }, false);
    var inlineValues = [];
    var inlineValueTypes = [];
    var blocks = [];
    tooltipDims.length ? each$3(tooltipDims, function(dim) {
      setEachItem(retrieveRawValue(data, dataIndex, dim), dim);
    }) : each$3(value, setEachItem);
    function setEachItem(val, dim) {
      var dimInfo = data.getDimensionInfo(dim);
      if (!dimInfo || dimInfo.otherDims.tooltip === false) {
        return;
      }
      if (isValueMultipleLine) {
        blocks.push(createTooltipMarkup("nameValue", {
          markerType: "subItem",
          markerColor: colorStr,
          name: dimInfo.displayName,
          value: val,
          valueType: dimInfo.type
        }));
      } else {
        inlineValues.push(val);
        inlineValueTypes.push(dimInfo.type);
      }
    }
    return {
      inlineValues,
      inlineValueTypes,
      blocks
    };
  }
  var inner$8 = makeInner();
  function getSelectionKey(data, dataIndex) {
    return data.getName(dataIndex) || data.getId(dataIndex);
  }
  var SERIES_UNIVERSAL_TRANSITION_PROP = "__universalTransitionEnabled";
  var SeriesModel = function(_super) {
    __extends(SeriesModel2, _super);
    function SeriesModel2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this._selectedDataIndicesMap = {};
      return _this;
    }
    SeriesModel2.prototype.init = function(option, parentModel, ecModel) {
      this.seriesIndex = this.componentIndex;
      this.dataTask = createTask({
        count: dataTaskCount,
        reset: dataTaskReset
      });
      this.dataTask.context = {
        model: this
      };
      this.mergeDefaultAndTheme(option, ecModel);
      var sourceManager = inner$8(this).sourceManager = new SourceManager(this);
      sourceManager.prepareSource();
      var data = this.getInitialData(option, ecModel);
      wrapData(data, this);
      this.dataTask.context.data = data;
      {
        assert(data, "getInitialData returned invalid data.");
      }
      inner$8(this).dataBeforeProcessed = data;
      autoSeriesName(this);
      this._initSelectedMapFromData(data);
    };
    SeriesModel2.prototype.mergeDefaultAndTheme = function(option, ecModel) {
      var layoutMode = fetchLayoutMode(this);
      var inputPositionParams = layoutMode ? getLayoutParams(option) : {};
      var themeSubType = this.subType;
      if (ComponentModel$1.hasClass(themeSubType)) {
        themeSubType += "Series";
      }
      merge(option, ecModel.getTheme().get(this.subType));
      merge(option, this.getDefaultOption());
      defaultEmphasis(option, "label", ["show"]);
      this.fillDataTextStyle(option.data);
      if (layoutMode) {
        mergeLayoutParam(option, inputPositionParams, layoutMode);
      }
    };
    SeriesModel2.prototype.mergeOption = function(newSeriesOption, ecModel) {
      newSeriesOption = merge(this.option, newSeriesOption, true);
      this.fillDataTextStyle(newSeriesOption.data);
      var layoutMode = fetchLayoutMode(this);
      if (layoutMode) {
        mergeLayoutParam(this.option, newSeriesOption, layoutMode);
      }
      var sourceManager = inner$8(this).sourceManager;
      sourceManager.dirty();
      sourceManager.prepareSource();
      var data = this.getInitialData(newSeriesOption, ecModel);
      wrapData(data, this);
      this.dataTask.dirty();
      this.dataTask.context.data = data;
      inner$8(this).dataBeforeProcessed = data;
      autoSeriesName(this);
      this._initSelectedMapFromData(data);
    };
    SeriesModel2.prototype.fillDataTextStyle = function(data) {
      if (data && !isTypedArray(data)) {
        var props = ["show"];
        for (var i2 = 0; i2 < data.length; i2++) {
          if (data[i2] && data[i2].label) {
            defaultEmphasis(data[i2], "label", props);
          }
        }
      }
    };
    SeriesModel2.prototype.getInitialData = function(option, ecModel) {
      return;
    };
    SeriesModel2.prototype.appendData = function(params) {
      var data = this.getRawData();
      data.appendData(params.data);
    };
    SeriesModel2.prototype.getData = function(dataType) {
      var task = getCurrentTask(this);
      if (task) {
        var data = task.context.data;
        return dataType == null ? data : data.getLinkedData(dataType);
      } else {
        return inner$8(this).data;
      }
    };
    SeriesModel2.prototype.getAllData = function() {
      var mainData = this.getData();
      return mainData && mainData.getLinkedDataAll ? mainData.getLinkedDataAll() : [{
        data: mainData
      }];
    };
    SeriesModel2.prototype.setData = function(data) {
      var task = getCurrentTask(this);
      if (task) {
        var context = task.context;
        context.outputData = data;
        if (task !== this.dataTask) {
          context.data = data;
        }
      }
      inner$8(this).data = data;
    };
    SeriesModel2.prototype.getEncode = function() {
      var encode = this.get("encode", true);
      if (encode) {
        return createHashMap(encode);
      }
    };
    SeriesModel2.prototype.getSourceManager = function() {
      return inner$8(this).sourceManager;
    };
    SeriesModel2.prototype.getSource = function() {
      return this.getSourceManager().getSource();
    };
    SeriesModel2.prototype.getRawData = function() {
      return inner$8(this).dataBeforeProcessed;
    };
    SeriesModel2.prototype.getColorBy = function() {
      var colorBy = this.get("colorBy");
      return colorBy || "series";
    };
    SeriesModel2.prototype.isColorBySeries = function() {
      return this.getColorBy() === "series";
    };
    SeriesModel2.prototype.getBaseAxis = function() {
      var coordSys = this.coordinateSystem;
      return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();
    };
    SeriesModel2.prototype.formatTooltip = function(dataIndex, multipleSeries, dataType) {
      return defaultSeriesFormatTooltip({
        series: this,
        dataIndex,
        multipleSeries
      });
    };
    SeriesModel2.prototype.isAnimationEnabled = function() {
      var ecModel = this.ecModel;
      if (env$1.node && !(ecModel && ecModel.ssr)) {
        return false;
      }
      var animationEnabled = this.getShallow("animation");
      if (animationEnabled) {
        if (this.getData().count() > this.getShallow("animationThreshold")) {
          animationEnabled = false;
        }
      }
      return !!animationEnabled;
    };
    SeriesModel2.prototype.restoreData = function() {
      this.dataTask.dirty();
    };
    SeriesModel2.prototype.getColorFromPalette = function(name, scope, requestColorNum) {
      var ecModel = this.ecModel;
      var color2 = PaletteMixin.prototype.getColorFromPalette.call(this, name, scope, requestColorNum);
      if (!color2) {
        color2 = ecModel.getColorFromPalette(name, scope, requestColorNum);
      }
      return color2;
    };
    SeriesModel2.prototype.coordDimToDataDim = function(coordDim) {
      return this.getRawData().mapDimensionsAll(coordDim);
    };
    SeriesModel2.prototype.getProgressive = function() {
      return this.get("progressive");
    };
    SeriesModel2.prototype.getProgressiveThreshold = function() {
      return this.get("progressiveThreshold");
    };
    SeriesModel2.prototype.select = function(innerDataIndices, dataType) {
      this._innerSelect(this.getData(dataType), innerDataIndices);
    };
    SeriesModel2.prototype.unselect = function(innerDataIndices, dataType) {
      var selectedMap = this.option.selectedMap;
      if (!selectedMap) {
        return;
      }
      var selectedMode = this.option.selectedMode;
      var data = this.getData(dataType);
      if (selectedMode === "series" || selectedMap === "all") {
        this.option.selectedMap = {};
        this._selectedDataIndicesMap = {};
        return;
      }
      for (var i2 = 0; i2 < innerDataIndices.length; i2++) {
        var dataIndex = innerDataIndices[i2];
        var nameOrId = getSelectionKey(data, dataIndex);
        selectedMap[nameOrId] = false;
        this._selectedDataIndicesMap[nameOrId] = -1;
      }
    };
    SeriesModel2.prototype.toggleSelect = function(innerDataIndices, dataType) {
      var tmpArr = [];
      for (var i2 = 0; i2 < innerDataIndices.length; i2++) {
        tmpArr[0] = innerDataIndices[i2];
        this.isSelected(innerDataIndices[i2], dataType) ? this.unselect(tmpArr, dataType) : this.select(tmpArr, dataType);
      }
    };
    SeriesModel2.prototype.getSelectedDataIndices = function() {
      if (this.option.selectedMap === "all") {
        return [].slice.call(this.getData().getIndices());
      }
      var selectedDataIndicesMap = this._selectedDataIndicesMap;
      var nameOrIds = keys(selectedDataIndicesMap);
      var dataIndices = [];
      for (var i2 = 0; i2 < nameOrIds.length; i2++) {
        var dataIndex = selectedDataIndicesMap[nameOrIds[i2]];
        if (dataIndex >= 0) {
          dataIndices.push(dataIndex);
        }
      }
      return dataIndices;
    };
    SeriesModel2.prototype.isSelected = function(dataIndex, dataType) {
      var selectedMap = this.option.selectedMap;
      if (!selectedMap) {
        return false;
      }
      var data = this.getData(dataType);
      return (selectedMap === "all" || selectedMap[getSelectionKey(data, dataIndex)]) && !data.getItemModel(dataIndex).get(["select", "disabled"]);
    };
    SeriesModel2.prototype.isUniversalTransitionEnabled = function() {
      if (this[SERIES_UNIVERSAL_TRANSITION_PROP]) {
        return true;
      }
      var universalTransitionOpt = this.option.universalTransition;
      if (!universalTransitionOpt) {
        return false;
      }
      if (universalTransitionOpt === true) {
        return true;
      }
      return universalTransitionOpt && universalTransitionOpt.enabled;
    };
    SeriesModel2.prototype._innerSelect = function(data, innerDataIndices) {
      var _a2, _b2;
      var option = this.option;
      var selectedMode = option.selectedMode;
      var len2 = innerDataIndices.length;
      if (!selectedMode || !len2) {
        return;
      }
      if (selectedMode === "series") {
        option.selectedMap = "all";
      } else if (selectedMode === "multiple") {
        if (!isObject$2(option.selectedMap)) {
          option.selectedMap = {};
        }
        var selectedMap = option.selectedMap;
        for (var i2 = 0; i2 < len2; i2++) {
          var dataIndex = innerDataIndices[i2];
          var nameOrId = getSelectionKey(data, dataIndex);
          selectedMap[nameOrId] = true;
          this._selectedDataIndicesMap[nameOrId] = data.getRawIndex(dataIndex);
        }
      } else if (selectedMode === "single" || selectedMode === true) {
        var lastDataIndex = innerDataIndices[len2 - 1];
        var nameOrId = getSelectionKey(data, lastDataIndex);
        option.selectedMap = (_a2 = {}, _a2[nameOrId] = true, _a2);
        this._selectedDataIndicesMap = (_b2 = {}, _b2[nameOrId] = data.getRawIndex(lastDataIndex), _b2);
      }
    };
    SeriesModel2.prototype._initSelectedMapFromData = function(data) {
      if (this.option.selectedMap) {
        return;
      }
      var dataIndices = [];
      if (data.hasItemOption) {
        data.each(function(idx) {
          var rawItem = data.getRawDataItem(idx);
          if (rawItem && rawItem.selected) {
            dataIndices.push(idx);
          }
        });
      }
      if (dataIndices.length > 0) {
        this._innerSelect(data, dataIndices);
      }
    };
    SeriesModel2.registerClass = function(clz) {
      return ComponentModel$1.registerClass(clz);
    };
    SeriesModel2.protoInitialize = function() {
      var proto2 = SeriesModel2.prototype;
      proto2.type = "series.__base__";
      proto2.seriesIndex = 0;
      proto2.ignoreStyleOnData = false;
      proto2.hasSymbolVisual = false;
      proto2.defaultSymbol = "circle";
      proto2.visualStyleAccessPath = "itemStyle";
      proto2.visualDrawType = "fill";
    }();
    return SeriesModel2;
  }(ComponentModel$1);
  mixin(SeriesModel, DataFormatMixin);
  mixin(SeriesModel, PaletteMixin);
  mountExtend(SeriesModel, ComponentModel$1);
  function autoSeriesName(seriesModel) {
    var name = seriesModel.name;
    if (!isNameSpecified(seriesModel)) {
      seriesModel.name = getSeriesAutoName(seriesModel) || name;
    }
  }
  function getSeriesAutoName(seriesModel) {
    var data = seriesModel.getRawData();
    var dataDims = data.mapDimensionsAll("seriesName");
    var nameArr = [];
    each$3(dataDims, function(dataDim) {
      var dimInfo = data.getDimensionInfo(dataDim);
      dimInfo.displayName && nameArr.push(dimInfo.displayName);
    });
    return nameArr.join(" ");
  }
  function dataTaskCount(context) {
    return context.model.getRawData().count();
  }
  function dataTaskReset(context) {
    var seriesModel = context.model;
    seriesModel.setData(seriesModel.getRawData().cloneShallow());
    return dataTaskProgress;
  }
  function dataTaskProgress(param, context) {
    if (context.outputData && param.end > context.outputData.count()) {
      context.model.getRawData().cloneShallow(context.outputData);
    }
  }
  function wrapData(data, seriesModel) {
    each$3(concatArray(data.CHANGABLE_METHODS, data.DOWNSAMPLE_METHODS), function(methodName) {
      data.wrapMethod(methodName, curry(onDataChange, seriesModel));
    });
  }
  function onDataChange(seriesModel, newList) {
    var task = getCurrentTask(seriesModel);
    if (task) {
      task.setOutputEnd((newList || this).count());
    }
    return newList;
  }
  function getCurrentTask(seriesModel) {
    var scheduler = (seriesModel.ecModel || {}).scheduler;
    var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);
    if (pipeline) {
      var task = pipeline.currentTask;
      if (task) {
        var agentStubMap = task.agentStubMap;
        if (agentStubMap) {
          task = agentStubMap.get(seriesModel.uid);
        }
      }
      return task;
    }
  }
  var SeriesModel$1 = SeriesModel;
  var ComponentView = function() {
    function ComponentView2() {
      this.group = new Group$1();
      this.uid = getUID("viewComponent");
    }
    ComponentView2.prototype.init = function(ecModel, api) {
    };
    ComponentView2.prototype.render = function(model, ecModel, api, payload) {
    };
    ComponentView2.prototype.dispose = function(ecModel, api) {
    };
    ComponentView2.prototype.updateView = function(model, ecModel, api, payload) {
    };
    ComponentView2.prototype.updateLayout = function(model, ecModel, api, payload) {
    };
    ComponentView2.prototype.updateVisual = function(model, ecModel, api, payload) {
    };
    ComponentView2.prototype.toggleBlurSeries = function(seriesModels, isBlur, ecModel) {
    };
    ComponentView2.prototype.eachRendered = function(cb) {
      var group = this.group;
      if (group) {
        group.traverse(cb);
      }
    };
    return ComponentView2;
  }();
  enableClassExtend(ComponentView);
  enableClassManagement(ComponentView);
  var ComponentView$1 = ComponentView;
  function createRenderPlanner() {
    var inner2 = makeInner();
    return function(seriesModel) {
      var fields = inner2(seriesModel);
      var pipelineContext = seriesModel.pipelineContext;
      var originalLarge = !!fields.large;
      var originalProgressive = !!fields.progressiveRender;
      var large = fields.large = !!(pipelineContext && pipelineContext.large);
      var progressive = fields.progressiveRender = !!(pipelineContext && pipelineContext.progressiveRender);
      return !!(originalLarge !== large || originalProgressive !== progressive) && "reset";
    };
  }
  var inner$7 = makeInner();
  var renderPlanner = createRenderPlanner();
  var ChartView = function() {
    function ChartView2() {
      this.group = new Group$1();
      this.uid = getUID("viewChart");
      this.renderTask = createTask({
        plan: renderTaskPlan,
        reset: renderTaskReset
      });
      this.renderTask.context = {
        view: this
      };
    }
    ChartView2.prototype.init = function(ecModel, api) {
    };
    ChartView2.prototype.render = function(seriesModel, ecModel, api, payload) {
      {
        throw new Error("render method must been implemented");
      }
    };
    ChartView2.prototype.highlight = function(seriesModel, ecModel, api, payload) {
      var data = seriesModel.getData(payload && payload.dataType);
      if (!data) {
        {
          error("Unknown dataType " + payload.dataType);
        }
        return;
      }
      toggleHighlight(data, payload, "emphasis");
    };
    ChartView2.prototype.downplay = function(seriesModel, ecModel, api, payload) {
      var data = seriesModel.getData(payload && payload.dataType);
      if (!data) {
        {
          error("Unknown dataType " + payload.dataType);
        }
        return;
      }
      toggleHighlight(data, payload, "normal");
    };
    ChartView2.prototype.remove = function(ecModel, api) {
      this.group.removeAll();
    };
    ChartView2.prototype.dispose = function(ecModel, api) {
    };
    ChartView2.prototype.updateView = function(seriesModel, ecModel, api, payload) {
      this.render(seriesModel, ecModel, api, payload);
    };
    ChartView2.prototype.updateLayout = function(seriesModel, ecModel, api, payload) {
      this.render(seriesModel, ecModel, api, payload);
    };
    ChartView2.prototype.updateVisual = function(seriesModel, ecModel, api, payload) {
      this.render(seriesModel, ecModel, api, payload);
    };
    ChartView2.prototype.eachRendered = function(cb) {
      traverseElements(this.group, cb);
    };
    ChartView2.markUpdateMethod = function(payload, methodName) {
      inner$7(payload).updateMethod = methodName;
    };
    ChartView2.protoInitialize = function() {
      var proto2 = ChartView2.prototype;
      proto2.type = "chart";
    }();
    return ChartView2;
  }();
  function elSetState(el, state, highlightDigit) {
    if (el && isHighDownDispatcher(el)) {
      (state === "emphasis" ? enterEmphasis : leaveEmphasis)(el, highlightDigit);
    }
  }
  function toggleHighlight(data, payload, state) {
    var dataIndex = queryDataIndex(data, payload);
    var highlightDigit = payload && payload.highlightKey != null ? getHighlightDigit(payload.highlightKey) : null;
    if (dataIndex != null) {
      each$3(normalizeToArray(dataIndex), function(dataIdx) {
        elSetState(data.getItemGraphicEl(dataIdx), state, highlightDigit);
      });
    } else {
      data.eachItemGraphicEl(function(el) {
        elSetState(el, state, highlightDigit);
      });
    }
  }
  enableClassExtend(ChartView, ["dispose"]);
  enableClassManagement(ChartView);
  function renderTaskPlan(context) {
    return renderPlanner(context.model);
  }
  function renderTaskReset(context) {
    var seriesModel = context.model;
    var ecModel = context.ecModel;
    var api = context.api;
    var payload = context.payload;
    var progressiveRender = seriesModel.pipelineContext.progressiveRender;
    var view = context.view;
    var updateMethod = payload && inner$7(payload).updateMethod;
    var methodName = progressiveRender ? "incrementalPrepareRender" : updateMethod && view[updateMethod] ? updateMethod : "render";
    if (methodName !== "render") {
      view[methodName](seriesModel, ecModel, api, payload);
    }
    return progressMethodMap[methodName];
  }
  var progressMethodMap = {
    incrementalPrepareRender: {
      progress: function(params, context) {
        context.view.incrementalRender(params, context.model, context.ecModel, context.api, context.payload);
      }
    },
    render: {
      forceFirstProgress: true,
      progress: function(params, context) {
        context.view.render(context.model, context.ecModel, context.api, context.payload);
      }
    }
  };
  var ChartView$1 = ChartView;
  var ORIGIN_METHOD = "\0__throttleOriginMethod";
  var RATE = "\0__throttleRate";
  var THROTTLE_TYPE = "\0__throttleType";
  function throttle(fn2, delay, debounce) {
    var currCall;
    var lastCall = 0;
    var lastExec = 0;
    var timer = null;
    var diff;
    var scope;
    var args;
    var debounceNextCall;
    delay = delay || 0;
    function exec() {
      lastExec = new Date().getTime();
      timer = null;
      fn2.apply(scope, args || []);
    }
    var cb = function() {
      var cbArgs = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        cbArgs[_i] = arguments[_i];
      }
      currCall = new Date().getTime();
      scope = this;
      args = cbArgs;
      var thisDelay = debounceNextCall || delay;
      var thisDebounce = debounceNextCall || debounce;
      debounceNextCall = null;
      diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;
      clearTimeout(timer);
      if (thisDebounce) {
        timer = setTimeout(exec, thisDelay);
      } else {
        if (diff >= 0) {
          exec();
        } else {
          timer = setTimeout(exec, -diff);
        }
      }
      lastCall = currCall;
    };
    cb.clear = function() {
      if (timer) {
        clearTimeout(timer);
        timer = null;
      }
    };
    cb.debounceNextCall = function(debounceDelay) {
      debounceNextCall = debounceDelay;
    };
    return cb;
  }
  function createOrUpdate(obj, fnAttr, rate, throttleType) {
    var fn2 = obj[fnAttr];
    if (!fn2) {
      return;
    }
    var originFn = fn2[ORIGIN_METHOD] || fn2;
    var lastThrottleType = fn2[THROTTLE_TYPE];
    var lastRate = fn2[RATE];
    if (lastRate !== rate || lastThrottleType !== throttleType) {
      if (rate == null || !throttleType) {
        return obj[fnAttr] = originFn;
      }
      fn2 = obj[fnAttr] = throttle(originFn, rate, throttleType === "debounce");
      fn2[ORIGIN_METHOD] = originFn;
      fn2[THROTTLE_TYPE] = throttleType;
      fn2[RATE] = rate;
    }
    return fn2;
  }
  function clear(obj, fnAttr) {
    var fn2 = obj[fnAttr];
    if (fn2 && fn2[ORIGIN_METHOD]) {
      fn2.clear && fn2.clear();
      obj[fnAttr] = fn2[ORIGIN_METHOD];
    }
  }
  var inner$6 = makeInner();
  var defaultStyleMappers = {
    itemStyle: makeStyleMapper(ITEM_STYLE_KEY_MAP, true),
    lineStyle: makeStyleMapper(LINE_STYLE_KEY_MAP, true)
  };
  var defaultColorKey = {
    lineStyle: "stroke",
    itemStyle: "fill"
  };
  function getStyleMapper(seriesModel, stylePath) {
    var styleMapper = seriesModel.visualStyleMapper || defaultStyleMappers[stylePath];
    if (!styleMapper) {
      formatAppLog("warn", "at node_modules/echarts/lib/visual/style.js:64", "Unknown style type '" + stylePath + "'.");
      return defaultStyleMappers.itemStyle;
    }
    return styleMapper;
  }
  function getDefaultColorKey(seriesModel, stylePath) {
    var colorKey = seriesModel.visualDrawType || defaultColorKey[stylePath];
    if (!colorKey) {
      formatAppLog("warn", "at node_modules/echarts/lib/visual/style.js:76", "Unknown style type '" + stylePath + "'.");
      return "fill";
    }
    return colorKey;
  }
  var seriesStyleTask = {
    createOnAllSeries: true,
    performRawSeries: true,
    reset: function(seriesModel, ecModel) {
      var data = seriesModel.getData();
      var stylePath = seriesModel.visualStyleAccessPath || "itemStyle";
      var styleModel = seriesModel.getModel(stylePath);
      var getStyle2 = getStyleMapper(seriesModel, stylePath);
      var globalStyle2 = getStyle2(styleModel);
      var decalOption = styleModel.getShallow("decal");
      if (decalOption) {
        data.setVisual("decal", decalOption);
        decalOption.dirty = true;
      }
      var colorKey = getDefaultColorKey(seriesModel, stylePath);
      var color2 = globalStyle2[colorKey];
      var colorCallback = isFunction(color2) ? color2 : null;
      var hasAutoColor = globalStyle2.fill === "auto" || globalStyle2.stroke === "auto";
      if (!globalStyle2[colorKey] || colorCallback || hasAutoColor) {
        var colorPalette2 = seriesModel.getColorFromPalette(seriesModel.name, null, ecModel.getSeriesCount());
        if (!globalStyle2[colorKey]) {
          globalStyle2[colorKey] = colorPalette2;
          data.setVisual("colorFromPalette", true);
        }
        globalStyle2.fill = globalStyle2.fill === "auto" || isFunction(globalStyle2.fill) ? colorPalette2 : globalStyle2.fill;
        globalStyle2.stroke = globalStyle2.stroke === "auto" || isFunction(globalStyle2.stroke) ? colorPalette2 : globalStyle2.stroke;
      }
      data.setVisual("style", globalStyle2);
      data.setVisual("drawType", colorKey);
      if (!ecModel.isSeriesFiltered(seriesModel) && colorCallback) {
        data.setVisual("colorFromPalette", false);
        return {
          dataEach: function(data2, idx) {
            var dataParams = seriesModel.getDataParams(idx);
            var itemStyle = extend({}, globalStyle2);
            itemStyle[colorKey] = colorCallback(dataParams);
            data2.setItemVisual(idx, "style", itemStyle);
          }
        };
      }
    }
  };
  var sharedModel = new Model$1();
  var dataStyleTask = {
    createOnAllSeries: true,
    performRawSeries: true,
    reset: function(seriesModel, ecModel) {
      if (seriesModel.ignoreStyleOnData || ecModel.isSeriesFiltered(seriesModel)) {
        return;
      }
      var data = seriesModel.getData();
      var stylePath = seriesModel.visualStyleAccessPath || "itemStyle";
      var getStyle2 = getStyleMapper(seriesModel, stylePath);
      var colorKey = data.getVisual("drawType");
      return {
        dataEach: data.hasItemOption ? function(data2, idx) {
          var rawItem = data2.getRawDataItem(idx);
          if (rawItem && rawItem[stylePath]) {
            sharedModel.option = rawItem[stylePath];
            var style = getStyle2(sharedModel);
            var existsStyle = data2.ensureUniqueItemVisual(idx, "style");
            extend(existsStyle, style);
            if (sharedModel.option.decal) {
              data2.setItemVisual(idx, "decal", sharedModel.option.decal);
              sharedModel.option.decal.dirty = true;
            }
            if (colorKey in style) {
              data2.setItemVisual(idx, "colorFromPalette", false);
            }
          }
        } : null
      };
    }
  };
  var dataColorPaletteTask = {
    performRawSeries: true,
    overallReset: function(ecModel) {
      var paletteScopeGroupByType = createHashMap();
      ecModel.eachSeries(function(seriesModel) {
        var colorBy = seriesModel.getColorBy();
        if (seriesModel.isColorBySeries()) {
          return;
        }
        var key = seriesModel.type + "-" + colorBy;
        var colorScope = paletteScopeGroupByType.get(key);
        if (!colorScope) {
          colorScope = {};
          paletteScopeGroupByType.set(key, colorScope);
        }
        inner$6(seriesModel).scope = colorScope;
      });
      ecModel.eachSeries(function(seriesModel) {
        if (seriesModel.isColorBySeries() || ecModel.isSeriesFiltered(seriesModel)) {
          return;
        }
        var dataAll = seriesModel.getRawData();
        var idxMap = {};
        var data = seriesModel.getData();
        var colorScope = inner$6(seriesModel).scope;
        var stylePath = seriesModel.visualStyleAccessPath || "itemStyle";
        var colorKey = getDefaultColorKey(seriesModel, stylePath);
        data.each(function(idx) {
          var rawIdx = data.getRawIndex(idx);
          idxMap[rawIdx] = idx;
        });
        dataAll.each(function(rawIdx) {
          var idx = idxMap[rawIdx];
          var fromPalette = data.getItemVisual(idx, "colorFromPalette");
          if (fromPalette) {
            var itemStyle = data.ensureUniqueItemVisual(idx, "style");
            var name_1 = dataAll.getName(rawIdx) || rawIdx + "";
            var dataCount = dataAll.count();
            itemStyle[colorKey] = seriesModel.getColorFromPalette(name_1, colorScope, dataCount);
          }
        });
      });
    }
  };
  var PI$1 = Math.PI;
  function defaultLoading(api, opts) {
    opts = opts || {};
    defaults(opts, {
      text: "loading",
      textColor: "#000",
      fontSize: 12,
      fontWeight: "normal",
      fontStyle: "normal",
      fontFamily: "sans-serif",
      maskColor: "rgba(255, 255, 255, 0.8)",
      showSpinner: true,
      color: "#5470c6",
      spinnerRadius: 10,
      lineWidth: 5,
      zlevel: 0
    });
    var group = new Group$1();
    var mask = new Rect$1({
      style: {
        fill: opts.maskColor
      },
      zlevel: opts.zlevel,
      z: 1e4
    });
    group.add(mask);
    var textContent = new ZRText$1({
      style: {
        text: opts.text,
        fill: opts.textColor,
        fontSize: opts.fontSize,
        fontWeight: opts.fontWeight,
        fontStyle: opts.fontStyle,
        fontFamily: opts.fontFamily
      },
      zlevel: opts.zlevel,
      z: 10001
    });
    var labelRect = new Rect$1({
      style: {
        fill: "none"
      },
      textContent,
      textConfig: {
        position: "right",
        distance: 10
      },
      zlevel: opts.zlevel,
      z: 10001
    });
    group.add(labelRect);
    var arc;
    if (opts.showSpinner) {
      arc = new Arc$1({
        shape: {
          startAngle: -PI$1 / 2,
          endAngle: -PI$1 / 2 + 0.1,
          r: opts.spinnerRadius
        },
        style: {
          stroke: opts.color,
          lineCap: "round",
          lineWidth: opts.lineWidth
        },
        zlevel: opts.zlevel,
        z: 10001
      });
      arc.animateShape(true).when(1e3, {
        endAngle: PI$1 * 3 / 2
      }).start("circularInOut");
      arc.animateShape(true).when(1e3, {
        startAngle: PI$1 * 3 / 2
      }).delay(300).start("circularInOut");
      group.add(arc);
    }
    group.resize = function() {
      var textWidth = textContent.getBoundingRect().width;
      var r2 = opts.showSpinner ? opts.spinnerRadius : 0;
      var cx = (api.getWidth() - r2 * 2 - (opts.showSpinner && textWidth ? 10 : 0) - textWidth) / 2 - (opts.showSpinner && textWidth ? 0 : 5 + textWidth / 2) + (opts.showSpinner ? 0 : textWidth / 2) + (textWidth ? 0 : r2);
      var cy = api.getHeight() / 2;
      opts.showSpinner && arc.setShape({
        cx,
        cy
      });
      labelRect.setShape({
        x: cx - r2,
        y: cy - r2,
        width: r2 * 2,
        height: r2 * 2
      });
      mask.setShape({
        x: 0,
        y: 0,
        width: api.getWidth(),
        height: api.getHeight()
      });
    };
    group.resize();
    return group;
  }
  var Scheduler = function() {
    function Scheduler2(ecInstance, api, dataProcessorHandlers, visualHandlers) {
      this._stageTaskMap = createHashMap();
      this.ecInstance = ecInstance;
      this.api = api;
      dataProcessorHandlers = this._dataProcessorHandlers = dataProcessorHandlers.slice();
      visualHandlers = this._visualHandlers = visualHandlers.slice();
      this._allHandlers = dataProcessorHandlers.concat(visualHandlers);
    }
    Scheduler2.prototype.restoreData = function(ecModel, payload) {
      ecModel.restoreData(payload);
      this._stageTaskMap.each(function(taskRecord) {
        var overallTask = taskRecord.overallTask;
        overallTask && overallTask.dirty();
      });
    };
    Scheduler2.prototype.getPerformArgs = function(task, isBlock) {
      if (!task.__pipeline) {
        return;
      }
      var pipeline = this._pipelineMap.get(task.__pipeline.id);
      var pCtx = pipeline.context;
      var incremental = !isBlock && pipeline.progressiveEnabled && (!pCtx || pCtx.progressiveRender) && task.__idxInPipeline > pipeline.blockIndex;
      var step = incremental ? pipeline.step : null;
      var modDataCount = pCtx && pCtx.modDataCount;
      var modBy = modDataCount != null ? Math.ceil(modDataCount / step) : null;
      return {
        step,
        modBy,
        modDataCount
      };
    };
    Scheduler2.prototype.getPipeline = function(pipelineId) {
      return this._pipelineMap.get(pipelineId);
    };
    Scheduler2.prototype.updateStreamModes = function(seriesModel, view) {
      var pipeline = this._pipelineMap.get(seriesModel.uid);
      var data = seriesModel.getData();
      var dataLen = data.count();
      var progressiveRender = pipeline.progressiveEnabled && view.incrementalPrepareRender && dataLen >= pipeline.threshold;
      var large = seriesModel.get("large") && dataLen >= seriesModel.get("largeThreshold");
      var modDataCount = seriesModel.get("progressiveChunkMode") === "mod" ? dataLen : null;
      seriesModel.pipelineContext = pipeline.context = {
        progressiveRender,
        modDataCount,
        large
      };
    };
    Scheduler2.prototype.restorePipelines = function(ecModel) {
      var scheduler = this;
      var pipelineMap = scheduler._pipelineMap = createHashMap();
      ecModel.eachSeries(function(seriesModel) {
        var progressive = seriesModel.getProgressive();
        var pipelineId = seriesModel.uid;
        pipelineMap.set(pipelineId, {
          id: pipelineId,
          head: null,
          tail: null,
          threshold: seriesModel.getProgressiveThreshold(),
          progressiveEnabled: progressive && !(seriesModel.preventIncremental && seriesModel.preventIncremental()),
          blockIndex: -1,
          step: Math.round(progressive || 700),
          count: 0
        });
        scheduler._pipe(seriesModel, seriesModel.dataTask);
      });
    };
    Scheduler2.prototype.prepareStageTasks = function() {
      var stageTaskMap = this._stageTaskMap;
      var ecModel = this.api.getModel();
      var api = this.api;
      each$3(this._allHandlers, function(handler) {
        var record = stageTaskMap.get(handler.uid) || stageTaskMap.set(handler.uid, {});
        var errMsg = "";
        {
          errMsg = '"reset" and "overallReset" must not be both specified.';
        }
        assert(!(handler.reset && handler.overallReset), errMsg);
        handler.reset && this._createSeriesStageTask(handler, record, ecModel, api);
        handler.overallReset && this._createOverallStageTask(handler, record, ecModel, api);
      }, this);
    };
    Scheduler2.prototype.prepareView = function(view, model, ecModel, api) {
      var renderTask = view.renderTask;
      var context = renderTask.context;
      context.model = model;
      context.ecModel = ecModel;
      context.api = api;
      renderTask.__block = !view.incrementalPrepareRender;
      this._pipe(model, renderTask);
    };
    Scheduler2.prototype.performDataProcessorTasks = function(ecModel, payload) {
      this._performStageTasks(this._dataProcessorHandlers, ecModel, payload, {
        block: true
      });
    };
    Scheduler2.prototype.performVisualTasks = function(ecModel, payload, opt) {
      this._performStageTasks(this._visualHandlers, ecModel, payload, opt);
    };
    Scheduler2.prototype._performStageTasks = function(stageHandlers, ecModel, payload, opt) {
      opt = opt || {};
      var unfinished = false;
      var scheduler = this;
      each$3(stageHandlers, function(stageHandler, idx) {
        if (opt.visualType && opt.visualType !== stageHandler.visualType) {
          return;
        }
        var stageHandlerRecord = scheduler._stageTaskMap.get(stageHandler.uid);
        var seriesTaskMap = stageHandlerRecord.seriesTaskMap;
        var overallTask = stageHandlerRecord.overallTask;
        if (overallTask) {
          var overallNeedDirty_1;
          var agentStubMap = overallTask.agentStubMap;
          agentStubMap.each(function(stub) {
            if (needSetDirty(opt, stub)) {
              stub.dirty();
              overallNeedDirty_1 = true;
            }
          });
          overallNeedDirty_1 && overallTask.dirty();
          scheduler.updatePayload(overallTask, payload);
          var performArgs_1 = scheduler.getPerformArgs(overallTask, opt.block);
          agentStubMap.each(function(stub) {
            stub.perform(performArgs_1);
          });
          if (overallTask.perform(performArgs_1)) {
            unfinished = true;
          }
        } else if (seriesTaskMap) {
          seriesTaskMap.each(function(task, pipelineId) {
            if (needSetDirty(opt, task)) {
              task.dirty();
            }
            var performArgs = scheduler.getPerformArgs(task, opt.block);
            performArgs.skip = !stageHandler.performRawSeries && ecModel.isSeriesFiltered(task.context.model);
            scheduler.updatePayload(task, payload);
            if (task.perform(performArgs)) {
              unfinished = true;
            }
          });
        }
      });
      function needSetDirty(opt2, task) {
        return opt2.setDirty && (!opt2.dirtyMap || opt2.dirtyMap.get(task.__pipeline.id));
      }
      this.unfinished = unfinished || this.unfinished;
    };
    Scheduler2.prototype.performSeriesTasks = function(ecModel) {
      var unfinished;
      ecModel.eachSeries(function(seriesModel) {
        unfinished = seriesModel.dataTask.perform() || unfinished;
      });
      this.unfinished = unfinished || this.unfinished;
    };
    Scheduler2.prototype.plan = function() {
      this._pipelineMap.each(function(pipeline) {
        var task = pipeline.tail;
        do {
          if (task.__block) {
            pipeline.blockIndex = task.__idxInPipeline;
            break;
          }
          task = task.getUpstream();
        } while (task);
      });
    };
    Scheduler2.prototype.updatePayload = function(task, payload) {
      payload !== "remain" && (task.context.payload = payload);
    };
    Scheduler2.prototype._createSeriesStageTask = function(stageHandler, stageHandlerRecord, ecModel, api) {
      var scheduler = this;
      var oldSeriesTaskMap = stageHandlerRecord.seriesTaskMap;
      var newSeriesTaskMap = stageHandlerRecord.seriesTaskMap = createHashMap();
      var seriesType2 = stageHandler.seriesType;
      var getTargetSeries = stageHandler.getTargetSeries;
      if (stageHandler.createOnAllSeries) {
        ecModel.eachRawSeries(create2);
      } else if (seriesType2) {
        ecModel.eachRawSeriesByType(seriesType2, create2);
      } else if (getTargetSeries) {
        getTargetSeries(ecModel, api).each(create2);
      }
      function create2(seriesModel) {
        var pipelineId = seriesModel.uid;
        var task = newSeriesTaskMap.set(pipelineId, oldSeriesTaskMap && oldSeriesTaskMap.get(pipelineId) || createTask({
          plan: seriesTaskPlan,
          reset: seriesTaskReset,
          count: seriesTaskCount
        }));
        task.context = {
          model: seriesModel,
          ecModel,
          api,
          useClearVisual: stageHandler.isVisual && !stageHandler.isLayout,
          plan: stageHandler.plan,
          reset: stageHandler.reset,
          scheduler
        };
        scheduler._pipe(seriesModel, task);
      }
    };
    Scheduler2.prototype._createOverallStageTask = function(stageHandler, stageHandlerRecord, ecModel, api) {
      var scheduler = this;
      var overallTask = stageHandlerRecord.overallTask = stageHandlerRecord.overallTask || createTask({
        reset: overallTaskReset
      });
      overallTask.context = {
        ecModel,
        api,
        overallReset: stageHandler.overallReset,
        scheduler
      };
      var oldAgentStubMap = overallTask.agentStubMap;
      var newAgentStubMap = overallTask.agentStubMap = createHashMap();
      var seriesType2 = stageHandler.seriesType;
      var getTargetSeries = stageHandler.getTargetSeries;
      var overallProgress = true;
      var shouldOverallTaskDirty = false;
      var errMsg = "";
      {
        errMsg = '"createOnAllSeries" is not supported for "overallReset", because it will block all streams.';
      }
      assert(!stageHandler.createOnAllSeries, errMsg);
      if (seriesType2) {
        ecModel.eachRawSeriesByType(seriesType2, createStub);
      } else if (getTargetSeries) {
        getTargetSeries(ecModel, api).each(createStub);
      } else {
        overallProgress = false;
        each$3(ecModel.getSeries(), createStub);
      }
      function createStub(seriesModel) {
        var pipelineId = seriesModel.uid;
        var stub = newAgentStubMap.set(pipelineId, oldAgentStubMap && oldAgentStubMap.get(pipelineId) || (shouldOverallTaskDirty = true, createTask({
          reset: stubReset,
          onDirty: stubOnDirty
        })));
        stub.context = {
          model: seriesModel,
          overallProgress
        };
        stub.agent = overallTask;
        stub.__block = overallProgress;
        scheduler._pipe(seriesModel, stub);
      }
      if (shouldOverallTaskDirty) {
        overallTask.dirty();
      }
    };
    Scheduler2.prototype._pipe = function(seriesModel, task) {
      var pipelineId = seriesModel.uid;
      var pipeline = this._pipelineMap.get(pipelineId);
      !pipeline.head && (pipeline.head = task);
      pipeline.tail && pipeline.tail.pipe(task);
      pipeline.tail = task;
      task.__idxInPipeline = pipeline.count++;
      task.__pipeline = pipeline;
    };
    Scheduler2.wrapStageHandler = function(stageHandler, visualType) {
      if (isFunction(stageHandler)) {
        stageHandler = {
          overallReset: stageHandler,
          seriesType: detectSeriseType(stageHandler)
        };
      }
      stageHandler.uid = getUID("stageHandler");
      visualType && (stageHandler.visualType = visualType);
      return stageHandler;
    };
    return Scheduler2;
  }();
  function overallTaskReset(context) {
    context.overallReset(context.ecModel, context.api, context.payload);
  }
  function stubReset(context) {
    return context.overallProgress && stubProgress;
  }
  function stubProgress() {
    this.agent.dirty();
    this.getDownstream().dirty();
  }
  function stubOnDirty() {
    this.agent && this.agent.dirty();
  }
  function seriesTaskPlan(context) {
    return context.plan ? context.plan(context.model, context.ecModel, context.api, context.payload) : null;
  }
  function seriesTaskReset(context) {
    if (context.useClearVisual) {
      context.data.clearAllVisual();
    }
    var resetDefines = context.resetDefines = normalizeToArray(context.reset(context.model, context.ecModel, context.api, context.payload));
    return resetDefines.length > 1 ? map$1(resetDefines, function(v2, idx) {
      return makeSeriesTaskProgress(idx);
    }) : singleSeriesTaskProgress;
  }
  var singleSeriesTaskProgress = makeSeriesTaskProgress(0);
  function makeSeriesTaskProgress(resetDefineIdx) {
    return function(params, context) {
      var data = context.data;
      var resetDefine = context.resetDefines[resetDefineIdx];
      if (resetDefine && resetDefine.dataEach) {
        for (var i2 = params.start; i2 < params.end; i2++) {
          resetDefine.dataEach(data, i2);
        }
      } else if (resetDefine && resetDefine.progress) {
        resetDefine.progress(params, data);
      }
    };
  }
  function seriesTaskCount(context) {
    return context.data.count();
  }
  function detectSeriseType(legacyFunc) {
    seriesType = null;
    try {
      legacyFunc(ecModelMock, apiMock);
    } catch (e2) {
    }
    return seriesType;
  }
  var ecModelMock = {};
  var apiMock = {};
  var seriesType;
  mockMethods(ecModelMock, GlobalModel$1);
  mockMethods(apiMock, ExtensionAPI$1);
  ecModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function(type) {
    seriesType = type;
  };
  ecModelMock.eachComponent = function(cond) {
    if (cond.mainType === "series" && cond.subType) {
      seriesType = cond.subType;
    }
  };
  function mockMethods(target, Clz) {
    for (var name_1 in Clz.prototype) {
      target[name_1] = noop;
    }
  }
  var Scheduler$1 = Scheduler;
  var colorAll = ["#37A2DA", "#32C5E9", "#67E0E3", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#E062AE", "#E690D1", "#e7bcf3", "#9d96f5", "#8378EA", "#96BFFF"];
  var lightTheme = {
    color: colorAll,
    colorLayer: [["#37A2DA", "#ffd85c", "#fd7b5f"], ["#37A2DA", "#67E0E3", "#FFDB5C", "#ff9f7f", "#E062AE", "#9d96f5"], ["#37A2DA", "#32C5E9", "#9FE6B8", "#FFDB5C", "#ff9f7f", "#fb7293", "#e7bcf3", "#8378EA", "#96BFFF"], colorAll]
  };
  var contrastColor = "#B9B8CE";
  var backgroundColor = "#100C2A";
  var axisCommon = function() {
    return {
      axisLine: {
        lineStyle: {
          color: contrastColor
        }
      },
      splitLine: {
        lineStyle: {
          color: "#484753"
        }
      },
      splitArea: {
        areaStyle: {
          color: ["rgba(255,255,255,0.02)", "rgba(255,255,255,0.05)"]
        }
      },
      minorSplitLine: {
        lineStyle: {
          color: "#20203B"
        }
      }
    };
  };
  var colorPalette = ["#4992ff", "#7cffb2", "#fddd60", "#ff6e76", "#58d9f9", "#05c091", "#ff8a45", "#8d48e3", "#dd79ff"];
  var theme = {
    darkMode: true,
    color: colorPalette,
    backgroundColor,
    axisPointer: {
      lineStyle: {
        color: "#817f91"
      },
      crossStyle: {
        color: "#817f91"
      },
      label: {
        color: "#fff"
      }
    },
    legend: {
      textStyle: {
        color: contrastColor
      }
    },
    textStyle: {
      color: contrastColor
    },
    title: {
      textStyle: {
        color: "#EEF1FA"
      },
      subtextStyle: {
        color: "#B9B8CE"
      }
    },
    toolbox: {
      iconStyle: {
        borderColor: contrastColor
      }
    },
    dataZoom: {
      borderColor: "#71708A",
      textStyle: {
        color: contrastColor
      },
      brushStyle: {
        color: "rgba(135,163,206,0.3)"
      },
      handleStyle: {
        color: "#353450",
        borderColor: "#C5CBE3"
      },
      moveHandleStyle: {
        color: "#B0B6C3",
        opacity: 0.3
      },
      fillerColor: "rgba(135,163,206,0.2)",
      emphasis: {
        handleStyle: {
          borderColor: "#91B7F2",
          color: "#4D587D"
        },
        moveHandleStyle: {
          color: "#636D9A",
          opacity: 0.7
        }
      },
      dataBackground: {
        lineStyle: {
          color: "#71708A",
          width: 1
        },
        areaStyle: {
          color: "#71708A"
        }
      },
      selectedDataBackground: {
        lineStyle: {
          color: "#87A3CE"
        },
        areaStyle: {
          color: "#87A3CE"
        }
      }
    },
    visualMap: {
      textStyle: {
        color: contrastColor
      }
    },
    timeline: {
      lineStyle: {
        color: contrastColor
      },
      label: {
        color: contrastColor
      },
      controlStyle: {
        color: contrastColor,
        borderColor: contrastColor
      }
    },
    calendar: {
      itemStyle: {
        color: backgroundColor
      },
      dayLabel: {
        color: contrastColor
      },
      monthLabel: {
        color: contrastColor
      },
      yearLabel: {
        color: contrastColor
      }
    },
    timeAxis: axisCommon(),
    logAxis: axisCommon(),
    valueAxis: axisCommon(),
    categoryAxis: axisCommon(),
    line: {
      symbol: "circle"
    },
    graph: {
      color: colorPalette
    },
    gauge: {
      title: {
        color: contrastColor
      },
      axisLine: {
        lineStyle: {
          color: [[1, "rgba(207,212,219,0.2)"]]
        }
      },
      axisLabel: {
        color: contrastColor
      },
      detail: {
        color: "#EEF1FA"
      }
    },
    candlestick: {
      itemStyle: {
        color: "#f64e56",
        color0: "#54ea92",
        borderColor: "#f64e56",
        borderColor0: "#54ea92"
      }
    }
  };
  theme.categoryAxis.splitLine.show = false;
  var darkTheme = theme;
  var ECEventProcessor = function() {
    function ECEventProcessor2() {
    }
    ECEventProcessor2.prototype.normalizeQuery = function(query) {
      var cptQuery = {};
      var dataQuery = {};
      var otherQuery = {};
      if (isString(query)) {
        var condCptType = parseClassType(query);
        cptQuery.mainType = condCptType.main || null;
        cptQuery.subType = condCptType.sub || null;
      } else {
        var suffixes_1 = ["Index", "Name", "Id"];
        var dataKeys_1 = {
          name: 1,
          dataIndex: 1,
          dataType: 1
        };
        each$3(query, function(val, key) {
          var reserved = false;
          for (var i2 = 0; i2 < suffixes_1.length; i2++) {
            var propSuffix = suffixes_1[i2];
            var suffixPos = key.lastIndexOf(propSuffix);
            if (suffixPos > 0 && suffixPos === key.length - propSuffix.length) {
              var mainType = key.slice(0, suffixPos);
              if (mainType !== "data") {
                cptQuery.mainType = mainType;
                cptQuery[propSuffix.toLowerCase()] = val;
                reserved = true;
              }
            }
          }
          if (dataKeys_1.hasOwnProperty(key)) {
            dataQuery[key] = val;
            reserved = true;
          }
          if (!reserved) {
            otherQuery[key] = val;
          }
        });
      }
      return {
        cptQuery,
        dataQuery,
        otherQuery
      };
    };
    ECEventProcessor2.prototype.filter = function(eventType, query) {
      var eventInfo = this.eventInfo;
      if (!eventInfo) {
        return true;
      }
      var targetEl = eventInfo.targetEl;
      var packedEvent = eventInfo.packedEvent;
      var model = eventInfo.model;
      var view = eventInfo.view;
      if (!model || !view) {
        return true;
      }
      var cptQuery = query.cptQuery;
      var dataQuery = query.dataQuery;
      return check(cptQuery, model, "mainType") && check(cptQuery, model, "subType") && check(cptQuery, model, "index", "componentIndex") && check(cptQuery, model, "name") && check(cptQuery, model, "id") && check(dataQuery, packedEvent, "name") && check(dataQuery, packedEvent, "dataIndex") && check(dataQuery, packedEvent, "dataType") && (!view.filterForExposedEvent || view.filterForExposedEvent(eventType, query.otherQuery, targetEl, packedEvent));
      function check(query2, host, prop, propOnHost) {
        return query2[prop] == null || host[propOnHost || prop] === query2[prop];
      }
    };
    ECEventProcessor2.prototype.afterTrigger = function() {
      this.eventInfo = null;
    };
    return ECEventProcessor2;
  }();
  var SYMBOL_PROPS_WITH_CB = ["symbol", "symbolSize", "symbolRotate", "symbolOffset"];
  var SYMBOL_PROPS = SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]);
  var seriesSymbolTask = {
    createOnAllSeries: true,
    performRawSeries: true,
    reset: function(seriesModel, ecModel) {
      var data = seriesModel.getData();
      if (seriesModel.legendIcon) {
        data.setVisual("legendIcon", seriesModel.legendIcon);
      }
      if (!seriesModel.hasSymbolVisual) {
        return;
      }
      var symbolOptions = {};
      var symbolOptionsCb = {};
      var hasCallback = false;
      for (var i2 = 0; i2 < SYMBOL_PROPS_WITH_CB.length; i2++) {
        var symbolPropName = SYMBOL_PROPS_WITH_CB[i2];
        var val = seriesModel.get(symbolPropName);
        if (isFunction(val)) {
          hasCallback = true;
          symbolOptionsCb[symbolPropName] = val;
        } else {
          symbolOptions[symbolPropName] = val;
        }
      }
      symbolOptions.symbol = symbolOptions.symbol || seriesModel.defaultSymbol;
      data.setVisual(extend({
        legendIcon: seriesModel.legendIcon || symbolOptions.symbol,
        symbolKeepAspect: seriesModel.get("symbolKeepAspect")
      }, symbolOptions));
      if (ecModel.isSeriesFiltered(seriesModel)) {
        return;
      }
      var symbolPropsCb = keys(symbolOptionsCb);
      function dataEach(data2, idx) {
        var rawValue = seriesModel.getRawValue(idx);
        var params = seriesModel.getDataParams(idx);
        for (var i3 = 0; i3 < symbolPropsCb.length; i3++) {
          var symbolPropName2 = symbolPropsCb[i3];
          data2.setItemVisual(idx, symbolPropName2, symbolOptionsCb[symbolPropName2](rawValue, params));
        }
      }
      return {
        dataEach: hasCallback ? dataEach : null
      };
    }
  };
  var dataSymbolTask = {
    createOnAllSeries: true,
    performRawSeries: true,
    reset: function(seriesModel, ecModel) {
      if (!seriesModel.hasSymbolVisual) {
        return;
      }
      if (ecModel.isSeriesFiltered(seriesModel)) {
        return;
      }
      var data = seriesModel.getData();
      function dataEach(data2, idx) {
        var itemModel = data2.getItemModel(idx);
        for (var i2 = 0; i2 < SYMBOL_PROPS.length; i2++) {
          var symbolPropName = SYMBOL_PROPS[i2];
          var val = itemModel.getShallow(symbolPropName, true);
          if (val != null) {
            data2.setItemVisual(idx, symbolPropName, val);
          }
        }
      }
      return {
        dataEach: data.hasItemOption ? dataEach : null
      };
    }
  };
  function getItemVisualFromData(data, dataIndex, key) {
    switch (key) {
      case "color":
        var style = data.getItemVisual(dataIndex, "style");
        return style[data.getVisual("drawType")];
      case "opacity":
        return data.getItemVisual(dataIndex, "style").opacity;
      case "symbol":
      case "symbolSize":
      case "liftZ":
        return data.getItemVisual(dataIndex, key);
      default: {
        formatAppLog("warn", "at node_modules/echarts/lib/visual/helper.js:60", "Unknown visual type " + key);
      }
    }
  }
  function getVisualFromData(data, key) {
    switch (key) {
      case "color":
        var style = data.getVisual("style");
        return style[data.getVisual("drawType")];
      case "opacity":
        return data.getVisual("style").opacity;
      case "symbol":
      case "symbolSize":
      case "liftZ":
        return data.getVisual(key);
      default: {
        formatAppLog("warn", "at node_modules/echarts/lib/visual/helper.js:81", "Unknown visual type " + key);
      }
    }
  }
  function handleSeriesLegacySelectEvents(type, eventPostfix, ecIns, ecModel, payload) {
    var legacyEventName = type + eventPostfix;
    if (!ecIns.isSilent(legacyEventName)) {
      {
        deprecateLog("event " + legacyEventName + " is deprecated.");
      }
      ecModel.eachComponent({
        mainType: "series",
        subType: "pie"
      }, function(seriesModel) {
        var seriesIndex = seriesModel.seriesIndex;
        var selectedMap = seriesModel.option.selectedMap;
        var selected = payload.selected;
        for (var i2 = 0; i2 < selected.length; i2++) {
          if (selected[i2].seriesIndex === seriesIndex) {
            var data = seriesModel.getData();
            var dataIndex = queryDataIndex(data, payload.fromActionPayload);
            ecIns.trigger(legacyEventName, {
              type: legacyEventName,
              seriesId: seriesModel.id,
              name: isArray(dataIndex) ? data.getName(dataIndex[0]) : data.getName(dataIndex),
              selected: isString(selectedMap) ? selectedMap : extend({}, selectedMap)
            });
          }
        }
      });
    }
  }
  function handleLegacySelectEvents(messageCenter, ecIns, api) {
    messageCenter.on("selectchanged", function(params) {
      var ecModel = api.getModel();
      if (params.isFromClick) {
        handleSeriesLegacySelectEvents("map", "selectchanged", ecIns, ecModel, params);
        handleSeriesLegacySelectEvents("pie", "selectchanged", ecIns, ecModel, params);
      } else if (params.fromAction === "select") {
        handleSeriesLegacySelectEvents("map", "selected", ecIns, ecModel, params);
        handleSeriesLegacySelectEvents("pie", "selected", ecIns, ecModel, params);
      } else if (params.fromAction === "unselect") {
        handleSeriesLegacySelectEvents("map", "unselected", ecIns, ecModel, params);
        handleSeriesLegacySelectEvents("pie", "unselected", ecIns, ecModel, params);
      }
    });
  }
  function findEventDispatcher(target, det, returnFirstMatch) {
    var found;
    while (target) {
      if (det(target)) {
        found = target;
        if (returnFirstMatch) {
          break;
        }
      }
      target = target.__hostTarget || target.parent;
    }
    return found;
  }
  var wmUniqueIndex = Math.round(Math.random() * 9);
  var supportDefineProperty = typeof Object.defineProperty === "function";
  var WeakMap = function() {
    function WeakMap2() {
      this._id = "__ec_inner_" + wmUniqueIndex++;
    }
    WeakMap2.prototype.get = function(key) {
      return this._guard(key)[this._id];
    };
    WeakMap2.prototype.set = function(key, value) {
      var target = this._guard(key);
      if (supportDefineProperty) {
        Object.defineProperty(target, this._id, {
          value,
          enumerable: false,
          configurable: true
        });
      } else {
        target[this._id] = value;
      }
      return this;
    };
    WeakMap2.prototype["delete"] = function(key) {
      if (this.has(key)) {
        delete this._guard(key)[this._id];
        return true;
      }
      return false;
    };
    WeakMap2.prototype.has = function(key) {
      return !!this._guard(key)[this._id];
    };
    WeakMap2.prototype._guard = function(key) {
      if (key !== Object(key)) {
        throw TypeError("Value of WeakMap is not a non-null object.");
      }
      return key;
    };
    return WeakMap2;
  }();
  var WeakMap$1 = WeakMap;
  var Triangle = Path$1.extend({
    type: "triangle",
    shape: {
      cx: 0,
      cy: 0,
      width: 0,
      height: 0
    },
    buildPath: function(path, shape) {
      var cx = shape.cx;
      var cy = shape.cy;
      var width = shape.width / 2;
      var height = shape.height / 2;
      path.moveTo(cx, cy - height);
      path.lineTo(cx + width, cy + height);
      path.lineTo(cx - width, cy + height);
      path.closePath();
    }
  });
  var Diamond = Path$1.extend({
    type: "diamond",
    shape: {
      cx: 0,
      cy: 0,
      width: 0,
      height: 0
    },
    buildPath: function(path, shape) {
      var cx = shape.cx;
      var cy = shape.cy;
      var width = shape.width / 2;
      var height = shape.height / 2;
      path.moveTo(cx, cy - height);
      path.lineTo(cx + width, cy);
      path.lineTo(cx, cy + height);
      path.lineTo(cx - width, cy);
      path.closePath();
    }
  });
  var Pin = Path$1.extend({
    type: "pin",
    shape: {
      x: 0,
      y: 0,
      width: 0,
      height: 0
    },
    buildPath: function(path, shape) {
      var x2 = shape.x;
      var y = shape.y;
      var w2 = shape.width / 5 * 3;
      var h2 = Math.max(w2, shape.height);
      var r2 = w2 / 2;
      var dy = r2 * r2 / (h2 - r2);
      var cy = y - h2 + r2 + dy;
      var angle = Math.asin(dy / r2);
      var dx = Math.cos(angle) * r2;
      var tanX = Math.sin(angle);
      var tanY = Math.cos(angle);
      var cpLen = r2 * 0.6;
      var cpLen2 = r2 * 0.7;
      path.moveTo(x2 - dx, cy + dy);
      path.arc(x2, cy, r2, Math.PI - angle, Math.PI * 2 + angle);
      path.bezierCurveTo(x2 + dx - tanX * cpLen, cy + dy + tanY * cpLen, x2, y - cpLen2, x2, y);
      path.bezierCurveTo(x2, y - cpLen2, x2 - dx + tanX * cpLen, cy + dy + tanY * cpLen, x2 - dx, cy + dy);
      path.closePath();
    }
  });
  var Arrow = Path$1.extend({
    type: "arrow",
    shape: {
      x: 0,
      y: 0,
      width: 0,
      height: 0
    },
    buildPath: function(ctx, shape) {
      var height = shape.height;
      var width = shape.width;
      var x2 = shape.x;
      var y = shape.y;
      var dx = width / 3 * 2;
      ctx.moveTo(x2, y);
      ctx.lineTo(x2 + dx, y + height);
      ctx.lineTo(x2, y + height / 4 * 3);
      ctx.lineTo(x2 - dx, y + height);
      ctx.lineTo(x2, y);
      ctx.closePath();
    }
  });
  var symbolCtors = {
    line: Line$1,
    rect: Rect$1,
    roundRect: Rect$1,
    square: Rect$1,
    circle: Circle$1,
    diamond: Diamond,
    pin: Pin,
    arrow: Arrow,
    triangle: Triangle
  };
  var symbolShapeMakers = {
    line: function(x2, y, w2, h2, shape) {
      shape.x1 = x2;
      shape.y1 = y + h2 / 2;
      shape.x2 = x2 + w2;
      shape.y2 = y + h2 / 2;
    },
    rect: function(x2, y, w2, h2, shape) {
      shape.x = x2;
      shape.y = y;
      shape.width = w2;
      shape.height = h2;
    },
    roundRect: function(x2, y, w2, h2, shape) {
      shape.x = x2;
      shape.y = y;
      shape.width = w2;
      shape.height = h2;
      shape.r = Math.min(w2, h2) / 4;
    },
    square: function(x2, y, w2, h2, shape) {
      var size = Math.min(w2, h2);
      shape.x = x2;
      shape.y = y;
      shape.width = size;
      shape.height = size;
    },
    circle: function(x2, y, w2, h2, shape) {
      shape.cx = x2 + w2 / 2;
      shape.cy = y + h2 / 2;
      shape.r = Math.min(w2, h2) / 2;
    },
    diamond: function(x2, y, w2, h2, shape) {
      shape.cx = x2 + w2 / 2;
      shape.cy = y + h2 / 2;
      shape.width = w2;
      shape.height = h2;
    },
    pin: function(x2, y, w2, h2, shape) {
      shape.x = x2 + w2 / 2;
      shape.y = y + h2 / 2;
      shape.width = w2;
      shape.height = h2;
    },
    arrow: function(x2, y, w2, h2, shape) {
      shape.x = x2 + w2 / 2;
      shape.y = y + h2 / 2;
      shape.width = w2;
      shape.height = h2;
    },
    triangle: function(x2, y, w2, h2, shape) {
      shape.cx = x2 + w2 / 2;
      shape.cy = y + h2 / 2;
      shape.width = w2;
      shape.height = h2;
    }
  };
  var symbolBuildProxies = {};
  each$3(symbolCtors, function(Ctor, name) {
    symbolBuildProxies[name] = new Ctor();
  });
  var SymbolClz$1 = Path$1.extend({
    type: "symbol",
    shape: {
      symbolType: "",
      x: 0,
      y: 0,
      width: 0,
      height: 0
    },
    calculateTextPosition: function(out2, config, rect) {
      var res = calculateTextPosition(out2, config, rect);
      var shape = this.shape;
      if (shape && shape.symbolType === "pin" && config.position === "inside") {
        res.y = rect.y + rect.height * 0.4;
      }
      return res;
    },
    buildPath: function(ctx, shape, inBundle) {
      var symbolType = shape.symbolType;
      if (symbolType !== "none") {
        var proxySymbol = symbolBuildProxies[symbolType];
        if (!proxySymbol) {
          symbolType = "rect";
          proxySymbol = symbolBuildProxies[symbolType];
        }
        symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);
        proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);
      }
    }
  });
  function symbolPathSetColor(color2, innerColor2) {
    if (this.type !== "image") {
      var symbolStyle = this.style;
      if (this.__isEmptyBrush) {
        symbolStyle.stroke = color2;
        symbolStyle.fill = innerColor2 || "#fff";
        symbolStyle.lineWidth = 2;
      } else if (this.shape.symbolType === "line") {
        symbolStyle.stroke = color2;
      } else {
        symbolStyle.fill = color2;
      }
      this.markRedraw();
    }
  }
  function createSymbol(symbolType, x2, y, w2, h2, color2, keepAspect) {
    var isEmpty = symbolType.indexOf("empty") === 0;
    if (isEmpty) {
      symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);
    }
    var symbolPath;
    if (symbolType.indexOf("image://") === 0) {
      symbolPath = makeImage(symbolType.slice(8), new BoundingRect$1(x2, y, w2, h2), keepAspect ? "center" : "cover");
    } else if (symbolType.indexOf("path://") === 0) {
      symbolPath = makePath(symbolType.slice(7), {}, new BoundingRect$1(x2, y, w2, h2), keepAspect ? "center" : "cover");
    } else {
      symbolPath = new SymbolClz$1({
        shape: {
          symbolType,
          x: x2,
          y,
          width: w2,
          height: h2
        }
      });
    }
    symbolPath.__isEmptyBrush = isEmpty;
    symbolPath.setColor = symbolPathSetColor;
    if (color2) {
      symbolPath.setColor(color2);
    }
    return symbolPath;
  }
  function normalizeSymbolSize(symbolSize) {
    if (!isArray(symbolSize)) {
      symbolSize = [+symbolSize, +symbolSize];
    }
    return [symbolSize[0] || 0, symbolSize[1] || 0];
  }
  function normalizeSymbolOffset(symbolOffset, symbolSize) {
    if (symbolOffset == null) {
      return;
    }
    if (!isArray(symbolOffset)) {
      symbolOffset = [symbolOffset, symbolOffset];
    }
    return [parsePercent(symbolOffset[0], symbolSize[0]) || 0, parsePercent(retrieve2(symbolOffset[1], symbolOffset[0]), symbolSize[1]) || 0];
  }
  function isSafeNum(num) {
    return isFinite(num);
  }
  function createLinearGradient(ctx, obj, rect) {
    var x2 = obj.x == null ? 0 : obj.x;
    var x22 = obj.x2 == null ? 1 : obj.x2;
    var y = obj.y == null ? 0 : obj.y;
    var y2 = obj.y2 == null ? 0 : obj.y2;
    if (!obj.global) {
      x2 = x2 * rect.width + rect.x;
      x22 = x22 * rect.width + rect.x;
      y = y * rect.height + rect.y;
      y2 = y2 * rect.height + rect.y;
    }
    x2 = isSafeNum(x2) ? x2 : 0;
    x22 = isSafeNum(x22) ? x22 : 1;
    y = isSafeNum(y) ? y : 0;
    y2 = isSafeNum(y2) ? y2 : 0;
    var canvasGradient = ctx.createLinearGradient(x2, y, x22, y2);
    return canvasGradient;
  }
  function createRadialGradient(ctx, obj, rect) {
    var width = rect.width;
    var height = rect.height;
    var min3 = Math.min(width, height);
    var x2 = obj.x == null ? 0.5 : obj.x;
    var y = obj.y == null ? 0.5 : obj.y;
    var r2 = obj.r == null ? 0.5 : obj.r;
    if (!obj.global) {
      x2 = x2 * width + rect.x;
      y = y * height + rect.y;
      r2 = r2 * min3;
    }
    x2 = isSafeNum(x2) ? x2 : 0.5;
    y = isSafeNum(y) ? y : 0.5;
    r2 = r2 >= 0 && isSafeNum(r2) ? r2 : 0.5;
    var canvasGradient = ctx.createRadialGradient(x2, y, 0, x2, y, r2);
    return canvasGradient;
  }
  function getCanvasGradient(ctx, obj, rect) {
    var canvasGradient = obj.type === "radial" ? createRadialGradient(ctx, obj, rect) : createLinearGradient(ctx, obj, rect);
    var colorStops = obj.colorStops;
    for (var i2 = 0; i2 < colorStops.length; i2++) {
      canvasGradient.addColorStop(colorStops[i2].offset, colorStops[i2].color);
    }
    return canvasGradient;
  }
  function isClipPathChanged(clipPaths, prevClipPaths) {
    if (clipPaths === prevClipPaths || !clipPaths && !prevClipPaths) {
      return false;
    }
    if (!clipPaths || !prevClipPaths || clipPaths.length !== prevClipPaths.length) {
      return true;
    }
    for (var i2 = 0; i2 < clipPaths.length; i2++) {
      if (clipPaths[i2] !== prevClipPaths[i2]) {
        return true;
      }
    }
    return false;
  }
  function parseInt10(val) {
    return parseInt(val, 10);
  }
  function getSize(root, whIdx, opts) {
    var wh = ["width", "height"][whIdx];
    var cwh = ["clientWidth", "clientHeight"][whIdx];
    var plt = ["paddingLeft", "paddingTop"][whIdx];
    var prb = ["paddingRight", "paddingBottom"][whIdx];
    if (opts[wh] != null && opts[wh] !== "auto") {
      return parseFloat(opts[wh]);
    }
    var stl = document.defaultView.getComputedStyle(root);
    return (root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh])) - (parseInt10(stl[plt]) || 0) - (parseInt10(stl[prb]) || 0) | 0;
  }
  function normalizeLineDash(lineType, lineWidth) {
    if (!lineType || lineType === "solid" || !(lineWidth > 0)) {
      return null;
    }
    return lineType === "dashed" ? [4 * lineWidth, 2 * lineWidth] : lineType === "dotted" ? [lineWidth] : isNumber(lineType) ? [lineType] : isArray(lineType) ? lineType : null;
  }
  function getLineDash(el) {
    var style = el.style;
    var lineDash = style.lineDash && style.lineWidth > 0 && normalizeLineDash(style.lineDash, style.lineWidth);
    var lineDashOffset = style.lineDashOffset;
    if (lineDash) {
      var lineScale_1 = style.strokeNoScale && el.getLineScale ? el.getLineScale() : 1;
      if (lineScale_1 && lineScale_1 !== 1) {
        lineDash = map$1(lineDash, function(rawVal) {
          return rawVal / lineScale_1;
        });
        lineDashOffset /= lineScale_1;
      }
    }
    return [lineDash, lineDashOffset];
  }
  var pathProxyForDraw = new PathProxy$1(true);
  function styleHasStroke(style) {
    var stroke = style.stroke;
    return !(stroke == null || stroke === "none" || !(style.lineWidth > 0));
  }
  function isValidStrokeFillStyle(strokeOrFill) {
    return typeof strokeOrFill === "string" && strokeOrFill !== "none";
  }
  function styleHasFill(style) {
    var fill = style.fill;
    return fill != null && fill !== "none";
  }
  function doFillPath(ctx, style) {
    if (style.fillOpacity != null && style.fillOpacity !== 1) {
      var originalGlobalAlpha = ctx.globalAlpha;
      ctx.globalAlpha = style.fillOpacity * style.opacity;
      ctx.fill();
      ctx.globalAlpha = originalGlobalAlpha;
    } else {
      ctx.fill();
    }
  }
  function doStrokePath(ctx, style) {
    if (style.strokeOpacity != null && style.strokeOpacity !== 1) {
      var originalGlobalAlpha = ctx.globalAlpha;
      ctx.globalAlpha = style.strokeOpacity * style.opacity;
      ctx.stroke();
      ctx.globalAlpha = originalGlobalAlpha;
    } else {
      ctx.stroke();
    }
  }
  function createCanvasPattern(ctx, pattern, el) {
    var image = createOrUpdateImage(pattern.image, pattern.__image, el);
    if (isImageReady(image)) {
      var canvasPattern = ctx.createPattern(image, pattern.repeat || "repeat");
      if (typeof DOMMatrix === "function" && canvasPattern && canvasPattern.setTransform) {
        var matrix2 = new DOMMatrix();
        matrix2.translateSelf(pattern.x || 0, pattern.y || 0);
        matrix2.rotateSelf(0, 0, (pattern.rotation || 0) * RADIAN_TO_DEGREE);
        matrix2.scaleSelf(pattern.scaleX || 1, pattern.scaleY || 1);
        canvasPattern.setTransform(matrix2);
      }
      return canvasPattern;
    }
  }
  function brushPath(ctx, el, style, inBatch) {
    var _a2;
    var hasStroke = styleHasStroke(style);
    var hasFill = styleHasFill(style);
    var strokePercent = style.strokePercent;
    var strokePart = strokePercent < 1;
    var firstDraw = !el.path;
    if ((!el.silent || strokePart) && firstDraw) {
      el.createPathProxy();
    }
    var path = el.path || pathProxyForDraw;
    var dirtyFlag = el.__dirty;
    if (!inBatch) {
      var fill = style.fill;
      var stroke = style.stroke;
      var hasFillGradient = hasFill && !!fill.colorStops;
      var hasStrokeGradient = hasStroke && !!stroke.colorStops;
      var hasFillPattern = hasFill && !!fill.image;
      var hasStrokePattern = hasStroke && !!stroke.image;
      var fillGradient = void 0;
      var strokeGradient = void 0;
      var fillPattern = void 0;
      var strokePattern = void 0;
      var rect = void 0;
      if (hasFillGradient || hasStrokeGradient) {
        rect = el.getBoundingRect();
      }
      if (hasFillGradient) {
        fillGradient = dirtyFlag ? getCanvasGradient(ctx, fill, rect) : el.__canvasFillGradient;
        el.__canvasFillGradient = fillGradient;
      }
      if (hasStrokeGradient) {
        strokeGradient = dirtyFlag ? getCanvasGradient(ctx, stroke, rect) : el.__canvasStrokeGradient;
        el.__canvasStrokeGradient = strokeGradient;
      }
      if (hasFillPattern) {
        fillPattern = dirtyFlag || !el.__canvasFillPattern ? createCanvasPattern(ctx, fill, el) : el.__canvasFillPattern;
        el.__canvasFillPattern = fillPattern;
      }
      if (hasStrokePattern) {
        strokePattern = dirtyFlag || !el.__canvasStrokePattern ? createCanvasPattern(ctx, stroke, el) : el.__canvasStrokePattern;
        el.__canvasStrokePattern = fillPattern;
      }
      if (hasFillGradient) {
        ctx.fillStyle = fillGradient;
      } else if (hasFillPattern) {
        if (fillPattern) {
          ctx.fillStyle = fillPattern;
        } else {
          hasFill = false;
        }
      }
      if (hasStrokeGradient) {
        ctx.strokeStyle = strokeGradient;
      } else if (hasStrokePattern) {
        if (strokePattern) {
          ctx.strokeStyle = strokePattern;
        } else {
          hasStroke = false;
        }
      }
    }
    var scale2 = el.getGlobalScale();
    path.setScale(scale2[0], scale2[1], el.segmentIgnoreThreshold);
    var lineDash;
    var lineDashOffset;
    if (ctx.setLineDash && style.lineDash) {
      _a2 = getLineDash(el), lineDash = _a2[0], lineDashOffset = _a2[1];
    }
    var needsRebuild = true;
    if (firstDraw || dirtyFlag & SHAPE_CHANGED_BIT) {
      path.setDPR(ctx.dpr);
      if (strokePart) {
        path.setContext(null);
      } else {
        path.setContext(ctx);
        needsRebuild = false;
      }
      path.reset();
      el.buildPath(path, el.shape, inBatch);
      path.toStatic();
      el.pathUpdated();
    }
    if (needsRebuild) {
      path.rebuildPath(ctx, strokePart ? strokePercent : 1);
    }
    if (lineDash) {
      ctx.setLineDash(lineDash);
      ctx.lineDashOffset = lineDashOffset;
    }
    if (!inBatch) {
      if (style.strokeFirst) {
        if (hasStroke) {
          doStrokePath(ctx, style);
        }
        if (hasFill) {
          doFillPath(ctx, style);
        }
      } else {
        if (hasFill) {
          doFillPath(ctx, style);
        }
        if (hasStroke) {
          doStrokePath(ctx, style);
        }
      }
    }
    if (lineDash) {
      ctx.setLineDash([]);
    }
  }
  function brushImage(ctx, el, style) {
    var image = el.__image = createOrUpdateImage(style.image, el.__image, el, el.onload);
    if (!image || !isImageReady(image)) {
      return;
    }
    var x2 = style.x || 0;
    var y = style.y || 0;
    var width = el.getWidth();
    var height = el.getHeight();
    var aspect = image.width / image.height;
    if (width == null && height != null) {
      width = height * aspect;
    } else if (height == null && width != null) {
      height = width / aspect;
    } else if (width == null && height == null) {
      width = image.width;
      height = image.height;
    }
    if (style.sWidth && style.sHeight) {
      var sx = style.sx || 0;
      var sy = style.sy || 0;
      ctx.drawImage(image, sx, sy, style.sWidth, style.sHeight, x2, y, width, height);
    } else if (style.sx && style.sy) {
      var sx = style.sx;
      var sy = style.sy;
      var sWidth = width - sx;
      var sHeight = height - sy;
      ctx.drawImage(image, sx, sy, sWidth, sHeight, x2, y, width, height);
    } else {
      ctx.drawImage(image, x2, y, width, height);
    }
  }
  function brushText(ctx, el, style) {
    var _a2;
    var text = style.text;
    text != null && (text += "");
    if (text) {
      ctx.font = style.font || DEFAULT_FONT;
      ctx.textAlign = style.textAlign;
      ctx.textBaseline = style.textBaseline;
      var lineDash = void 0;
      var lineDashOffset = void 0;
      if (ctx.setLineDash && style.lineDash) {
        _a2 = getLineDash(el), lineDash = _a2[0], lineDashOffset = _a2[1];
      }
      if (lineDash) {
        ctx.setLineDash(lineDash);
        ctx.lineDashOffset = lineDashOffset;
      }
      if (style.strokeFirst) {
        if (styleHasStroke(style)) {
          ctx.strokeText(text, style.x, style.y);
        }
        if (styleHasFill(style)) {
          ctx.fillText(text, style.x, style.y);
        }
      } else {
        if (styleHasFill(style)) {
          ctx.fillText(text, style.x, style.y);
        }
        if (styleHasStroke(style)) {
          ctx.strokeText(text, style.x, style.y);
        }
      }
      if (lineDash) {
        ctx.setLineDash([]);
      }
    }
  }
  var SHADOW_NUMBER_PROPS = ["shadowBlur", "shadowOffsetX", "shadowOffsetY"];
  var STROKE_PROPS = [
    ["lineCap", "butt"],
    ["lineJoin", "miter"],
    ["miterLimit", 10]
  ];
  function bindCommonProps(ctx, style, prevStyle, forceSetAll, scope) {
    var styleChanged = false;
    if (!forceSetAll) {
      prevStyle = prevStyle || {};
      if (style === prevStyle) {
        return false;
      }
    }
    if (forceSetAll || style.opacity !== prevStyle.opacity) {
      flushPathDrawn(ctx, scope);
      styleChanged = true;
      var opacity = Math.max(Math.min(style.opacity, 1), 0);
      ctx.globalAlpha = isNaN(opacity) ? DEFAULT_COMMON_STYLE.opacity : opacity;
    }
    if (forceSetAll || style.blend !== prevStyle.blend) {
      if (!styleChanged) {
        flushPathDrawn(ctx, scope);
        styleChanged = true;
      }
      ctx.globalCompositeOperation = style.blend || DEFAULT_COMMON_STYLE.blend;
    }
    for (var i2 = 0; i2 < SHADOW_NUMBER_PROPS.length; i2++) {
      var propName = SHADOW_NUMBER_PROPS[i2];
      if (forceSetAll || style[propName] !== prevStyle[propName]) {
        if (!styleChanged) {
          flushPathDrawn(ctx, scope);
          styleChanged = true;
        }
        ctx[propName] = ctx.dpr * (style[propName] || 0);
      }
    }
    if (forceSetAll || style.shadowColor !== prevStyle.shadowColor) {
      if (!styleChanged) {
        flushPathDrawn(ctx, scope);
        styleChanged = true;
      }
      ctx.shadowColor = style.shadowColor || DEFAULT_COMMON_STYLE.shadowColor;
    }
    return styleChanged;
  }
  function bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetAll, scope) {
    var style = getStyle(el, scope.inHover);
    var prevStyle = forceSetAll ? null : prevEl && getStyle(prevEl, scope.inHover) || {};
    if (style === prevStyle) {
      return false;
    }
    var styleChanged = bindCommonProps(ctx, style, prevStyle, forceSetAll, scope);
    if (forceSetAll || style.fill !== prevStyle.fill) {
      if (!styleChanged) {
        flushPathDrawn(ctx, scope);
        styleChanged = true;
      }
      isValidStrokeFillStyle(style.fill) && (ctx.fillStyle = style.fill);
    }
    if (forceSetAll || style.stroke !== prevStyle.stroke) {
      if (!styleChanged) {
        flushPathDrawn(ctx, scope);
        styleChanged = true;
      }
      isValidStrokeFillStyle(style.stroke) && (ctx.strokeStyle = style.stroke);
    }
    if (forceSetAll || style.opacity !== prevStyle.opacity) {
      if (!styleChanged) {
        flushPathDrawn(ctx, scope);
        styleChanged = true;
      }
      ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;
    }
    if (el.hasStroke()) {
      var lineWidth = style.lineWidth;
      var newLineWidth = lineWidth / (style.strokeNoScale && el.getLineScale ? el.getLineScale() : 1);
      if (ctx.lineWidth !== newLineWidth) {
        if (!styleChanged) {
          flushPathDrawn(ctx, scope);
          styleChanged = true;
        }
        ctx.lineWidth = newLineWidth;
      }
    }
    for (var i2 = 0; i2 < STROKE_PROPS.length; i2++) {
      var prop = STROKE_PROPS[i2];
      var propName = prop[0];
      if (forceSetAll || style[propName] !== prevStyle[propName]) {
        if (!styleChanged) {
          flushPathDrawn(ctx, scope);
          styleChanged = true;
        }
        ctx[propName] = style[propName] || prop[1];
      }
    }
    return styleChanged;
  }
  function bindImageStyle(ctx, el, prevEl, forceSetAll, scope) {
    return bindCommonProps(ctx, getStyle(el, scope.inHover), prevEl && getStyle(prevEl, scope.inHover), forceSetAll, scope);
  }
  function setContextTransform(ctx, el) {
    var m2 = el.transform;
    var dpr2 = ctx.dpr || 1;
    if (m2) {
      ctx.setTransform(dpr2 * m2[0], dpr2 * m2[1], dpr2 * m2[2], dpr2 * m2[3], dpr2 * m2[4], dpr2 * m2[5]);
    } else {
      ctx.setTransform(dpr2, 0, 0, dpr2, 0, 0);
    }
  }
  function updateClipStatus(clipPaths, ctx, scope) {
    var allClipped = false;
    for (var i2 = 0; i2 < clipPaths.length; i2++) {
      var clipPath = clipPaths[i2];
      allClipped = allClipped || clipPath.isZeroArea();
      setContextTransform(ctx, clipPath);
      ctx.beginPath();
      clipPath.buildPath(ctx, clipPath.shape);
      ctx.clip();
    }
    scope.allClipped = allClipped;
  }
  function isTransformChanged(m0, m1) {
    if (m0 && m1) {
      return m0[0] !== m1[0] || m0[1] !== m1[1] || m0[2] !== m1[2] || m0[3] !== m1[3] || m0[4] !== m1[4] || m0[5] !== m1[5];
    } else if (!m0 && !m1) {
      return false;
    }
    return true;
  }
  var DRAW_TYPE_PATH = 1;
  var DRAW_TYPE_IMAGE = 2;
  var DRAW_TYPE_TEXT = 3;
  var DRAW_TYPE_INCREMENTAL = 4;
  function canPathBatch(style) {
    var hasFill = styleHasFill(style);
    var hasStroke = styleHasStroke(style);
    return !(style.lineDash || !(+hasFill ^ +hasStroke) || hasFill && typeof style.fill !== "string" || hasStroke && typeof style.stroke !== "string" || style.strokePercent < 1 || style.strokeOpacity < 1 || style.fillOpacity < 1);
  }
  function flushPathDrawn(ctx, scope) {
    scope.batchFill && ctx.fill();
    scope.batchStroke && ctx.stroke();
    scope.batchFill = "";
    scope.batchStroke = "";
  }
  function getStyle(el, inHover) {
    return inHover ? el.__hoverStyle || el.style : el.style;
  }
  function brushSingle(ctx, el) {
    brush(ctx, el, { inHover: false, viewWidth: 0, viewHeight: 0 }, true);
  }
  function brush(ctx, el, scope, isLast) {
    var m2 = el.transform;
    if (!el.shouldBePainted(scope.viewWidth, scope.viewHeight, false, false)) {
      el.__dirty &= ~REDRAW_BIT;
      el.__isRendered = false;
      return;
    }
    var clipPaths = el.__clipPaths;
    var prevElClipPaths = scope.prevElClipPaths;
    var forceSetTransform = false;
    var forceSetStyle = false;
    if (!prevElClipPaths || isClipPathChanged(clipPaths, prevElClipPaths)) {
      if (prevElClipPaths && prevElClipPaths.length) {
        flushPathDrawn(ctx, scope);
        ctx.restore();
        forceSetStyle = forceSetTransform = true;
        scope.prevElClipPaths = null;
        scope.allClipped = false;
        scope.prevEl = null;
      }
      if (clipPaths && clipPaths.length) {
        flushPathDrawn(ctx, scope);
        ctx.save();
        updateClipStatus(clipPaths, ctx, scope);
        forceSetTransform = true;
      }
      scope.prevElClipPaths = clipPaths;
    }
    if (scope.allClipped) {
      el.__isRendered = false;
      return;
    }
    el.beforeBrush && el.beforeBrush();
    el.innerBeforeBrush();
    var prevEl = scope.prevEl;
    if (!prevEl) {
      forceSetStyle = forceSetTransform = true;
    }
    var canBatchPath = el instanceof Path$1 && el.autoBatch && canPathBatch(el.style);
    if (forceSetTransform || isTransformChanged(m2, prevEl.transform)) {
      flushPathDrawn(ctx, scope);
      setContextTransform(ctx, el);
    } else if (!canBatchPath) {
      flushPathDrawn(ctx, scope);
    }
    var style = getStyle(el, scope.inHover);
    if (el instanceof Path$1) {
      if (scope.lastDrawType !== DRAW_TYPE_PATH) {
        forceSetStyle = true;
        scope.lastDrawType = DRAW_TYPE_PATH;
      }
      bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetStyle, scope);
      if (!canBatchPath || !scope.batchFill && !scope.batchStroke) {
        ctx.beginPath();
      }
      brushPath(ctx, el, style, canBatchPath);
      if (canBatchPath) {
        scope.batchFill = style.fill || "";
        scope.batchStroke = style.stroke || "";
      }
    } else {
      if (el instanceof TSpan$1) {
        if (scope.lastDrawType !== DRAW_TYPE_TEXT) {
          forceSetStyle = true;
          scope.lastDrawType = DRAW_TYPE_TEXT;
        }
        bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetStyle, scope);
        brushText(ctx, el, style);
      } else if (el instanceof ZRImage$1) {
        if (scope.lastDrawType !== DRAW_TYPE_IMAGE) {
          forceSetStyle = true;
          scope.lastDrawType = DRAW_TYPE_IMAGE;
        }
        bindImageStyle(ctx, el, prevEl, forceSetStyle, scope);
        brushImage(ctx, el, style);
      } else if (el.getTemporalDisplayables) {
        if (scope.lastDrawType !== DRAW_TYPE_INCREMENTAL) {
          forceSetStyle = true;
          scope.lastDrawType = DRAW_TYPE_INCREMENTAL;
        }
        brushIncremental(ctx, el, scope);
      }
    }
    if (canBatchPath && isLast) {
      flushPathDrawn(ctx, scope);
    }
    el.innerAfterBrush();
    el.afterBrush && el.afterBrush();
    scope.prevEl = el;
    el.__dirty = 0;
    el.__isRendered = true;
  }
  function brushIncremental(ctx, el, scope) {
    var displayables = el.getDisplayables();
    var temporalDisplayables = el.getTemporalDisplayables();
    ctx.save();
    var innerScope = {
      prevElClipPaths: null,
      prevEl: null,
      allClipped: false,
      viewWidth: scope.viewWidth,
      viewHeight: scope.viewHeight,
      inHover: scope.inHover
    };
    var i2;
    var len2;
    for (i2 = el.getCursor(), len2 = displayables.length; i2 < len2; i2++) {
      var displayable = displayables[i2];
      displayable.beforeBrush && displayable.beforeBrush();
      displayable.innerBeforeBrush();
      brush(ctx, displayable, innerScope, i2 === len2 - 1);
      displayable.innerAfterBrush();
      displayable.afterBrush && displayable.afterBrush();
      innerScope.prevEl = displayable;
    }
    for (var i_1 = 0, len_1 = temporalDisplayables.length; i_1 < len_1; i_1++) {
      var displayable = temporalDisplayables[i_1];
      displayable.beforeBrush && displayable.beforeBrush();
      displayable.innerBeforeBrush();
      brush(ctx, displayable, innerScope, i_1 === len_1 - 1);
      displayable.innerAfterBrush();
      displayable.afterBrush && displayable.afterBrush();
      innerScope.prevEl = displayable;
    }
    el.clearTemporalDisplayables();
    el.notClear = true;
    ctx.restore();
  }
  var decalMap = new WeakMap$1();
  var decalCache = new LRU$1(100);
  var decalKeys = ["symbol", "symbolSize", "symbolKeepAspect", "color", "backgroundColor", "dashArrayX", "dashArrayY", "maxTileWidth", "maxTileHeight"];
  function createOrUpdatePatternFromDecal(decalObject, api) {
    if (decalObject === "none") {
      return null;
    }
    var dpr2 = api.getDevicePixelRatio();
    var zr = api.getZr();
    var isSVG = zr.painter.type === "svg";
    if (decalObject.dirty) {
      decalMap["delete"](decalObject);
    }
    var oldPattern = decalMap.get(decalObject);
    if (oldPattern) {
      return oldPattern;
    }
    var decalOpt = defaults(decalObject, {
      symbol: "rect",
      symbolSize: 1,
      symbolKeepAspect: true,
      color: "rgba(0, 0, 0, 0.2)",
      backgroundColor: null,
      dashArrayX: 5,
      dashArrayY: 5,
      rotation: 0,
      maxTileWidth: 512,
      maxTileHeight: 512
    });
    if (decalOpt.backgroundColor === "none") {
      decalOpt.backgroundColor = null;
    }
    var pattern = {
      repeat: "repeat"
    };
    setPatternnSource(pattern);
    pattern.rotation = decalOpt.rotation;
    pattern.scaleX = pattern.scaleY = isSVG ? 1 : 1 / dpr2;
    decalMap.set(decalObject, pattern);
    decalObject.dirty = false;
    return pattern;
    function setPatternnSource(pattern2) {
      var keys2 = [dpr2];
      var isValidKey = true;
      for (var i2 = 0; i2 < decalKeys.length; ++i2) {
        var value = decalOpt[decalKeys[i2]];
        if (value != null && !isArray(value) && !isString(value) && !isNumber(value) && typeof value !== "boolean") {
          isValidKey = false;
          break;
        }
        keys2.push(value);
      }
      var cacheKey;
      if (isValidKey) {
        cacheKey = keys2.join(",") + (isSVG ? "-svg" : "");
        var cache = decalCache.get(cacheKey);
        if (cache) {
          isSVG ? pattern2.svgElement = cache : pattern2.image = cache;
        }
      }
      var dashArrayX = normalizeDashArrayX(decalOpt.dashArrayX);
      var dashArrayY = normalizeDashArrayY(decalOpt.dashArrayY);
      var symbolArray = normalizeSymbolArray(decalOpt.symbol);
      var lineBlockLengthsX = getLineBlockLengthX(dashArrayX);
      var lineBlockLengthY = getLineBlockLengthY(dashArrayY);
      var canvas = !isSVG && platformApi.createCanvas();
      var svgRoot = isSVG && {
        tag: "g",
        attrs: {},
        key: "dcl",
        children: []
      };
      var pSize = getPatternSize();
      var ctx;
      if (canvas) {
        canvas.width = pSize.width * dpr2;
        canvas.height = pSize.height * dpr2;
        ctx = canvas.getContext("2d");
      }
      brushDecal();
      if (isValidKey) {
        decalCache.put(cacheKey, canvas || svgRoot);
      }
      pattern2.image = canvas;
      pattern2.svgElement = svgRoot;
      pattern2.svgWidth = pSize.width;
      pattern2.svgHeight = pSize.height;
      function getPatternSize() {
        var width = 1;
        for (var i3 = 0, xlen = lineBlockLengthsX.length; i3 < xlen; ++i3) {
          width = getLeastCommonMultiple(width, lineBlockLengthsX[i3]);
        }
        var symbolRepeats = 1;
        for (var i3 = 0, xlen = symbolArray.length; i3 < xlen; ++i3) {
          symbolRepeats = getLeastCommonMultiple(symbolRepeats, symbolArray[i3].length);
        }
        width *= symbolRepeats;
        var height = lineBlockLengthY * lineBlockLengthsX.length * symbolArray.length;
        {
          var warn2 = function(attrName) {
            formatAppLog("warn", "at node_modules/echarts/lib/util/decal.js:200", "Calculated decal size is greater than " + attrName + " due to decal option settings so " + attrName + " is used for the decal size. Please consider changing the decal option to make a smaller decal or set " + attrName + " to be larger to avoid incontinuity.");
          };
          if (width > decalOpt.maxTileWidth) {
            warn2("maxTileWidth");
          }
          if (height > decalOpt.maxTileHeight) {
            warn2("maxTileHeight");
          }
        }
        return {
          width: Math.max(1, Math.min(width, decalOpt.maxTileWidth)),
          height: Math.max(1, Math.min(height, decalOpt.maxTileHeight))
        };
      }
      function brushDecal() {
        if (ctx) {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          if (decalOpt.backgroundColor) {
            ctx.fillStyle = decalOpt.backgroundColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
          }
        }
        var ySum = 0;
        for (var i3 = 0; i3 < dashArrayY.length; ++i3) {
          ySum += dashArrayY[i3];
        }
        if (ySum <= 0) {
          return;
        }
        var y = -lineBlockLengthY;
        var yId = 0;
        var yIdTotal = 0;
        var xId0 = 0;
        while (y < pSize.height) {
          if (yId % 2 === 0) {
            var symbolYId = yIdTotal / 2 % symbolArray.length;
            var x2 = 0;
            var xId1 = 0;
            var xId1Total = 0;
            while (x2 < pSize.width * 2) {
              var xSum = 0;
              for (var i3 = 0; i3 < dashArrayX[xId0].length; ++i3) {
                xSum += dashArrayX[xId0][i3];
              }
              if (xSum <= 0) {
                break;
              }
              if (xId1 % 2 === 0) {
                var size = (1 - decalOpt.symbolSize) * 0.5;
                var left = x2 + dashArrayX[xId0][xId1] * size;
                var top_1 = y + dashArrayY[yId] * size;
                var width = dashArrayX[xId0][xId1] * decalOpt.symbolSize;
                var height = dashArrayY[yId] * decalOpt.symbolSize;
                var symbolXId = xId1Total / 2 % symbolArray[symbolYId].length;
                brushSymbol(left, top_1, width, height, symbolArray[symbolYId][symbolXId]);
              }
              x2 += dashArrayX[xId0][xId1];
              ++xId1Total;
              ++xId1;
              if (xId1 === dashArrayX[xId0].length) {
                xId1 = 0;
              }
            }
            ++xId0;
            if (xId0 === dashArrayX.length) {
              xId0 = 0;
            }
          }
          y += dashArrayY[yId];
          ++yIdTotal;
          ++yId;
          if (yId === dashArrayY.length) {
            yId = 0;
          }
        }
        function brushSymbol(x3, y2, width2, height2, symbolType) {
          var scale2 = isSVG ? 1 : dpr2;
          var symbol = createSymbol(symbolType, x3 * scale2, y2 * scale2, width2 * scale2, height2 * scale2, decalOpt.color, decalOpt.symbolKeepAspect);
          if (isSVG) {
            var symbolVNode = zr.painter.renderOneToVNode(symbol);
            if (symbolVNode) {
              svgRoot.children.push(symbolVNode);
            }
          } else {
            brushSingle(ctx, symbol);
          }
        }
      }
    }
  }
  function normalizeSymbolArray(symbol) {
    if (!symbol || symbol.length === 0) {
      return [["rect"]];
    }
    if (isString(symbol)) {
      return [[symbol]];
    }
    var isAllString = true;
    for (var i2 = 0; i2 < symbol.length; ++i2) {
      if (!isString(symbol[i2])) {
        isAllString = false;
        break;
      }
    }
    if (isAllString) {
      return normalizeSymbolArray([symbol]);
    }
    var result = [];
    for (var i2 = 0; i2 < symbol.length; ++i2) {
      if (isString(symbol[i2])) {
        result.push([symbol[i2]]);
      } else {
        result.push(symbol[i2]);
      }
    }
    return result;
  }
  function normalizeDashArrayX(dash) {
    if (!dash || dash.length === 0) {
      return [[0, 0]];
    }
    if (isNumber(dash)) {
      var dashValue = Math.ceil(dash);
      return [[dashValue, dashValue]];
    }
    var isAllNumber = true;
    for (var i2 = 0; i2 < dash.length; ++i2) {
      if (!isNumber(dash[i2])) {
        isAllNumber = false;
        break;
      }
    }
    if (isAllNumber) {
      return normalizeDashArrayX([dash]);
    }
    var result = [];
    for (var i2 = 0; i2 < dash.length; ++i2) {
      if (isNumber(dash[i2])) {
        var dashValue = Math.ceil(dash[i2]);
        result.push([dashValue, dashValue]);
      } else {
        var dashValue = map$1(dash[i2], function(n2) {
          return Math.ceil(n2);
        });
        if (dashValue.length % 2 === 1) {
          result.push(dashValue.concat(dashValue));
        } else {
          result.push(dashValue);
        }
      }
    }
    return result;
  }
  function normalizeDashArrayY(dash) {
    if (!dash || typeof dash === "object" && dash.length === 0) {
      return [0, 0];
    }
    if (isNumber(dash)) {
      var dashValue_1 = Math.ceil(dash);
      return [dashValue_1, dashValue_1];
    }
    var dashValue = map$1(dash, function(n2) {
      return Math.ceil(n2);
    });
    return dash.length % 2 ? dashValue.concat(dashValue) : dashValue;
  }
  function getLineBlockLengthX(dash) {
    return map$1(dash, function(line) {
      return getLineBlockLengthY(line);
    });
  }
  function getLineBlockLengthY(dash) {
    var blockLength = 0;
    for (var i2 = 0; i2 < dash.length; ++i2) {
      blockLength += dash[i2];
    }
    if (dash.length % 2 === 1) {
      return blockLength * 2;
    }
    return blockLength;
  }
  function decalVisual(ecModel, api) {
    ecModel.eachRawSeries(function(seriesModel) {
      if (ecModel.isSeriesFiltered(seriesModel)) {
        return;
      }
      var data = seriesModel.getData();
      if (data.hasItemVisual()) {
        data.each(function(idx) {
          var decal2 = data.getItemVisual(idx, "decal");
          if (decal2) {
            var itemStyle = data.ensureUniqueItemVisual(idx, "style");
            itemStyle.decal = createOrUpdatePatternFromDecal(decal2, api);
          }
        });
      }
      var decal = data.getVisual("decal");
      if (decal) {
        var style = data.getVisual("style");
        style.decal = createOrUpdatePatternFromDecal(decal, api);
      }
    });
  }
  var lifecycle = new Eventful$1();
  var lifecycle$1 = lifecycle;
  var implsStore = {};
  function registerImpl(name, impl) {
    {
      if (implsStore[name]) {
        error("Already has an implementation of " + name + ".");
      }
    }
    implsStore[name] = impl;
  }
  function getImpl(name) {
    {
      if (!implsStore[name]) {
        error("Implementation of " + name + " doesn't exists.");
      }
    }
    return implsStore[name];
  }
  var version = "5.4.3";
  var dependencies = {
    zrender: "5.4.4"
  };
  var TEST_FRAME_REMAIN_TIME = 1;
  var PRIORITY_PROCESSOR_SERIES_FILTER = 800;
  var PRIORITY_PROCESSOR_DATASTACK = 900;
  var PRIORITY_PROCESSOR_FILTER = 1e3;
  var PRIORITY_PROCESSOR_DEFAULT = 2e3;
  var PRIORITY_PROCESSOR_STATISTIC = 5e3;
  var PRIORITY_VISUAL_LAYOUT = 1e3;
  var PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;
  var PRIORITY_VISUAL_GLOBAL = 2e3;
  var PRIORITY_VISUAL_CHART = 3e3;
  var PRIORITY_VISUAL_COMPONENT = 4e3;
  var PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500;
  var PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600;
  var PRIORITY_VISUAL_BRUSH = 5e3;
  var PRIORITY_VISUAL_ARIA = 6e3;
  var PRIORITY_VISUAL_DECAL = 7e3;
  var PRIORITY = {
    PROCESSOR: {
      FILTER: PRIORITY_PROCESSOR_FILTER,
      SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,
      STATISTIC: PRIORITY_PROCESSOR_STATISTIC
    },
    VISUAL: {
      LAYOUT: PRIORITY_VISUAL_LAYOUT,
      PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,
      GLOBAL: PRIORITY_VISUAL_GLOBAL,
      CHART: PRIORITY_VISUAL_CHART,
      POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,
      COMPONENT: PRIORITY_VISUAL_COMPONENT,
      BRUSH: PRIORITY_VISUAL_BRUSH,
      CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,
      ARIA: PRIORITY_VISUAL_ARIA,
      DECAL: PRIORITY_VISUAL_DECAL
    }
  };
  var IN_MAIN_PROCESS_KEY = "__flagInMainProcess";
  var PENDING_UPDATE = "__pendingUpdate";
  var STATUS_NEEDS_UPDATE_KEY = "__needsUpdateStatus";
  var ACTION_REG = /^[a-zA-Z0-9_]+$/;
  var CONNECT_STATUS_KEY = "__connectUpdateStatus";
  var CONNECT_STATUS_PENDING = 0;
  var CONNECT_STATUS_UPDATING = 1;
  var CONNECT_STATUS_UPDATED = 2;
  function createRegisterEventWithLowercaseECharts(method) {
    return function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      if (this.isDisposed()) {
        disposedWarning(this.id);
        return;
      }
      return toLowercaseNameAndCallEventful(this, method, args);
    };
  }
  function createRegisterEventWithLowercaseMessageCenter(method) {
    return function() {
      var args = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args[_i] = arguments[_i];
      }
      return toLowercaseNameAndCallEventful(this, method, args);
    };
  }
  function toLowercaseNameAndCallEventful(host, method, args) {
    args[0] = args[0] && args[0].toLowerCase();
    return Eventful$1.prototype[method].apply(host, args);
  }
  var MessageCenter = function(_super) {
    __extends(MessageCenter2, _super);
    function MessageCenter2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    return MessageCenter2;
  }(Eventful$1);
  var messageCenterProto = MessageCenter.prototype;
  messageCenterProto.on = createRegisterEventWithLowercaseMessageCenter("on");
  messageCenterProto.off = createRegisterEventWithLowercaseMessageCenter("off");
  var prepare;
  var prepareView;
  var updateDirectly;
  var updateMethods;
  var doConvertPixel;
  var updateStreamModes;
  var doDispatchAction;
  var flushPendingActions;
  var triggerUpdatedEvent;
  var bindRenderedEvent;
  var bindMouseEvent;
  var render;
  var renderComponents;
  var renderSeries;
  var createExtensionAPI;
  var enableConnect;
  var markStatusToUpdate;
  var applyChangedStates;
  var ECharts = function(_super) {
    __extends(ECharts2, _super);
    function ECharts2(dom, theme2, opts) {
      var _this = _super.call(this, new ECEventProcessor()) || this;
      _this._chartsViews = [];
      _this._chartsMap = {};
      _this._componentsViews = [];
      _this._componentsMap = {};
      _this._pendingActions = [];
      opts = opts || {};
      if (isString(theme2)) {
        theme2 = themeStorage[theme2];
      }
      _this._dom = dom;
      var defaultRenderer = "canvas";
      var defaultCoarsePointer = "auto";
      var defaultUseDirtyRect = false;
      {
        var root = env$1.hasGlobalWindow ? window : global;
        defaultRenderer = root.__ECHARTS__DEFAULT__RENDERER__ || defaultRenderer;
        defaultCoarsePointer = retrieve2(root.__ECHARTS__DEFAULT__COARSE_POINTER, defaultCoarsePointer);
        var devUseDirtyRect = root.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;
        defaultUseDirtyRect = devUseDirtyRect == null ? defaultUseDirtyRect : devUseDirtyRect;
      }
      var zr = _this._zr = init$1(dom, {
        renderer: opts.renderer || defaultRenderer,
        devicePixelRatio: opts.devicePixelRatio,
        width: opts.width,
        height: opts.height,
        ssr: opts.ssr,
        useDirtyRect: retrieve2(opts.useDirtyRect, defaultUseDirtyRect),
        useCoarsePointer: retrieve2(opts.useCoarsePointer, defaultCoarsePointer),
        pointerSize: opts.pointerSize
      });
      _this._ssr = opts.ssr;
      _this._throttledZrFlush = throttle(bind$1(zr.flush, zr), 17);
      theme2 = clone$3(theme2);
      theme2 && globalBackwardCompat(theme2, true);
      _this._theme = theme2;
      _this._locale = createLocaleObject(opts.locale || SYSTEM_LANG);
      _this._coordSysMgr = new CoordinateSystem();
      var api = _this._api = createExtensionAPI(_this);
      function prioritySortFunc(a2, b2) {
        return a2.__prio - b2.__prio;
      }
      sort(visualFuncs, prioritySortFunc);
      sort(dataProcessorFuncs, prioritySortFunc);
      _this._scheduler = new Scheduler$1(_this, api, dataProcessorFuncs, visualFuncs);
      _this._messageCenter = new MessageCenter();
      _this._initEvents();
      _this.resize = bind$1(_this.resize, _this);
      zr.animation.on("frame", _this._onframe, _this);
      bindRenderedEvent(zr, _this);
      bindMouseEvent(zr, _this);
      setAsPrimitive(_this);
      return _this;
    }
    ECharts2.prototype._onframe = function() {
      if (this._disposed) {
        return;
      }
      applyChangedStates(this);
      var scheduler = this._scheduler;
      if (this[PENDING_UPDATE]) {
        var silent = this[PENDING_UPDATE].silent;
        this[IN_MAIN_PROCESS_KEY] = true;
        try {
          prepare(this);
          updateMethods.update.call(this, null, this[PENDING_UPDATE].updateParams);
        } catch (e2) {
          this[IN_MAIN_PROCESS_KEY] = false;
          this[PENDING_UPDATE] = null;
          throw e2;
        }
        this._zr.flush();
        this[IN_MAIN_PROCESS_KEY] = false;
        this[PENDING_UPDATE] = null;
        flushPendingActions.call(this, silent);
        triggerUpdatedEvent.call(this, silent);
      } else if (scheduler.unfinished) {
        var remainTime = TEST_FRAME_REMAIN_TIME;
        var ecModel = this._model;
        var api = this._api;
        scheduler.unfinished = false;
        do {
          var startTime = +new Date();
          scheduler.performSeriesTasks(ecModel);
          scheduler.performDataProcessorTasks(ecModel);
          updateStreamModes(this, ecModel);
          scheduler.performVisualTasks(ecModel);
          renderSeries(this, this._model, api, "remain", {});
          remainTime -= +new Date() - startTime;
        } while (remainTime > 0 && scheduler.unfinished);
        if (!scheduler.unfinished) {
          this._zr.flush();
        }
      }
    };
    ECharts2.prototype.getDom = function() {
      return this._dom;
    };
    ECharts2.prototype.getId = function() {
      return this.id;
    };
    ECharts2.prototype.getZr = function() {
      return this._zr;
    };
    ECharts2.prototype.isSSR = function() {
      return this._ssr;
    };
    ECharts2.prototype.setOption = function(option, notMerge, lazyUpdate) {
      if (this[IN_MAIN_PROCESS_KEY]) {
        {
          error("`setOption` should not be called during main process.");
        }
        return;
      }
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var silent;
      var replaceMerge;
      var transitionOpt;
      if (isObject$2(notMerge)) {
        lazyUpdate = notMerge.lazyUpdate;
        silent = notMerge.silent;
        replaceMerge = notMerge.replaceMerge;
        transitionOpt = notMerge.transition;
        notMerge = notMerge.notMerge;
      }
      this[IN_MAIN_PROCESS_KEY] = true;
      if (!this._model || notMerge) {
        var optionManager = new OptionManager$1(this._api);
        var theme2 = this._theme;
        var ecModel = this._model = new GlobalModel$1();
        ecModel.scheduler = this._scheduler;
        ecModel.ssr = this._ssr;
        ecModel.init(null, null, null, theme2, this._locale, optionManager);
      }
      this._model.setOption(option, {
        replaceMerge
      }, optionPreprocessorFuncs);
      var updateParams = {
        seriesTransition: transitionOpt,
        optionChanged: true
      };
      if (lazyUpdate) {
        this[PENDING_UPDATE] = {
          silent,
          updateParams
        };
        this[IN_MAIN_PROCESS_KEY] = false;
        this.getZr().wakeUp();
      } else {
        try {
          prepare(this);
          updateMethods.update.call(this, null, updateParams);
        } catch (e2) {
          this[PENDING_UPDATE] = null;
          this[IN_MAIN_PROCESS_KEY] = false;
          throw e2;
        }
        if (!this._ssr) {
          this._zr.flush();
        }
        this[PENDING_UPDATE] = null;
        this[IN_MAIN_PROCESS_KEY] = false;
        flushPendingActions.call(this, silent);
        triggerUpdatedEvent.call(this, silent);
      }
    };
    ECharts2.prototype.setTheme = function() {
      deprecateLog("ECharts#setTheme() is DEPRECATED in ECharts 3.0");
    };
    ECharts2.prototype.getModel = function() {
      return this._model;
    };
    ECharts2.prototype.getOption = function() {
      return this._model && this._model.getOption();
    };
    ECharts2.prototype.getWidth = function() {
      return this._zr.getWidth();
    };
    ECharts2.prototype.getHeight = function() {
      return this._zr.getHeight();
    };
    ECharts2.prototype.getDevicePixelRatio = function() {
      return this._zr.painter.dpr || env$1.hasGlobalWindow && window.devicePixelRatio || 1;
    };
    ECharts2.prototype.getRenderedCanvas = function(opts) {
      {
        deprecateReplaceLog("getRenderedCanvas", "renderToCanvas");
      }
      return this.renderToCanvas(opts);
    };
    ECharts2.prototype.renderToCanvas = function(opts) {
      opts = opts || {};
      var painter = this._zr.painter;
      {
        if (painter.type !== "canvas") {
          throw new Error("renderToCanvas can only be used in the canvas renderer.");
        }
      }
      return painter.getRenderedCanvas({
        backgroundColor: opts.backgroundColor || this._model.get("backgroundColor"),
        pixelRatio: opts.pixelRatio || this.getDevicePixelRatio()
      });
    };
    ECharts2.prototype.renderToSVGString = function(opts) {
      opts = opts || {};
      var painter = this._zr.painter;
      {
        if (painter.type !== "svg") {
          throw new Error("renderToSVGString can only be used in the svg renderer.");
        }
      }
      return painter.renderToString({
        useViewBox: opts.useViewBox
      });
    };
    ECharts2.prototype.getSvgDataURL = function() {
      if (!env$1.svgSupported) {
        return;
      }
      var zr = this._zr;
      var list = zr.storage.getDisplayList();
      each$3(list, function(el) {
        el.stopAnimation(null, true);
      });
      return zr.painter.toDataURL();
    };
    ECharts2.prototype.getDataURL = function(opts) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      opts = opts || {};
      var excludeComponents = opts.excludeComponents;
      var ecModel = this._model;
      var excludesComponentViews = [];
      var self2 = this;
      each$3(excludeComponents, function(componentType) {
        ecModel.eachComponent({
          mainType: componentType
        }, function(component) {
          var view = self2._componentsMap[component.__viewId];
          if (!view.group.ignore) {
            excludesComponentViews.push(view);
            view.group.ignore = true;
          }
        });
      });
      var url = this._zr.painter.getType() === "svg" ? this.getSvgDataURL() : this.renderToCanvas(opts).toDataURL("image/" + (opts && opts.type || "png"));
      each$3(excludesComponentViews, function(view) {
        view.group.ignore = false;
      });
      return url;
    };
    ECharts2.prototype.getConnectedDataURL = function(opts) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var isSvg = opts.type === "svg";
      var groupId = this.group;
      var mathMin2 = Math.min;
      var mathMax2 = Math.max;
      var MAX_NUMBER = Infinity;
      if (connectedGroups[groupId]) {
        var left_1 = MAX_NUMBER;
        var top_1 = MAX_NUMBER;
        var right_1 = -MAX_NUMBER;
        var bottom_1 = -MAX_NUMBER;
        var canvasList_1 = [];
        var dpr_1 = opts && opts.pixelRatio || this.getDevicePixelRatio();
        each$3(instances, function(chart, id) {
          if (chart.group === groupId) {
            var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.renderToCanvas(clone$3(opts));
            var boundingRect = chart.getDom().getBoundingClientRect();
            left_1 = mathMin2(boundingRect.left, left_1);
            top_1 = mathMin2(boundingRect.top, top_1);
            right_1 = mathMax2(boundingRect.right, right_1);
            bottom_1 = mathMax2(boundingRect.bottom, bottom_1);
            canvasList_1.push({
              dom: canvas,
              left: boundingRect.left,
              top: boundingRect.top
            });
          }
        });
        left_1 *= dpr_1;
        top_1 *= dpr_1;
        right_1 *= dpr_1;
        bottom_1 *= dpr_1;
        var width = right_1 - left_1;
        var height = bottom_1 - top_1;
        var targetCanvas = platformApi.createCanvas();
        var zr_1 = init$1(targetCanvas, {
          renderer: isSvg ? "svg" : "canvas"
        });
        zr_1.resize({
          width,
          height
        });
        if (isSvg) {
          var content_1 = "";
          each$3(canvasList_1, function(item) {
            var x2 = item.left - left_1;
            var y = item.top - top_1;
            content_1 += '<g transform="translate(' + x2 + "," + y + ')">' + item.dom + "</g>";
          });
          zr_1.painter.getSvgRoot().innerHTML = content_1;
          if (opts.connectedBackgroundColor) {
            zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor);
          }
          zr_1.refreshImmediately();
          return zr_1.painter.toDataURL();
        } else {
          if (opts.connectedBackgroundColor) {
            zr_1.add(new Rect$1({
              shape: {
                x: 0,
                y: 0,
                width,
                height
              },
              style: {
                fill: opts.connectedBackgroundColor
              }
            }));
          }
          each$3(canvasList_1, function(item) {
            var img = new ZRImage$1({
              style: {
                x: item.left * dpr_1 - left_1,
                y: item.top * dpr_1 - top_1,
                image: item.dom
              }
            });
            zr_1.add(img);
          });
          zr_1.refreshImmediately();
          return targetCanvas.toDataURL("image/" + (opts && opts.type || "png"));
        }
      } else {
        return this.getDataURL(opts);
      }
    };
    ECharts2.prototype.convertToPixel = function(finder, value) {
      return doConvertPixel(this, "convertToPixel", finder, value);
    };
    ECharts2.prototype.convertFromPixel = function(finder, value) {
      return doConvertPixel(this, "convertFromPixel", finder, value);
    };
    ECharts2.prototype.containPixel = function(finder, value) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var ecModel = this._model;
      var result;
      var findResult = parseFinder(ecModel, finder);
      each$3(findResult, function(models, key) {
        key.indexOf("Models") >= 0 && each$3(models, function(model) {
          var coordSys = model.coordinateSystem;
          if (coordSys && coordSys.containPoint) {
            result = result || !!coordSys.containPoint(value);
          } else if (key === "seriesModels") {
            var view = this._chartsMap[model.__viewId];
            if (view && view.containPoint) {
              result = result || view.containPoint(value, model);
            } else {
              {
                warn(key + ": " + (view ? "The found component do not support containPoint." : "No view mapping to the found component."));
              }
            }
          } else {
            {
              warn(key + ": containPoint is not supported");
            }
          }
        }, this);
      }, this);
      return !!result;
    };
    ECharts2.prototype.getVisual = function(finder, visualType) {
      var ecModel = this._model;
      var parsedFinder = parseFinder(ecModel, finder, {
        defaultMainType: "series"
      });
      var seriesModel = parsedFinder.seriesModel;
      {
        if (!seriesModel) {
          warn("There is no specified series model");
        }
      }
      var data = seriesModel.getData();
      var dataIndexInside = parsedFinder.hasOwnProperty("dataIndexInside") ? parsedFinder.dataIndexInside : parsedFinder.hasOwnProperty("dataIndex") ? data.indexOfRawIndex(parsedFinder.dataIndex) : null;
      return dataIndexInside != null ? getItemVisualFromData(data, dataIndexInside, visualType) : getVisualFromData(data, visualType);
    };
    ECharts2.prototype.getViewOfComponentModel = function(componentModel) {
      return this._componentsMap[componentModel.__viewId];
    };
    ECharts2.prototype.getViewOfSeriesModel = function(seriesModel) {
      return this._chartsMap[seriesModel.__viewId];
    };
    ECharts2.prototype._initEvents = function() {
      var _this = this;
      each$3(MOUSE_EVENT_NAMES, function(eveName) {
        var handler = function(e2) {
          var ecModel = _this.getModel();
          var el = e2.target;
          var params;
          var isGlobalOut = eveName === "globalout";
          if (isGlobalOut) {
            params = {};
          } else {
            el && findEventDispatcher(el, function(parent) {
              var ecData = getECData(parent);
              if (ecData && ecData.dataIndex != null) {
                var dataModel = ecData.dataModel || ecModel.getSeriesByIndex(ecData.seriesIndex);
                params = dataModel && dataModel.getDataParams(ecData.dataIndex, ecData.dataType, el) || {};
                return true;
              } else if (ecData.eventData) {
                params = extend({}, ecData.eventData);
                return true;
              }
            }, true);
          }
          if (params) {
            var componentType = params.componentType;
            var componentIndex = params.componentIndex;
            if (componentType === "markLine" || componentType === "markPoint" || componentType === "markArea") {
              componentType = "series";
              componentIndex = params.seriesIndex;
            }
            var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);
            var view = model && _this[model.mainType === "series" ? "_chartsMap" : "_componentsMap"][model.__viewId];
            {
              if (!isGlobalOut && !(model && view)) {
                warn("model or view can not be found by params");
              }
            }
            params.event = e2;
            params.type = eveName;
            _this._$eventProcessor.eventInfo = {
              targetEl: el,
              packedEvent: params,
              model,
              view
            };
            _this.trigger(eveName, params);
          }
        };
        handler.zrEventfulCallAtLast = true;
        _this._zr.on(eveName, handler, _this);
      });
      each$3(eventActionMap, function(actionType, eventType) {
        _this._messageCenter.on(eventType, function(event) {
          this.trigger(eventType, event);
        }, _this);
      });
      each$3(["selectchanged"], function(eventType) {
        _this._messageCenter.on(eventType, function(event) {
          this.trigger(eventType, event);
        }, _this);
      });
      handleLegacySelectEvents(this._messageCenter, this, this._api);
    };
    ECharts2.prototype.isDisposed = function() {
      return this._disposed;
    };
    ECharts2.prototype.clear = function() {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this.setOption({
        series: []
      }, true);
    };
    ECharts2.prototype.dispose = function() {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this._disposed = true;
      var dom = this.getDom();
      if (dom) {
        setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, "");
      }
      var chart = this;
      var api = chart._api;
      var ecModel = chart._model;
      each$3(chart._componentsViews, function(component) {
        component.dispose(ecModel, api);
      });
      each$3(chart._chartsViews, function(chart2) {
        chart2.dispose(ecModel, api);
      });
      chart._zr.dispose();
      chart._dom = chart._model = chart._chartsMap = chart._componentsMap = chart._chartsViews = chart._componentsViews = chart._scheduler = chart._api = chart._zr = chart._throttledZrFlush = chart._theme = chart._coordSysMgr = chart._messageCenter = null;
      delete instances[chart.id];
    };
    ECharts2.prototype.resize = function(opts) {
      if (this[IN_MAIN_PROCESS_KEY]) {
        {
          error("`resize` should not be called during main process.");
        }
        return;
      }
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this._zr.resize(opts);
      var ecModel = this._model;
      this._loadingFX && this._loadingFX.resize();
      if (!ecModel) {
        return;
      }
      var needPrepare = ecModel.resetOption("media");
      var silent = opts && opts.silent;
      if (this[PENDING_UPDATE]) {
        if (silent == null) {
          silent = this[PENDING_UPDATE].silent;
        }
        needPrepare = true;
        this[PENDING_UPDATE] = null;
      }
      this[IN_MAIN_PROCESS_KEY] = true;
      try {
        needPrepare && prepare(this);
        updateMethods.update.call(this, {
          type: "resize",
          animation: extend({
            duration: 0
          }, opts && opts.animation)
        });
      } catch (e2) {
        this[IN_MAIN_PROCESS_KEY] = false;
        throw e2;
      }
      this[IN_MAIN_PROCESS_KEY] = false;
      flushPendingActions.call(this, silent);
      triggerUpdatedEvent.call(this, silent);
    };
    ECharts2.prototype.showLoading = function(name, cfg) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      if (isObject$2(name)) {
        cfg = name;
        name = "";
      }
      name = name || "default";
      this.hideLoading();
      if (!loadingEffects[name]) {
        {
          warn("Loading effects " + name + " not exists.");
        }
        return;
      }
      var el = loadingEffects[name](this._api, cfg);
      var zr = this._zr;
      this._loadingFX = el;
      zr.add(el);
    };
    ECharts2.prototype.hideLoading = function() {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      this._loadingFX && this._zr.remove(this._loadingFX);
      this._loadingFX = null;
    };
    ECharts2.prototype.makeActionFromEvent = function(eventObj) {
      var payload = extend({}, eventObj);
      payload.type = eventActionMap[eventObj.type];
      return payload;
    };
    ECharts2.prototype.dispatchAction = function(payload, opt) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      if (!isObject$2(opt)) {
        opt = {
          silent: !!opt
        };
      }
      if (!actions[payload.type]) {
        return;
      }
      if (!this._model) {
        return;
      }
      if (this[IN_MAIN_PROCESS_KEY]) {
        this._pendingActions.push(payload);
        return;
      }
      var silent = opt.silent;
      doDispatchAction.call(this, payload, silent);
      var flush = opt.flush;
      if (flush) {
        this._zr.flush();
      } else if (flush !== false && env$1.browser.weChat) {
        this._throttledZrFlush();
      }
      flushPendingActions.call(this, silent);
      triggerUpdatedEvent.call(this, silent);
    };
    ECharts2.prototype.updateLabelLayout = function() {
      lifecycle$1.trigger("series:layoutlabels", this._model, this._api, {
        updatedSeries: []
      });
    };
    ECharts2.prototype.appendData = function(params) {
      if (this._disposed) {
        disposedWarning(this.id);
        return;
      }
      var seriesIndex = params.seriesIndex;
      var ecModel = this.getModel();
      var seriesModel = ecModel.getSeriesByIndex(seriesIndex);
      {
        assert(params.data && seriesModel);
      }
      seriesModel.appendData(params);
      this._scheduler.unfinished = true;
      this.getZr().wakeUp();
    };
    ECharts2.internalField = function() {
      prepare = function(ecIns) {
        var scheduler = ecIns._scheduler;
        scheduler.restorePipelines(ecIns._model);
        scheduler.prepareStageTasks();
        prepareView(ecIns, true);
        prepareView(ecIns, false);
        scheduler.plan();
      };
      prepareView = function(ecIns, isComponent) {
        var ecModel = ecIns._model;
        var scheduler = ecIns._scheduler;
        var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;
        var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;
        var zr = ecIns._zr;
        var api = ecIns._api;
        for (var i2 = 0; i2 < viewList.length; i2++) {
          viewList[i2].__alive = false;
        }
        isComponent ? ecModel.eachComponent(function(componentType, model) {
          componentType !== "series" && doPrepare(model);
        }) : ecModel.eachSeries(doPrepare);
        function doPrepare(model) {
          var requireNewView = model.__requireNewView;
          model.__requireNewView = false;
          var viewId = "_ec_" + model.id + "_" + model.type;
          var view2 = !requireNewView && viewMap[viewId];
          if (!view2) {
            var classType = parseClassType(model.type);
            var Clazz = isComponent ? ComponentView$1.getClass(classType.main, classType.sub) : ChartView$1.getClass(classType.sub);
            {
              assert(Clazz, classType.sub + " does not exist.");
            }
            view2 = new Clazz();
            view2.init(ecModel, api);
            viewMap[viewId] = view2;
            viewList.push(view2);
            zr.add(view2.group);
          }
          model.__viewId = view2.__id = viewId;
          view2.__alive = true;
          view2.__model = model;
          view2.group.__ecComponentInfo = {
            mainType: model.mainType,
            index: model.componentIndex
          };
          !isComponent && scheduler.prepareView(view2, model, ecModel, api);
        }
        for (var i2 = 0; i2 < viewList.length; ) {
          var view = viewList[i2];
          if (!view.__alive) {
            !isComponent && view.renderTask.dispose();
            zr.remove(view.group);
            view.dispose(ecModel, api);
            viewList.splice(i2, 1);
            if (viewMap[view.__id] === view) {
              delete viewMap[view.__id];
            }
            view.__id = view.group.__ecComponentInfo = null;
          } else {
            i2++;
          }
        }
      };
      updateDirectly = function(ecIns, method, payload, mainType, subType) {
        var ecModel = ecIns._model;
        ecModel.setUpdatePayload(payload);
        if (!mainType) {
          each$3([].concat(ecIns._componentsViews).concat(ecIns._chartsViews), callView);
          return;
        }
        var query = {};
        query[mainType + "Id"] = payload[mainType + "Id"];
        query[mainType + "Index"] = payload[mainType + "Index"];
        query[mainType + "Name"] = payload[mainType + "Name"];
        var condition = {
          mainType,
          query
        };
        subType && (condition.subType = subType);
        var excludeSeriesId = payload.excludeSeriesId;
        var excludeSeriesIdMap;
        if (excludeSeriesId != null) {
          excludeSeriesIdMap = createHashMap();
          each$3(normalizeToArray(excludeSeriesId), function(id) {
            var modelId = convertOptionIdName(id, null);
            if (modelId != null) {
              excludeSeriesIdMap.set(modelId, true);
            }
          });
        }
        ecModel && ecModel.eachComponent(condition, function(model) {
          var isExcluded = excludeSeriesIdMap && excludeSeriesIdMap.get(model.id) != null;
          if (isExcluded) {
            return;
          }
          if (isHighDownPayload(payload)) {
            if (model instanceof SeriesModel$1) {
              if (payload.type === HIGHLIGHT_ACTION_TYPE && !payload.notBlur && !model.get(["emphasis", "disabled"])) {
                blurSeriesFromHighlightPayload(model, payload, ecIns._api);
              }
            } else {
              var _a2 = findComponentHighDownDispatchers(model.mainType, model.componentIndex, payload.name, ecIns._api), focusSelf = _a2.focusSelf, dispatchers = _a2.dispatchers;
              if (payload.type === HIGHLIGHT_ACTION_TYPE && focusSelf && !payload.notBlur) {
                blurComponent(model.mainType, model.componentIndex, ecIns._api);
              }
              if (dispatchers) {
                each$3(dispatchers, function(dispatcher) {
                  payload.type === HIGHLIGHT_ACTION_TYPE ? enterEmphasis(dispatcher) : leaveEmphasis(dispatcher);
                });
              }
            }
          } else if (isSelectChangePayload(payload)) {
            if (model instanceof SeriesModel$1) {
              toggleSelectionFromPayload(model, payload, ecIns._api);
              updateSeriesElementSelection(model);
              markStatusToUpdate(ecIns);
            }
          }
        }, ecIns);
        ecModel && ecModel.eachComponent(condition, function(model) {
          var isExcluded = excludeSeriesIdMap && excludeSeriesIdMap.get(model.id) != null;
          if (isExcluded) {
            return;
          }
          callView(ecIns[mainType === "series" ? "_chartsMap" : "_componentsMap"][model.__viewId]);
        }, ecIns);
        function callView(view) {
          view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);
        }
      };
      updateMethods = {
        prepareAndUpdate: function(payload) {
          prepare(this);
          updateMethods.update.call(this, payload, {
            optionChanged: payload.newOption != null
          });
        },
        update: function(payload, updateParams) {
          var ecModel = this._model;
          var api = this._api;
          var zr = this._zr;
          var coordSysMgr = this._coordSysMgr;
          var scheduler = this._scheduler;
          if (!ecModel) {
            return;
          }
          ecModel.setUpdatePayload(payload);
          scheduler.restoreData(ecModel, payload);
          scheduler.performSeriesTasks(ecModel);
          coordSysMgr.create(ecModel, api);
          scheduler.performDataProcessorTasks(ecModel, payload);
          updateStreamModes(this, ecModel);
          coordSysMgr.update(ecModel, api);
          clearColorPalette(ecModel);
          scheduler.performVisualTasks(ecModel, payload);
          render(this, ecModel, api, payload, updateParams);
          var backgroundColor2 = ecModel.get("backgroundColor") || "transparent";
          var darkMode = ecModel.get("darkMode");
          zr.setBackgroundColor(backgroundColor2);
          if (darkMode != null && darkMode !== "auto") {
            zr.setDarkMode(darkMode);
          }
          lifecycle$1.trigger("afterupdate", ecModel, api);
        },
        updateTransform: function(payload) {
          var _this = this;
          var ecModel = this._model;
          var api = this._api;
          if (!ecModel) {
            return;
          }
          ecModel.setUpdatePayload(payload);
          var componentDirtyList = [];
          ecModel.eachComponent(function(componentType, componentModel) {
            if (componentType === "series") {
              return;
            }
            var componentView = _this.getViewOfComponentModel(componentModel);
            if (componentView && componentView.__alive) {
              if (componentView.updateTransform) {
                var result = componentView.updateTransform(componentModel, ecModel, api, payload);
                result && result.update && componentDirtyList.push(componentView);
              } else {
                componentDirtyList.push(componentView);
              }
            }
          });
          var seriesDirtyMap = createHashMap();
          ecModel.eachSeries(function(seriesModel) {
            var chartView = _this._chartsMap[seriesModel.__viewId];
            if (chartView.updateTransform) {
              var result = chartView.updateTransform(seriesModel, ecModel, api, payload);
              result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);
            } else {
              seriesDirtyMap.set(seriesModel.uid, 1);
            }
          });
          clearColorPalette(ecModel);
          this._scheduler.performVisualTasks(ecModel, payload, {
            setDirty: true,
            dirtyMap: seriesDirtyMap
          });
          renderSeries(this, ecModel, api, payload, {}, seriesDirtyMap);
          lifecycle$1.trigger("afterupdate", ecModel, api);
        },
        updateView: function(payload) {
          var ecModel = this._model;
          if (!ecModel) {
            return;
          }
          ecModel.setUpdatePayload(payload);
          ChartView$1.markUpdateMethod(payload, "updateView");
          clearColorPalette(ecModel);
          this._scheduler.performVisualTasks(ecModel, payload, {
            setDirty: true
          });
          render(this, ecModel, this._api, payload, {});
          lifecycle$1.trigger("afterupdate", ecModel, this._api);
        },
        updateVisual: function(payload) {
          var _this = this;
          var ecModel = this._model;
          if (!ecModel) {
            return;
          }
          ecModel.setUpdatePayload(payload);
          ecModel.eachSeries(function(seriesModel) {
            seriesModel.getData().clearAllVisual();
          });
          ChartView$1.markUpdateMethod(payload, "updateVisual");
          clearColorPalette(ecModel);
          this._scheduler.performVisualTasks(ecModel, payload, {
            visualType: "visual",
            setDirty: true
          });
          ecModel.eachComponent(function(componentType, componentModel) {
            if (componentType !== "series") {
              var componentView = _this.getViewOfComponentModel(componentModel);
              componentView && componentView.__alive && componentView.updateVisual(componentModel, ecModel, _this._api, payload);
            }
          });
          ecModel.eachSeries(function(seriesModel) {
            var chartView = _this._chartsMap[seriesModel.__viewId];
            chartView.updateVisual(seriesModel, ecModel, _this._api, payload);
          });
          lifecycle$1.trigger("afterupdate", ecModel, this._api);
        },
        updateLayout: function(payload) {
          updateMethods.update.call(this, payload);
        }
      };
      doConvertPixel = function(ecIns, methodName, finder, value) {
        if (ecIns._disposed) {
          disposedWarning(ecIns.id);
          return;
        }
        var ecModel = ecIns._model;
        var coordSysList = ecIns._coordSysMgr.getCoordinateSystems();
        var result;
        var parsedFinder = parseFinder(ecModel, finder);
        for (var i2 = 0; i2 < coordSysList.length; i2++) {
          var coordSys = coordSysList[i2];
          if (coordSys[methodName] && (result = coordSys[methodName](ecModel, parsedFinder, value)) != null) {
            return result;
          }
        }
        {
          warn("No coordinate system that supports " + methodName + " found by the given finder.");
        }
      };
      updateStreamModes = function(ecIns, ecModel) {
        var chartsMap = ecIns._chartsMap;
        var scheduler = ecIns._scheduler;
        ecModel.eachSeries(function(seriesModel) {
          scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);
        });
      };
      doDispatchAction = function(payload, silent) {
        var _this = this;
        var ecModel = this.getModel();
        var payloadType = payload.type;
        var escapeConnect = payload.escapeConnect;
        var actionWrap = actions[payloadType];
        var actionInfo = actionWrap.actionInfo;
        var cptTypeTmp = (actionInfo.update || "update").split(":");
        var updateMethod = cptTypeTmp.pop();
        var cptType = cptTypeTmp[0] != null && parseClassType(cptTypeTmp[0]);
        this[IN_MAIN_PROCESS_KEY] = true;
        var payloads = [payload];
        var batched = false;
        if (payload.batch) {
          batched = true;
          payloads = map$1(payload.batch, function(item) {
            item = defaults(extend({}, item), payload);
            item.batch = null;
            return item;
          });
        }
        var eventObjBatch = [];
        var eventObj;
        var isSelectChange = isSelectChangePayload(payload);
        var isHighDown = isHighDownPayload(payload);
        if (isHighDown) {
          allLeaveBlur(this._api);
        }
        each$3(payloads, function(batchItem) {
          eventObj = actionWrap.action(batchItem, _this._model, _this._api);
          eventObj = eventObj || extend({}, batchItem);
          eventObj.type = actionInfo.event || eventObj.type;
          eventObjBatch.push(eventObj);
          if (isHighDown) {
            var _a2 = preParseFinder(payload), queryOptionMap = _a2.queryOptionMap, mainTypeSpecified = _a2.mainTypeSpecified;
            var componentMainType = mainTypeSpecified ? queryOptionMap.keys()[0] : "series";
            updateDirectly(_this, updateMethod, batchItem, componentMainType);
            markStatusToUpdate(_this);
          } else if (isSelectChange) {
            updateDirectly(_this, updateMethod, batchItem, "series");
            markStatusToUpdate(_this);
          } else if (cptType) {
            updateDirectly(_this, updateMethod, batchItem, cptType.main, cptType.sub);
          }
        });
        if (updateMethod !== "none" && !isHighDown && !isSelectChange && !cptType) {
          try {
            if (this[PENDING_UPDATE]) {
              prepare(this);
              updateMethods.update.call(this, payload);
              this[PENDING_UPDATE] = null;
            } else {
              updateMethods[updateMethod].call(this, payload);
            }
          } catch (e2) {
            this[IN_MAIN_PROCESS_KEY] = false;
            throw e2;
          }
        }
        if (batched) {
          eventObj = {
            type: actionInfo.event || payloadType,
            escapeConnect,
            batch: eventObjBatch
          };
        } else {
          eventObj = eventObjBatch[0];
        }
        this[IN_MAIN_PROCESS_KEY] = false;
        if (!silent) {
          var messageCenter = this._messageCenter;
          messageCenter.trigger(eventObj.type, eventObj);
          if (isSelectChange) {
            var newObj = {
              type: "selectchanged",
              escapeConnect,
              selected: getAllSelectedIndices(ecModel),
              isFromClick: payload.isFromClick || false,
              fromAction: payload.type,
              fromActionPayload: payload
            };
            messageCenter.trigger(newObj.type, newObj);
          }
        }
      };
      flushPendingActions = function(silent) {
        var pendingActions = this._pendingActions;
        while (pendingActions.length) {
          var payload = pendingActions.shift();
          doDispatchAction.call(this, payload, silent);
        }
      };
      triggerUpdatedEvent = function(silent) {
        !silent && this.trigger("updated");
      };
      bindRenderedEvent = function(zr, ecIns) {
        zr.on("rendered", function(params) {
          ecIns.trigger("rendered", params);
          if (zr.animation.isFinished() && !ecIns[PENDING_UPDATE] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {
            ecIns.trigger("finished");
          }
        });
      };
      bindMouseEvent = function(zr, ecIns) {
        zr.on("mouseover", function(e2) {
          var el = e2.target;
          var dispatcher = findEventDispatcher(el, isHighDownDispatcher);
          if (dispatcher) {
            handleGlobalMouseOverForHighDown(dispatcher, e2, ecIns._api);
            markStatusToUpdate(ecIns);
          }
        }).on("mouseout", function(e2) {
          var el = e2.target;
          var dispatcher = findEventDispatcher(el, isHighDownDispatcher);
          if (dispatcher) {
            handleGlobalMouseOutForHighDown(dispatcher, e2, ecIns._api);
            markStatusToUpdate(ecIns);
          }
        }).on("click", function(e2) {
          var el = e2.target;
          var dispatcher = findEventDispatcher(el, function(target) {
            return getECData(target).dataIndex != null;
          }, true);
          if (dispatcher) {
            var actionType = dispatcher.selected ? "unselect" : "select";
            var ecData = getECData(dispatcher);
            ecIns._api.dispatchAction({
              type: actionType,
              dataType: ecData.dataType,
              dataIndexInside: ecData.dataIndex,
              seriesIndex: ecData.seriesIndex,
              isFromClick: true
            });
          }
        });
      };
      function clearColorPalette(ecModel) {
        ecModel.clearColorPalette();
        ecModel.eachSeries(function(seriesModel) {
          seriesModel.clearColorPalette();
        });
      }
      function allocateZlevels(ecModel) {
        var componentZLevels = [];
        var seriesZLevels = [];
        var hasSeperateZLevel = false;
        ecModel.eachComponent(function(componentType, componentModel) {
          var zlevel = componentModel.get("zlevel") || 0;
          var z2 = componentModel.get("z") || 0;
          var zlevelKey = componentModel.getZLevelKey();
          hasSeperateZLevel = hasSeperateZLevel || !!zlevelKey;
          (componentType === "series" ? seriesZLevels : componentZLevels).push({
            zlevel,
            z: z2,
            idx: componentModel.componentIndex,
            type: componentType,
            key: zlevelKey
          });
        });
        if (hasSeperateZLevel) {
          var zLevels = componentZLevels.concat(seriesZLevels);
          var lastSeriesZLevel_1;
          var lastSeriesKey_1;
          sort(zLevels, function(a2, b2) {
            if (a2.zlevel === b2.zlevel) {
              return a2.z - b2.z;
            }
            return a2.zlevel - b2.zlevel;
          });
          each$3(zLevels, function(item) {
            var componentModel = ecModel.getComponent(item.type, item.idx);
            var zlevel = item.zlevel;
            var key = item.key;
            if (lastSeriesZLevel_1 != null) {
              zlevel = Math.max(lastSeriesZLevel_1, zlevel);
            }
            if (key) {
              if (zlevel === lastSeriesZLevel_1 && key !== lastSeriesKey_1) {
                zlevel++;
              }
              lastSeriesKey_1 = key;
            } else if (lastSeriesKey_1) {
              if (zlevel === lastSeriesZLevel_1) {
                zlevel++;
              }
              lastSeriesKey_1 = "";
            }
            lastSeriesZLevel_1 = zlevel;
            componentModel.setZLevel(zlevel);
          });
        }
      }
      render = function(ecIns, ecModel, api, payload, updateParams) {
        allocateZlevels(ecModel);
        renderComponents(ecIns, ecModel, api, payload, updateParams);
        each$3(ecIns._chartsViews, function(chart) {
          chart.__alive = false;
        });
        renderSeries(ecIns, ecModel, api, payload, updateParams);
        each$3(ecIns._chartsViews, function(chart) {
          if (!chart.__alive) {
            chart.remove(ecModel, api);
          }
        });
      };
      renderComponents = function(ecIns, ecModel, api, payload, updateParams, dirtyList) {
        each$3(dirtyList || ecIns._componentsViews, function(componentView) {
          var componentModel = componentView.__model;
          clearStates(componentModel, componentView);
          componentView.render(componentModel, ecModel, api, payload);
          updateZ(componentModel, componentView);
          updateStates(componentModel, componentView);
        });
      };
      renderSeries = function(ecIns, ecModel, api, payload, updateParams, dirtyMap) {
        var scheduler = ecIns._scheduler;
        updateParams = extend(updateParams || {}, {
          updatedSeries: ecModel.getSeries()
        });
        lifecycle$1.trigger("series:beforeupdate", ecModel, api, updateParams);
        var unfinished = false;
        ecModel.eachSeries(function(seriesModel) {
          var chartView = ecIns._chartsMap[seriesModel.__viewId];
          chartView.__alive = true;
          var renderTask = chartView.renderTask;
          scheduler.updatePayload(renderTask, payload);
          clearStates(seriesModel, chartView);
          if (dirtyMap && dirtyMap.get(seriesModel.uid)) {
            renderTask.dirty();
          }
          if (renderTask.perform(scheduler.getPerformArgs(renderTask))) {
            unfinished = true;
          }
          chartView.group.silent = !!seriesModel.get("silent");
          updateBlend(seriesModel, chartView);
          updateSeriesElementSelection(seriesModel);
        });
        scheduler.unfinished = unfinished || scheduler.unfinished;
        lifecycle$1.trigger("series:layoutlabels", ecModel, api, updateParams);
        lifecycle$1.trigger("series:transition", ecModel, api, updateParams);
        ecModel.eachSeries(function(seriesModel) {
          var chartView = ecIns._chartsMap[seriesModel.__viewId];
          updateZ(seriesModel, chartView);
          updateStates(seriesModel, chartView);
        });
        updateHoverLayerStatus(ecIns, ecModel);
        lifecycle$1.trigger("series:afterupdate", ecModel, api, updateParams);
      };
      markStatusToUpdate = function(ecIns) {
        ecIns[STATUS_NEEDS_UPDATE_KEY] = true;
        ecIns.getZr().wakeUp();
      };
      applyChangedStates = function(ecIns) {
        if (!ecIns[STATUS_NEEDS_UPDATE_KEY]) {
          return;
        }
        ecIns.getZr().storage.traverse(function(el) {
          if (isElementRemoved(el)) {
            return;
          }
          applyElementStates(el);
        });
        ecIns[STATUS_NEEDS_UPDATE_KEY] = false;
      };
      function applyElementStates(el) {
        var newStates = [];
        var oldStates = el.currentStates;
        for (var i2 = 0; i2 < oldStates.length; i2++) {
          var stateName = oldStates[i2];
          if (!(stateName === "emphasis" || stateName === "blur" || stateName === "select")) {
            newStates.push(stateName);
          }
        }
        if (el.selected && el.states.select) {
          newStates.push("select");
        }
        if (el.hoverState === HOVER_STATE_EMPHASIS && el.states.emphasis) {
          newStates.push("emphasis");
        } else if (el.hoverState === HOVER_STATE_BLUR && el.states.blur) {
          newStates.push("blur");
        }
        el.useStates(newStates);
      }
      function updateHoverLayerStatus(ecIns, ecModel) {
        var zr = ecIns._zr;
        var storage = zr.storage;
        var elCount = 0;
        storage.traverse(function(el) {
          if (!el.isGroup) {
            elCount++;
          }
        });
        if (elCount > ecModel.get("hoverLayerThreshold") && !env$1.node && !env$1.worker) {
          ecModel.eachSeries(function(seriesModel) {
            if (seriesModel.preventUsingHoverLayer) {
              return;
            }
            var chartView = ecIns._chartsMap[seriesModel.__viewId];
            if (chartView.__alive) {
              chartView.eachRendered(function(el) {
                if (el.states.emphasis) {
                  el.states.emphasis.hoverLayer = true;
                }
              });
            }
          });
        }
      }
      function updateBlend(seriesModel, chartView) {
        var blendMode = seriesModel.get("blendMode") || null;
        chartView.eachRendered(function(el) {
          if (!el.isGroup) {
            el.style.blend = blendMode;
          }
        });
      }
      function updateZ(model, view) {
        if (model.preventAutoZ) {
          return;
        }
        var z2 = model.get("z") || 0;
        var zlevel = model.get("zlevel") || 0;
        view.eachRendered(function(el) {
          doUpdateZ(el, z2, zlevel, -Infinity);
          return true;
        });
      }
      function doUpdateZ(el, z2, zlevel, maxZ2) {
        var label = el.getTextContent();
        var labelLine = el.getTextGuideLine();
        var isGroup = el.isGroup;
        if (isGroup) {
          var children = el.childrenRef();
          for (var i2 = 0; i2 < children.length; i2++) {
            maxZ2 = Math.max(doUpdateZ(children[i2], z2, zlevel, maxZ2), maxZ2);
          }
        } else {
          el.z = z2;
          el.zlevel = zlevel;
          maxZ2 = Math.max(el.z2, maxZ2);
        }
        if (label) {
          label.z = z2;
          label.zlevel = zlevel;
          isFinite(maxZ2) && (label.z2 = maxZ2 + 2);
        }
        if (labelLine) {
          var textGuideLineConfig = el.textGuideLineConfig;
          labelLine.z = z2;
          labelLine.zlevel = zlevel;
          isFinite(maxZ2) && (labelLine.z2 = maxZ2 + (textGuideLineConfig && textGuideLineConfig.showAbove ? 1 : -1));
        }
        return maxZ2;
      }
      function clearStates(model, view) {
        view.eachRendered(function(el) {
          if (isElementRemoved(el)) {
            return;
          }
          var textContent = el.getTextContent();
          var textGuide = el.getTextGuideLine();
          if (el.stateTransition) {
            el.stateTransition = null;
          }
          if (textContent && textContent.stateTransition) {
            textContent.stateTransition = null;
          }
          if (textGuide && textGuide.stateTransition) {
            textGuide.stateTransition = null;
          }
          if (el.hasState()) {
            el.prevStates = el.currentStates;
            el.clearStates();
          } else if (el.prevStates) {
            el.prevStates = null;
          }
        });
      }
      function updateStates(model, view) {
        var stateAnimationModel = model.getModel("stateAnimation");
        var enableAnimation = model.isAnimationEnabled();
        var duration = stateAnimationModel.get("duration");
        var stateTransition = duration > 0 ? {
          duration,
          delay: stateAnimationModel.get("delay"),
          easing: stateAnimationModel.get("easing")
        } : null;
        view.eachRendered(function(el) {
          if (el.states && el.states.emphasis) {
            if (isElementRemoved(el)) {
              return;
            }
            if (el instanceof Path$1) {
              savePathStates(el);
            }
            if (el.__dirty) {
              var prevStates = el.prevStates;
              if (prevStates) {
                el.useStates(prevStates);
              }
            }
            if (enableAnimation) {
              el.stateTransition = stateTransition;
              var textContent = el.getTextContent();
              var textGuide = el.getTextGuideLine();
              if (textContent) {
                textContent.stateTransition = stateTransition;
              }
              if (textGuide) {
                textGuide.stateTransition = stateTransition;
              }
            }
            if (el.__dirty) {
              applyElementStates(el);
            }
          }
        });
      }
      createExtensionAPI = function(ecIns) {
        return new (function(_super2) {
          __extends(class_1, _super2);
          function class_1() {
            return _super2 !== null && _super2.apply(this, arguments) || this;
          }
          class_1.prototype.getCoordinateSystems = function() {
            return ecIns._coordSysMgr.getCoordinateSystems();
          };
          class_1.prototype.getComponentByElement = function(el) {
            while (el) {
              var modelInfo = el.__ecComponentInfo;
              if (modelInfo != null) {
                return ecIns._model.getComponent(modelInfo.mainType, modelInfo.index);
              }
              el = el.parent;
            }
          };
          class_1.prototype.enterEmphasis = function(el, highlightDigit) {
            enterEmphasis(el, highlightDigit);
            markStatusToUpdate(ecIns);
          };
          class_1.prototype.leaveEmphasis = function(el, highlightDigit) {
            leaveEmphasis(el, highlightDigit);
            markStatusToUpdate(ecIns);
          };
          class_1.prototype.enterBlur = function(el) {
            enterBlur(el);
            markStatusToUpdate(ecIns);
          };
          class_1.prototype.leaveBlur = function(el) {
            leaveBlur(el);
            markStatusToUpdate(ecIns);
          };
          class_1.prototype.enterSelect = function(el) {
            enterSelect(el);
            markStatusToUpdate(ecIns);
          };
          class_1.prototype.leaveSelect = function(el) {
            leaveSelect(el);
            markStatusToUpdate(ecIns);
          };
          class_1.prototype.getModel = function() {
            return ecIns.getModel();
          };
          class_1.prototype.getViewOfComponentModel = function(componentModel) {
            return ecIns.getViewOfComponentModel(componentModel);
          };
          class_1.prototype.getViewOfSeriesModel = function(seriesModel) {
            return ecIns.getViewOfSeriesModel(seriesModel);
          };
          return class_1;
        }(ExtensionAPI$1))(ecIns);
      };
      enableConnect = function(chart) {
        function updateConnectedChartsStatus(charts, status) {
          for (var i2 = 0; i2 < charts.length; i2++) {
            var otherChart = charts[i2];
            otherChart[CONNECT_STATUS_KEY] = status;
          }
        }
        each$3(eventActionMap, function(actionType, eventType) {
          chart._messageCenter.on(eventType, function(event) {
            if (connectedGroups[chart.group] && chart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_PENDING) {
              if (event && event.escapeConnect) {
                return;
              }
              var action_1 = chart.makeActionFromEvent(event);
              var otherCharts_1 = [];
              each$3(instances, function(otherChart) {
                if (otherChart !== chart && otherChart.group === chart.group) {
                  otherCharts_1.push(otherChart);
                }
              });
              updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_PENDING);
              each$3(otherCharts_1, function(otherChart) {
                if (otherChart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_UPDATING) {
                  otherChart.dispatchAction(action_1);
                }
              });
              updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_UPDATED);
            }
          });
        });
      };
    }();
    return ECharts2;
  }(Eventful$1);
  var echartsProto = ECharts.prototype;
  echartsProto.on = createRegisterEventWithLowercaseECharts("on");
  echartsProto.off = createRegisterEventWithLowercaseECharts("off");
  echartsProto.one = function(eventName, cb, ctx) {
    var self2 = this;
    deprecateLog("ECharts#one is deprecated.");
    function wrapped() {
      var args2 = [];
      for (var _i = 0; _i < arguments.length; _i++) {
        args2[_i] = arguments[_i];
      }
      cb && cb.apply && cb.apply(this, args2);
      self2.off(eventName, wrapped);
    }
    this.on.call(this, eventName, wrapped, ctx);
  };
  var MOUSE_EVENT_NAMES = ["click", "dblclick", "mouseover", "mouseout", "mousemove", "mousedown", "mouseup", "globalout", "contextmenu"];
  function disposedWarning(id) {
    {
      warn("Instance " + id + " has been disposed");
    }
  }
  var actions = {};
  var eventActionMap = {};
  var dataProcessorFuncs = [];
  var optionPreprocessorFuncs = [];
  var visualFuncs = [];
  var themeStorage = {};
  var loadingEffects = {};
  var instances = {};
  var connectedGroups = {};
  var idBase = +new Date() - 0;
  var groupIdBase = +new Date() - 0;
  var DOM_ATTRIBUTE_KEY = "_echarts_instance_";
  function init(dom, theme2, opts) {
    var isClient = !(opts && opts.ssr);
    if (isClient) {
      {
        if (!dom) {
          throw new Error("Initialize failed: invalid dom.");
        }
      }
      var existInstance = getInstanceByDom(dom);
      if (existInstance) {
        {
          warn("There is a chart instance already initialized on the dom.");
        }
        return existInstance;
      }
      {
        if (isDom(dom) && dom.nodeName.toUpperCase() !== "CANVAS" && (!dom.clientWidth && (!opts || opts.width == null) || !dom.clientHeight && (!opts || opts.height == null))) {
          warn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload.");
        }
      }
    }
    var chart = new ECharts(dom, theme2, opts);
    chart.id = "ec_" + idBase++;
    instances[chart.id] = chart;
    isClient && setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);
    enableConnect(chart);
    lifecycle$1.trigger("afterinit", chart);
    return chart;
  }
  function connect(groupId) {
    if (isArray(groupId)) {
      var charts = groupId;
      groupId = null;
      each$3(charts, function(chart) {
        if (chart.group != null) {
          groupId = chart.group;
        }
      });
      groupId = groupId || "g_" + groupIdBase++;
      each$3(charts, function(chart) {
        chart.group = groupId;
      });
    }
    connectedGroups[groupId] = true;
    return groupId;
  }
  function disconnect(groupId) {
    connectedGroups[groupId] = false;
  }
  var disConnect = disconnect;
  function dispose(chart) {
    if (isString(chart)) {
      chart = instances[chart];
    } else if (!(chart instanceof ECharts)) {
      chart = getInstanceByDom(chart);
    }
    if (chart instanceof ECharts && !chart.isDisposed()) {
      chart.dispose();
    }
  }
  function getInstanceByDom(dom) {
    return instances[getAttribute(dom, DOM_ATTRIBUTE_KEY)];
  }
  function getInstanceById(key) {
    return instances[key];
  }
  function registerTheme(name, theme2) {
    themeStorage[name] = theme2;
  }
  function registerPreprocessor(preprocessorFunc) {
    if (indexOf(optionPreprocessorFuncs, preprocessorFunc) < 0) {
      optionPreprocessorFuncs.push(preprocessorFunc);
    }
  }
  function registerProcessor(priority, processor) {
    normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_DEFAULT);
  }
  function registerPostInit(postInitFunc) {
    registerUpdateLifecycle("afterinit", postInitFunc);
  }
  function registerPostUpdate(postUpdateFunc) {
    registerUpdateLifecycle("afterupdate", postUpdateFunc);
  }
  function registerUpdateLifecycle(name, cb) {
    lifecycle$1.on(name, cb);
  }
  function registerAction(actionInfo, eventName, action) {
    if (isFunction(eventName)) {
      action = eventName;
      eventName = "";
    }
    var actionType = isObject$2(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {
      event: eventName
    }][0];
    actionInfo.event = (actionInfo.event || actionType).toLowerCase();
    eventName = actionInfo.event;
    if (eventActionMap[eventName]) {
      return;
    }
    assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));
    if (!actions[actionType]) {
      actions[actionType] = {
        action,
        actionInfo
      };
    }
    eventActionMap[eventName] = actionType;
  }
  function registerCoordinateSystem(type, coordSysCreator) {
    CoordinateSystem.register(type, coordSysCreator);
  }
  function getCoordinateSystemDimensions(type) {
    var coordSysCreator = CoordinateSystem.get(type);
    if (coordSysCreator) {
      return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();
    }
  }
  function registerLayout(priority, layoutTask) {
    normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, "layout");
  }
  function registerVisual(priority, visualTask) {
    normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, "visual");
  }
  var registeredTasks = [];
  function normalizeRegister(targetList, priority, fn2, defaultPriority, visualType) {
    if (isFunction(priority) || isObject$2(priority)) {
      fn2 = priority;
      priority = defaultPriority;
    }
    {
      if (isNaN(priority) || priority == null) {
        throw new Error("Illegal priority");
      }
      each$3(targetList, function(wrap) {
        assert(wrap.__raw !== fn2);
      });
    }
    if (indexOf(registeredTasks, fn2) >= 0) {
      return;
    }
    registeredTasks.push(fn2);
    var stageHandler = Scheduler$1.wrapStageHandler(fn2, visualType);
    stageHandler.__prio = priority;
    stageHandler.__raw = fn2;
    targetList.push(stageHandler);
  }
  function registerLoading(name, loadingFx) {
    loadingEffects[name] = loadingFx;
  }
  function setCanvasCreator(creator) {
    {
      deprecateLog("setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead.");
    }
    setPlatformAPI({
      createCanvas: creator
    });
  }
  function registerMap(mapName, geoJson, specialAreas) {
    var registerMap2 = getImpl("registerMap");
    registerMap2 && registerMap2(mapName, geoJson, specialAreas);
  }
  function getMap(mapName) {
    var getMap2 = getImpl("getMap");
    return getMap2 && getMap2(mapName);
  }
  var registerTransform = registerExternalTransform;
  registerVisual(PRIORITY_VISUAL_GLOBAL, seriesStyleTask);
  registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataStyleTask);
  registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataColorPaletteTask);
  registerVisual(PRIORITY_VISUAL_GLOBAL, seriesSymbolTask);
  registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataSymbolTask);
  registerVisual(PRIORITY_VISUAL_DECAL, decalVisual);
  registerPreprocessor(globalBackwardCompat);
  registerProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack$1);
  registerLoading("default", defaultLoading);
  registerAction({
    type: HIGHLIGHT_ACTION_TYPE,
    event: HIGHLIGHT_ACTION_TYPE,
    update: HIGHLIGHT_ACTION_TYPE
  }, noop);
  registerAction({
    type: DOWNPLAY_ACTION_TYPE,
    event: DOWNPLAY_ACTION_TYPE,
    update: DOWNPLAY_ACTION_TYPE
  }, noop);
  registerAction({
    type: SELECT_ACTION_TYPE,
    event: SELECT_ACTION_TYPE,
    update: SELECT_ACTION_TYPE
  }, noop);
  registerAction({
    type: UNSELECT_ACTION_TYPE,
    event: UNSELECT_ACTION_TYPE,
    update: UNSELECT_ACTION_TYPE
  }, noop);
  registerAction({
    type: TOGGLE_SELECT_ACTION_TYPE,
    event: TOGGLE_SELECT_ACTION_TYPE,
    update: TOGGLE_SELECT_ACTION_TYPE
  }, noop);
  registerTheme("light", lightTheme);
  registerTheme("dark", darkTheme);
  var dataTool = {};
  function dataIndexMapValueLength(valNumOrArrLengthMoreThan2) {
    return valNumOrArrLengthMoreThan2 == null ? 0 : valNumOrArrLengthMoreThan2.length || 1;
  }
  function defaultKeyGetter(item) {
    return item;
  }
  var DataDiffer = function() {
    function DataDiffer2(oldArr, newArr, oldKeyGetter, newKeyGetter, context, diffMode) {
      this._old = oldArr;
      this._new = newArr;
      this._oldKeyGetter = oldKeyGetter || defaultKeyGetter;
      this._newKeyGetter = newKeyGetter || defaultKeyGetter;
      this.context = context;
      this._diffModeMultiple = diffMode === "multiple";
    }
    DataDiffer2.prototype.add = function(func) {
      this._add = func;
      return this;
    };
    DataDiffer2.prototype.update = function(func) {
      this._update = func;
      return this;
    };
    DataDiffer2.prototype.updateManyToOne = function(func) {
      this._updateManyToOne = func;
      return this;
    };
    DataDiffer2.prototype.updateOneToMany = function(func) {
      this._updateOneToMany = func;
      return this;
    };
    DataDiffer2.prototype.updateManyToMany = function(func) {
      this._updateManyToMany = func;
      return this;
    };
    DataDiffer2.prototype.remove = function(func) {
      this._remove = func;
      return this;
    };
    DataDiffer2.prototype.execute = function() {
      this[this._diffModeMultiple ? "_executeMultiple" : "_executeOneToOne"]();
    };
    DataDiffer2.prototype._executeOneToOne = function() {
      var oldArr = this._old;
      var newArr = this._new;
      var newDataIndexMap = {};
      var oldDataKeyArr = new Array(oldArr.length);
      var newDataKeyArr = new Array(newArr.length);
      this._initIndexMap(oldArr, null, oldDataKeyArr, "_oldKeyGetter");
      this._initIndexMap(newArr, newDataIndexMap, newDataKeyArr, "_newKeyGetter");
      for (var i2 = 0; i2 < oldArr.length; i2++) {
        var oldKey = oldDataKeyArr[i2];
        var newIdxMapVal = newDataIndexMap[oldKey];
        var newIdxMapValLen = dataIndexMapValueLength(newIdxMapVal);
        if (newIdxMapValLen > 1) {
          var newIdx = newIdxMapVal.shift();
          if (newIdxMapVal.length === 1) {
            newDataIndexMap[oldKey] = newIdxMapVal[0];
          }
          this._update && this._update(newIdx, i2);
        } else if (newIdxMapValLen === 1) {
          newDataIndexMap[oldKey] = null;
          this._update && this._update(newIdxMapVal, i2);
        } else {
          this._remove && this._remove(i2);
        }
      }
      this._performRestAdd(newDataKeyArr, newDataIndexMap);
    };
    DataDiffer2.prototype._executeMultiple = function() {
      var oldArr = this._old;
      var newArr = this._new;
      var oldDataIndexMap = {};
      var newDataIndexMap = {};
      var oldDataKeyArr = [];
      var newDataKeyArr = [];
      this._initIndexMap(oldArr, oldDataIndexMap, oldDataKeyArr, "_oldKeyGetter");
      this._initIndexMap(newArr, newDataIndexMap, newDataKeyArr, "_newKeyGetter");
      for (var i2 = 0; i2 < oldDataKeyArr.length; i2++) {
        var oldKey = oldDataKeyArr[i2];
        var oldIdxMapVal = oldDataIndexMap[oldKey];
        var newIdxMapVal = newDataIndexMap[oldKey];
        var oldIdxMapValLen = dataIndexMapValueLength(oldIdxMapVal);
        var newIdxMapValLen = dataIndexMapValueLength(newIdxMapVal);
        if (oldIdxMapValLen > 1 && newIdxMapValLen === 1) {
          this._updateManyToOne && this._updateManyToOne(newIdxMapVal, oldIdxMapVal);
          newDataIndexMap[oldKey] = null;
        } else if (oldIdxMapValLen === 1 && newIdxMapValLen > 1) {
          this._updateOneToMany && this._updateOneToMany(newIdxMapVal, oldIdxMapVal);
          newDataIndexMap[oldKey] = null;
        } else if (oldIdxMapValLen === 1 && newIdxMapValLen === 1) {
          this._update && this._update(newIdxMapVal, oldIdxMapVal);
          newDataIndexMap[oldKey] = null;
        } else if (oldIdxMapValLen > 1 && newIdxMapValLen > 1) {
          this._updateManyToMany && this._updateManyToMany(newIdxMapVal, oldIdxMapVal);
          newDataIndexMap[oldKey] = null;
        } else if (oldIdxMapValLen > 1) {
          for (var i_1 = 0; i_1 < oldIdxMapValLen; i_1++) {
            this._remove && this._remove(oldIdxMapVal[i_1]);
          }
        } else {
          this._remove && this._remove(oldIdxMapVal);
        }
      }
      this._performRestAdd(newDataKeyArr, newDataIndexMap);
    };
    DataDiffer2.prototype._performRestAdd = function(newDataKeyArr, newDataIndexMap) {
      for (var i2 = 0; i2 < newDataKeyArr.length; i2++) {
        var newKey = newDataKeyArr[i2];
        var newIdxMapVal = newDataIndexMap[newKey];
        var idxMapValLen = dataIndexMapValueLength(newIdxMapVal);
        if (idxMapValLen > 1) {
          for (var j2 = 0; j2 < idxMapValLen; j2++) {
            this._add && this._add(newIdxMapVal[j2]);
          }
        } else if (idxMapValLen === 1) {
          this._add && this._add(newIdxMapVal);
        }
        newDataIndexMap[newKey] = null;
      }
    };
    DataDiffer2.prototype._initIndexMap = function(arr, map2, keyArr, keyGetterName) {
      var cbModeMultiple = this._diffModeMultiple;
      for (var i2 = 0; i2 < arr.length; i2++) {
        var key = "_ec_" + this[keyGetterName](arr[i2], i2);
        if (!cbModeMultiple) {
          keyArr[i2] = key;
        }
        if (!map2) {
          continue;
        }
        var idxMapVal = map2[key];
        var idxMapValLen = dataIndexMapValueLength(idxMapVal);
        if (idxMapValLen === 0) {
          map2[key] = i2;
          if (cbModeMultiple) {
            keyArr.push(key);
          }
        } else if (idxMapValLen === 1) {
          map2[key] = [idxMapVal, i2];
        } else {
          idxMapVal.push(i2);
        }
      }
    };
    return DataDiffer2;
  }();
  var DataDiffer$1 = DataDiffer;
  var DimensionUserOuput = function() {
    function DimensionUserOuput2(encode, dimRequest) {
      this._encode = encode;
      this._schema = dimRequest;
    }
    DimensionUserOuput2.prototype.get = function() {
      return {
        fullDimensions: this._getFullDimensionNames(),
        encode: this._encode
      };
    };
    DimensionUserOuput2.prototype._getFullDimensionNames = function() {
      if (!this._cachedDimNames) {
        this._cachedDimNames = this._schema ? this._schema.makeOutputDimensionNames() : [];
      }
      return this._cachedDimNames;
    };
    return DimensionUserOuput2;
  }();
  function summarizeDimensions(data, schema) {
    var summary = {};
    var encode = summary.encode = {};
    var notExtraCoordDimMap = createHashMap();
    var defaultedLabel = [];
    var defaultedTooltip = [];
    var userOutputEncode = {};
    each$3(data.dimensions, function(dimName) {
      var dimItem = data.getDimensionInfo(dimName);
      var coordDim = dimItem.coordDim;
      if (coordDim) {
        {
          assert(VISUAL_DIMENSIONS.get(coordDim) == null);
        }
        var coordDimIndex = dimItem.coordDimIndex;
        getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;
        if (!dimItem.isExtraCoord) {
          notExtraCoordDimMap.set(coordDim, 1);
          if (mayLabelDimType(dimItem.type)) {
            defaultedLabel[0] = dimName;
          }
          getOrCreateEncodeArr(userOutputEncode, coordDim)[coordDimIndex] = data.getDimensionIndex(dimItem.name);
        }
        if (dimItem.defaultTooltip) {
          defaultedTooltip.push(dimName);
        }
      }
      VISUAL_DIMENSIONS.each(function(v2, otherDim) {
        var encodeArr = getOrCreateEncodeArr(encode, otherDim);
        var dimIndex = dimItem.otherDims[otherDim];
        if (dimIndex != null && dimIndex !== false) {
          encodeArr[dimIndex] = dimItem.name;
        }
      });
    });
    var dataDimsOnCoord = [];
    var encodeFirstDimNotExtra = {};
    notExtraCoordDimMap.each(function(v2, coordDim) {
      var dimArr = encode[coordDim];
      encodeFirstDimNotExtra[coordDim] = dimArr[0];
      dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);
    });
    summary.dataDimsOnCoord = dataDimsOnCoord;
    summary.dataDimIndicesOnCoord = map$1(dataDimsOnCoord, function(dimName) {
      return data.getDimensionInfo(dimName).storeDimIndex;
    });
    summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;
    var encodeLabel = encode.label;
    if (encodeLabel && encodeLabel.length) {
      defaultedLabel = encodeLabel.slice();
    }
    var encodeTooltip = encode.tooltip;
    if (encodeTooltip && encodeTooltip.length) {
      defaultedTooltip = encodeTooltip.slice();
    } else if (!defaultedTooltip.length) {
      defaultedTooltip = defaultedLabel.slice();
    }
    encode.defaultedLabel = defaultedLabel;
    encode.defaultedTooltip = defaultedTooltip;
    summary.userOutput = new DimensionUserOuput(userOutputEncode, schema);
    return summary;
  }
  function getOrCreateEncodeArr(encode, dim) {
    if (!encode.hasOwnProperty(dim)) {
      encode[dim] = [];
    }
    return encode[dim];
  }
  function getDimensionTypeByAxis(axisType) {
    return axisType === "category" ? "ordinal" : axisType === "time" ? "time" : "float";
  }
  function mayLabelDimType(dimType) {
    return !(dimType === "ordinal" || dimType === "time");
  }
  var SeriesDimensionDefine = function() {
    function SeriesDimensionDefine2(opt) {
      this.otherDims = {};
      if (opt != null) {
        extend(this, opt);
      }
    }
    return SeriesDimensionDefine2;
  }();
  var SeriesDimensionDefine$1 = SeriesDimensionDefine;
  var inner$5 = makeInner();
  var dimTypeShort = {
    float: "f",
    int: "i",
    ordinal: "o",
    number: "n",
    time: "t"
  };
  var SeriesDataSchema = function() {
    function SeriesDataSchema2(opt) {
      this.dimensions = opt.dimensions;
      this._dimOmitted = opt.dimensionOmitted;
      this.source = opt.source;
      this._fullDimCount = opt.fullDimensionCount;
      this._updateDimOmitted(opt.dimensionOmitted);
    }
    SeriesDataSchema2.prototype.isDimensionOmitted = function() {
      return this._dimOmitted;
    };
    SeriesDataSchema2.prototype._updateDimOmitted = function(dimensionOmitted) {
      this._dimOmitted = dimensionOmitted;
      if (!dimensionOmitted) {
        return;
      }
      if (!this._dimNameMap) {
        this._dimNameMap = ensureSourceDimNameMap(this.source);
      }
    };
    SeriesDataSchema2.prototype.getSourceDimensionIndex = function(dimName) {
      return retrieve2(this._dimNameMap.get(dimName), -1);
    };
    SeriesDataSchema2.prototype.getSourceDimension = function(dimIndex) {
      var dimensionsDefine = this.source.dimensionsDefine;
      if (dimensionsDefine) {
        return dimensionsDefine[dimIndex];
      }
    };
    SeriesDataSchema2.prototype.makeStoreSchema = function() {
      var dimCount = this._fullDimCount;
      var willRetrieveDataByName = shouldRetrieveDataByName(this.source);
      var makeHashStrict = !shouldOmitUnusedDimensions(dimCount);
      var dimHash = "";
      var dims = [];
      for (var fullDimIdx = 0, seriesDimIdx = 0; fullDimIdx < dimCount; fullDimIdx++) {
        var property = void 0;
        var type = void 0;
        var ordinalMeta = void 0;
        var seriesDimDef = this.dimensions[seriesDimIdx];
        if (seriesDimDef && seriesDimDef.storeDimIndex === fullDimIdx) {
          property = willRetrieveDataByName ? seriesDimDef.name : null;
          type = seriesDimDef.type;
          ordinalMeta = seriesDimDef.ordinalMeta;
          seriesDimIdx++;
        } else {
          var sourceDimDef = this.getSourceDimension(fullDimIdx);
          if (sourceDimDef) {
            property = willRetrieveDataByName ? sourceDimDef.name : null;
            type = sourceDimDef.type;
          }
        }
        dims.push({
          property,
          type,
          ordinalMeta
        });
        if (willRetrieveDataByName && property != null && (!seriesDimDef || !seriesDimDef.isCalculationCoord)) {
          dimHash += makeHashStrict ? property.replace(/\`/g, "`1").replace(/\$/g, "`2") : property;
        }
        dimHash += "$";
        dimHash += dimTypeShort[type] || "f";
        if (ordinalMeta) {
          dimHash += ordinalMeta.uid;
        }
        dimHash += "$";
      }
      var source = this.source;
      var hash = [source.seriesLayoutBy, source.startIndex, dimHash].join("$$");
      return {
        dimensions: dims,
        hash
      };
    };
    SeriesDataSchema2.prototype.makeOutputDimensionNames = function() {
      var result = [];
      for (var fullDimIdx = 0, seriesDimIdx = 0; fullDimIdx < this._fullDimCount; fullDimIdx++) {
        var name_1 = void 0;
        var seriesDimDef = this.dimensions[seriesDimIdx];
        if (seriesDimDef && seriesDimDef.storeDimIndex === fullDimIdx) {
          if (!seriesDimDef.isCalculationCoord) {
            name_1 = seriesDimDef.name;
          }
          seriesDimIdx++;
        } else {
          var sourceDimDef = this.getSourceDimension(fullDimIdx);
          if (sourceDimDef) {
            name_1 = sourceDimDef.name;
          }
        }
        result.push(name_1);
      }
      return result;
    };
    SeriesDataSchema2.prototype.appendCalculationDimension = function(dimDef) {
      this.dimensions.push(dimDef);
      dimDef.isCalculationCoord = true;
      this._fullDimCount++;
      this._updateDimOmitted(true);
    };
    return SeriesDataSchema2;
  }();
  function isSeriesDataSchema(schema) {
    return schema instanceof SeriesDataSchema;
  }
  function createDimNameMap(dimsDef) {
    var dataDimNameMap = createHashMap();
    for (var i2 = 0; i2 < (dimsDef || []).length; i2++) {
      var dimDefItemRaw = dimsDef[i2];
      var userDimName = isObject$2(dimDefItemRaw) ? dimDefItemRaw.name : dimDefItemRaw;
      if (userDimName != null && dataDimNameMap.get(userDimName) == null) {
        dataDimNameMap.set(userDimName, i2);
      }
    }
    return dataDimNameMap;
  }
  function ensureSourceDimNameMap(source) {
    var innerSource = inner$5(source);
    return innerSource.dimNameMap || (innerSource.dimNameMap = createDimNameMap(source.dimensionsDefine));
  }
  function shouldOmitUnusedDimensions(dimCount) {
    return dimCount > 30;
  }
  var isObject = isObject$2;
  var map = map$1;
  var CtorInt32Array = typeof Int32Array === "undefined" ? Array : Int32Array;
  var ID_PREFIX = "e\0\0";
  var INDEX_NOT_FOUND = -1;
  var TRANSFERABLE_PROPERTIES = ["hasItemOption", "_nameList", "_idList", "_invertedIndicesMap", "_dimSummary", "userOutput", "_rawData", "_dimValueGetter", "_nameDimIdx", "_idDimIdx", "_nameRepeatCount"];
  var CLONE_PROPERTIES = ["_approximateExtent"];
  var prepareInvertedIndex;
  var getId;
  var getIdNameFromStore;
  var normalizeDimensions;
  var transferProperties;
  var cloneListForMapAndSample;
  var makeIdFromName;
  var SeriesData = function() {
    function SeriesData2(dimensionsInput, hostModel) {
      this.type = "list";
      this._dimOmitted = false;
      this._nameList = [];
      this._idList = [];
      this._visual = {};
      this._layout = {};
      this._itemVisuals = [];
      this._itemLayouts = [];
      this._graphicEls = [];
      this._approximateExtent = {};
      this._calculationInfo = {};
      this.hasItemOption = false;
      this.TRANSFERABLE_METHODS = ["cloneShallow", "downSample", "lttbDownSample", "map"];
      this.CHANGABLE_METHODS = ["filterSelf", "selectRange"];
      this.DOWNSAMPLE_METHODS = ["downSample", "lttbDownSample"];
      var dimensions;
      var assignStoreDimIdx = false;
      if (isSeriesDataSchema(dimensionsInput)) {
        dimensions = dimensionsInput.dimensions;
        this._dimOmitted = dimensionsInput.isDimensionOmitted();
        this._schema = dimensionsInput;
      } else {
        assignStoreDimIdx = true;
        dimensions = dimensionsInput;
      }
      dimensions = dimensions || ["x", "y"];
      var dimensionInfos = {};
      var dimensionNames = [];
      var invertedIndicesMap = {};
      var needsHasOwn = false;
      var emptyObj = {};
      for (var i2 = 0; i2 < dimensions.length; i2++) {
        var dimInfoInput = dimensions[i2];
        var dimensionInfo = isString(dimInfoInput) ? new SeriesDimensionDefine$1({
          name: dimInfoInput
        }) : !(dimInfoInput instanceof SeriesDimensionDefine$1) ? new SeriesDimensionDefine$1(dimInfoInput) : dimInfoInput;
        var dimensionName = dimensionInfo.name;
        dimensionInfo.type = dimensionInfo.type || "float";
        if (!dimensionInfo.coordDim) {
          dimensionInfo.coordDim = dimensionName;
          dimensionInfo.coordDimIndex = 0;
        }
        var otherDims = dimensionInfo.otherDims = dimensionInfo.otherDims || {};
        dimensionNames.push(dimensionName);
        dimensionInfos[dimensionName] = dimensionInfo;
        if (emptyObj[dimensionName] != null) {
          needsHasOwn = true;
        }
        if (dimensionInfo.createInvertedIndices) {
          invertedIndicesMap[dimensionName] = [];
        }
        if (otherDims.itemName === 0) {
          this._nameDimIdx = i2;
        }
        if (otherDims.itemId === 0) {
          this._idDimIdx = i2;
        }
        {
          assert(assignStoreDimIdx || dimensionInfo.storeDimIndex >= 0);
        }
        if (assignStoreDimIdx) {
          dimensionInfo.storeDimIndex = i2;
        }
      }
      this.dimensions = dimensionNames;
      this._dimInfos = dimensionInfos;
      this._initGetDimensionInfo(needsHasOwn);
      this.hostModel = hostModel;
      this._invertedIndicesMap = invertedIndicesMap;
      if (this._dimOmitted) {
        var dimIdxToName_1 = this._dimIdxToName = createHashMap();
        each$3(dimensionNames, function(dimName) {
          dimIdxToName_1.set(dimensionInfos[dimName].storeDimIndex, dimName);
        });
      }
    }
    SeriesData2.prototype.getDimension = function(dim) {
      var dimIdx = this._recognizeDimIndex(dim);
      if (dimIdx == null) {
        return dim;
      }
      dimIdx = dim;
      if (!this._dimOmitted) {
        return this.dimensions[dimIdx];
      }
      var dimName = this._dimIdxToName.get(dimIdx);
      if (dimName != null) {
        return dimName;
      }
      var sourceDimDef = this._schema.getSourceDimension(dimIdx);
      if (sourceDimDef) {
        return sourceDimDef.name;
      }
    };
    SeriesData2.prototype.getDimensionIndex = function(dim) {
      var dimIdx = this._recognizeDimIndex(dim);
      if (dimIdx != null) {
        return dimIdx;
      }
      if (dim == null) {
        return -1;
      }
      var dimInfo = this._getDimInfo(dim);
      return dimInfo ? dimInfo.storeDimIndex : this._dimOmitted ? this._schema.getSourceDimensionIndex(dim) : -1;
    };
    SeriesData2.prototype._recognizeDimIndex = function(dim) {
      if (isNumber(dim) || dim != null && !isNaN(dim) && !this._getDimInfo(dim) && (!this._dimOmitted || this._schema.getSourceDimensionIndex(dim) < 0)) {
        return +dim;
      }
    };
    SeriesData2.prototype._getStoreDimIndex = function(dim) {
      var dimIdx = this.getDimensionIndex(dim);
      {
        if (dimIdx == null) {
          throw new Error("Unknown dimension " + dim);
        }
      }
      return dimIdx;
    };
    SeriesData2.prototype.getDimensionInfo = function(dim) {
      return this._getDimInfo(this.getDimension(dim));
    };
    SeriesData2.prototype._initGetDimensionInfo = function(needsHasOwn) {
      var dimensionInfos = this._dimInfos;
      this._getDimInfo = needsHasOwn ? function(dimName) {
        return dimensionInfos.hasOwnProperty(dimName) ? dimensionInfos[dimName] : void 0;
      } : function(dimName) {
        return dimensionInfos[dimName];
      };
    };
    SeriesData2.prototype.getDimensionsOnCoord = function() {
      return this._dimSummary.dataDimsOnCoord.slice();
    };
    SeriesData2.prototype.mapDimension = function(coordDim, idx) {
      var dimensionsSummary = this._dimSummary;
      if (idx == null) {
        return dimensionsSummary.encodeFirstDimNotExtra[coordDim];
      }
      var dims = dimensionsSummary.encode[coordDim];
      return dims ? dims[idx] : null;
    };
    SeriesData2.prototype.mapDimensionsAll = function(coordDim) {
      var dimensionsSummary = this._dimSummary;
      var dims = dimensionsSummary.encode[coordDim];
      return (dims || []).slice();
    };
    SeriesData2.prototype.getStore = function() {
      return this._store;
    };
    SeriesData2.prototype.initData = function(data, nameList, dimValueGetter) {
      var _this = this;
      var store;
      if (data instanceof DataStore$1) {
        store = data;
      }
      if (!store) {
        var dimensions = this.dimensions;
        var provider = isSourceInstance(data) || isArrayLike(data) ? new DefaultDataProvider(data, dimensions.length) : data;
        store = new DataStore$1();
        var dimensionInfos = map(dimensions, function(dimName) {
          return {
            type: _this._dimInfos[dimName].type,
            property: dimName
          };
        });
        store.initData(provider, dimensionInfos, dimValueGetter);
      }
      this._store = store;
      this._nameList = (nameList || []).slice();
      this._idList = [];
      this._nameRepeatCount = {};
      this._doInit(0, store.count());
      this._dimSummary = summarizeDimensions(this, this._schema);
      this.userOutput = this._dimSummary.userOutput;
    };
    SeriesData2.prototype.appendData = function(data) {
      var range = this._store.appendData(data);
      this._doInit(range[0], range[1]);
    };
    SeriesData2.prototype.appendValues = function(values, names) {
      var _a2 = this._store.appendValues(values, names.length), start2 = _a2.start, end2 = _a2.end;
      var shouldMakeIdFromName = this._shouldMakeIdFromName();
      this._updateOrdinalMeta();
      if (names) {
        for (var idx = start2; idx < end2; idx++) {
          var sourceIdx = idx - start2;
          this._nameList[idx] = names[sourceIdx];
          if (shouldMakeIdFromName) {
            makeIdFromName(this, idx);
          }
        }
      }
    };
    SeriesData2.prototype._updateOrdinalMeta = function() {
      var store = this._store;
      var dimensions = this.dimensions;
      for (var i2 = 0; i2 < dimensions.length; i2++) {
        var dimInfo = this._dimInfos[dimensions[i2]];
        if (dimInfo.ordinalMeta) {
          store.collectOrdinalMeta(dimInfo.storeDimIndex, dimInfo.ordinalMeta);
        }
      }
    };
    SeriesData2.prototype._shouldMakeIdFromName = function() {
      var provider = this._store.getProvider();
      return this._idDimIdx == null && provider.getSource().sourceFormat !== SOURCE_FORMAT_TYPED_ARRAY && !provider.fillStorage;
    };
    SeriesData2.prototype._doInit = function(start2, end2) {
      if (start2 >= end2) {
        return;
      }
      var store = this._store;
      var provider = store.getProvider();
      this._updateOrdinalMeta();
      var nameList = this._nameList;
      var idList = this._idList;
      var sourceFormat = provider.getSource().sourceFormat;
      var isFormatOriginal = sourceFormat === SOURCE_FORMAT_ORIGINAL;
      if (isFormatOriginal && !provider.pure) {
        var sharedDataItem = [];
        for (var idx = start2; idx < end2; idx++) {
          var dataItem = provider.getItem(idx, sharedDataItem);
          if (!this.hasItemOption && isDataItemOption(dataItem)) {
            this.hasItemOption = true;
          }
          if (dataItem) {
            var itemName = dataItem.name;
            if (nameList[idx] == null && itemName != null) {
              nameList[idx] = convertOptionIdName(itemName, null);
            }
            var itemId = dataItem.id;
            if (idList[idx] == null && itemId != null) {
              idList[idx] = convertOptionIdName(itemId, null);
            }
          }
        }
      }
      if (this._shouldMakeIdFromName()) {
        for (var idx = start2; idx < end2; idx++) {
          makeIdFromName(this, idx);
        }
      }
      prepareInvertedIndex(this);
    };
    SeriesData2.prototype.getApproximateExtent = function(dim) {
      return this._approximateExtent[dim] || this._store.getDataExtent(this._getStoreDimIndex(dim));
    };
    SeriesData2.prototype.setApproximateExtent = function(extent3, dim) {
      dim = this.getDimension(dim);
      this._approximateExtent[dim] = extent3.slice();
    };
    SeriesData2.prototype.getCalculationInfo = function(key) {
      return this._calculationInfo[key];
    };
    SeriesData2.prototype.setCalculationInfo = function(key, value) {
      isObject(key) ? extend(this._calculationInfo, key) : this._calculationInfo[key] = value;
    };
    SeriesData2.prototype.getName = function(idx) {
      var rawIndex = this.getRawIndex(idx);
      var name = this._nameList[rawIndex];
      if (name == null && this._nameDimIdx != null) {
        name = getIdNameFromStore(this, this._nameDimIdx, rawIndex);
      }
      if (name == null) {
        name = "";
      }
      return name;
    };
    SeriesData2.prototype._getCategory = function(dimIdx, idx) {
      var ordinal = this._store.get(dimIdx, idx);
      var ordinalMeta = this._store.getOrdinalMeta(dimIdx);
      if (ordinalMeta) {
        return ordinalMeta.categories[ordinal];
      }
      return ordinal;
    };
    SeriesData2.prototype.getId = function(idx) {
      return getId(this, this.getRawIndex(idx));
    };
    SeriesData2.prototype.count = function() {
      return this._store.count();
    };
    SeriesData2.prototype.get = function(dim, idx) {
      var store = this._store;
      var dimInfo = this._dimInfos[dim];
      if (dimInfo) {
        return store.get(dimInfo.storeDimIndex, idx);
      }
    };
    SeriesData2.prototype.getByRawIndex = function(dim, rawIdx) {
      var store = this._store;
      var dimInfo = this._dimInfos[dim];
      if (dimInfo) {
        return store.getByRawIndex(dimInfo.storeDimIndex, rawIdx);
      }
    };
    SeriesData2.prototype.getIndices = function() {
      return this._store.getIndices();
    };
    SeriesData2.prototype.getDataExtent = function(dim) {
      return this._store.getDataExtent(this._getStoreDimIndex(dim));
    };
    SeriesData2.prototype.getSum = function(dim) {
      return this._store.getSum(this._getStoreDimIndex(dim));
    };
    SeriesData2.prototype.getMedian = function(dim) {
      return this._store.getMedian(this._getStoreDimIndex(dim));
    };
    SeriesData2.prototype.getValues = function(dimensions, idx) {
      var _this = this;
      var store = this._store;
      return isArray(dimensions) ? store.getValues(map(dimensions, function(dim) {
        return _this._getStoreDimIndex(dim);
      }), idx) : store.getValues(dimensions);
    };
    SeriesData2.prototype.hasValue = function(idx) {
      var dataDimIndicesOnCoord = this._dimSummary.dataDimIndicesOnCoord;
      for (var i2 = 0, len2 = dataDimIndicesOnCoord.length; i2 < len2; i2++) {
        if (isNaN(this._store.get(dataDimIndicesOnCoord[i2], idx))) {
          return false;
        }
      }
      return true;
    };
    SeriesData2.prototype.indexOfName = function(name) {
      for (var i2 = 0, len2 = this._store.count(); i2 < len2; i2++) {
        if (this.getName(i2) === name) {
          return i2;
        }
      }
      return -1;
    };
    SeriesData2.prototype.getRawIndex = function(idx) {
      return this._store.getRawIndex(idx);
    };
    SeriesData2.prototype.indexOfRawIndex = function(rawIndex) {
      return this._store.indexOfRawIndex(rawIndex);
    };
    SeriesData2.prototype.rawIndexOf = function(dim, value) {
      var invertedIndices = dim && this._invertedIndicesMap[dim];
      {
        if (!invertedIndices) {
          throw new Error("Do not supported yet");
        }
      }
      var rawIndex = invertedIndices[value];
      if (rawIndex == null || isNaN(rawIndex)) {
        return INDEX_NOT_FOUND;
      }
      return rawIndex;
    };
    SeriesData2.prototype.indicesOfNearest = function(dim, value, maxDistance) {
      return this._store.indicesOfNearest(this._getStoreDimIndex(dim), value, maxDistance);
    };
    SeriesData2.prototype.each = function(dims, cb, ctx) {
      if (isFunction(dims)) {
        ctx = cb;
        cb = dims;
        dims = [];
      }
      var fCtx = ctx || this;
      var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);
      this._store.each(dimIndices, fCtx ? bind$1(cb, fCtx) : cb);
    };
    SeriesData2.prototype.filterSelf = function(dims, cb, ctx) {
      if (isFunction(dims)) {
        ctx = cb;
        cb = dims;
        dims = [];
      }
      var fCtx = ctx || this;
      var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);
      this._store = this._store.filter(dimIndices, fCtx ? bind$1(cb, fCtx) : cb);
      return this;
    };
    SeriesData2.prototype.selectRange = function(range) {
      var _this = this;
      var innerRange = {};
      var dims = keys(range);
      each$3(dims, function(dim) {
        var dimIdx = _this._getStoreDimIndex(dim);
        innerRange[dimIdx] = range[dim];
      });
      this._store = this._store.selectRange(innerRange);
      return this;
    };
    SeriesData2.prototype.mapArray = function(dims, cb, ctx) {
      if (isFunction(dims)) {
        ctx = cb;
        cb = dims;
        dims = [];
      }
      ctx = ctx || this;
      var result = [];
      this.each(dims, function() {
        result.push(cb && cb.apply(this, arguments));
      }, ctx);
      return result;
    };
    SeriesData2.prototype.map = function(dims, cb, ctx, ctxCompat) {
      var fCtx = ctx || ctxCompat || this;
      var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);
      var list = cloneListForMapAndSample(this);
      list._store = this._store.map(dimIndices, fCtx ? bind$1(cb, fCtx) : cb);
      return list;
    };
    SeriesData2.prototype.modify = function(dims, cb, ctx, ctxCompat) {
      var _this = this;
      var fCtx = ctx || ctxCompat || this;
      {
        each$3(normalizeDimensions(dims), function(dim) {
          var dimInfo = _this.getDimensionInfo(dim);
          if (!dimInfo.isCalculationCoord) {
            formatAppLog("error", "at node_modules/echarts/lib/data/SeriesData.js:839", "Danger: only stack dimension can be modified");
          }
        });
      }
      var dimIndices = map(normalizeDimensions(dims), this._getStoreDimIndex, this);
      this._store.modify(dimIndices, fCtx ? bind$1(cb, fCtx) : cb);
    };
    SeriesData2.prototype.downSample = function(dimension, rate, sampleValue, sampleIndex) {
      var list = cloneListForMapAndSample(this);
      list._store = this._store.downSample(this._getStoreDimIndex(dimension), rate, sampleValue, sampleIndex);
      return list;
    };
    SeriesData2.prototype.lttbDownSample = function(valueDimension, rate) {
      var list = cloneListForMapAndSample(this);
      list._store = this._store.lttbDownSample(this._getStoreDimIndex(valueDimension), rate);
      return list;
    };
    SeriesData2.prototype.getRawDataItem = function(idx) {
      return this._store.getRawDataItem(idx);
    };
    SeriesData2.prototype.getItemModel = function(idx) {
      var hostModel = this.hostModel;
      var dataItem = this.getRawDataItem(idx);
      return new Model$1(dataItem, hostModel, hostModel && hostModel.ecModel);
    };
    SeriesData2.prototype.diff = function(otherList) {
      var thisList = this;
      return new DataDiffer$1(otherList ? otherList.getStore().getIndices() : [], this.getStore().getIndices(), function(idx) {
        return getId(otherList, idx);
      }, function(idx) {
        return getId(thisList, idx);
      });
    };
    SeriesData2.prototype.getVisual = function(key) {
      var visual = this._visual;
      return visual && visual[key];
    };
    SeriesData2.prototype.setVisual = function(kvObj, val) {
      this._visual = this._visual || {};
      if (isObject(kvObj)) {
        extend(this._visual, kvObj);
      } else {
        this._visual[kvObj] = val;
      }
    };
    SeriesData2.prototype.getItemVisual = function(idx, key) {
      var itemVisual = this._itemVisuals[idx];
      var val = itemVisual && itemVisual[key];
      if (val == null) {
        return this.getVisual(key);
      }
      return val;
    };
    SeriesData2.prototype.hasItemVisual = function() {
      return this._itemVisuals.length > 0;
    };
    SeriesData2.prototype.ensureUniqueItemVisual = function(idx, key) {
      var itemVisuals = this._itemVisuals;
      var itemVisual = itemVisuals[idx];
      if (!itemVisual) {
        itemVisual = itemVisuals[idx] = {};
      }
      var val = itemVisual[key];
      if (val == null) {
        val = this.getVisual(key);
        if (isArray(val)) {
          val = val.slice();
        } else if (isObject(val)) {
          val = extend({}, val);
        }
        itemVisual[key] = val;
      }
      return val;
    };
    SeriesData2.prototype.setItemVisual = function(idx, key, value) {
      var itemVisual = this._itemVisuals[idx] || {};
      this._itemVisuals[idx] = itemVisual;
      if (isObject(key)) {
        extend(itemVisual, key);
      } else {
        itemVisual[key] = value;
      }
    };
    SeriesData2.prototype.clearAllVisual = function() {
      this._visual = {};
      this._itemVisuals = [];
    };
    SeriesData2.prototype.setLayout = function(key, val) {
      isObject(key) ? extend(this._layout, key) : this._layout[key] = val;
    };
    SeriesData2.prototype.getLayout = function(key) {
      return this._layout[key];
    };
    SeriesData2.prototype.getItemLayout = function(idx) {
      return this._itemLayouts[idx];
    };
    SeriesData2.prototype.setItemLayout = function(idx, layout2, merge2) {
      this._itemLayouts[idx] = merge2 ? extend(this._itemLayouts[idx] || {}, layout2) : layout2;
    };
    SeriesData2.prototype.clearItemLayouts = function() {
      this._itemLayouts.length = 0;
    };
    SeriesData2.prototype.setItemGraphicEl = function(idx, el) {
      var seriesIndex = this.hostModel && this.hostModel.seriesIndex;
      setCommonECData(seriesIndex, this.dataType, idx, el);
      this._graphicEls[idx] = el;
    };
    SeriesData2.prototype.getItemGraphicEl = function(idx) {
      return this._graphicEls[idx];
    };
    SeriesData2.prototype.eachItemGraphicEl = function(cb, context) {
      each$3(this._graphicEls, function(el, idx) {
        if (el) {
          cb && cb.call(context, el, idx);
        }
      });
    };
    SeriesData2.prototype.cloneShallow = function(list) {
      if (!list) {
        list = new SeriesData2(this._schema ? this._schema : map(this.dimensions, this._getDimInfo, this), this.hostModel);
      }
      transferProperties(list, this);
      list._store = this._store;
      return list;
    };
    SeriesData2.prototype.wrapMethod = function(methodName, injectFunction) {
      var originalMethod = this[methodName];
      if (!isFunction(originalMethod)) {
        return;
      }
      this.__wrappedMethods = this.__wrappedMethods || [];
      this.__wrappedMethods.push(methodName);
      this[methodName] = function() {
        var res = originalMethod.apply(this, arguments);
        return injectFunction.apply(this, [res].concat(slice(arguments)));
      };
    };
    SeriesData2.internalField = function() {
      prepareInvertedIndex = function(data) {
        var invertedIndicesMap = data._invertedIndicesMap;
        each$3(invertedIndicesMap, function(invertedIndices, dim) {
          var dimInfo = data._dimInfos[dim];
          var ordinalMeta = dimInfo.ordinalMeta;
          var store = data._store;
          if (ordinalMeta) {
            invertedIndices = invertedIndicesMap[dim] = new CtorInt32Array(ordinalMeta.categories.length);
            for (var i2 = 0; i2 < invertedIndices.length; i2++) {
              invertedIndices[i2] = INDEX_NOT_FOUND;
            }
            for (var i2 = 0; i2 < store.count(); i2++) {
              invertedIndices[store.get(dimInfo.storeDimIndex, i2)] = i2;
            }
          }
        });
      };
      getIdNameFromStore = function(data, dimIdx, idx) {
        return convertOptionIdName(data._getCategory(dimIdx, idx), null);
      };
      getId = function(data, rawIndex) {
        var id = data._idList[rawIndex];
        if (id == null && data._idDimIdx != null) {
          id = getIdNameFromStore(data, data._idDimIdx, rawIndex);
        }
        if (id == null) {
          id = ID_PREFIX + rawIndex;
        }
        return id;
      };
      normalizeDimensions = function(dimensions) {
        if (!isArray(dimensions)) {
          dimensions = dimensions != null ? [dimensions] : [];
        }
        return dimensions;
      };
      cloneListForMapAndSample = function(original) {
        var list = new SeriesData2(original._schema ? original._schema : map(original.dimensions, original._getDimInfo, original), original.hostModel);
        transferProperties(list, original);
        return list;
      };
      transferProperties = function(target, source) {
        each$3(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods || []), function(propName) {
          if (source.hasOwnProperty(propName)) {
            target[propName] = source[propName];
          }
        });
        target.__wrappedMethods = source.__wrappedMethods;
        each$3(CLONE_PROPERTIES, function(propName) {
          target[propName] = clone$3(source[propName]);
        });
        target._calculationInfo = extend({}, source._calculationInfo);
      };
      makeIdFromName = function(data, idx) {
        var nameList = data._nameList;
        var idList = data._idList;
        var nameDimIdx = data._nameDimIdx;
        var idDimIdx = data._idDimIdx;
        var name = nameList[idx];
        var id = idList[idx];
        if (name == null && nameDimIdx != null) {
          nameList[idx] = name = getIdNameFromStore(data, nameDimIdx, idx);
        }
        if (id == null && idDimIdx != null) {
          idList[idx] = id = getIdNameFromStore(data, idDimIdx, idx);
        }
        if (id == null && name != null) {
          var nameRepeatCount = data._nameRepeatCount;
          var nmCnt = nameRepeatCount[name] = (nameRepeatCount[name] || 0) + 1;
          id = name;
          if (nmCnt > 1) {
            id += "__ec__" + nmCnt;
          }
          idList[idx] = id;
        }
      };
    }();
    return SeriesData2;
  }();
  var SeriesData$1 = SeriesData;
  function createDimensions(source, opt) {
    return prepareSeriesDataSchema(source, opt).dimensions;
  }
  function prepareSeriesDataSchema(source, opt) {
    if (!isSourceInstance(source)) {
      source = createSourceFromSeriesDataOption(source);
    }
    opt = opt || {};
    var sysDims = opt.coordDimensions || [];
    var dimsDef = opt.dimensionsDefine || source.dimensionsDefine || [];
    var coordDimNameMap = createHashMap();
    var resultList = [];
    var dimCount = getDimCount(source, sysDims, dimsDef, opt.dimensionsCount);
    var omitUnusedDimensions = opt.canOmitUnusedDimensions && shouldOmitUnusedDimensions(dimCount);
    var isUsingSourceDimensionsDef = dimsDef === source.dimensionsDefine;
    var dataDimNameMap = isUsingSourceDimensionsDef ? ensureSourceDimNameMap(source) : createDimNameMap(dimsDef);
    var encodeDef = opt.encodeDefine;
    if (!encodeDef && opt.encodeDefaulter) {
      encodeDef = opt.encodeDefaulter(source, dimCount);
    }
    var encodeDefMap = createHashMap(encodeDef);
    var indicesMap = new CtorInt32Array$1(dimCount);
    for (var i2 = 0; i2 < indicesMap.length; i2++) {
      indicesMap[i2] = -1;
    }
    function getResultItem(dimIdx) {
      var idx = indicesMap[dimIdx];
      if (idx < 0) {
        var dimDefItemRaw = dimsDef[dimIdx];
        var dimDefItem = isObject$2(dimDefItemRaw) ? dimDefItemRaw : {
          name: dimDefItemRaw
        };
        var resultItem2 = new SeriesDimensionDefine$1();
        var userDimName = dimDefItem.name;
        if (userDimName != null && dataDimNameMap.get(userDimName) != null) {
          resultItem2.name = resultItem2.displayName = userDimName;
        }
        dimDefItem.type != null && (resultItem2.type = dimDefItem.type);
        dimDefItem.displayName != null && (resultItem2.displayName = dimDefItem.displayName);
        var newIdx = resultList.length;
        indicesMap[dimIdx] = newIdx;
        resultItem2.storeDimIndex = dimIdx;
        resultList.push(resultItem2);
        return resultItem2;
      }
      return resultList[idx];
    }
    if (!omitUnusedDimensions) {
      for (var i2 = 0; i2 < dimCount; i2++) {
        getResultItem(i2);
      }
    }
    encodeDefMap.each(function(dataDimsRaw, coordDim2) {
      var dataDims = normalizeToArray(dataDimsRaw).slice();
      if (dataDims.length === 1 && !isString(dataDims[0]) && dataDims[0] < 0) {
        encodeDefMap.set(coordDim2, false);
        return;
      }
      var validDataDims = encodeDefMap.set(coordDim2, []);
      each$3(dataDims, function(resultDimIdxOrName, idx) {
        var resultDimIdx2 = isString(resultDimIdxOrName) ? dataDimNameMap.get(resultDimIdxOrName) : resultDimIdxOrName;
        if (resultDimIdx2 != null && resultDimIdx2 < dimCount) {
          validDataDims[idx] = resultDimIdx2;
          applyDim(getResultItem(resultDimIdx2), coordDim2, idx);
        }
      });
    });
    var availDimIdx = 0;
    each$3(sysDims, function(sysDimItemRaw) {
      var coordDim2;
      var sysDimItemDimsDef;
      var sysDimItemOtherDims;
      var sysDimItem;
      if (isString(sysDimItemRaw)) {
        coordDim2 = sysDimItemRaw;
        sysDimItem = {};
      } else {
        sysDimItem = sysDimItemRaw;
        coordDim2 = sysDimItem.name;
        var ordinalMeta = sysDimItem.ordinalMeta;
        sysDimItem.ordinalMeta = null;
        sysDimItem = extend({}, sysDimItem);
        sysDimItem.ordinalMeta = ordinalMeta;
        sysDimItemDimsDef = sysDimItem.dimsDef;
        sysDimItemOtherDims = sysDimItem.otherDims;
        sysDimItem.name = sysDimItem.coordDim = sysDimItem.coordDimIndex = sysDimItem.dimsDef = sysDimItem.otherDims = null;
      }
      var dataDims = encodeDefMap.get(coordDim2);
      if (dataDims === false) {
        return;
      }
      dataDims = normalizeToArray(dataDims);
      if (!dataDims.length) {
        for (var i3 = 0; i3 < (sysDimItemDimsDef && sysDimItemDimsDef.length || 1); i3++) {
          while (availDimIdx < dimCount && getResultItem(availDimIdx).coordDim != null) {
            availDimIdx++;
          }
          availDimIdx < dimCount && dataDims.push(availDimIdx++);
        }
      }
      each$3(dataDims, function(resultDimIdx2, coordDimIndex) {
        var resultItem2 = getResultItem(resultDimIdx2);
        if (isUsingSourceDimensionsDef && sysDimItem.type != null) {
          resultItem2.type = sysDimItem.type;
        }
        applyDim(defaults(resultItem2, sysDimItem), coordDim2, coordDimIndex);
        if (resultItem2.name == null && sysDimItemDimsDef) {
          var sysDimItemDimsDefItem = sysDimItemDimsDef[coordDimIndex];
          !isObject$2(sysDimItemDimsDefItem) && (sysDimItemDimsDefItem = {
            name: sysDimItemDimsDefItem
          });
          resultItem2.name = resultItem2.displayName = sysDimItemDimsDefItem.name;
          resultItem2.defaultTooltip = sysDimItemDimsDefItem.defaultTooltip;
        }
        sysDimItemOtherDims && defaults(resultItem2.otherDims, sysDimItemOtherDims);
      });
    });
    function applyDim(resultItem2, coordDim2, coordDimIndex) {
      if (VISUAL_DIMENSIONS.get(coordDim2) != null) {
        resultItem2.otherDims[coordDim2] = coordDimIndex;
      } else {
        resultItem2.coordDim = coordDim2;
        resultItem2.coordDimIndex = coordDimIndex;
        coordDimNameMap.set(coordDim2, true);
      }
    }
    var generateCoord = opt.generateCoord;
    var generateCoordCount = opt.generateCoordCount;
    var fromZero = generateCoordCount != null;
    generateCoordCount = generateCoord ? generateCoordCount || 1 : 0;
    var extra = generateCoord || "value";
    function ifNoNameFillWithCoordName(resultItem2) {
      if (resultItem2.name == null) {
        resultItem2.name = resultItem2.coordDim;
      }
    }
    if (!omitUnusedDimensions) {
      for (var resultDimIdx = 0; resultDimIdx < dimCount; resultDimIdx++) {
        var resultItem = getResultItem(resultDimIdx);
        var coordDim = resultItem.coordDim;
        if (coordDim == null) {
          resultItem.coordDim = genCoordDimName(extra, coordDimNameMap, fromZero);
          resultItem.coordDimIndex = 0;
          if (!generateCoord || generateCoordCount <= 0) {
            resultItem.isExtraCoord = true;
          }
          generateCoordCount--;
        }
        ifNoNameFillWithCoordName(resultItem);
        if (resultItem.type == null && (guessOrdinal(source, resultDimIdx) === BE_ORDINAL.Must || resultItem.isExtraCoord && (resultItem.otherDims.itemName != null || resultItem.otherDims.seriesName != null))) {
          resultItem.type = "ordinal";
        }
      }
    } else {
      each$3(resultList, function(resultItem2) {
        ifNoNameFillWithCoordName(resultItem2);
      });
      resultList.sort(function(item0, item1) {
        return item0.storeDimIndex - item1.storeDimIndex;
      });
    }
    removeDuplication(resultList);
    return new SeriesDataSchema({
      source,
      dimensions: resultList,
      fullDimensionCount: dimCount,
      dimensionOmitted: omitUnusedDimensions
    });
  }
  function removeDuplication(result) {
    var duplicationMap = createHashMap();
    for (var i2 = 0; i2 < result.length; i2++) {
      var dim = result[i2];
      var dimOriginalName = dim.name;
      var count = duplicationMap.get(dimOriginalName) || 0;
      if (count > 0) {
        dim.name = dimOriginalName + (count - 1);
      }
      count++;
      duplicationMap.set(dimOriginalName, count);
    }
  }
  function getDimCount(source, sysDims, dimsDef, optDimCount) {
    var dimCount = Math.max(source.dimensionsDetectedCount || 1, sysDims.length, dimsDef.length, optDimCount || 0);
    each$3(sysDims, function(sysDimItem) {
      var sysDimItemDimsDef;
      if (isObject$2(sysDimItem) && (sysDimItemDimsDef = sysDimItem.dimsDef)) {
        dimCount = Math.max(dimCount, sysDimItemDimsDef.length);
      }
    });
    return dimCount;
  }
  function genCoordDimName(name, map2, fromZero) {
    if (fromZero || map2.hasKey(name)) {
      var i2 = 0;
      while (map2.hasKey(name + i2)) {
        i2++;
      }
      name += i2;
    }
    map2.set(name, true);
    return name;
  }
  var CoordSysInfo = function() {
    function CoordSysInfo2(coordSysName) {
      this.coordSysDims = [];
      this.axisMap = createHashMap();
      this.categoryAxisMap = createHashMap();
      this.coordSysName = coordSysName;
    }
    return CoordSysInfo2;
  }();
  function getCoordSysInfoBySeries(seriesModel) {
    var coordSysName = seriesModel.get("coordinateSystem");
    var result = new CoordSysInfo(coordSysName);
    var fetch = fetchers[coordSysName];
    if (fetch) {
      fetch(seriesModel, result, result.axisMap, result.categoryAxisMap);
      return result;
    }
  }
  var fetchers = {
    cartesian2d: function(seriesModel, result, axisMap, categoryAxisMap) {
      var xAxisModel = seriesModel.getReferringComponents("xAxis", SINGLE_REFERRING).models[0];
      var yAxisModel = seriesModel.getReferringComponents("yAxis", SINGLE_REFERRING).models[0];
      {
        if (!xAxisModel) {
          throw new Error('xAxis "' + retrieve(seriesModel.get("xAxisIndex"), seriesModel.get("xAxisId"), 0) + '" not found');
        }
        if (!yAxisModel) {
          throw new Error('yAxis "' + retrieve(seriesModel.get("xAxisIndex"), seriesModel.get("yAxisId"), 0) + '" not found');
        }
      }
      result.coordSysDims = ["x", "y"];
      axisMap.set("x", xAxisModel);
      axisMap.set("y", yAxisModel);
      if (isCategory(xAxisModel)) {
        categoryAxisMap.set("x", xAxisModel);
        result.firstCategoryDimIndex = 0;
      }
      if (isCategory(yAxisModel)) {
        categoryAxisMap.set("y", yAxisModel);
        result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);
      }
    },
    singleAxis: function(seriesModel, result, axisMap, categoryAxisMap) {
      var singleAxisModel = seriesModel.getReferringComponents("singleAxis", SINGLE_REFERRING).models[0];
      {
        if (!singleAxisModel) {
          throw new Error("singleAxis should be specified.");
        }
      }
      result.coordSysDims = ["single"];
      axisMap.set("single", singleAxisModel);
      if (isCategory(singleAxisModel)) {
        categoryAxisMap.set("single", singleAxisModel);
        result.firstCategoryDimIndex = 0;
      }
    },
    polar: function(seriesModel, result, axisMap, categoryAxisMap) {
      var polarModel = seriesModel.getReferringComponents("polar", SINGLE_REFERRING).models[0];
      var radiusAxisModel = polarModel.findAxisModel("radiusAxis");
      var angleAxisModel = polarModel.findAxisModel("angleAxis");
      {
        if (!angleAxisModel) {
          throw new Error("angleAxis option not found");
        }
        if (!radiusAxisModel) {
          throw new Error("radiusAxis option not found");
        }
      }
      result.coordSysDims = ["radius", "angle"];
      axisMap.set("radius", radiusAxisModel);
      axisMap.set("angle", angleAxisModel);
      if (isCategory(radiusAxisModel)) {
        categoryAxisMap.set("radius", radiusAxisModel);
        result.firstCategoryDimIndex = 0;
      }
      if (isCategory(angleAxisModel)) {
        categoryAxisMap.set("angle", angleAxisModel);
        result.firstCategoryDimIndex == null && (result.firstCategoryDimIndex = 1);
      }
    },
    geo: function(seriesModel, result, axisMap, categoryAxisMap) {
      result.coordSysDims = ["lng", "lat"];
    },
    parallel: function(seriesModel, result, axisMap, categoryAxisMap) {
      var ecModel = seriesModel.ecModel;
      var parallelModel = ecModel.getComponent("parallel", seriesModel.get("parallelIndex"));
      var coordSysDims = result.coordSysDims = parallelModel.dimensions.slice();
      each$3(parallelModel.parallelAxisIndex, function(axisIndex, index) {
        var axisModel = ecModel.getComponent("parallelAxis", axisIndex);
        var axisDim = coordSysDims[index];
        axisMap.set(axisDim, axisModel);
        if (isCategory(axisModel)) {
          categoryAxisMap.set(axisDim, axisModel);
          if (result.firstCategoryDimIndex == null) {
            result.firstCategoryDimIndex = index;
          }
        }
      });
    }
  };
  function isCategory(axisModel) {
    return axisModel.get("type") === "category";
  }
  function enableDataStack(seriesModel, dimensionsInput, opt) {
    opt = opt || {};
    var byIndex = opt.byIndex;
    var stackedCoordDimension = opt.stackedCoordDimension;
    var dimensionDefineList;
    var schema;
    var store;
    if (isLegacyDimensionsInput(dimensionsInput)) {
      dimensionDefineList = dimensionsInput;
    } else {
      schema = dimensionsInput.schema;
      dimensionDefineList = schema.dimensions;
      store = dimensionsInput.store;
    }
    var mayStack = !!(seriesModel && seriesModel.get("stack"));
    var stackedByDimInfo;
    var stackedDimInfo;
    var stackResultDimension;
    var stackedOverDimension;
    each$3(dimensionDefineList, function(dimensionInfo, index) {
      if (isString(dimensionInfo)) {
        dimensionDefineList[index] = dimensionInfo = {
          name: dimensionInfo
        };
      }
      if (mayStack && !dimensionInfo.isExtraCoord) {
        if (!byIndex && !stackedByDimInfo && dimensionInfo.ordinalMeta) {
          stackedByDimInfo = dimensionInfo;
        }
        if (!stackedDimInfo && dimensionInfo.type !== "ordinal" && dimensionInfo.type !== "time" && (!stackedCoordDimension || stackedCoordDimension === dimensionInfo.coordDim)) {
          stackedDimInfo = dimensionInfo;
        }
      }
    });
    if (stackedDimInfo && !byIndex && !stackedByDimInfo) {
      byIndex = true;
    }
    if (stackedDimInfo) {
      stackResultDimension = "__\0ecstackresult_" + seriesModel.id;
      stackedOverDimension = "__\0ecstackedover_" + seriesModel.id;
      if (stackedByDimInfo) {
        stackedByDimInfo.createInvertedIndices = true;
      }
      var stackedDimCoordDim_1 = stackedDimInfo.coordDim;
      var stackedDimType = stackedDimInfo.type;
      var stackedDimCoordIndex_1 = 0;
      each$3(dimensionDefineList, function(dimensionInfo) {
        if (dimensionInfo.coordDim === stackedDimCoordDim_1) {
          stackedDimCoordIndex_1++;
        }
      });
      var stackedOverDimensionDefine = {
        name: stackResultDimension,
        coordDim: stackedDimCoordDim_1,
        coordDimIndex: stackedDimCoordIndex_1,
        type: stackedDimType,
        isExtraCoord: true,
        isCalculationCoord: true,
        storeDimIndex: dimensionDefineList.length
      };
      var stackResultDimensionDefine = {
        name: stackedOverDimension,
        coordDim: stackedOverDimension,
        coordDimIndex: stackedDimCoordIndex_1 + 1,
        type: stackedDimType,
        isExtraCoord: true,
        isCalculationCoord: true,
        storeDimIndex: dimensionDefineList.length + 1
      };
      if (schema) {
        if (store) {
          stackedOverDimensionDefine.storeDimIndex = store.ensureCalculationDimension(stackedOverDimension, stackedDimType);
          stackResultDimensionDefine.storeDimIndex = store.ensureCalculationDimension(stackResultDimension, stackedDimType);
        }
        schema.appendCalculationDimension(stackedOverDimensionDefine);
        schema.appendCalculationDimension(stackResultDimensionDefine);
      } else {
        dimensionDefineList.push(stackedOverDimensionDefine);
        dimensionDefineList.push(stackResultDimensionDefine);
      }
    }
    return {
      stackedDimension: stackedDimInfo && stackedDimInfo.name,
      stackedByDimension: stackedByDimInfo && stackedByDimInfo.name,
      isStackedByIndex: byIndex,
      stackedOverDimension,
      stackResultDimension
    };
  }
  function isLegacyDimensionsInput(dimensionsInput) {
    return !isSeriesDataSchema(dimensionsInput.schema);
  }
  function isDimensionStacked(data, stackedDim) {
    return !!stackedDim && stackedDim === data.getCalculationInfo("stackedDimension");
  }
  function getStackedDimension(data, targetDim) {
    return isDimensionStacked(data, targetDim) ? data.getCalculationInfo("stackResultDimension") : targetDim;
  }
  function getCoordSysDimDefs(seriesModel, coordSysInfo) {
    var coordSysName = seriesModel.get("coordinateSystem");
    var registeredCoordSys = CoordinateSystem.get(coordSysName);
    var coordSysDimDefs;
    if (coordSysInfo && coordSysInfo.coordSysDims) {
      coordSysDimDefs = map$1(coordSysInfo.coordSysDims, function(dim) {
        var dimInfo = {
          name: dim
        };
        var axisModel = coordSysInfo.axisMap.get(dim);
        if (axisModel) {
          var axisType = axisModel.get("type");
          dimInfo.type = getDimensionTypeByAxis(axisType);
        }
        return dimInfo;
      });
    }
    if (!coordSysDimDefs) {
      coordSysDimDefs = registeredCoordSys && (registeredCoordSys.getDimensionsInfo ? registeredCoordSys.getDimensionsInfo() : registeredCoordSys.dimensions.slice()) || ["x", "y"];
    }
    return coordSysDimDefs;
  }
  function injectOrdinalMeta(dimInfoList, createInvertedIndices, coordSysInfo) {
    var firstCategoryDimIndex;
    var hasNameEncode;
    coordSysInfo && each$3(dimInfoList, function(dimInfo, dimIndex) {
      var coordDim = dimInfo.coordDim;
      var categoryAxisModel = coordSysInfo.categoryAxisMap.get(coordDim);
      if (categoryAxisModel) {
        if (firstCategoryDimIndex == null) {
          firstCategoryDimIndex = dimIndex;
        }
        dimInfo.ordinalMeta = categoryAxisModel.getOrdinalMeta();
        if (createInvertedIndices) {
          dimInfo.createInvertedIndices = true;
        }
      }
      if (dimInfo.otherDims.itemName != null) {
        hasNameEncode = true;
      }
    });
    if (!hasNameEncode && firstCategoryDimIndex != null) {
      dimInfoList[firstCategoryDimIndex].otherDims.itemName = 0;
    }
    return firstCategoryDimIndex;
  }
  function createSeriesData(sourceRaw, seriesModel, opt) {
    opt = opt || {};
    var sourceManager = seriesModel.getSourceManager();
    var source;
    var isOriginalSource = false;
    if (sourceRaw) {
      isOriginalSource = true;
      source = createSourceFromSeriesDataOption(sourceRaw);
    } else {
      source = sourceManager.getSource();
      isOriginalSource = source.sourceFormat === SOURCE_FORMAT_ORIGINAL;
    }
    var coordSysInfo = getCoordSysInfoBySeries(seriesModel);
    var coordSysDimDefs = getCoordSysDimDefs(seriesModel, coordSysInfo);
    var useEncodeDefaulter = opt.useEncodeDefaulter;
    var encodeDefaulter = isFunction(useEncodeDefaulter) ? useEncodeDefaulter : useEncodeDefaulter ? curry(makeSeriesEncodeForAxisCoordSys, coordSysDimDefs, seriesModel) : null;
    var createDimensionOptions = {
      coordDimensions: coordSysDimDefs,
      generateCoord: opt.generateCoord,
      encodeDefine: seriesModel.getEncode(),
      encodeDefaulter,
      canOmitUnusedDimensions: !isOriginalSource
    };
    var schema = prepareSeriesDataSchema(source, createDimensionOptions);
    var firstCategoryDimIndex = injectOrdinalMeta(schema.dimensions, opt.createInvertedIndices, coordSysInfo);
    var store = !isOriginalSource ? sourceManager.getSharedDataStore(schema) : null;
    var stackCalculationInfo = enableDataStack(seriesModel, {
      schema,
      store
    });
    var data = new SeriesData$1(schema, seriesModel);
    data.setCalculationInfo(stackCalculationInfo);
    var dimValueGetter = firstCategoryDimIndex != null && isNeedCompleteOrdinalData(source) ? function(itemOpt, dimName, dataIndex, dimIndex) {
      return dimIndex === firstCategoryDimIndex ? dataIndex : this.defaultDimValueGetter(itemOpt, dimName, dataIndex, dimIndex);
    } : null;
    data.hasItemOption = false;
    data.initData(isOriginalSource ? source : store, null, dimValueGetter);
    return data;
  }
  function isNeedCompleteOrdinalData(source) {
    if (source.sourceFormat === SOURCE_FORMAT_ORIGINAL) {
      var sampleItem = firstDataNotNull(source.data || []);
      return !isArray(getDataItemValue(sampleItem));
    }
  }
  function firstDataNotNull(arr) {
    var i2 = 0;
    while (i2 < arr.length && arr[i2] == null) {
      i2++;
    }
    return arr[i2];
  }
  var Scale = function() {
    function Scale2(setting) {
      this._setting = setting || {};
      this._extent = [Infinity, -Infinity];
    }
    Scale2.prototype.getSetting = function(name) {
      return this._setting[name];
    };
    Scale2.prototype.unionExtent = function(other) {
      var extent3 = this._extent;
      other[0] < extent3[0] && (extent3[0] = other[0]);
      other[1] > extent3[1] && (extent3[1] = other[1]);
    };
    Scale2.prototype.unionExtentFromData = function(data, dim) {
      this.unionExtent(data.getApproximateExtent(dim));
    };
    Scale2.prototype.getExtent = function() {
      return this._extent.slice();
    };
    Scale2.prototype.setExtent = function(start2, end2) {
      var thisExtent = this._extent;
      if (!isNaN(start2)) {
        thisExtent[0] = start2;
      }
      if (!isNaN(end2)) {
        thisExtent[1] = end2;
      }
    };
    Scale2.prototype.isInExtentRange = function(value) {
      return this._extent[0] <= value && this._extent[1] >= value;
    };
    Scale2.prototype.isBlank = function() {
      return this._isBlank;
    };
    Scale2.prototype.setBlank = function(isBlank) {
      this._isBlank = isBlank;
    };
    return Scale2;
  }();
  enableClassManagement(Scale);
  var Scale$1 = Scale;
  var uidBase = 0;
  var OrdinalMeta = function() {
    function OrdinalMeta2(opt) {
      this.categories = opt.categories || [];
      this._needCollect = opt.needCollect;
      this._deduplication = opt.deduplication;
      this.uid = ++uidBase;
    }
    OrdinalMeta2.createByAxisModel = function(axisModel) {
      var option = axisModel.option;
      var data = option.data;
      var categories = data && map$1(data, getName);
      return new OrdinalMeta2({
        categories,
        needCollect: !categories,
        deduplication: option.dedplication !== false
      });
    };
    OrdinalMeta2.prototype.getOrdinal = function(category) {
      return this._getOrCreateMap().get(category);
    };
    OrdinalMeta2.prototype.parseAndCollect = function(category) {
      var index;
      var needCollect = this._needCollect;
      if (!isString(category) && !needCollect) {
        return category;
      }
      if (needCollect && !this._deduplication) {
        index = this.categories.length;
        this.categories[index] = category;
        return index;
      }
      var map2 = this._getOrCreateMap();
      index = map2.get(category);
      if (index == null) {
        if (needCollect) {
          index = this.categories.length;
          this.categories[index] = category;
          map2.set(category, index);
        } else {
          index = NaN;
        }
      }
      return index;
    };
    OrdinalMeta2.prototype._getOrCreateMap = function() {
      return this._map || (this._map = createHashMap(this.categories));
    };
    return OrdinalMeta2;
  }();
  function getName(obj) {
    if (isObject$2(obj) && obj.value != null) {
      return obj.value;
    } else {
      return obj + "";
    }
  }
  var OrdinalMeta$1 = OrdinalMeta;
  function isValueNice(val) {
    var exp10 = Math.pow(10, quantityExponent(Math.abs(val)));
    var f2 = Math.abs(val / exp10);
    return f2 === 0 || f2 === 1 || f2 === 2 || f2 === 3 || f2 === 5;
  }
  function isIntervalOrLogScale(scale2) {
    return scale2.type === "interval" || scale2.type === "log";
  }
  function intervalScaleNiceTicks(extent3, splitNumber, minInterval, maxInterval) {
    var result = {};
    var span = extent3[1] - extent3[0];
    var interval = result.interval = nice(span / splitNumber, true);
    if (minInterval != null && interval < minInterval) {
      interval = result.interval = minInterval;
    }
    if (maxInterval != null && interval > maxInterval) {
      interval = result.interval = maxInterval;
    }
    var precision = result.intervalPrecision = getIntervalPrecision(interval);
    var niceTickExtent = result.niceTickExtent = [round$1(Math.ceil(extent3[0] / interval) * interval, precision), round$1(Math.floor(extent3[1] / interval) * interval, precision)];
    fixExtent(niceTickExtent, extent3);
    return result;
  }
  function increaseInterval(interval) {
    var exp10 = Math.pow(10, quantityExponent(interval));
    var f2 = interval / exp10;
    if (!f2) {
      f2 = 1;
    } else if (f2 === 2) {
      f2 = 3;
    } else if (f2 === 3) {
      f2 = 5;
    } else {
      f2 *= 2;
    }
    return round$1(f2 * exp10);
  }
  function getIntervalPrecision(interval) {
    return getPrecision(interval) + 2;
  }
  function clamp(niceTickExtent, idx, extent3) {
    niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent3[1]), extent3[0]);
  }
  function fixExtent(niceTickExtent, extent3) {
    !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent3[0]);
    !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent3[1]);
    clamp(niceTickExtent, 0, extent3);
    clamp(niceTickExtent, 1, extent3);
    if (niceTickExtent[0] > niceTickExtent[1]) {
      niceTickExtent[0] = niceTickExtent[1];
    }
  }
  function contain$1(val, extent3) {
    return val >= extent3[0] && val <= extent3[1];
  }
  function normalize(val, extent3) {
    if (extent3[1] === extent3[0]) {
      return 0.5;
    }
    return (val - extent3[0]) / (extent3[1] - extent3[0]);
  }
  function scale(val, extent3) {
    return val * (extent3[1] - extent3[0]) + extent3[0];
  }
  var OrdinalScale = function(_super) {
    __extends(OrdinalScale2, _super);
    function OrdinalScale2(setting) {
      var _this = _super.call(this, setting) || this;
      _this.type = "ordinal";
      var ordinalMeta = _this.getSetting("ordinalMeta");
      if (!ordinalMeta) {
        ordinalMeta = new OrdinalMeta$1({});
      }
      if (isArray(ordinalMeta)) {
        ordinalMeta = new OrdinalMeta$1({
          categories: map$1(ordinalMeta, function(item) {
            return isObject$2(item) ? item.value : item;
          })
        });
      }
      _this._ordinalMeta = ordinalMeta;
      _this._extent = _this.getSetting("extent") || [0, ordinalMeta.categories.length - 1];
      return _this;
    }
    OrdinalScale2.prototype.parse = function(val) {
      if (val == null) {
        return NaN;
      }
      return isString(val) ? this._ordinalMeta.getOrdinal(val) : Math.round(val);
    };
    OrdinalScale2.prototype.contain = function(rank) {
      rank = this.parse(rank);
      return contain$1(rank, this._extent) && this._ordinalMeta.categories[rank] != null;
    };
    OrdinalScale2.prototype.normalize = function(val) {
      val = this._getTickNumber(this.parse(val));
      return normalize(val, this._extent);
    };
    OrdinalScale2.prototype.scale = function(val) {
      val = Math.round(scale(val, this._extent));
      return this.getRawOrdinalNumber(val);
    };
    OrdinalScale2.prototype.getTicks = function() {
      var ticks = [];
      var extent3 = this._extent;
      var rank = extent3[0];
      while (rank <= extent3[1]) {
        ticks.push({
          value: rank
        });
        rank++;
      }
      return ticks;
    };
    OrdinalScale2.prototype.getMinorTicks = function(splitNumber) {
      return;
    };
    OrdinalScale2.prototype.setSortInfo = function(info) {
      if (info == null) {
        this._ordinalNumbersByTick = this._ticksByOrdinalNumber = null;
        return;
      }
      var infoOrdinalNumbers = info.ordinalNumbers;
      var ordinalsByTick = this._ordinalNumbersByTick = [];
      var ticksByOrdinal = this._ticksByOrdinalNumber = [];
      var tickNum = 0;
      var allCategoryLen = this._ordinalMeta.categories.length;
      for (var len2 = Math.min(allCategoryLen, infoOrdinalNumbers.length); tickNum < len2; ++tickNum) {
        var ordinalNumber = infoOrdinalNumbers[tickNum];
        ordinalsByTick[tickNum] = ordinalNumber;
        ticksByOrdinal[ordinalNumber] = tickNum;
      }
      var unusedOrdinal = 0;
      for (; tickNum < allCategoryLen; ++tickNum) {
        while (ticksByOrdinal[unusedOrdinal] != null) {
          unusedOrdinal++;
        }
        ordinalsByTick.push(unusedOrdinal);
        ticksByOrdinal[unusedOrdinal] = tickNum;
      }
    };
    OrdinalScale2.prototype._getTickNumber = function(ordinal) {
      var ticksByOrdinalNumber = this._ticksByOrdinalNumber;
      return ticksByOrdinalNumber && ordinal >= 0 && ordinal < ticksByOrdinalNumber.length ? ticksByOrdinalNumber[ordinal] : ordinal;
    };
    OrdinalScale2.prototype.getRawOrdinalNumber = function(tickNumber) {
      var ordinalNumbersByTick = this._ordinalNumbersByTick;
      return ordinalNumbersByTick && tickNumber >= 0 && tickNumber < ordinalNumbersByTick.length ? ordinalNumbersByTick[tickNumber] : tickNumber;
    };
    OrdinalScale2.prototype.getLabel = function(tick) {
      if (!this.isBlank()) {
        var ordinalNumber = this.getRawOrdinalNumber(tick.value);
        var cateogry = this._ordinalMeta.categories[ordinalNumber];
        return cateogry == null ? "" : cateogry + "";
      }
    };
    OrdinalScale2.prototype.count = function() {
      return this._extent[1] - this._extent[0] + 1;
    };
    OrdinalScale2.prototype.unionExtentFromData = function(data, dim) {
      this.unionExtent(data.getApproximateExtent(dim));
    };
    OrdinalScale2.prototype.isInExtentRange = function(value) {
      value = this._getTickNumber(value);
      return this._extent[0] <= value && this._extent[1] >= value;
    };
    OrdinalScale2.prototype.getOrdinalMeta = function() {
      return this._ordinalMeta;
    };
    OrdinalScale2.prototype.calcNiceTicks = function() {
    };
    OrdinalScale2.prototype.calcNiceExtent = function() {
    };
    OrdinalScale2.type = "ordinal";
    return OrdinalScale2;
  }(Scale$1);
  Scale$1.registerClass(OrdinalScale);
  var OrdinalScale$1 = OrdinalScale;
  var roundNumber = round$1;
  var IntervalScale = function(_super) {
    __extends(IntervalScale2, _super);
    function IntervalScale2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = "interval";
      _this._interval = 0;
      _this._intervalPrecision = 2;
      return _this;
    }
    IntervalScale2.prototype.parse = function(val) {
      return val;
    };
    IntervalScale2.prototype.contain = function(val) {
      return contain$1(val, this._extent);
    };
    IntervalScale2.prototype.normalize = function(val) {
      return normalize(val, this._extent);
    };
    IntervalScale2.prototype.scale = function(val) {
      return scale(val, this._extent);
    };
    IntervalScale2.prototype.setExtent = function(start2, end2) {
      var thisExtent = this._extent;
      if (!isNaN(start2)) {
        thisExtent[0] = parseFloat(start2);
      }
      if (!isNaN(end2)) {
        thisExtent[1] = parseFloat(end2);
      }
    };
    IntervalScale2.prototype.unionExtent = function(other) {
      var extent3 = this._extent;
      other[0] < extent3[0] && (extent3[0] = other[0]);
      other[1] > extent3[1] && (extent3[1] = other[1]);
      this.setExtent(extent3[0], extent3[1]);
    };
    IntervalScale2.prototype.getInterval = function() {
      return this._interval;
    };
    IntervalScale2.prototype.setInterval = function(interval) {
      this._interval = interval;
      this._niceExtent = this._extent.slice();
      this._intervalPrecision = getIntervalPrecision(interval);
    };
    IntervalScale2.prototype.getTicks = function(expandToNicedExtent) {
      var interval = this._interval;
      var extent3 = this._extent;
      var niceTickExtent = this._niceExtent;
      var intervalPrecision = this._intervalPrecision;
      var ticks = [];
      if (!interval) {
        return ticks;
      }
      var safeLimit = 1e4;
      if (extent3[0] < niceTickExtent[0]) {
        if (expandToNicedExtent) {
          ticks.push({
            value: roundNumber(niceTickExtent[0] - interval, intervalPrecision)
          });
        } else {
          ticks.push({
            value: extent3[0]
          });
        }
      }
      var tick = niceTickExtent[0];
      while (tick <= niceTickExtent[1]) {
        ticks.push({
          value: tick
        });
        tick = roundNumber(tick + interval, intervalPrecision);
        if (tick === ticks[ticks.length - 1].value) {
          break;
        }
        if (ticks.length > safeLimit) {
          return [];
        }
      }
      var lastNiceTick = ticks.length ? ticks[ticks.length - 1].value : niceTickExtent[1];
      if (extent3[1] > lastNiceTick) {
        if (expandToNicedExtent) {
          ticks.push({
            value: roundNumber(lastNiceTick + interval, intervalPrecision)
          });
        } else {
          ticks.push({
            value: extent3[1]
          });
        }
      }
      return ticks;
    };
    IntervalScale2.prototype.getMinorTicks = function(splitNumber) {
      var ticks = this.getTicks(true);
      var minorTicks = [];
      var extent3 = this.getExtent();
      for (var i2 = 1; i2 < ticks.length; i2++) {
        var nextTick = ticks[i2];
        var prevTick = ticks[i2 - 1];
        var count = 0;
        var minorTicksGroup = [];
        var interval = nextTick.value - prevTick.value;
        var minorInterval = interval / splitNumber;
        while (count < splitNumber - 1) {
          var minorTick = roundNumber(prevTick.value + (count + 1) * minorInterval);
          if (minorTick > extent3[0] && minorTick < extent3[1]) {
            minorTicksGroup.push(minorTick);
          }
          count++;
        }
        minorTicks.push(minorTicksGroup);
      }
      return minorTicks;
    };
    IntervalScale2.prototype.getLabel = function(data, opt) {
      if (data == null) {
        return "";
      }
      var precision = opt && opt.precision;
      if (precision == null) {
        precision = getPrecision(data.value) || 0;
      } else if (precision === "auto") {
        precision = this._intervalPrecision;
      }
      var dataNum = roundNumber(data.value, precision, true);
      return addCommas(dataNum);
    };
    IntervalScale2.prototype.calcNiceTicks = function(splitNumber, minInterval, maxInterval) {
      splitNumber = splitNumber || 5;
      var extent3 = this._extent;
      var span = extent3[1] - extent3[0];
      if (!isFinite(span)) {
        return;
      }
      if (span < 0) {
        span = -span;
        extent3.reverse();
      }
      var result = intervalScaleNiceTicks(extent3, splitNumber, minInterval, maxInterval);
      this._intervalPrecision = result.intervalPrecision;
      this._interval = result.interval;
      this._niceExtent = result.niceTickExtent;
    };
    IntervalScale2.prototype.calcNiceExtent = function(opt) {
      var extent3 = this._extent;
      if (extent3[0] === extent3[1]) {
        if (extent3[0] !== 0) {
          var expandSize = Math.abs(extent3[0]);
          if (!opt.fixMax) {
            extent3[1] += expandSize / 2;
            extent3[0] -= expandSize / 2;
          } else {
            extent3[0] -= expandSize / 2;
          }
        } else {
          extent3[1] = 1;
        }
      }
      var span = extent3[1] - extent3[0];
      if (!isFinite(span)) {
        extent3[0] = 0;
        extent3[1] = 1;
      }
      this.calcNiceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval);
      var interval = this._interval;
      if (!opt.fixMin) {
        extent3[0] = roundNumber(Math.floor(extent3[0] / interval) * interval);
      }
      if (!opt.fixMax) {
        extent3[1] = roundNumber(Math.ceil(extent3[1] / interval) * interval);
      }
    };
    IntervalScale2.prototype.setNiceExtent = function(min3, max3) {
      this._niceExtent = [min3, max3];
    };
    IntervalScale2.type = "interval";
    return IntervalScale2;
  }(Scale$1);
  Scale$1.registerClass(IntervalScale);
  var IntervalScale$1 = IntervalScale;
  var supportFloat32Array = typeof Float32Array !== "undefined";
  var Float32ArrayCtor = !supportFloat32Array ? Array : Float32Array;
  function createFloat32Array(arg) {
    if (isArray(arg)) {
      return supportFloat32Array ? new Float32Array(arg) : arg;
    }
    return new Float32ArrayCtor(arg);
  }
  var STACK_PREFIX = "__ec_stack_";
  function getSeriesStackId(seriesModel) {
    return seriesModel.get("stack") || STACK_PREFIX + seriesModel.seriesIndex;
  }
  function getAxisKey(axis) {
    return axis.dim + axis.index;
  }
  function prepareLayoutBarSeries(seriesType2, ecModel) {
    var seriesModels = [];
    ecModel.eachSeriesByType(seriesType2, function(seriesModel) {
      if (isOnCartesian(seriesModel)) {
        seriesModels.push(seriesModel);
      }
    });
    return seriesModels;
  }
  function getValueAxesMinGaps(barSeries) {
    var axisValues = {};
    each$3(barSeries, function(seriesModel) {
      var cartesian = seriesModel.coordinateSystem;
      var baseAxis = cartesian.getBaseAxis();
      if (baseAxis.type !== "time" && baseAxis.type !== "value") {
        return;
      }
      var data = seriesModel.getData();
      var key2 = baseAxis.dim + "_" + baseAxis.index;
      var dimIdx = data.getDimensionIndex(data.mapDimension(baseAxis.dim));
      var store = data.getStore();
      for (var i2 = 0, cnt = store.count(); i2 < cnt; ++i2) {
        var value = store.get(dimIdx, i2);
        if (!axisValues[key2]) {
          axisValues[key2] = [value];
        } else {
          axisValues[key2].push(value);
        }
      }
    });
    var axisMinGaps = {};
    for (var key in axisValues) {
      if (axisValues.hasOwnProperty(key)) {
        var valuesInAxis = axisValues[key];
        if (valuesInAxis) {
          valuesInAxis.sort(function(a2, b2) {
            return a2 - b2;
          });
          var min3 = null;
          for (var j2 = 1; j2 < valuesInAxis.length; ++j2) {
            var delta = valuesInAxis[j2] - valuesInAxis[j2 - 1];
            if (delta > 0) {
              min3 = min3 === null ? delta : Math.min(min3, delta);
            }
          }
          axisMinGaps[key] = min3;
        }
      }
    }
    return axisMinGaps;
  }
  function makeColumnLayout(barSeries) {
    var axisMinGaps = getValueAxesMinGaps(barSeries);
    var seriesInfoList = [];
    each$3(barSeries, function(seriesModel) {
      var cartesian = seriesModel.coordinateSystem;
      var baseAxis = cartesian.getBaseAxis();
      var axisExtent = baseAxis.getExtent();
      var bandWidth;
      if (baseAxis.type === "category") {
        bandWidth = baseAxis.getBandWidth();
      } else if (baseAxis.type === "value" || baseAxis.type === "time") {
        var key = baseAxis.dim + "_" + baseAxis.index;
        var minGap = axisMinGaps[key];
        var extentSpan = Math.abs(axisExtent[1] - axisExtent[0]);
        var scale2 = baseAxis.scale.getExtent();
        var scaleSpan = Math.abs(scale2[1] - scale2[0]);
        bandWidth = minGap ? extentSpan / scaleSpan * minGap : extentSpan;
      } else {
        var data = seriesModel.getData();
        bandWidth = Math.abs(axisExtent[1] - axisExtent[0]) / data.count();
      }
      var barWidth = parsePercent(seriesModel.get("barWidth"), bandWidth);
      var barMaxWidth = parsePercent(seriesModel.get("barMaxWidth"), bandWidth);
      var barMinWidth = parsePercent(seriesModel.get("barMinWidth") || (isInLargeMode(seriesModel) ? 0.5 : 1), bandWidth);
      var barGap = seriesModel.get("barGap");
      var barCategoryGap = seriesModel.get("barCategoryGap");
      seriesInfoList.push({
        bandWidth,
        barWidth,
        barMaxWidth,
        barMinWidth,
        barGap,
        barCategoryGap,
        axisKey: getAxisKey(baseAxis),
        stackId: getSeriesStackId(seriesModel)
      });
    });
    return doCalBarWidthAndOffset(seriesInfoList);
  }
  function doCalBarWidthAndOffset(seriesInfoList) {
    var columnsMap = {};
    each$3(seriesInfoList, function(seriesInfo, idx) {
      var axisKey = seriesInfo.axisKey;
      var bandWidth = seriesInfo.bandWidth;
      var columnsOnAxis = columnsMap[axisKey] || {
        bandWidth,
        remainedWidth: bandWidth,
        autoWidthCount: 0,
        categoryGap: null,
        gap: "20%",
        stacks: {}
      };
      var stacks = columnsOnAxis.stacks;
      columnsMap[axisKey] = columnsOnAxis;
      var stackId = seriesInfo.stackId;
      if (!stacks[stackId]) {
        columnsOnAxis.autoWidthCount++;
      }
      stacks[stackId] = stacks[stackId] || {
        width: 0,
        maxWidth: 0
      };
      var barWidth = seriesInfo.barWidth;
      if (barWidth && !stacks[stackId].width) {
        stacks[stackId].width = barWidth;
        barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);
        columnsOnAxis.remainedWidth -= barWidth;
      }
      var barMaxWidth = seriesInfo.barMaxWidth;
      barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);
      var barMinWidth = seriesInfo.barMinWidth;
      barMinWidth && (stacks[stackId].minWidth = barMinWidth);
      var barGap = seriesInfo.barGap;
      barGap != null && (columnsOnAxis.gap = barGap);
      var barCategoryGap = seriesInfo.barCategoryGap;
      barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);
    });
    var result = {};
    each$3(columnsMap, function(columnsOnAxis, coordSysName) {
      result[coordSysName] = {};
      var stacks = columnsOnAxis.stacks;
      var bandWidth = columnsOnAxis.bandWidth;
      var categoryGapPercent = columnsOnAxis.categoryGap;
      if (categoryGapPercent == null) {
        var columnCount = keys(stacks).length;
        categoryGapPercent = Math.max(35 - columnCount * 4, 15) + "%";
      }
      var categoryGap = parsePercent(categoryGapPercent, bandWidth);
      var barGapPercent = parsePercent(columnsOnAxis.gap, 1);
      var remainedWidth = columnsOnAxis.remainedWidth;
      var autoWidthCount = columnsOnAxis.autoWidthCount;
      var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);
      autoWidth = Math.max(autoWidth, 0);
      each$3(stacks, function(column) {
        var maxWidth = column.maxWidth;
        var minWidth = column.minWidth;
        if (!column.width) {
          var finalWidth = autoWidth;
          if (maxWidth && maxWidth < finalWidth) {
            finalWidth = Math.min(maxWidth, remainedWidth);
          }
          if (minWidth && minWidth > finalWidth) {
            finalWidth = minWidth;
          }
          if (finalWidth !== autoWidth) {
            column.width = finalWidth;
            remainedWidth -= finalWidth + barGapPercent * finalWidth;
            autoWidthCount--;
          }
        } else {
          var finalWidth = column.width;
          if (maxWidth) {
            finalWidth = Math.min(finalWidth, maxWidth);
          }
          if (minWidth) {
            finalWidth = Math.max(finalWidth, minWidth);
          }
          column.width = finalWidth;
          remainedWidth -= finalWidth + barGapPercent * finalWidth;
          autoWidthCount--;
        }
      });
      autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);
      autoWidth = Math.max(autoWidth, 0);
      var widthSum = 0;
      var lastColumn;
      each$3(stacks, function(column, idx) {
        if (!column.width) {
          column.width = autoWidth;
        }
        lastColumn = column;
        widthSum += column.width * (1 + barGapPercent);
      });
      if (lastColumn) {
        widthSum -= lastColumn.width * barGapPercent;
      }
      var offset = -widthSum / 2;
      each$3(stacks, function(column, stackId) {
        result[coordSysName][stackId] = result[coordSysName][stackId] || {
          bandWidth,
          offset,
          width: column.width
        };
        offset += column.width * (1 + barGapPercent);
      });
    });
    return result;
  }
  function retrieveColumnLayout(barWidthAndOffset, axis, seriesModel) {
    if (barWidthAndOffset && axis) {
      var result = barWidthAndOffset[getAxisKey(axis)];
      if (result != null && seriesModel != null) {
        return result[getSeriesStackId(seriesModel)];
      }
      return result;
    }
  }
  function isOnCartesian(seriesModel) {
    return seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === "cartesian2d";
  }
  function isInLargeMode(seriesModel) {
    return seriesModel.pipelineContext && seriesModel.pipelineContext.large;
  }
  var bisect = function(a2, x2, lo, hi) {
    while (lo < hi) {
      var mid = lo + hi >>> 1;
      if (a2[mid][1] < x2) {
        lo = mid + 1;
      } else {
        hi = mid;
      }
    }
    return lo;
  };
  var TimeScale = function(_super) {
    __extends(TimeScale2, _super);
    function TimeScale2(settings) {
      var _this = _super.call(this, settings) || this;
      _this.type = "time";
      return _this;
    }
    TimeScale2.prototype.getLabel = function(tick) {
      var useUTC = this.getSetting("useUTC");
      return format$1(tick.value, fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))] || fullLeveledFormatter.second, useUTC, this.getSetting("locale"));
    };
    TimeScale2.prototype.getFormattedLabel = function(tick, idx, labelFormatter) {
      var isUTC = this.getSetting("useUTC");
      var lang = this.getSetting("locale");
      return leveledFormat(tick, idx, labelFormatter, lang, isUTC);
    };
    TimeScale2.prototype.getTicks = function() {
      var interval = this._interval;
      var extent3 = this._extent;
      var ticks = [];
      if (!interval) {
        return ticks;
      }
      ticks.push({
        value: extent3[0],
        level: 0
      });
      var useUTC = this.getSetting("useUTC");
      var innerTicks = getIntervalTicks(this._minLevelUnit, this._approxInterval, useUTC, extent3);
      ticks = ticks.concat(innerTicks);
      ticks.push({
        value: extent3[1],
        level: 0
      });
      return ticks;
    };
    TimeScale2.prototype.calcNiceExtent = function(opt) {
      var extent3 = this._extent;
      if (extent3[0] === extent3[1]) {
        extent3[0] -= ONE_DAY;
        extent3[1] += ONE_DAY;
      }
      if (extent3[1] === -Infinity && extent3[0] === Infinity) {
        var d2 = new Date();
        extent3[1] = +new Date(d2.getFullYear(), d2.getMonth(), d2.getDate());
        extent3[0] = extent3[1] - ONE_DAY;
      }
      this.calcNiceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval);
    };
    TimeScale2.prototype.calcNiceTicks = function(approxTickNum, minInterval, maxInterval) {
      approxTickNum = approxTickNum || 10;
      var extent3 = this._extent;
      var span = extent3[1] - extent3[0];
      this._approxInterval = span / approxTickNum;
      if (minInterval != null && this._approxInterval < minInterval) {
        this._approxInterval = minInterval;
      }
      if (maxInterval != null && this._approxInterval > maxInterval) {
        this._approxInterval = maxInterval;
      }
      var scaleIntervalsLen = scaleIntervals.length;
      var idx = Math.min(bisect(scaleIntervals, this._approxInterval, 0, scaleIntervalsLen), scaleIntervalsLen - 1);
      this._interval = scaleIntervals[idx][1];
      this._minLevelUnit = scaleIntervals[Math.max(idx - 1, 0)][0];
    };
    TimeScale2.prototype.parse = function(val) {
      return isNumber(val) ? val : +parseDate(val);
    };
    TimeScale2.prototype.contain = function(val) {
      return contain$1(this.parse(val), this._extent);
    };
    TimeScale2.prototype.normalize = function(val) {
      return normalize(this.parse(val), this._extent);
    };
    TimeScale2.prototype.scale = function(val) {
      return scale(val, this._extent);
    };
    TimeScale2.type = "time";
    return TimeScale2;
  }(IntervalScale$1);
  var scaleIntervals = [
    ["second", ONE_SECOND],
    ["minute", ONE_MINUTE],
    ["hour", ONE_HOUR],
    ["quarter-day", ONE_HOUR * 6],
    ["half-day", ONE_HOUR * 12],
    ["day", ONE_DAY * 1.2],
    ["half-week", ONE_DAY * 3.5],
    ["week", ONE_DAY * 7],
    ["month", ONE_DAY * 31],
    ["quarter", ONE_DAY * 95],
    ["half-year", ONE_YEAR / 2],
    ["year", ONE_YEAR]
  ];
  function isUnitValueSame(unit, valueA, valueB, isUTC) {
    var dateA = parseDate(valueA);
    var dateB = parseDate(valueB);
    var isSame = function(unit2) {
      return getUnitValue(dateA, unit2, isUTC) === getUnitValue(dateB, unit2, isUTC);
    };
    var isSameYear = function() {
      return isSame("year");
    };
    var isSameMonth = function() {
      return isSameYear() && isSame("month");
    };
    var isSameDay = function() {
      return isSameMonth() && isSame("day");
    };
    var isSameHour = function() {
      return isSameDay() && isSame("hour");
    };
    var isSameMinute = function() {
      return isSameHour() && isSame("minute");
    };
    var isSameSecond = function() {
      return isSameMinute() && isSame("second");
    };
    var isSameMilliSecond = function() {
      return isSameSecond() && isSame("millisecond");
    };
    switch (unit) {
      case "year":
        return isSameYear();
      case "month":
        return isSameMonth();
      case "day":
        return isSameDay();
      case "hour":
        return isSameHour();
      case "minute":
        return isSameMinute();
      case "second":
        return isSameSecond();
      case "millisecond":
        return isSameMilliSecond();
    }
  }
  function getDateInterval(approxInterval, daysInMonth) {
    approxInterval /= ONE_DAY;
    return approxInterval > 16 ? 16 : approxInterval > 7.5 ? 7 : approxInterval > 3.5 ? 4 : approxInterval > 1.5 ? 2 : 1;
  }
  function getMonthInterval(approxInterval) {
    var APPROX_ONE_MONTH = 30 * ONE_DAY;
    approxInterval /= APPROX_ONE_MONTH;
    return approxInterval > 6 ? 6 : approxInterval > 3 ? 3 : approxInterval > 2 ? 2 : 1;
  }
  function getHourInterval(approxInterval) {
    approxInterval /= ONE_HOUR;
    return approxInterval > 12 ? 12 : approxInterval > 6 ? 6 : approxInterval > 3.5 ? 4 : approxInterval > 2 ? 2 : 1;
  }
  function getMinutesAndSecondsInterval(approxInterval, isMinutes) {
    approxInterval /= isMinutes ? ONE_MINUTE : ONE_SECOND;
    return approxInterval > 30 ? 30 : approxInterval > 20 ? 20 : approxInterval > 15 ? 15 : approxInterval > 10 ? 10 : approxInterval > 5 ? 5 : approxInterval > 2 ? 2 : 1;
  }
  function getMillisecondsInterval(approxInterval) {
    return nice(approxInterval, true);
  }
  function getFirstTimestampOfUnit(date, unitName, isUTC) {
    var outDate = new Date(date);
    switch (getPrimaryTimeUnit(unitName)) {
      case "year":
      case "month":
        outDate[monthSetterName(isUTC)](0);
      case "day":
        outDate[dateSetterName(isUTC)](1);
      case "hour":
        outDate[hoursSetterName(isUTC)](0);
      case "minute":
        outDate[minutesSetterName(isUTC)](0);
      case "second":
        outDate[secondsSetterName(isUTC)](0);
        outDate[millisecondsSetterName(isUTC)](0);
    }
    return outDate.getTime();
  }
  function getIntervalTicks(bottomUnitName, approxInterval, isUTC, extent3) {
    var safeLimit = 1e4;
    var unitNames = timeUnits;
    var iter = 0;
    function addTicksInSpan(interval, minTimestamp, maxTimestamp, getMethodName, setMethodName, isDate, out2) {
      var date = new Date(minTimestamp);
      var dateTime = minTimestamp;
      var d2 = date[getMethodName]();
      while (dateTime < maxTimestamp && dateTime <= extent3[1]) {
        out2.push({
          value: dateTime
        });
        d2 += interval;
        date[setMethodName](d2);
        dateTime = date.getTime();
      }
      out2.push({
        value: dateTime,
        notAdd: true
      });
    }
    function addLevelTicks(unitName, lastLevelTicks, levelTicks2) {
      var newAddedTicks = [];
      var isFirstLevel = !lastLevelTicks.length;
      if (isUnitValueSame(getPrimaryTimeUnit(unitName), extent3[0], extent3[1], isUTC)) {
        return;
      }
      if (isFirstLevel) {
        lastLevelTicks = [{
          value: getFirstTimestampOfUnit(new Date(extent3[0]), unitName, isUTC)
        }, {
          value: extent3[1]
        }];
      }
      for (var i3 = 0; i3 < lastLevelTicks.length - 1; i3++) {
        var startTick = lastLevelTicks[i3].value;
        var endTick = lastLevelTicks[i3 + 1].value;
        if (startTick === endTick) {
          continue;
        }
        var interval = void 0;
        var getterName = void 0;
        var setterName = void 0;
        var isDate = false;
        switch (unitName) {
          case "year":
            interval = Math.max(1, Math.round(approxInterval / ONE_DAY / 365));
            getterName = fullYearGetterName(isUTC);
            setterName = fullYearSetterName(isUTC);
            break;
          case "half-year":
          case "quarter":
          case "month":
            interval = getMonthInterval(approxInterval);
            getterName = monthGetterName(isUTC);
            setterName = monthSetterName(isUTC);
            break;
          case "week":
          case "half-week":
          case "day":
            interval = getDateInterval(approxInterval);
            getterName = dateGetterName(isUTC);
            setterName = dateSetterName(isUTC);
            isDate = true;
            break;
          case "half-day":
          case "quarter-day":
          case "hour":
            interval = getHourInterval(approxInterval);
            getterName = hoursGetterName(isUTC);
            setterName = hoursSetterName(isUTC);
            break;
          case "minute":
            interval = getMinutesAndSecondsInterval(approxInterval, true);
            getterName = minutesGetterName(isUTC);
            setterName = minutesSetterName(isUTC);
            break;
          case "second":
            interval = getMinutesAndSecondsInterval(approxInterval, false);
            getterName = secondsGetterName(isUTC);
            setterName = secondsSetterName(isUTC);
            break;
          case "millisecond":
            interval = getMillisecondsInterval(approxInterval);
            getterName = millisecondsGetterName(isUTC);
            setterName = millisecondsSetterName(isUTC);
            break;
        }
        addTicksInSpan(interval, startTick, endTick, getterName, setterName, isDate, newAddedTicks);
        if (unitName === "year" && levelTicks2.length > 1 && i3 === 0) {
          levelTicks2.unshift({
            value: levelTicks2[0].value - interval
          });
        }
      }
      for (var i3 = 0; i3 < newAddedTicks.length; i3++) {
        levelTicks2.push(newAddedTicks[i3]);
      }
      return newAddedTicks;
    }
    var levelsTicks = [];
    var currentLevelTicks = [];
    var tickCount = 0;
    var lastLevelTickCount = 0;
    for (var i2 = 0; i2 < unitNames.length && iter++ < safeLimit; ++i2) {
      var primaryTimeUnit = getPrimaryTimeUnit(unitNames[i2]);
      if (!isPrimaryTimeUnit(unitNames[i2])) {
        continue;
      }
      addLevelTicks(unitNames[i2], levelsTicks[levelsTicks.length - 1] || [], currentLevelTicks);
      var nextPrimaryTimeUnit = unitNames[i2 + 1] ? getPrimaryTimeUnit(unitNames[i2 + 1]) : null;
      if (primaryTimeUnit !== nextPrimaryTimeUnit) {
        if (currentLevelTicks.length) {
          lastLevelTickCount = tickCount;
          currentLevelTicks.sort(function(a2, b2) {
            return a2.value - b2.value;
          });
          var levelTicksRemoveDuplicated = [];
          for (var i_1 = 0; i_1 < currentLevelTicks.length; ++i_1) {
            var tickValue = currentLevelTicks[i_1].value;
            if (i_1 === 0 || currentLevelTicks[i_1 - 1].value !== tickValue) {
              levelTicksRemoveDuplicated.push(currentLevelTicks[i_1]);
              if (tickValue >= extent3[0] && tickValue <= extent3[1]) {
                tickCount++;
              }
            }
          }
          var targetTickNum = (extent3[1] - extent3[0]) / approxInterval;
          if (tickCount > targetTickNum * 1.5 && lastLevelTickCount > targetTickNum / 1.5) {
            break;
          }
          levelsTicks.push(levelTicksRemoveDuplicated);
          if (tickCount > targetTickNum || bottomUnitName === unitNames[i2]) {
            break;
          }
        }
        currentLevelTicks = [];
      }
    }
    {
      if (iter >= safeLimit) {
        warn("Exceed safe limit.");
      }
    }
    var levelsTicksInExtent = filter(map$1(levelsTicks, function(levelTicks2) {
      return filter(levelTicks2, function(tick) {
        return tick.value >= extent3[0] && tick.value <= extent3[1] && !tick.notAdd;
      });
    }), function(levelTicks2) {
      return levelTicks2.length > 0;
    });
    var ticks = [];
    var maxLevel = levelsTicksInExtent.length - 1;
    for (var i2 = 0; i2 < levelsTicksInExtent.length; ++i2) {
      var levelTicks = levelsTicksInExtent[i2];
      for (var k2 = 0; k2 < levelTicks.length; ++k2) {
        ticks.push({
          value: levelTicks[k2].value,
          level: maxLevel - i2
        });
      }
    }
    ticks.sort(function(a2, b2) {
      return a2.value - b2.value;
    });
    var result = [];
    for (var i2 = 0; i2 < ticks.length; ++i2) {
      if (i2 === 0 || ticks[i2].value !== ticks[i2 - 1].value) {
        result.push(ticks[i2]);
      }
    }
    return result;
  }
  Scale$1.registerClass(TimeScale);
  var TimeScale$1 = TimeScale;
  var scaleProto = Scale$1.prototype;
  var intervalScaleProto = IntervalScale$1.prototype;
  var roundingErrorFix = round$1;
  var mathFloor = Math.floor;
  var mathCeil = Math.ceil;
  var mathPow = Math.pow;
  var mathLog$1 = Math.log;
  var LogScale = function(_super) {
    __extends(LogScale2, _super);
    function LogScale2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = "log";
      _this.base = 10;
      _this._originalScale = new IntervalScale$1();
      _this._interval = 0;
      return _this;
    }
    LogScale2.prototype.getTicks = function(expandToNicedExtent) {
      var originalScale = this._originalScale;
      var extent3 = this._extent;
      var originalExtent = originalScale.getExtent();
      var ticks = intervalScaleProto.getTicks.call(this, expandToNicedExtent);
      return map$1(ticks, function(tick) {
        var val = tick.value;
        var powVal = round$1(mathPow(this.base, val));
        powVal = val === extent3[0] && this._fixMin ? fixRoundingError(powVal, originalExtent[0]) : powVal;
        powVal = val === extent3[1] && this._fixMax ? fixRoundingError(powVal, originalExtent[1]) : powVal;
        return {
          value: powVal
        };
      }, this);
    };
    LogScale2.prototype.setExtent = function(start2, end2) {
      var base2 = mathLog$1(this.base);
      start2 = mathLog$1(Math.max(0, start2)) / base2;
      end2 = mathLog$1(Math.max(0, end2)) / base2;
      intervalScaleProto.setExtent.call(this, start2, end2);
    };
    LogScale2.prototype.getExtent = function() {
      var base2 = this.base;
      var extent3 = scaleProto.getExtent.call(this);
      extent3[0] = mathPow(base2, extent3[0]);
      extent3[1] = mathPow(base2, extent3[1]);
      var originalScale = this._originalScale;
      var originalExtent = originalScale.getExtent();
      this._fixMin && (extent3[0] = fixRoundingError(extent3[0], originalExtent[0]));
      this._fixMax && (extent3[1] = fixRoundingError(extent3[1], originalExtent[1]));
      return extent3;
    };
    LogScale2.prototype.unionExtent = function(extent3) {
      this._originalScale.unionExtent(extent3);
      var base2 = this.base;
      extent3[0] = mathLog$1(extent3[0]) / mathLog$1(base2);
      extent3[1] = mathLog$1(extent3[1]) / mathLog$1(base2);
      scaleProto.unionExtent.call(this, extent3);
    };
    LogScale2.prototype.unionExtentFromData = function(data, dim) {
      this.unionExtent(data.getApproximateExtent(dim));
    };
    LogScale2.prototype.calcNiceTicks = function(approxTickNum) {
      approxTickNum = approxTickNum || 10;
      var extent3 = this._extent;
      var span = extent3[1] - extent3[0];
      if (span === Infinity || span <= 0) {
        return;
      }
      var interval = quantity(span);
      var err2 = approxTickNum / span * interval;
      if (err2 <= 0.5) {
        interval *= 10;
      }
      while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {
        interval *= 10;
      }
      var niceExtent = [round$1(mathCeil(extent3[0] / interval) * interval), round$1(mathFloor(extent3[1] / interval) * interval)];
      this._interval = interval;
      this._niceExtent = niceExtent;
    };
    LogScale2.prototype.calcNiceExtent = function(opt) {
      intervalScaleProto.calcNiceExtent.call(this, opt);
      this._fixMin = opt.fixMin;
      this._fixMax = opt.fixMax;
    };
    LogScale2.prototype.parse = function(val) {
      return val;
    };
    LogScale2.prototype.contain = function(val) {
      val = mathLog$1(val) / mathLog$1(this.base);
      return contain$1(val, this._extent);
    };
    LogScale2.prototype.normalize = function(val) {
      val = mathLog$1(val) / mathLog$1(this.base);
      return normalize(val, this._extent);
    };
    LogScale2.prototype.scale = function(val) {
      val = scale(val, this._extent);
      return mathPow(this.base, val);
    };
    LogScale2.type = "log";
    return LogScale2;
  }(Scale$1);
  var proto = LogScale.prototype;
  proto.getMinorTicks = intervalScaleProto.getMinorTicks;
  proto.getLabel = intervalScaleProto.getLabel;
  function fixRoundingError(val, originalVal) {
    return roundingErrorFix(val, getPrecision(originalVal));
  }
  Scale$1.registerClass(LogScale);
  var LogScale$1 = LogScale;
  var ScaleRawExtentInfo = function() {
    function ScaleRawExtentInfo2(scale2, model, originalExtent) {
      this._prepareParams(scale2, model, originalExtent);
    }
    ScaleRawExtentInfo2.prototype._prepareParams = function(scale2, model, dataExtent) {
      if (dataExtent[1] < dataExtent[0]) {
        dataExtent = [NaN, NaN];
      }
      this._dataMin = dataExtent[0];
      this._dataMax = dataExtent[1];
      var isOrdinal = this._isOrdinal = scale2.type === "ordinal";
      this._needCrossZero = scale2.type === "interval" && model.getNeedCrossZero && model.getNeedCrossZero();
      var modelMinRaw = this._modelMinRaw = model.get("min", true);
      if (isFunction(modelMinRaw)) {
        this._modelMinNum = parseAxisModelMinMax(scale2, modelMinRaw({
          min: dataExtent[0],
          max: dataExtent[1]
        }));
      } else if (modelMinRaw !== "dataMin") {
        this._modelMinNum = parseAxisModelMinMax(scale2, modelMinRaw);
      }
      var modelMaxRaw = this._modelMaxRaw = model.get("max", true);
      if (isFunction(modelMaxRaw)) {
        this._modelMaxNum = parseAxisModelMinMax(scale2, modelMaxRaw({
          min: dataExtent[0],
          max: dataExtent[1]
        }));
      } else if (modelMaxRaw !== "dataMax") {
        this._modelMaxNum = parseAxisModelMinMax(scale2, modelMaxRaw);
      }
      if (isOrdinal) {
        this._axisDataLen = model.getCategories().length;
      } else {
        var boundaryGap = model.get("boundaryGap");
        var boundaryGapArr = isArray(boundaryGap) ? boundaryGap : [boundaryGap || 0, boundaryGap || 0];
        if (typeof boundaryGapArr[0] === "boolean" || typeof boundaryGapArr[1] === "boolean") {
          {
            formatAppLog("warn", "at node_modules/echarts/lib/coord/scaleRawExtentInfo.js:105", 'Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.');
          }
          this._boundaryGapInner = [0, 0];
        } else {
          this._boundaryGapInner = [parsePercent$1(boundaryGapArr[0], 1), parsePercent$1(boundaryGapArr[1], 1)];
        }
      }
    };
    ScaleRawExtentInfo2.prototype.calculate = function() {
      var isOrdinal = this._isOrdinal;
      var dataMin = this._dataMin;
      var dataMax = this._dataMax;
      var axisDataLen = this._axisDataLen;
      var boundaryGapInner = this._boundaryGapInner;
      var span = !isOrdinal ? dataMax - dataMin || Math.abs(dataMin) : null;
      var min3 = this._modelMinRaw === "dataMin" ? dataMin : this._modelMinNum;
      var max3 = this._modelMaxRaw === "dataMax" ? dataMax : this._modelMaxNum;
      var minFixed = min3 != null;
      var maxFixed = max3 != null;
      if (min3 == null) {
        min3 = isOrdinal ? axisDataLen ? 0 : NaN : dataMin - boundaryGapInner[0] * span;
      }
      if (max3 == null) {
        max3 = isOrdinal ? axisDataLen ? axisDataLen - 1 : NaN : dataMax + boundaryGapInner[1] * span;
      }
      (min3 == null || !isFinite(min3)) && (min3 = NaN);
      (max3 == null || !isFinite(max3)) && (max3 = NaN);
      var isBlank = eqNaN(min3) || eqNaN(max3) || isOrdinal && !axisDataLen;
      if (this._needCrossZero) {
        if (min3 > 0 && max3 > 0 && !minFixed) {
          min3 = 0;
        }
        if (min3 < 0 && max3 < 0 && !maxFixed) {
          max3 = 0;
        }
      }
      var determinedMin = this._determinedMin;
      var determinedMax = this._determinedMax;
      if (determinedMin != null) {
        min3 = determinedMin;
        minFixed = true;
      }
      if (determinedMax != null) {
        max3 = determinedMax;
        maxFixed = true;
      }
      return {
        min: min3,
        max: max3,
        minFixed,
        maxFixed,
        isBlank
      };
    };
    ScaleRawExtentInfo2.prototype.modifyDataMinMax = function(minMaxName, val) {
      {
        assert(!this.frozen);
      }
      this[DATA_MIN_MAX_ATTR[minMaxName]] = val;
    };
    ScaleRawExtentInfo2.prototype.setDeterminedMinMax = function(minMaxName, val) {
      var attr = DETERMINED_MIN_MAX_ATTR[minMaxName];
      {
        assert(!this.frozen && this[attr] == null);
      }
      this[attr] = val;
    };
    ScaleRawExtentInfo2.prototype.freeze = function() {
      this.frozen = true;
    };
    return ScaleRawExtentInfo2;
  }();
  var DETERMINED_MIN_MAX_ATTR = {
    min: "_determinedMin",
    max: "_determinedMax"
  };
  var DATA_MIN_MAX_ATTR = {
    min: "_dataMin",
    max: "_dataMax"
  };
  function ensureScaleRawExtentInfo(scale2, model, originalExtent) {
    var rawExtentInfo = scale2.rawExtentInfo;
    if (rawExtentInfo) {
      return rawExtentInfo;
    }
    rawExtentInfo = new ScaleRawExtentInfo(scale2, model, originalExtent);
    scale2.rawExtentInfo = rawExtentInfo;
    return rawExtentInfo;
  }
  function parseAxisModelMinMax(scale2, minMax) {
    return minMax == null ? null : eqNaN(minMax) ? NaN : scale2.parse(minMax);
  }
  function getScaleExtent(scale2, model) {
    var scaleType = scale2.type;
    var rawExtentResult = ensureScaleRawExtentInfo(scale2, model, scale2.getExtent()).calculate();
    scale2.setBlank(rawExtentResult.isBlank);
    var min3 = rawExtentResult.min;
    var max3 = rawExtentResult.max;
    var ecModel = model.ecModel;
    if (ecModel && scaleType === "time") {
      var barSeriesModels = prepareLayoutBarSeries("bar", ecModel);
      var isBaseAxisAndHasBarSeries_1 = false;
      each$3(barSeriesModels, function(seriesModel) {
        isBaseAxisAndHasBarSeries_1 = isBaseAxisAndHasBarSeries_1 || seriesModel.getBaseAxis() === model.axis;
      });
      if (isBaseAxisAndHasBarSeries_1) {
        var barWidthAndOffset = makeColumnLayout(barSeriesModels);
        var adjustedScale = adjustScaleForOverflow(min3, max3, model, barWidthAndOffset);
        min3 = adjustedScale.min;
        max3 = adjustedScale.max;
      }
    }
    return {
      extent: [min3, max3],
      fixMin: rawExtentResult.minFixed,
      fixMax: rawExtentResult.maxFixed
    };
  }
  function adjustScaleForOverflow(min3, max3, model, barWidthAndOffset) {
    var axisExtent = model.axis.getExtent();
    var axisLength = axisExtent[1] - axisExtent[0];
    var barsOnCurrentAxis = retrieveColumnLayout(barWidthAndOffset, model.axis);
    if (barsOnCurrentAxis === void 0) {
      return {
        min: min3,
        max: max3
      };
    }
    var minOverflow = Infinity;
    each$3(barsOnCurrentAxis, function(item) {
      minOverflow = Math.min(item.offset, minOverflow);
    });
    var maxOverflow = -Infinity;
    each$3(barsOnCurrentAxis, function(item) {
      maxOverflow = Math.max(item.offset + item.width, maxOverflow);
    });
    minOverflow = Math.abs(minOverflow);
    maxOverflow = Math.abs(maxOverflow);
    var totalOverFlow = minOverflow + maxOverflow;
    var oldRange = max3 - min3;
    var oldRangePercentOfNew = 1 - (minOverflow + maxOverflow) / axisLength;
    var overflowBuffer = oldRange / oldRangePercentOfNew - oldRange;
    max3 += overflowBuffer * (maxOverflow / totalOverFlow);
    min3 -= overflowBuffer * (minOverflow / totalOverFlow);
    return {
      min: min3,
      max: max3
    };
  }
  function niceScaleExtent(scale2, inModel) {
    var model = inModel;
    var extentInfo = getScaleExtent(scale2, model);
    var extent3 = extentInfo.extent;
    var splitNumber = model.get("splitNumber");
    if (scale2 instanceof LogScale$1) {
      scale2.base = model.get("logBase");
    }
    var scaleType = scale2.type;
    var interval = model.get("interval");
    var isIntervalOrTime = scaleType === "interval" || scaleType === "time";
    scale2.setExtent(extent3[0], extent3[1]);
    scale2.calcNiceExtent({
      splitNumber,
      fixMin: extentInfo.fixMin,
      fixMax: extentInfo.fixMax,
      minInterval: isIntervalOrTime ? model.get("minInterval") : null,
      maxInterval: isIntervalOrTime ? model.get("maxInterval") : null
    });
    if (interval != null) {
      scale2.setInterval && scale2.setInterval(interval);
    }
  }
  function createScaleByModel(model, axisType) {
    axisType = axisType || model.get("type");
    if (axisType) {
      switch (axisType) {
        case "category":
          return new OrdinalScale$1({
            ordinalMeta: model.getOrdinalMeta ? model.getOrdinalMeta() : model.getCategories(),
            extent: [Infinity, -Infinity]
          });
        case "time":
          return new TimeScale$1({
            locale: model.ecModel.getLocaleModel(),
            useUTC: model.ecModel.get("useUTC")
          });
        default:
          return new (Scale$1.getClass(axisType) || IntervalScale$1)();
      }
    }
  }
  function ifAxisCrossZero(axis) {
    var dataExtent = axis.scale.getExtent();
    var min3 = dataExtent[0];
    var max3 = dataExtent[1];
    return !(min3 > 0 && max3 > 0 || min3 < 0 && max3 < 0);
  }
  function makeLabelFormatter(axis) {
    var labelFormatter = axis.getLabelModel().get("formatter");
    var categoryTickStart = axis.type === "category" ? axis.scale.getExtent()[0] : null;
    if (axis.scale.type === "time") {
      return function(tpl) {
        return function(tick, idx) {
          return axis.scale.getFormattedLabel(tick, idx, tpl);
        };
      }(labelFormatter);
    } else if (isString(labelFormatter)) {
      return function(tpl) {
        return function(tick) {
          var label = axis.scale.getLabel(tick);
          var text = tpl.replace("{value}", label != null ? label : "");
          return text;
        };
      }(labelFormatter);
    } else if (isFunction(labelFormatter)) {
      return function(cb) {
        return function(tick, idx) {
          if (categoryTickStart != null) {
            idx = tick.value - categoryTickStart;
          }
          return cb(getAxisRawValue(axis, tick), idx, tick.level != null ? {
            level: tick.level
          } : null);
        };
      }(labelFormatter);
    } else {
      return function(tick) {
        return axis.scale.getLabel(tick);
      };
    }
  }
  function getAxisRawValue(axis, tick) {
    return axis.type === "category" ? axis.scale.getLabel(tick) : tick.value;
  }
  function estimateLabelUnionRect(axis) {
    var axisModel = axis.model;
    var scale2 = axis.scale;
    if (!axisModel.get(["axisLabel", "show"]) || scale2.isBlank()) {
      return;
    }
    var realNumberScaleTicks;
    var tickCount;
    var categoryScaleExtent = scale2.getExtent();
    if (scale2 instanceof OrdinalScale$1) {
      tickCount = scale2.count();
    } else {
      realNumberScaleTicks = scale2.getTicks();
      tickCount = realNumberScaleTicks.length;
    }
    var axisLabelModel = axis.getLabelModel();
    var labelFormatter = makeLabelFormatter(axis);
    var rect;
    var step = 1;
    if (tickCount > 40) {
      step = Math.ceil(tickCount / 40);
    }
    for (var i2 = 0; i2 < tickCount; i2 += step) {
      var tick = realNumberScaleTicks ? realNumberScaleTicks[i2] : {
        value: categoryScaleExtent[0] + i2
      };
      var label = labelFormatter(tick, i2);
      var unrotatedSingleRect = axisLabelModel.getTextRect(label);
      var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get("rotate") || 0);
      rect ? rect.union(singleRect) : rect = singleRect;
    }
    return rect;
  }
  function rotateTextRect(textRect, rotate2) {
    var rotateRadians = rotate2 * Math.PI / 180;
    var beforeWidth = textRect.width;
    var beforeHeight = textRect.height;
    var afterWidth = beforeWidth * Math.abs(Math.cos(rotateRadians)) + Math.abs(beforeHeight * Math.sin(rotateRadians));
    var afterHeight = beforeWidth * Math.abs(Math.sin(rotateRadians)) + Math.abs(beforeHeight * Math.cos(rotateRadians));
    var rotatedRect = new BoundingRect$1(textRect.x, textRect.y, afterWidth, afterHeight);
    return rotatedRect;
  }
  function getOptionCategoryInterval(model) {
    var interval = model.get("interval");
    return interval == null ? "auto" : interval;
  }
  function shouldShowAllLabels(axis) {
    return axis.type === "category" && getOptionCategoryInterval(axis.getLabelModel()) === 0;
  }
  function getDataDimensionsOnAxis(data, axisDim) {
    var dataDimMap = {};
    each$3(data.mapDimensionsAll(axisDim), function(dataDim) {
      dataDimMap[getStackedDimension(data, dataDim)] = true;
    });
    return keys(dataDimMap);
  }
  var AxisModelCommonMixin = function() {
    function AxisModelCommonMixin2() {
    }
    AxisModelCommonMixin2.prototype.getNeedCrossZero = function() {
      var option = this.option;
      return !option.scale;
    };
    AxisModelCommonMixin2.prototype.getCoordSysModel = function() {
      return;
    };
    return AxisModelCommonMixin2;
  }();
  function createList(seriesModel) {
    return createSeriesData(null, seriesModel);
  }
  var dataStack = {
    isDimensionStacked,
    enableDataStack,
    getStackedDimension
  };
  function createScale(dataExtent, option) {
    var axisModel = option;
    if (!(option instanceof Model$1)) {
      axisModel = new Model$1(option);
    }
    var scale2 = createScaleByModel(axisModel);
    scale2.setExtent(dataExtent[0], dataExtent[1]);
    niceScaleExtent(scale2, axisModel);
    return scale2;
  }
  function mixinAxisModelCommonMethods(Model2) {
    mixin(Model2, AxisModelCommonMixin);
  }
  function createTextStyle(textStyleModel, opts) {
    opts = opts || {};
    return createTextStyle$1(textStyleModel, null, null, opts.state !== "normal");
  }
  var helper = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    createList,
    getLayoutRect,
    dataStack,
    createScale,
    mixinAxisModelCommonMethods,
    getECData,
    createTextStyle,
    createDimensions,
    createSymbol,
    enableHoverEmphasis
  });
  var extensions = [];
  var extensionRegisters = {
    registerPreprocessor,
    registerProcessor,
    registerPostInit,
    registerPostUpdate,
    registerUpdateLifecycle,
    registerAction,
    registerCoordinateSystem,
    registerLayout,
    registerVisual,
    registerTransform,
    registerLoading,
    registerMap,
    registerImpl,
    PRIORITY,
    ComponentModel: ComponentModel$1,
    ComponentView: ComponentView$1,
    SeriesModel: SeriesModel$1,
    ChartView: ChartView$1,
    registerComponentModel: function(ComponentModelClass) {
      ComponentModel$1.registerClass(ComponentModelClass);
    },
    registerComponentView: function(ComponentViewClass) {
      ComponentView$1.registerClass(ComponentViewClass);
    },
    registerSeriesModel: function(SeriesModelClass) {
      SeriesModel$1.registerClass(SeriesModelClass);
    },
    registerChartView: function(ChartViewClass) {
      ChartView$1.registerClass(ChartViewClass);
    },
    registerSubTypeDefaulter: function(componentType, defaulter) {
      ComponentModel$1.registerSubTypeDefaulter(componentType, defaulter);
    },
    registerPainter: function(painterType, PainterCtor) {
      registerPainter(painterType, PainterCtor);
    }
  };
  function use(ext) {
    if (isArray(ext)) {
      each$3(ext, function(singleExt) {
        use(singleExt);
      });
      return;
    }
    if (indexOf(extensions, ext) >= 0) {
      return;
    }
    extensions.push(ext);
    if (isFunction(ext)) {
      ext = {
        install: ext
      };
    }
    ext.install(extensionRegisters);
  }
  var EPSILON = 1e-8;
  function isAroundEqual(a2, b2) {
    return Math.abs(a2 - b2) < EPSILON;
  }
  function contain(points2, x2, y) {
    var w2 = 0;
    var p2 = points2[0];
    if (!p2) {
      return false;
    }
    for (var i2 = 1; i2 < points2.length; i2++) {
      var p22 = points2[i2];
      w2 += windingLine(p2[0], p2[1], p22[0], p22[1], x2, y);
      p2 = p22;
    }
    var p0 = points2[0];
    if (!isAroundEqual(p2[0], p0[0]) || !isAroundEqual(p2[1], p0[1])) {
      w2 += windingLine(p2[0], p2[1], p0[0], p0[1], x2, y);
    }
    return w2 !== 0;
  }
  var TMP_TRANSFORM = [];
  function transformPoints(points2, transform) {
    for (var p2 = 0; p2 < points2.length; p2++) {
      applyTransform$1(points2[p2], points2[p2], transform);
    }
  }
  function updateBBoxFromPoints(points2, min3, max3, projection) {
    for (var i2 = 0; i2 < points2.length; i2++) {
      var p2 = points2[i2];
      if (projection) {
        p2 = projection.project(p2);
      }
      if (p2 && isFinite(p2[0]) && isFinite(p2[1])) {
        min$1(min3, min3, p2);
        max$1(max3, max3, p2);
      }
    }
  }
  function centroid(points2) {
    var signedArea = 0;
    var cx = 0;
    var cy = 0;
    var len2 = points2.length;
    var x0 = points2[len2 - 1][0];
    var y0 = points2[len2 - 1][1];
    for (var i2 = 0; i2 < len2; i2++) {
      var x1 = points2[i2][0];
      var y1 = points2[i2][1];
      var a2 = x0 * y1 - x1 * y0;
      signedArea += a2;
      cx += (x0 + x1) * a2;
      cy += (y0 + y1) * a2;
      x0 = x1;
      y0 = y1;
    }
    return signedArea ? [cx / signedArea / 3, cy / signedArea / 3, signedArea] : [points2[0][0] || 0, points2[0][1] || 0];
  }
  var Region = function() {
    function Region2(name) {
      this.name = name;
    }
    Region2.prototype.setCenter = function(center2) {
      this._center = center2;
    };
    Region2.prototype.getCenter = function() {
      var center2 = this._center;
      if (!center2) {
        center2 = this._center = this.calcCenter();
      }
      return center2;
    };
    return Region2;
  }();
  var GeoJSONPolygonGeometry = function() {
    function GeoJSONPolygonGeometry2(exterior, interiors) {
      this.type = "polygon";
      this.exterior = exterior;
      this.interiors = interiors;
    }
    return GeoJSONPolygonGeometry2;
  }();
  var GeoJSONLineStringGeometry = function() {
    function GeoJSONLineStringGeometry2(points2) {
      this.type = "linestring";
      this.points = points2;
    }
    return GeoJSONLineStringGeometry2;
  }();
  var GeoJSONRegion = function(_super) {
    __extends(GeoJSONRegion2, _super);
    function GeoJSONRegion2(name, geometries, cp) {
      var _this = _super.call(this, name) || this;
      _this.type = "geoJSON";
      _this.geometries = geometries;
      _this._center = cp && [cp[0], cp[1]];
      return _this;
    }
    GeoJSONRegion2.prototype.calcCenter = function() {
      var geometries = this.geometries;
      var largestGeo;
      var largestGeoSize = 0;
      for (var i2 = 0; i2 < geometries.length; i2++) {
        var geo = geometries[i2];
        var exterior = geo.exterior;
        var size = exterior && exterior.length;
        if (size > largestGeoSize) {
          largestGeo = geo;
          largestGeoSize = size;
        }
      }
      if (largestGeo) {
        return centroid(largestGeo.exterior);
      }
      var rect = this.getBoundingRect();
      return [rect.x + rect.width / 2, rect.y + rect.height / 2];
    };
    GeoJSONRegion2.prototype.getBoundingRect = function(projection) {
      var rect = this._rect;
      if (rect && !projection) {
        return rect;
      }
      var min3 = [Infinity, Infinity];
      var max3 = [-Infinity, -Infinity];
      var geometries = this.geometries;
      each$3(geometries, function(geo) {
        if (geo.type === "polygon") {
          updateBBoxFromPoints(geo.exterior, min3, max3, projection);
        } else {
          each$3(geo.points, function(points2) {
            updateBBoxFromPoints(points2, min3, max3, projection);
          });
        }
      });
      if (!(isFinite(min3[0]) && isFinite(min3[1]) && isFinite(max3[0]) && isFinite(max3[1]))) {
        min3[0] = min3[1] = max3[0] = max3[1] = 0;
      }
      rect = new BoundingRect$1(min3[0], min3[1], max3[0] - min3[0], max3[1] - min3[1]);
      if (!projection) {
        this._rect = rect;
      }
      return rect;
    };
    GeoJSONRegion2.prototype.contain = function(coord) {
      var rect = this.getBoundingRect();
      var geometries = this.geometries;
      if (!rect.contain(coord[0], coord[1])) {
        return false;
      }
      loopGeo:
        for (var i2 = 0, len2 = geometries.length; i2 < len2; i2++) {
          var geo = geometries[i2];
          if (geo.type !== "polygon") {
            continue;
          }
          var exterior = geo.exterior;
          var interiors = geo.interiors;
          if (contain(exterior, coord[0], coord[1])) {
            for (var k2 = 0; k2 < (interiors ? interiors.length : 0); k2++) {
              if (contain(interiors[k2], coord[0], coord[1])) {
                continue loopGeo;
              }
            }
            return true;
          }
        }
      return false;
    };
    GeoJSONRegion2.prototype.transformTo = function(x2, y, width, height) {
      var rect = this.getBoundingRect();
      var aspect = rect.width / rect.height;
      if (!width) {
        width = aspect * height;
      } else if (!height) {
        height = width / aspect;
      }
      var target = new BoundingRect$1(x2, y, width, height);
      var transform = rect.calculateTransform(target);
      var geometries = this.geometries;
      for (var i2 = 0; i2 < geometries.length; i2++) {
        var geo = geometries[i2];
        if (geo.type === "polygon") {
          transformPoints(geo.exterior, transform);
          each$3(geo.interiors, function(interior) {
            transformPoints(interior, transform);
          });
        } else {
          each$3(geo.points, function(points2) {
            transformPoints(points2, transform);
          });
        }
      }
      rect = this._rect;
      rect.copy(target);
      this._center = [rect.x + rect.width / 2, rect.y + rect.height / 2];
    };
    GeoJSONRegion2.prototype.cloneShallow = function(name) {
      name == null && (name = this.name);
      var newRegion = new GeoJSONRegion2(name, this.geometries, this._center);
      newRegion._rect = this._rect;
      newRegion.transformTo = null;
      return newRegion;
    };
    return GeoJSONRegion2;
  }(Region);
  (function(_super) {
    __extends(GeoSVGRegion, _super);
    function GeoSVGRegion(name, elOnlyForCalculate) {
      var _this = _super.call(this, name) || this;
      _this.type = "geoSVG";
      _this._elOnlyForCalculate = elOnlyForCalculate;
      return _this;
    }
    GeoSVGRegion.prototype.calcCenter = function() {
      var el = this._elOnlyForCalculate;
      var rect = el.getBoundingRect();
      var center2 = [rect.x + rect.width / 2, rect.y + rect.height / 2];
      var mat = identity(TMP_TRANSFORM);
      var target = el;
      while (target && !target.isGeoSVGGraphicRoot) {
        mul(mat, target.getLocalTransform(), mat);
        target = target.parent;
      }
      invert(mat, mat);
      applyTransform$1(center2, center2, mat);
      return center2;
    };
    return GeoSVGRegion;
  })(Region);
  function decode(json) {
    if (!json.UTF8Encoding) {
      return json;
    }
    var jsonCompressed = json;
    var encodeScale = jsonCompressed.UTF8Scale;
    if (encodeScale == null) {
      encodeScale = 1024;
    }
    var features = jsonCompressed.features;
    each$3(features, function(feature) {
      var geometry = feature.geometry;
      var encodeOffsets = geometry.encodeOffsets;
      var coordinates = geometry.coordinates;
      if (!encodeOffsets) {
        return;
      }
      switch (geometry.type) {
        case "LineString":
          geometry.coordinates = decodeRing(coordinates, encodeOffsets, encodeScale);
          break;
        case "Polygon":
          decodeRings(coordinates, encodeOffsets, encodeScale);
          break;
        case "MultiLineString":
          decodeRings(coordinates, encodeOffsets, encodeScale);
          break;
        case "MultiPolygon":
          each$3(coordinates, function(rings, idx) {
            return decodeRings(rings, encodeOffsets[idx], encodeScale);
          });
      }
    });
    jsonCompressed.UTF8Encoding = false;
    return jsonCompressed;
  }
  function decodeRings(rings, encodeOffsets, encodeScale) {
    for (var c2 = 0; c2 < rings.length; c2++) {
      rings[c2] = decodeRing(rings[c2], encodeOffsets[c2], encodeScale);
    }
  }
  function decodeRing(coordinate, encodeOffsets, encodeScale) {
    var result = [];
    var prevX = encodeOffsets[0];
    var prevY = encodeOffsets[1];
    for (var i2 = 0; i2 < coordinate.length; i2 += 2) {
      var x2 = coordinate.charCodeAt(i2) - 64;
      var y = coordinate.charCodeAt(i2 + 1) - 64;
      x2 = x2 >> 1 ^ -(x2 & 1);
      y = y >> 1 ^ -(y & 1);
      x2 += prevX;
      y += prevY;
      prevX = x2;
      prevY = y;
      result.push([x2 / encodeScale, y / encodeScale]);
    }
    return result;
  }
  function parseGeoJSON(geoJson, nameProperty) {
    geoJson = decode(geoJson);
    return map$1(filter(geoJson.features, function(featureObj) {
      return featureObj.geometry && featureObj.properties && featureObj.geometry.coordinates.length > 0;
    }), function(featureObj) {
      var properties = featureObj.properties;
      var geo = featureObj.geometry;
      var geometries = [];
      switch (geo.type) {
        case "Polygon":
          var coordinates = geo.coordinates;
          geometries.push(new GeoJSONPolygonGeometry(coordinates[0], coordinates.slice(1)));
          break;
        case "MultiPolygon":
          each$3(geo.coordinates, function(item) {
            if (item[0]) {
              geometries.push(new GeoJSONPolygonGeometry(item[0], item.slice(1)));
            }
          });
          break;
        case "LineString":
          geometries.push(new GeoJSONLineStringGeometry([geo.coordinates]));
          break;
        case "MultiLineString":
          geometries.push(new GeoJSONLineStringGeometry(geo.coordinates));
      }
      var region = new GeoJSONRegion(properties[nameProperty || "name"], geometries, properties.cp);
      region.properties = properties;
      return region;
    });
  }
  var number = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    linearMap,
    round: round$1,
    asc,
    getPrecision,
    getPrecisionSafe,
    getPixelPrecision,
    getPercentWithPrecision,
    MAX_SAFE_INTEGER,
    remRadian,
    isRadianAroundZero,
    parseDate,
    quantity,
    quantityExponent,
    nice,
    quantile,
    reformIntervals,
    isNumeric,
    numericToNumber
  });
  var time = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    parse: parseDate,
    format: format$1
  });
  var graphic = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    extendShape,
    extendPath,
    makePath,
    makeImage,
    mergePath,
    resizePath,
    createIcon,
    updateProps: updateProps$1,
    initProps,
    getTransform,
    clipPointsByRect,
    clipRectByRect,
    registerShape,
    getShapeClass,
    Group: Group$1,
    Image: ZRImage$1,
    Text: ZRText$1,
    Circle: Circle$1,
    Ellipse: Ellipse$1,
    Sector: Sector$1,
    Ring: Ring$1,
    Polygon: Polygon$1,
    Polyline: Polyline$1,
    Rect: Rect$1,
    Line: Line$1,
    BezierCurve: BezierCurve$1,
    Arc: Arc$1,
    IncrementalDisplayable: IncrementalDisplayable$1,
    CompoundPath: CompoundPath$1,
    LinearGradient: LinearGradient$1,
    RadialGradient: RadialGradient$1,
    BoundingRect: BoundingRect$1
  });
  var format = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    addCommas,
    toCamelCase,
    normalizeCssArray,
    encodeHTML,
    formatTpl,
    getTooltipMarker,
    formatTime,
    capitalFirst,
    truncateText,
    getTextRect
  });
  var util = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    map: map$1,
    each: each$3,
    indexOf,
    inherits,
    reduce,
    filter,
    bind: bind$1,
    curry,
    isArray,
    isString,
    isObject: isObject$2,
    isFunction,
    extend,
    defaults,
    clone: clone$3,
    merge
  });
  var inner$4 = makeInner();
  function createAxisLabels(axis) {
    return axis.type === "category" ? makeCategoryLabels(axis) : makeRealNumberLabels(axis);
  }
  function createAxisTicks(axis, tickModel) {
    return axis.type === "category" ? makeCategoryTicks(axis, tickModel) : {
      ticks: map$1(axis.scale.getTicks(), function(tick) {
        return tick.value;
      })
    };
  }
  function makeCategoryLabels(axis) {
    var labelModel = axis.getLabelModel();
    var result = makeCategoryLabelsActually(axis, labelModel);
    return !labelModel.get("show") || axis.scale.isBlank() ? {
      labels: [],
      labelCategoryInterval: result.labelCategoryInterval
    } : result;
  }
  function makeCategoryLabelsActually(axis, labelModel) {
    var labelsCache = getListCache(axis, "labels");
    var optionLabelInterval = getOptionCategoryInterval(labelModel);
    var result = listCacheGet(labelsCache, optionLabelInterval);
    if (result) {
      return result;
    }
    var labels;
    var numericLabelInterval;
    if (isFunction(optionLabelInterval)) {
      labels = makeLabelsByCustomizedCategoryInterval(axis, optionLabelInterval);
    } else {
      numericLabelInterval = optionLabelInterval === "auto" ? makeAutoCategoryInterval(axis) : optionLabelInterval;
      labels = makeLabelsByNumericCategoryInterval(axis, numericLabelInterval);
    }
    return listCacheSet(labelsCache, optionLabelInterval, {
      labels,
      labelCategoryInterval: numericLabelInterval
    });
  }
  function makeCategoryTicks(axis, tickModel) {
    var ticksCache = getListCache(axis, "ticks");
    var optionTickInterval = getOptionCategoryInterval(tickModel);
    var result = listCacheGet(ticksCache, optionTickInterval);
    if (result) {
      return result;
    }
    var ticks;
    var tickCategoryInterval;
    if (!tickModel.get("show") || axis.scale.isBlank()) {
      ticks = [];
    }
    if (isFunction(optionTickInterval)) {
      ticks = makeLabelsByCustomizedCategoryInterval(axis, optionTickInterval, true);
    } else if (optionTickInterval === "auto") {
      var labelsResult = makeCategoryLabelsActually(axis, axis.getLabelModel());
      tickCategoryInterval = labelsResult.labelCategoryInterval;
      ticks = map$1(labelsResult.labels, function(labelItem) {
        return labelItem.tickValue;
      });
    } else {
      tickCategoryInterval = optionTickInterval;
      ticks = makeLabelsByNumericCategoryInterval(axis, tickCategoryInterval, true);
    }
    return listCacheSet(ticksCache, optionTickInterval, {
      ticks,
      tickCategoryInterval
    });
  }
  function makeRealNumberLabels(axis) {
    var ticks = axis.scale.getTicks();
    var labelFormatter = makeLabelFormatter(axis);
    return {
      labels: map$1(ticks, function(tick, idx) {
        return {
          level: tick.level,
          formattedLabel: labelFormatter(tick, idx),
          rawLabel: axis.scale.getLabel(tick),
          tickValue: tick.value
        };
      })
    };
  }
  function getListCache(axis, prop) {
    return inner$4(axis)[prop] || (inner$4(axis)[prop] = []);
  }
  function listCacheGet(cache, key) {
    for (var i2 = 0; i2 < cache.length; i2++) {
      if (cache[i2].key === key) {
        return cache[i2].value;
      }
    }
  }
  function listCacheSet(cache, key, value) {
    cache.push({
      key,
      value
    });
    return value;
  }
  function makeAutoCategoryInterval(axis) {
    var result = inner$4(axis).autoInterval;
    return result != null ? result : inner$4(axis).autoInterval = axis.calculateCategoryInterval();
  }
  function calculateCategoryInterval(axis) {
    var params = fetchAutoCategoryIntervalCalculationParams(axis);
    var labelFormatter = makeLabelFormatter(axis);
    var rotation = (params.axisRotate - params.labelRotate) / 180 * Math.PI;
    var ordinalScale = axis.scale;
    var ordinalExtent = ordinalScale.getExtent();
    var tickCount = ordinalScale.count();
    if (ordinalExtent[1] - ordinalExtent[0] < 1) {
      return 0;
    }
    var step = 1;
    if (tickCount > 40) {
      step = Math.max(1, Math.floor(tickCount / 40));
    }
    var tickValue = ordinalExtent[0];
    var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);
    var unitW = Math.abs(unitSpan * Math.cos(rotation));
    var unitH = Math.abs(unitSpan * Math.sin(rotation));
    var maxW = 0;
    var maxH = 0;
    for (; tickValue <= ordinalExtent[1]; tickValue += step) {
      var width = 0;
      var height = 0;
      var rect = getBoundingRect(labelFormatter({
        value: tickValue
      }), params.font, "center", "top");
      width = rect.width * 1.3;
      height = rect.height * 1.3;
      maxW = Math.max(maxW, width, 7);
      maxH = Math.max(maxH, height, 7);
    }
    var dw = maxW / unitW;
    var dh = maxH / unitH;
    isNaN(dw) && (dw = Infinity);
    isNaN(dh) && (dh = Infinity);
    var interval = Math.max(0, Math.floor(Math.min(dw, dh)));
    var cache = inner$4(axis.model);
    var axisExtent = axis.getExtent();
    var lastAutoInterval = cache.lastAutoInterval;
    var lastTickCount = cache.lastTickCount;
    if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1 && lastAutoInterval > interval && cache.axisExtent0 === axisExtent[0] && cache.axisExtent1 === axisExtent[1]) {
      interval = lastAutoInterval;
    } else {
      cache.lastTickCount = tickCount;
      cache.lastAutoInterval = interval;
      cache.axisExtent0 = axisExtent[0];
      cache.axisExtent1 = axisExtent[1];
    }
    return interval;
  }
  function fetchAutoCategoryIntervalCalculationParams(axis) {
    var labelModel = axis.getLabelModel();
    return {
      axisRotate: axis.getRotate ? axis.getRotate() : axis.isHorizontal && !axis.isHorizontal() ? 90 : 0,
      labelRotate: labelModel.get("rotate") || 0,
      font: labelModel.getFont()
    };
  }
  function makeLabelsByNumericCategoryInterval(axis, categoryInterval, onlyTick) {
    var labelFormatter = makeLabelFormatter(axis);
    var ordinalScale = axis.scale;
    var ordinalExtent = ordinalScale.getExtent();
    var labelModel = axis.getLabelModel();
    var result = [];
    var step = Math.max((categoryInterval || 0) + 1, 1);
    var startTick = ordinalExtent[0];
    var tickCount = ordinalScale.count();
    if (startTick !== 0 && step > 1 && tickCount / step > 2) {
      startTick = Math.round(Math.ceil(startTick / step) * step);
    }
    var showAllLabel = shouldShowAllLabels(axis);
    var includeMinLabel = labelModel.get("showMinLabel") || showAllLabel;
    var includeMaxLabel = labelModel.get("showMaxLabel") || showAllLabel;
    if (includeMinLabel && startTick !== ordinalExtent[0]) {
      addItem(ordinalExtent[0]);
    }
    var tickValue = startTick;
    for (; tickValue <= ordinalExtent[1]; tickValue += step) {
      addItem(tickValue);
    }
    if (includeMaxLabel && tickValue - step !== ordinalExtent[1]) {
      addItem(ordinalExtent[1]);
    }
    function addItem(tickValue2) {
      var tickObj = {
        value: tickValue2
      };
      result.push(onlyTick ? tickValue2 : {
        formattedLabel: labelFormatter(tickObj),
        rawLabel: ordinalScale.getLabel(tickObj),
        tickValue: tickValue2
      });
    }
    return result;
  }
  function makeLabelsByCustomizedCategoryInterval(axis, categoryInterval, onlyTick) {
    var ordinalScale = axis.scale;
    var labelFormatter = makeLabelFormatter(axis);
    var result = [];
    each$3(ordinalScale.getTicks(), function(tick) {
      var rawLabel = ordinalScale.getLabel(tick);
      var tickValue = tick.value;
      if (categoryInterval(tick.value, rawLabel)) {
        result.push(onlyTick ? tickValue : {
          formattedLabel: labelFormatter(tick),
          rawLabel,
          tickValue
        });
      }
    });
    return result;
  }
  var NORMALIZED_EXTENT = [0, 1];
  var Axis = function() {
    function Axis2(dim, scale2, extent3) {
      this.onBand = false;
      this.inverse = false;
      this.dim = dim;
      this.scale = scale2;
      this._extent = extent3 || [0, 0];
    }
    Axis2.prototype.contain = function(coord) {
      var extent3 = this._extent;
      var min3 = Math.min(extent3[0], extent3[1]);
      var max3 = Math.max(extent3[0], extent3[1]);
      return coord >= min3 && coord <= max3;
    };
    Axis2.prototype.containData = function(data) {
      return this.scale.contain(data);
    };
    Axis2.prototype.getExtent = function() {
      return this._extent.slice();
    };
    Axis2.prototype.getPixelPrecision = function(dataExtent) {
      return getPixelPrecision(dataExtent || this.scale.getExtent(), this._extent);
    };
    Axis2.prototype.setExtent = function(start2, end2) {
      var extent3 = this._extent;
      extent3[0] = start2;
      extent3[1] = end2;
    };
    Axis2.prototype.dataToCoord = function(data, clamp2) {
      var extent3 = this._extent;
      var scale2 = this.scale;
      data = scale2.normalize(data);
      if (this.onBand && scale2.type === "ordinal") {
        extent3 = extent3.slice();
        fixExtentWithBands(extent3, scale2.count());
      }
      return linearMap(data, NORMALIZED_EXTENT, extent3, clamp2);
    };
    Axis2.prototype.coordToData = function(coord, clamp2) {
      var extent3 = this._extent;
      var scale2 = this.scale;
      if (this.onBand && scale2.type === "ordinal") {
        extent3 = extent3.slice();
        fixExtentWithBands(extent3, scale2.count());
      }
      var t2 = linearMap(coord, extent3, NORMALIZED_EXTENT, clamp2);
      return this.scale.scale(t2);
    };
    Axis2.prototype.pointToData = function(point, clamp2) {
      return;
    };
    Axis2.prototype.getTicksCoords = function(opt) {
      opt = opt || {};
      var tickModel = opt.tickModel || this.getTickModel();
      var result = createAxisTicks(this, tickModel);
      var ticks = result.ticks;
      var ticksCoords = map$1(ticks, function(tickVal) {
        return {
          coord: this.dataToCoord(this.scale.type === "ordinal" ? this.scale.getRawOrdinalNumber(tickVal) : tickVal),
          tickValue: tickVal
        };
      }, this);
      var alignWithLabel = tickModel.get("alignWithLabel");
      fixOnBandTicksCoords(this, ticksCoords, alignWithLabel, opt.clamp);
      return ticksCoords;
    };
    Axis2.prototype.getMinorTicksCoords = function() {
      if (this.scale.type === "ordinal") {
        return [];
      }
      var minorTickModel = this.model.getModel("minorTick");
      var splitNumber = minorTickModel.get("splitNumber");
      if (!(splitNumber > 0 && splitNumber < 100)) {
        splitNumber = 5;
      }
      var minorTicks = this.scale.getMinorTicks(splitNumber);
      var minorTicksCoords = map$1(minorTicks, function(minorTicksGroup) {
        return map$1(minorTicksGroup, function(minorTick) {
          return {
            coord: this.dataToCoord(minorTick),
            tickValue: minorTick
          };
        }, this);
      }, this);
      return minorTicksCoords;
    };
    Axis2.prototype.getViewLabels = function() {
      return createAxisLabels(this).labels;
    };
    Axis2.prototype.getLabelModel = function() {
      return this.model.getModel("axisLabel");
    };
    Axis2.prototype.getTickModel = function() {
      return this.model.getModel("axisTick");
    };
    Axis2.prototype.getBandWidth = function() {
      var axisExtent = this._extent;
      var dataExtent = this.scale.getExtent();
      var len2 = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0);
      len2 === 0 && (len2 = 1);
      var size = Math.abs(axisExtent[1] - axisExtent[0]);
      return Math.abs(size) / len2;
    };
    Axis2.prototype.calculateCategoryInterval = function() {
      return calculateCategoryInterval(this);
    };
    return Axis2;
  }();
  function fixExtentWithBands(extent3, nTick) {
    var size = extent3[1] - extent3[0];
    var len2 = nTick;
    var margin = size / len2 / 2;
    extent3[0] += margin;
    extent3[1] -= margin;
  }
  function fixOnBandTicksCoords(axis, ticksCoords, alignWithLabel, clamp2) {
    var ticksLen = ticksCoords.length;
    if (!axis.onBand || alignWithLabel || !ticksLen) {
      return;
    }
    var axisExtent = axis.getExtent();
    var last;
    var diffSize;
    if (ticksLen === 1) {
      ticksCoords[0].coord = axisExtent[0];
      last = ticksCoords[1] = {
        coord: axisExtent[1]
      };
    } else {
      var crossLen = ticksCoords[ticksLen - 1].tickValue - ticksCoords[0].tickValue;
      var shift_1 = (ticksCoords[ticksLen - 1].coord - ticksCoords[0].coord) / crossLen;
      each$3(ticksCoords, function(ticksItem) {
        ticksItem.coord -= shift_1 / 2;
      });
      var dataExtent = axis.scale.getExtent();
      diffSize = 1 + dataExtent[1] - ticksCoords[ticksLen - 1].tickValue;
      last = {
        coord: ticksCoords[ticksLen - 1].coord + shift_1 * diffSize
      };
      ticksCoords.push(last);
    }
    var inverse = axisExtent[0] > axisExtent[1];
    if (littleThan(ticksCoords[0].coord, axisExtent[0])) {
      clamp2 ? ticksCoords[0].coord = axisExtent[0] : ticksCoords.shift();
    }
    if (clamp2 && littleThan(axisExtent[0], ticksCoords[0].coord)) {
      ticksCoords.unshift({
        coord: axisExtent[0]
      });
    }
    if (littleThan(axisExtent[1], last.coord)) {
      clamp2 ? last.coord = axisExtent[1] : ticksCoords.pop();
    }
    if (clamp2 && littleThan(last.coord, axisExtent[1])) {
      ticksCoords.push({
        coord: axisExtent[1]
      });
    }
    function littleThan(a2, b2) {
      a2 = round$1(a2);
      b2 = round$1(b2);
      return inverse ? a2 > b2 : a2 < b2;
    }
  }
  var Axis$1 = Axis;
  function extendComponentModel(proto2) {
    var Model2 = ComponentModel$1.extend(proto2);
    ComponentModel$1.registerClass(Model2);
    return Model2;
  }
  function extendComponentView(proto2) {
    var View = ComponentView$1.extend(proto2);
    ComponentView$1.registerClass(View);
    return View;
  }
  function extendSeriesModel(proto2) {
    var Model2 = SeriesModel$1.extend(proto2);
    SeriesModel$1.registerClass(Model2);
    return Model2;
  }
  function extendChartView(proto2) {
    var View = ChartView$1.extend(proto2);
    ChartView$1.registerClass(View);
    return View;
  }
  function prepareLayoutList(input) {
    var list = [];
    for (var i2 = 0; i2 < input.length; i2++) {
      var rawItem = input[i2];
      if (rawItem.defaultAttr.ignore) {
        continue;
      }
      var label = rawItem.label;
      var transform = label.getComputedTransform();
      var localRect = label.getBoundingRect();
      var isAxisAligned = !transform || transform[1] < 1e-5 && transform[2] < 1e-5;
      var minMargin = label.style.margin || 0;
      var globalRect = localRect.clone();
      globalRect.applyTransform(transform);
      globalRect.x -= minMargin / 2;
      globalRect.y -= minMargin / 2;
      globalRect.width += minMargin;
      globalRect.height += minMargin;
      var obb = isAxisAligned ? new OrientedBoundingRect$1(localRect, transform) : null;
      list.push({
        label,
        labelLine: rawItem.labelLine,
        rect: globalRect,
        localRect,
        obb,
        priority: rawItem.priority,
        defaultAttr: rawItem.defaultAttr,
        layoutOption: rawItem.computedLayoutOption,
        axisAligned: isAxisAligned,
        transform
      });
    }
    return list;
  }
  function hideOverlap(labelList) {
    var displayedLabels = [];
    labelList.sort(function(a2, b2) {
      return b2.priority - a2.priority;
    });
    var globalRect = new BoundingRect$1(0, 0, 0, 0);
    function hideEl(el) {
      if (!el.ignore) {
        var emphasisState = el.ensureState("emphasis");
        if (emphasisState.ignore == null) {
          emphasisState.ignore = false;
        }
      }
      el.ignore = true;
    }
    for (var i2 = 0; i2 < labelList.length; i2++) {
      var labelItem = labelList[i2];
      var isAxisAligned = labelItem.axisAligned;
      var localRect = labelItem.localRect;
      var transform = labelItem.transform;
      var label = labelItem.label;
      var labelLine = labelItem.labelLine;
      globalRect.copy(labelItem.rect);
      globalRect.width -= 0.1;
      globalRect.height -= 0.1;
      globalRect.x += 0.05;
      globalRect.y += 0.05;
      var obb = labelItem.obb;
      var overlapped = false;
      for (var j2 = 0; j2 < displayedLabels.length; j2++) {
        var existsTextCfg = displayedLabels[j2];
        if (!globalRect.intersect(existsTextCfg.rect)) {
          continue;
        }
        if (isAxisAligned && existsTextCfg.axisAligned) {
          overlapped = true;
          break;
        }
        if (!existsTextCfg.obb) {
          existsTextCfg.obb = new OrientedBoundingRect$1(existsTextCfg.localRect, existsTextCfg.transform);
        }
        if (!obb) {
          obb = new OrientedBoundingRect$1(localRect, transform);
        }
        if (obb.intersect(existsTextCfg.obb)) {
          overlapped = true;
          break;
        }
      }
      if (overlapped) {
        hideEl(label);
        labelLine && hideEl(labelLine);
      } else {
        label.attr("ignore", labelItem.defaultAttr.ignore);
        labelLine && labelLine.attr("ignore", labelItem.defaultAttr.labelGuideIgnore);
        displayedLabels.push(labelItem);
      }
    }
  }
  var echarts = /* @__PURE__ */ Object.freeze({
    __proto__: null,
    [Symbol.toStringTag]: "Module",
    registerLocale,
    version,
    dependencies,
    PRIORITY,
    init,
    connect,
    disconnect,
    disConnect,
    dispose,
    getInstanceByDom,
    getInstanceById,
    registerTheme,
    registerPreprocessor,
    registerProcessor,
    registerPostInit,
    registerPostUpdate,
    registerUpdateLifecycle,
    registerAction,
    registerCoordinateSystem,
    getCoordinateSystemDimensions,
    registerLayout,
    registerVisual,
    registerLoading,
    setCanvasCreator,
    registerMap,
    getMap,
    registerTransform,
    dataTool,
    throttle,
    use,
    setPlatformAPI,
    parseGeoJSON,
    parseGeoJson: parseGeoJSON,
    env: env$1,
    Model: Model$1,
    Axis: Axis$1,
    innerDrawElementOnCanvas: brushSingle,
    zrender,
    matrix,
    vector,
    zrUtil: util$1,
    color,
    helper,
    number,
    time,
    graphic,
    format,
    util,
    List: SeriesData$1,
    ComponentModel: ComponentModel$1,
    ComponentView: ComponentView$1,
    SeriesModel: SeriesModel$1,
    ChartView: ChartView$1,
    extendComponentModel,
    extendComponentView,
    extendSeriesModel,
    extendChartView
  });
  var LineSeriesModel = function(_super) {
    __extends(LineSeriesModel2, _super);
    function LineSeriesModel2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = LineSeriesModel2.type;
      _this.hasSymbolVisual = true;
      return _this;
    }
    LineSeriesModel2.prototype.getInitialData = function(option) {
      {
        var coordSys = option.coordinateSystem;
        if (coordSys !== "polar" && coordSys !== "cartesian2d") {
          throw new Error("Line not support coordinateSystem besides cartesian and polar");
        }
      }
      return createSeriesData(null, this, {
        useEncodeDefaulter: true
      });
    };
    LineSeriesModel2.prototype.getLegendIcon = function(opt) {
      var group = new Group$1();
      var line = createSymbol("line", 0, opt.itemHeight / 2, opt.itemWidth, 0, opt.lineStyle.stroke, false);
      group.add(line);
      line.setStyle(opt.lineStyle);
      var visualType = this.getData().getVisual("symbol");
      var visualRotate = this.getData().getVisual("symbolRotate");
      var symbolType = visualType === "none" ? "circle" : visualType;
      var size = opt.itemHeight * 0.8;
      var symbol = createSymbol(symbolType, (opt.itemWidth - size) / 2, (opt.itemHeight - size) / 2, size, size, opt.itemStyle.fill);
      group.add(symbol);
      symbol.setStyle(opt.itemStyle);
      var symbolRotate = opt.iconRotate === "inherit" ? visualRotate : opt.iconRotate || 0;
      symbol.rotation = symbolRotate * Math.PI / 180;
      symbol.setOrigin([opt.itemWidth / 2, opt.itemHeight / 2]);
      if (symbolType.indexOf("empty") > -1) {
        symbol.style.stroke = symbol.style.fill;
        symbol.style.fill = "#fff";
        symbol.style.lineWidth = 2;
      }
      return group;
    };
    LineSeriesModel2.type = "series.line";
    LineSeriesModel2.dependencies = ["grid", "polar"];
    LineSeriesModel2.defaultOption = {
      z: 3,
      coordinateSystem: "cartesian2d",
      legendHoverLink: true,
      clip: true,
      label: {
        position: "top"
      },
      endLabel: {
        show: false,
        valueAnimation: true,
        distance: 8
      },
      lineStyle: {
        width: 2,
        type: "solid"
      },
      emphasis: {
        scale: true
      },
      step: false,
      smooth: false,
      smoothMonotone: null,
      symbol: "emptyCircle",
      symbolSize: 4,
      symbolRotate: null,
      showSymbol: true,
      showAllSymbol: "auto",
      connectNulls: false,
      sampling: "none",
      animationEasing: "linear",
      progressive: 0,
      hoverLayerThreshold: Infinity,
      universalTransition: {
        divideShape: "clone"
      },
      triggerLineEvent: false
    };
    return LineSeriesModel2;
  }(SeriesModel$1);
  var LineSeries = LineSeriesModel;
  function getDefaultLabel(data, dataIndex) {
    var labelDims = data.mapDimensionsAll("defaultedLabel");
    var len2 = labelDims.length;
    if (len2 === 1) {
      var rawVal = retrieveRawValue(data, dataIndex, labelDims[0]);
      return rawVal != null ? rawVal + "" : null;
    } else if (len2) {
      var vals = [];
      for (var i2 = 0; i2 < labelDims.length; i2++) {
        vals.push(retrieveRawValue(data, dataIndex, labelDims[i2]));
      }
      return vals.join(" ");
    }
  }
  function getDefaultInterpolatedLabel(data, interpolatedValue) {
    var labelDims = data.mapDimensionsAll("defaultedLabel");
    if (!isArray(interpolatedValue)) {
      return interpolatedValue + "";
    }
    var vals = [];
    for (var i2 = 0; i2 < labelDims.length; i2++) {
      var dimIndex = data.getDimensionIndex(labelDims[i2]);
      if (dimIndex >= 0) {
        vals.push(interpolatedValue[dimIndex]);
      }
    }
    return vals.join(" ");
  }
  var Symbol$1 = function(_super) {
    __extends(Symbol2, _super);
    function Symbol2(data, idx, seriesScope, opts) {
      var _this = _super.call(this) || this;
      _this.updateData(data, idx, seriesScope, opts);
      return _this;
    }
    Symbol2.prototype._createSymbol = function(symbolType, data, idx, symbolSize, keepAspect) {
      this.removeAll();
      var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, null, keepAspect);
      symbolPath.attr({
        z2: 100,
        culling: true,
        scaleX: symbolSize[0] / 2,
        scaleY: symbolSize[1] / 2
      });
      symbolPath.drift = driftSymbol;
      this._symbolType = symbolType;
      this.add(symbolPath);
    };
    Symbol2.prototype.stopSymbolAnimation = function(toLastFrame) {
      this.childAt(0).stopAnimation(null, toLastFrame);
    };
    Symbol2.prototype.getSymbolType = function() {
      return this._symbolType;
    };
    Symbol2.prototype.getSymbolPath = function() {
      return this.childAt(0);
    };
    Symbol2.prototype.highlight = function() {
      enterEmphasis(this.childAt(0));
    };
    Symbol2.prototype.downplay = function() {
      leaveEmphasis(this.childAt(0));
    };
    Symbol2.prototype.setZ = function(zlevel, z2) {
      var symbolPath = this.childAt(0);
      symbolPath.zlevel = zlevel;
      symbolPath.z = z2;
    };
    Symbol2.prototype.setDraggable = function(draggable, hasCursorOption) {
      var symbolPath = this.childAt(0);
      symbolPath.draggable = draggable;
      symbolPath.cursor = !hasCursorOption && draggable ? "move" : symbolPath.cursor;
    };
    Symbol2.prototype.updateData = function(data, idx, seriesScope, opts) {
      this.silent = false;
      var symbolType = data.getItemVisual(idx, "symbol") || "circle";
      var seriesModel = data.hostModel;
      var symbolSize = Symbol2.getSymbolSize(data, idx);
      var isInit = symbolType !== this._symbolType;
      var disableAnimation = opts && opts.disableAnimation;
      if (isInit) {
        var keepAspect = data.getItemVisual(idx, "symbolKeepAspect");
        this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);
      } else {
        var symbolPath = this.childAt(0);
        symbolPath.silent = false;
        var target = {
          scaleX: symbolSize[0] / 2,
          scaleY: symbolSize[1] / 2
        };
        disableAnimation ? symbolPath.attr(target) : updateProps$1(symbolPath, target, seriesModel, idx);
        saveOldStyle(symbolPath);
      }
      this._updateCommon(data, idx, symbolSize, seriesScope, opts);
      if (isInit) {
        var symbolPath = this.childAt(0);
        if (!disableAnimation) {
          var target = {
            scaleX: this._sizeX,
            scaleY: this._sizeY,
            style: {
              opacity: symbolPath.style.opacity
            }
          };
          symbolPath.scaleX = symbolPath.scaleY = 0;
          symbolPath.style.opacity = 0;
          initProps(symbolPath, target, seriesModel, idx);
        }
      }
      if (disableAnimation) {
        this.childAt(0).stopAnimation("leave");
      }
    };
    Symbol2.prototype._updateCommon = function(data, idx, symbolSize, seriesScope, opts) {
      var symbolPath = this.childAt(0);
      var seriesModel = data.hostModel;
      var emphasisItemStyle;
      var blurItemStyle;
      var selectItemStyle;
      var focus;
      var blurScope;
      var emphasisDisabled;
      var labelStatesModels;
      var hoverScale;
      var cursorStyle;
      if (seriesScope) {
        emphasisItemStyle = seriesScope.emphasisItemStyle;
        blurItemStyle = seriesScope.blurItemStyle;
        selectItemStyle = seriesScope.selectItemStyle;
        focus = seriesScope.focus;
        blurScope = seriesScope.blurScope;
        labelStatesModels = seriesScope.labelStatesModels;
        hoverScale = seriesScope.hoverScale;
        cursorStyle = seriesScope.cursorStyle;
        emphasisDisabled = seriesScope.emphasisDisabled;
      }
      if (!seriesScope || data.hasItemOption) {
        var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx);
        var emphasisModel = itemModel.getModel("emphasis");
        emphasisItemStyle = emphasisModel.getModel("itemStyle").getItemStyle();
        selectItemStyle = itemModel.getModel(["select", "itemStyle"]).getItemStyle();
        blurItemStyle = itemModel.getModel(["blur", "itemStyle"]).getItemStyle();
        focus = emphasisModel.get("focus");
        blurScope = emphasisModel.get("blurScope");
        emphasisDisabled = emphasisModel.get("disabled");
        labelStatesModels = getLabelStatesModels(itemModel);
        hoverScale = emphasisModel.getShallow("scale");
        cursorStyle = itemModel.getShallow("cursor");
      }
      var symbolRotate = data.getItemVisual(idx, "symbolRotate");
      symbolPath.attr("rotation", (symbolRotate || 0) * Math.PI / 180 || 0);
      var symbolOffset = normalizeSymbolOffset(data.getItemVisual(idx, "symbolOffset"), symbolSize);
      if (symbolOffset) {
        symbolPath.x = symbolOffset[0];
        symbolPath.y = symbolOffset[1];
      }
      cursorStyle && symbolPath.attr("cursor", cursorStyle);
      var symbolStyle = data.getItemVisual(idx, "style");
      var visualColor = symbolStyle.fill;
      if (symbolPath instanceof ZRImage$1) {
        var pathStyle = symbolPath.style;
        symbolPath.useStyle(extend({
          image: pathStyle.image,
          x: pathStyle.x,
          y: pathStyle.y,
          width: pathStyle.width,
          height: pathStyle.height
        }, symbolStyle));
      } else {
        if (symbolPath.__isEmptyBrush) {
          symbolPath.useStyle(extend({}, symbolStyle));
        } else {
          symbolPath.useStyle(symbolStyle);
        }
        symbolPath.style.decal = null;
        symbolPath.setColor(visualColor, opts && opts.symbolInnerColor);
        symbolPath.style.strokeNoScale = true;
      }
      var liftZ = data.getItemVisual(idx, "liftZ");
      var z2Origin = this._z2;
      if (liftZ != null) {
        if (z2Origin == null) {
          this._z2 = symbolPath.z2;
          symbolPath.z2 += liftZ;
        }
      } else if (z2Origin != null) {
        symbolPath.z2 = z2Origin;
        this._z2 = null;
      }
      var useNameLabel = opts && opts.useNameLabel;
      setLabelStyle(symbolPath, labelStatesModels, {
        labelFetcher: seriesModel,
        labelDataIndex: idx,
        defaultText: getLabelDefaultText,
        inheritColor: visualColor,
        defaultOpacity: symbolStyle.opacity
      });
      function getLabelDefaultText(idx2) {
        return useNameLabel ? data.getName(idx2) : getDefaultLabel(data, idx2);
      }
      this._sizeX = symbolSize[0] / 2;
      this._sizeY = symbolSize[1] / 2;
      var emphasisState = symbolPath.ensureState("emphasis");
      emphasisState.style = emphasisItemStyle;
      symbolPath.ensureState("select").style = selectItemStyle;
      symbolPath.ensureState("blur").style = blurItemStyle;
      var scaleRatio = hoverScale == null || hoverScale === true ? Math.max(1.1, 3 / this._sizeY) : isFinite(hoverScale) && hoverScale > 0 ? +hoverScale : 1;
      emphasisState.scaleX = this._sizeX * scaleRatio;
      emphasisState.scaleY = this._sizeY * scaleRatio;
      this.setSymbolScale(1);
      toggleHoverEmphasis(this, focus, blurScope, emphasisDisabled);
    };
    Symbol2.prototype.setSymbolScale = function(scale2) {
      this.scaleX = this.scaleY = scale2;
    };
    Symbol2.prototype.fadeOut = function(cb, seriesModel, opt) {
      var symbolPath = this.childAt(0);
      var dataIndex = getECData(this).dataIndex;
      var animationOpt = opt && opt.animation;
      this.silent = symbolPath.silent = true;
      if (opt && opt.fadeLabel) {
        var textContent = symbolPath.getTextContent();
        if (textContent) {
          removeElement(textContent, {
            style: {
              opacity: 0
            }
          }, seriesModel, {
            dataIndex,
            removeOpt: animationOpt,
            cb: function() {
              symbolPath.removeTextContent();
            }
          });
        }
      } else {
        symbolPath.removeTextContent();
      }
      removeElement(symbolPath, {
        style: {
          opacity: 0
        },
        scaleX: 0,
        scaleY: 0
      }, seriesModel, {
        dataIndex,
        cb,
        removeOpt: animationOpt
      });
    };
    Symbol2.getSymbolSize = function(data, idx) {
      return normalizeSymbolSize(data.getItemVisual(idx, "symbolSize"));
    };
    return Symbol2;
  }(Group$1);
  function driftSymbol(dx, dy) {
    this.parent.drift(dx, dy);
  }
  var SymbolClz = Symbol$1;
  function symbolNeedsDraw(data, point, idx, opt) {
    return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, "symbol") !== "none";
  }
  function normalizeUpdateOpt(opt) {
    if (opt != null && !isObject$2(opt)) {
      opt = {
        isIgnore: opt
      };
    }
    return opt || {};
  }
  function makeSeriesScope(data) {
    var seriesModel = data.hostModel;
    var emphasisModel = seriesModel.getModel("emphasis");
    return {
      emphasisItemStyle: emphasisModel.getModel("itemStyle").getItemStyle(),
      blurItemStyle: seriesModel.getModel(["blur", "itemStyle"]).getItemStyle(),
      selectItemStyle: seriesModel.getModel(["select", "itemStyle"]).getItemStyle(),
      focus: emphasisModel.get("focus"),
      blurScope: emphasisModel.get("blurScope"),
      emphasisDisabled: emphasisModel.get("disabled"),
      hoverScale: emphasisModel.get("scale"),
      labelStatesModels: getLabelStatesModels(seriesModel),
      cursorStyle: seriesModel.get("cursor")
    };
  }
  var SymbolDraw = function() {
    function SymbolDraw2(SymbolCtor) {
      this.group = new Group$1();
      this._SymbolCtor = SymbolCtor || SymbolClz;
    }
    SymbolDraw2.prototype.updateData = function(data, opt) {
      this._progressiveEls = null;
      opt = normalizeUpdateOpt(opt);
      var group = this.group;
      var seriesModel = data.hostModel;
      var oldData = this._data;
      var SymbolCtor = this._SymbolCtor;
      var disableAnimation = opt.disableAnimation;
      var seriesScope = makeSeriesScope(data);
      var symbolUpdateOpt = {
        disableAnimation
      };
      var getSymbolPoint = opt.getSymbolPoint || function(idx) {
        return data.getItemLayout(idx);
      };
      if (!oldData) {
        group.removeAll();
      }
      data.diff(oldData).add(function(newIdx) {
        var point = getSymbolPoint(newIdx);
        if (symbolNeedsDraw(data, point, newIdx, opt)) {
          var symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);
          symbolEl.setPosition(point);
          data.setItemGraphicEl(newIdx, symbolEl);
          group.add(symbolEl);
        }
      }).update(function(newIdx, oldIdx) {
        var symbolEl = oldData.getItemGraphicEl(oldIdx);
        var point = getSymbolPoint(newIdx);
        if (!symbolNeedsDraw(data, point, newIdx, opt)) {
          group.remove(symbolEl);
          return;
        }
        var newSymbolType = data.getItemVisual(newIdx, "symbol") || "circle";
        var oldSymbolType = symbolEl && symbolEl.getSymbolType && symbolEl.getSymbolType();
        if (!symbolEl || oldSymbolType && oldSymbolType !== newSymbolType) {
          group.remove(symbolEl);
          symbolEl = new SymbolCtor(data, newIdx, seriesScope, symbolUpdateOpt);
          symbolEl.setPosition(point);
        } else {
          symbolEl.updateData(data, newIdx, seriesScope, symbolUpdateOpt);
          var target = {
            x: point[0],
            y: point[1]
          };
          disableAnimation ? symbolEl.attr(target) : updateProps$1(symbolEl, target, seriesModel);
        }
        group.add(symbolEl);
        data.setItemGraphicEl(newIdx, symbolEl);
      }).remove(function(oldIdx) {
        var el = oldData.getItemGraphicEl(oldIdx);
        el && el.fadeOut(function() {
          group.remove(el);
        }, seriesModel);
      }).execute();
      this._getSymbolPoint = getSymbolPoint;
      this._data = data;
    };
    SymbolDraw2.prototype.updateLayout = function() {
      var _this = this;
      var data = this._data;
      if (data) {
        data.eachItemGraphicEl(function(el, idx) {
          var point = _this._getSymbolPoint(idx);
          el.setPosition(point);
          el.markRedraw();
        });
      }
    };
    SymbolDraw2.prototype.incrementalPrepareUpdate = function(data) {
      this._seriesScope = makeSeriesScope(data);
      this._data = null;
      this.group.removeAll();
    };
    SymbolDraw2.prototype.incrementalUpdate = function(taskParams, data, opt) {
      this._progressiveEls = [];
      opt = normalizeUpdateOpt(opt);
      function updateIncrementalAndHover(el2) {
        if (!el2.isGroup) {
          el2.incremental = true;
          el2.ensureState("emphasis").hoverLayer = true;
        }
      }
      for (var idx = taskParams.start; idx < taskParams.end; idx++) {
        var point = data.getItemLayout(idx);
        if (symbolNeedsDraw(data, point, idx, opt)) {
          var el = new this._SymbolCtor(data, idx, this._seriesScope);
          el.traverse(updateIncrementalAndHover);
          el.setPosition(point);
          this.group.add(el);
          data.setItemGraphicEl(idx, el);
          this._progressiveEls.push(el);
        }
      }
    };
    SymbolDraw2.prototype.eachRendered = function(cb) {
      traverseElements(this._progressiveEls || this.group, cb);
    };
    SymbolDraw2.prototype.remove = function(enableAnimation) {
      var group = this.group;
      var data = this._data;
      if (data && enableAnimation) {
        data.eachItemGraphicEl(function(el) {
          el.fadeOut(function() {
            group.remove(el);
          }, data.hostModel);
        });
      } else {
        group.removeAll();
      }
    };
    return SymbolDraw2;
  }();
  var SymbolDraw$1 = SymbolDraw;
  function prepareDataCoordInfo(coordSys, data, valueOrigin) {
    var baseAxis = coordSys.getBaseAxis();
    var valueAxis2 = coordSys.getOtherAxis(baseAxis);
    var valueStart = getValueStart(valueAxis2, valueOrigin);
    var baseAxisDim = baseAxis.dim;
    var valueAxisDim = valueAxis2.dim;
    var valueDim = data.mapDimension(valueAxisDim);
    var baseDim = data.mapDimension(baseAxisDim);
    var baseDataOffset = valueAxisDim === "x" || valueAxisDim === "radius" ? 1 : 0;
    var dims = map$1(coordSys.dimensions, function(coordDim) {
      return data.mapDimension(coordDim);
    });
    var stacked = false;
    var stackResultDim = data.getCalculationInfo("stackResultDimension");
    if (isDimensionStacked(data, dims[0])) {
      stacked = true;
      dims[0] = stackResultDim;
    }
    if (isDimensionStacked(data, dims[1])) {
      stacked = true;
      dims[1] = stackResultDim;
    }
    return {
      dataDimsForPoint: dims,
      valueStart,
      valueAxisDim,
      baseAxisDim,
      stacked: !!stacked,
      valueDim,
      baseDim,
      baseDataOffset,
      stackedOverDimension: data.getCalculationInfo("stackedOverDimension")
    };
  }
  function getValueStart(valueAxis2, valueOrigin) {
    var valueStart = 0;
    var extent3 = valueAxis2.scale.getExtent();
    if (valueOrigin === "start") {
      valueStart = extent3[0];
    } else if (valueOrigin === "end") {
      valueStart = extent3[1];
    } else if (isNumber(valueOrigin) && !isNaN(valueOrigin)) {
      valueStart = valueOrigin;
    } else {
      if (extent3[0] > 0) {
        valueStart = extent3[0];
      } else if (extent3[1] < 0) {
        valueStart = extent3[1];
      }
    }
    return valueStart;
  }
  function getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {
    var value = NaN;
    if (dataCoordInfo.stacked) {
      value = data.get(data.getCalculationInfo("stackedOverDimension"), idx);
    }
    if (isNaN(value)) {
      value = dataCoordInfo.valueStart;
    }
    var baseDataOffset = dataCoordInfo.baseDataOffset;
    var stackedData = [];
    stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);
    stackedData[1 - baseDataOffset] = value;
    return coordSys.dataToPoint(stackedData);
  }
  function diffData(oldData, newData) {
    var diffResult = [];
    newData.diff(oldData).add(function(idx) {
      diffResult.push({
        cmd: "+",
        idx
      });
    }).update(function(newIdx, oldIdx) {
      diffResult.push({
        cmd: "=",
        idx: oldIdx,
        idx1: newIdx
      });
    }).remove(function(idx) {
      diffResult.push({
        cmd: "-",
        idx
      });
    }).execute();
    return diffResult;
  }
  function lineAnimationDiff(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {
    var diff = diffData(oldData, newData);
    var currPoints = [];
    var nextPoints = [];
    var currStackedPoints = [];
    var nextStackedPoints = [];
    var status = [];
    var sortedIndices = [];
    var rawIndices = [];
    var newDataOldCoordInfo = prepareDataCoordInfo(oldCoordSys, newData, oldValueOrigin);
    var oldPoints = oldData.getLayout("points") || [];
    var newPoints = newData.getLayout("points") || [];
    for (var i2 = 0; i2 < diff.length; i2++) {
      var diffItem = diff[i2];
      var pointAdded = true;
      var oldIdx2 = void 0;
      var newIdx2 = void 0;
      switch (diffItem.cmd) {
        case "=":
          oldIdx2 = diffItem.idx * 2;
          newIdx2 = diffItem.idx1 * 2;
          var currentX = oldPoints[oldIdx2];
          var currentY = oldPoints[oldIdx2 + 1];
          var nextX = newPoints[newIdx2];
          var nextY = newPoints[newIdx2 + 1];
          if (isNaN(currentX) || isNaN(currentY)) {
            currentX = nextX;
            currentY = nextY;
          }
          currPoints.push(currentX, currentY);
          nextPoints.push(nextX, nextY);
          currStackedPoints.push(oldStackedOnPoints[oldIdx2], oldStackedOnPoints[oldIdx2 + 1]);
          nextStackedPoints.push(newStackedOnPoints[newIdx2], newStackedOnPoints[newIdx2 + 1]);
          rawIndices.push(newData.getRawIndex(diffItem.idx1));
          break;
        case "+":
          var newIdx = diffItem.idx;
          var newDataDimsForPoint = newDataOldCoordInfo.dataDimsForPoint;
          var oldPt = oldCoordSys.dataToPoint([newData.get(newDataDimsForPoint[0], newIdx), newData.get(newDataDimsForPoint[1], newIdx)]);
          newIdx2 = newIdx * 2;
          currPoints.push(oldPt[0], oldPt[1]);
          nextPoints.push(newPoints[newIdx2], newPoints[newIdx2 + 1]);
          var stackedOnPoint = getStackedOnPoint(newDataOldCoordInfo, oldCoordSys, newData, newIdx);
          currStackedPoints.push(stackedOnPoint[0], stackedOnPoint[1]);
          nextStackedPoints.push(newStackedOnPoints[newIdx2], newStackedOnPoints[newIdx2 + 1]);
          rawIndices.push(newData.getRawIndex(newIdx));
          break;
        case "-":
          pointAdded = false;
      }
      if (pointAdded) {
        status.push(diffItem);
        sortedIndices.push(sortedIndices.length);
      }
    }
    sortedIndices.sort(function(a2, b2) {
      return rawIndices[a2] - rawIndices[b2];
    });
    var len2 = currPoints.length;
    var sortedCurrPoints = createFloat32Array(len2);
    var sortedNextPoints = createFloat32Array(len2);
    var sortedCurrStackedPoints = createFloat32Array(len2);
    var sortedNextStackedPoints = createFloat32Array(len2);
    var sortedStatus = [];
    for (var i2 = 0; i2 < sortedIndices.length; i2++) {
      var idx = sortedIndices[i2];
      var i22 = i2 * 2;
      var idx2 = idx * 2;
      sortedCurrPoints[i22] = currPoints[idx2];
      sortedCurrPoints[i22 + 1] = currPoints[idx2 + 1];
      sortedNextPoints[i22] = nextPoints[idx2];
      sortedNextPoints[i22 + 1] = nextPoints[idx2 + 1];
      sortedCurrStackedPoints[i22] = currStackedPoints[idx2];
      sortedCurrStackedPoints[i22 + 1] = currStackedPoints[idx2 + 1];
      sortedNextStackedPoints[i22] = nextStackedPoints[idx2];
      sortedNextStackedPoints[i22 + 1] = nextStackedPoints[idx2 + 1];
      sortedStatus[i2] = status[idx];
    }
    return {
      current: sortedCurrPoints,
      next: sortedNextPoints,
      stackedOnCurrent: sortedCurrStackedPoints,
      stackedOnNext: sortedNextStackedPoints,
      status: sortedStatus
    };
  }
  var mathMin = Math.min;
  var mathMax = Math.max;
  function isPointNull$1(x2, y) {
    return isNaN(x2) || isNaN(y);
  }
  function drawSegment(ctx, points2, start2, segLen, allLen, dir, smooth, smoothMonotone, connectNulls) {
    var prevX;
    var prevY;
    var cpx0;
    var cpy0;
    var cpx1;
    var cpy1;
    var idx = start2;
    var k2 = 0;
    for (; k2 < segLen; k2++) {
      var x2 = points2[idx * 2];
      var y = points2[idx * 2 + 1];
      if (idx >= allLen || idx < 0) {
        break;
      }
      if (isPointNull$1(x2, y)) {
        if (connectNulls) {
          idx += dir;
          continue;
        }
        break;
      }
      if (idx === start2) {
        ctx[dir > 0 ? "moveTo" : "lineTo"](x2, y);
        cpx0 = x2;
        cpy0 = y;
      } else {
        var dx = x2 - prevX;
        var dy = y - prevY;
        if (dx * dx + dy * dy < 0.5) {
          idx += dir;
          continue;
        }
        if (smooth > 0) {
          var nextIdx = idx + dir;
          var nextX = points2[nextIdx * 2];
          var nextY = points2[nextIdx * 2 + 1];
          while (nextX === x2 && nextY === y && k2 < segLen) {
            k2++;
            nextIdx += dir;
            idx += dir;
            nextX = points2[nextIdx * 2];
            nextY = points2[nextIdx * 2 + 1];
            x2 = points2[idx * 2];
            y = points2[idx * 2 + 1];
            dx = x2 - prevX;
            dy = y - prevY;
          }
          var tmpK = k2 + 1;
          if (connectNulls) {
            while (isPointNull$1(nextX, nextY) && tmpK < segLen) {
              tmpK++;
              nextIdx += dir;
              nextX = points2[nextIdx * 2];
              nextY = points2[nextIdx * 2 + 1];
            }
          }
          var ratioNextSeg = 0.5;
          var vx = 0;
          var vy = 0;
          var nextCpx0 = void 0;
          var nextCpy0 = void 0;
          if (tmpK >= segLen || isPointNull$1(nextX, nextY)) {
            cpx1 = x2;
            cpy1 = y;
          } else {
            vx = nextX - prevX;
            vy = nextY - prevY;
            var dx0 = x2 - prevX;
            var dx1 = nextX - x2;
            var dy0 = y - prevY;
            var dy1 = nextY - y;
            var lenPrevSeg = void 0;
            var lenNextSeg = void 0;
            if (smoothMonotone === "x") {
              lenPrevSeg = Math.abs(dx0);
              lenNextSeg = Math.abs(dx1);
              var dir_1 = vx > 0 ? 1 : -1;
              cpx1 = x2 - dir_1 * lenPrevSeg * smooth;
              cpy1 = y;
              nextCpx0 = x2 + dir_1 * lenNextSeg * smooth;
              nextCpy0 = y;
            } else if (smoothMonotone === "y") {
              lenPrevSeg = Math.abs(dy0);
              lenNextSeg = Math.abs(dy1);
              var dir_2 = vy > 0 ? 1 : -1;
              cpx1 = x2;
              cpy1 = y - dir_2 * lenPrevSeg * smooth;
              nextCpx0 = x2;
              nextCpy0 = y + dir_2 * lenNextSeg * smooth;
            } else {
              lenPrevSeg = Math.sqrt(dx0 * dx0 + dy0 * dy0);
              lenNextSeg = Math.sqrt(dx1 * dx1 + dy1 * dy1);
              ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);
              cpx1 = x2 - vx * smooth * (1 - ratioNextSeg);
              cpy1 = y - vy * smooth * (1 - ratioNextSeg);
              nextCpx0 = x2 + vx * smooth * ratioNextSeg;
              nextCpy0 = y + vy * smooth * ratioNextSeg;
              nextCpx0 = mathMin(nextCpx0, mathMax(nextX, x2));
              nextCpy0 = mathMin(nextCpy0, mathMax(nextY, y));
              nextCpx0 = mathMax(nextCpx0, mathMin(nextX, x2));
              nextCpy0 = mathMax(nextCpy0, mathMin(nextY, y));
              vx = nextCpx0 - x2;
              vy = nextCpy0 - y;
              cpx1 = x2 - vx * lenPrevSeg / lenNextSeg;
              cpy1 = y - vy * lenPrevSeg / lenNextSeg;
              cpx1 = mathMin(cpx1, mathMax(prevX, x2));
              cpy1 = mathMin(cpy1, mathMax(prevY, y));
              cpx1 = mathMax(cpx1, mathMin(prevX, x2));
              cpy1 = mathMax(cpy1, mathMin(prevY, y));
              vx = x2 - cpx1;
              vy = y - cpy1;
              nextCpx0 = x2 + vx * lenNextSeg / lenPrevSeg;
              nextCpy0 = y + vy * lenNextSeg / lenPrevSeg;
            }
          }
          ctx.bezierCurveTo(cpx0, cpy0, cpx1, cpy1, x2, y);
          cpx0 = nextCpx0;
          cpy0 = nextCpy0;
        } else {
          ctx.lineTo(x2, y);
        }
      }
      prevX = x2;
      prevY = y;
      idx += dir;
    }
    return k2;
  }
  var ECPolylineShape = function() {
    function ECPolylineShape2() {
      this.smooth = 0;
      this.smoothConstraint = true;
    }
    return ECPolylineShape2;
  }();
  var ECPolyline = function(_super) {
    __extends(ECPolyline2, _super);
    function ECPolyline2(opts) {
      var _this = _super.call(this, opts) || this;
      _this.type = "ec-polyline";
      return _this;
    }
    ECPolyline2.prototype.getDefaultStyle = function() {
      return {
        stroke: "#000",
        fill: null
      };
    };
    ECPolyline2.prototype.getDefaultShape = function() {
      return new ECPolylineShape();
    };
    ECPolyline2.prototype.buildPath = function(ctx, shape) {
      var points2 = shape.points;
      var i2 = 0;
      var len2 = points2.length / 2;
      if (shape.connectNulls) {
        for (; len2 > 0; len2--) {
          if (!isPointNull$1(points2[len2 * 2 - 2], points2[len2 * 2 - 1])) {
            break;
          }
        }
        for (; i2 < len2; i2++) {
          if (!isPointNull$1(points2[i2 * 2], points2[i2 * 2 + 1])) {
            break;
          }
        }
      }
      while (i2 < len2) {
        i2 += drawSegment(ctx, points2, i2, len2, len2, 1, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;
      }
    };
    ECPolyline2.prototype.getPointOn = function(xOrY, dim) {
      if (!this.path) {
        this.createPathProxy();
        this.buildPath(this.path, this.shape);
      }
      var path = this.path;
      var data = path.data;
      var CMD2 = PathProxy$1.CMD;
      var x0;
      var y0;
      var isDimX = dim === "x";
      var roots2 = [];
      for (var i2 = 0; i2 < data.length; ) {
        var cmd = data[i2++];
        var x2 = void 0;
        var y = void 0;
        var x22 = void 0;
        var y2 = void 0;
        var x3 = void 0;
        var y3 = void 0;
        var t2 = void 0;
        switch (cmd) {
          case CMD2.M:
            x0 = data[i2++];
            y0 = data[i2++];
            break;
          case CMD2.L:
            x2 = data[i2++];
            y = data[i2++];
            t2 = isDimX ? (xOrY - x0) / (x2 - x0) : (xOrY - y0) / (y - y0);
            if (t2 <= 1 && t2 >= 0) {
              var val = isDimX ? (y - y0) * t2 + y0 : (x2 - x0) * t2 + x0;
              return isDimX ? [xOrY, val] : [val, xOrY];
            }
            x0 = x2;
            y0 = y;
            break;
          case CMD2.C:
            x2 = data[i2++];
            y = data[i2++];
            x22 = data[i2++];
            y2 = data[i2++];
            x3 = data[i2++];
            y3 = data[i2++];
            var nRoot = isDimX ? cubicRootAt(x0, x2, x22, x3, xOrY, roots2) : cubicRootAt(y0, y, y2, y3, xOrY, roots2);
            if (nRoot > 0) {
              for (var i_1 = 0; i_1 < nRoot; i_1++) {
                var t_1 = roots2[i_1];
                if (t_1 <= 1 && t_1 >= 0) {
                  var val = isDimX ? cubicAt(y0, y, y2, y3, t_1) : cubicAt(x0, x2, x22, x3, t_1);
                  return isDimX ? [xOrY, val] : [val, xOrY];
                }
              }
            }
            x0 = x3;
            y0 = y3;
            break;
        }
      }
    };
    return ECPolyline2;
  }(Path$1);
  var ECPolygonShape = function(_super) {
    __extends(ECPolygonShape2, _super);
    function ECPolygonShape2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    return ECPolygonShape2;
  }(ECPolylineShape);
  var ECPolygon = function(_super) {
    __extends(ECPolygon2, _super);
    function ECPolygon2(opts) {
      var _this = _super.call(this, opts) || this;
      _this.type = "ec-polygon";
      return _this;
    }
    ECPolygon2.prototype.getDefaultShape = function() {
      return new ECPolygonShape();
    };
    ECPolygon2.prototype.buildPath = function(ctx, shape) {
      var points2 = shape.points;
      var stackedOnPoints = shape.stackedOnPoints;
      var i2 = 0;
      var len2 = points2.length / 2;
      var smoothMonotone = shape.smoothMonotone;
      if (shape.connectNulls) {
        for (; len2 > 0; len2--) {
          if (!isPointNull$1(points2[len2 * 2 - 2], points2[len2 * 2 - 1])) {
            break;
          }
        }
        for (; i2 < len2; i2++) {
          if (!isPointNull$1(points2[i2 * 2], points2[i2 * 2 + 1])) {
            break;
          }
        }
      }
      while (i2 < len2) {
        var k2 = drawSegment(ctx, points2, i2, len2, len2, 1, shape.smooth, smoothMonotone, shape.connectNulls);
        drawSegment(ctx, stackedOnPoints, i2 + k2 - 1, k2, len2, -1, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);
        i2 += k2 + 1;
        ctx.closePath();
      }
    };
    return ECPolygon2;
  }(Path$1);
  function createGridClipPath(cartesian, hasAnimation, seriesModel, done, during) {
    var rect = cartesian.getArea();
    var x2 = rect.x;
    var y = rect.y;
    var width = rect.width;
    var height = rect.height;
    var lineWidth = seriesModel.get(["lineStyle", "width"]) || 2;
    x2 -= lineWidth / 2;
    y -= lineWidth / 2;
    width += lineWidth;
    height += lineWidth;
    x2 = Math.floor(x2);
    width = Math.round(width);
    var clipPath = new Rect$1({
      shape: {
        x: x2,
        y,
        width,
        height
      }
    });
    if (hasAnimation) {
      var baseAxis = cartesian.getBaseAxis();
      var isHorizontal = baseAxis.isHorizontal();
      var isAxisInversed = baseAxis.inverse;
      if (isHorizontal) {
        if (isAxisInversed) {
          clipPath.shape.x += width;
        }
        clipPath.shape.width = 0;
      } else {
        if (!isAxisInversed) {
          clipPath.shape.y += height;
        }
        clipPath.shape.height = 0;
      }
      var duringCb = isFunction(during) ? function(percent) {
        during(percent, clipPath);
      } : null;
      initProps(clipPath, {
        shape: {
          width,
          height,
          x: x2,
          y
        }
      }, seriesModel, null, done, duringCb);
    }
    return clipPath;
  }
  function createPolarClipPath(polar, hasAnimation, seriesModel) {
    var sectorArea = polar.getArea();
    var r0 = round$1(sectorArea.r0, 1);
    var r2 = round$1(sectorArea.r, 1);
    var clipPath = new Sector$1({
      shape: {
        cx: round$1(polar.cx, 1),
        cy: round$1(polar.cy, 1),
        r0,
        r: r2,
        startAngle: sectorArea.startAngle,
        endAngle: sectorArea.endAngle,
        clockwise: sectorArea.clockwise
      }
    });
    if (hasAnimation) {
      var isRadial = polar.getBaseAxis().dim === "angle";
      if (isRadial) {
        clipPath.shape.endAngle = sectorArea.startAngle;
      } else {
        clipPath.shape.r = r0;
      }
      initProps(clipPath, {
        shape: {
          endAngle: sectorArea.endAngle,
          r: r2
        }
      }, seriesModel);
    }
    return clipPath;
  }
  function isCoordinateSystemType(coordSys, type) {
    return coordSys.type === type;
  }
  function isPointsSame(points1, points2) {
    if (points1.length !== points2.length) {
      return;
    }
    for (var i2 = 0; i2 < points1.length; i2++) {
      if (points1[i2] !== points2[i2]) {
        return;
      }
    }
    return true;
  }
  function bboxFromPoints(points2) {
    var minX = Infinity;
    var minY = Infinity;
    var maxX = -Infinity;
    var maxY = -Infinity;
    for (var i2 = 0; i2 < points2.length; ) {
      var x2 = points2[i2++];
      var y = points2[i2++];
      if (!isNaN(x2)) {
        minX = Math.min(x2, minX);
        maxX = Math.max(x2, maxX);
      }
      if (!isNaN(y)) {
        minY = Math.min(y, minY);
        maxY = Math.max(y, maxY);
      }
    }
    return [[minX, minY], [maxX, maxY]];
  }
  function getBoundingDiff(points1, points2) {
    var _a2 = bboxFromPoints(points1), min1 = _a2[0], max1 = _a2[1];
    var _b2 = bboxFromPoints(points2), min22 = _b2[0], max22 = _b2[1];
    return Math.max(Math.abs(min1[0] - min22[0]), Math.abs(min1[1] - min22[1]), Math.abs(max1[0] - max22[0]), Math.abs(max1[1] - max22[1]));
  }
  function getSmooth(smooth) {
    return isNumber(smooth) ? smooth : smooth ? 0.5 : 0;
  }
  function getStackedOnPoints(coordSys, data, dataCoordInfo) {
    if (!dataCoordInfo.valueDim) {
      return [];
    }
    var len2 = data.count();
    var points2 = createFloat32Array(len2 * 2);
    for (var idx = 0; idx < len2; idx++) {
      var pt2 = getStackedOnPoint(dataCoordInfo, coordSys, data, idx);
      points2[idx * 2] = pt2[0];
      points2[idx * 2 + 1] = pt2[1];
    }
    return points2;
  }
  function turnPointsIntoStep(points2, coordSys, stepTurnAt, connectNulls) {
    var baseAxis = coordSys.getBaseAxis();
    var baseIndex = baseAxis.dim === "x" || baseAxis.dim === "radius" ? 0 : 1;
    var stepPoints = [];
    var i2 = 0;
    var stepPt = [];
    var pt2 = [];
    var nextPt = [];
    var filteredPoints = [];
    if (connectNulls) {
      for (i2 = 0; i2 < points2.length; i2 += 2) {
        if (!isNaN(points2[i2]) && !isNaN(points2[i2 + 1])) {
          filteredPoints.push(points2[i2], points2[i2 + 1]);
        }
      }
      points2 = filteredPoints;
    }
    for (i2 = 0; i2 < points2.length - 2; i2 += 2) {
      nextPt[0] = points2[i2 + 2];
      nextPt[1] = points2[i2 + 3];
      pt2[0] = points2[i2];
      pt2[1] = points2[i2 + 1];
      stepPoints.push(pt2[0], pt2[1]);
      switch (stepTurnAt) {
        case "end":
          stepPt[baseIndex] = nextPt[baseIndex];
          stepPt[1 - baseIndex] = pt2[1 - baseIndex];
          stepPoints.push(stepPt[0], stepPt[1]);
          break;
        case "middle":
          var middle = (pt2[baseIndex] + nextPt[baseIndex]) / 2;
          var stepPt2 = [];
          stepPt[baseIndex] = stepPt2[baseIndex] = middle;
          stepPt[1 - baseIndex] = pt2[1 - baseIndex];
          stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];
          stepPoints.push(stepPt[0], stepPt[1]);
          stepPoints.push(stepPt2[0], stepPt2[1]);
          break;
        default:
          stepPt[baseIndex] = pt2[baseIndex];
          stepPt[1 - baseIndex] = nextPt[1 - baseIndex];
          stepPoints.push(stepPt[0], stepPt[1]);
      }
    }
    stepPoints.push(points2[i2++], points2[i2++]);
    return stepPoints;
  }
  function clipColorStops(colorStops, maxSize) {
    var newColorStops = [];
    var len2 = colorStops.length;
    var prevOutOfRangeColorStop;
    var prevInRangeColorStop;
    function lerpStop(stop0, stop1, clippedCoord) {
      var coord0 = stop0.coord;
      var p2 = (clippedCoord - coord0) / (stop1.coord - coord0);
      var color2 = lerp(p2, [stop0.color, stop1.color]);
      return {
        coord: clippedCoord,
        color: color2
      };
    }
    for (var i2 = 0; i2 < len2; i2++) {
      var stop_1 = colorStops[i2];
      var coord = stop_1.coord;
      if (coord < 0) {
        prevOutOfRangeColorStop = stop_1;
      } else if (coord > maxSize) {
        if (prevInRangeColorStop) {
          newColorStops.push(lerpStop(prevInRangeColorStop, stop_1, maxSize));
        } else if (prevOutOfRangeColorStop) {
          newColorStops.push(lerpStop(prevOutOfRangeColorStop, stop_1, 0), lerpStop(prevOutOfRangeColorStop, stop_1, maxSize));
        }
        break;
      } else {
        if (prevOutOfRangeColorStop) {
          newColorStops.push(lerpStop(prevOutOfRangeColorStop, stop_1, 0));
          prevOutOfRangeColorStop = null;
        }
        newColorStops.push(stop_1);
        prevInRangeColorStop = stop_1;
      }
    }
    return newColorStops;
  }
  function getVisualGradient(data, coordSys, api) {
    var visualMetaList = data.getVisual("visualMeta");
    if (!visualMetaList || !visualMetaList.length || !data.count()) {
      return;
    }
    if (coordSys.type !== "cartesian2d") {
      {
        formatAppLog("warn", "at node_modules/echarts/lib/chart/line/LineView.js:259", "Visual map on line style is only supported on cartesian2d.");
      }
      return;
    }
    var coordDim;
    var visualMeta;
    for (var i2 = visualMetaList.length - 1; i2 >= 0; i2--) {
      var dimInfo = data.getDimensionInfo(visualMetaList[i2].dimension);
      coordDim = dimInfo && dimInfo.coordDim;
      if (coordDim === "x" || coordDim === "y") {
        visualMeta = visualMetaList[i2];
        break;
      }
    }
    if (!visualMeta) {
      {
        formatAppLog("warn", "at node_modules/echarts/lib/chart/line/LineView.js:280", "Visual map on line style only support x or y dimension.");
      }
      return;
    }
    var axis = coordSys.getAxis(coordDim);
    var colorStops = map$1(visualMeta.stops, function(stop2) {
      return {
        coord: axis.toGlobalCoord(axis.dataToCoord(stop2.value)),
        color: stop2.color
      };
    });
    var stopLen = colorStops.length;
    var outerColors = visualMeta.outerColors.slice();
    if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {
      colorStops.reverse();
      outerColors.reverse();
    }
    var colorStopsInRange = clipColorStops(colorStops, coordDim === "x" ? api.getWidth() : api.getHeight());
    var inRangeStopLen = colorStopsInRange.length;
    if (!inRangeStopLen && stopLen) {
      return colorStops[0].coord < 0 ? outerColors[1] ? outerColors[1] : colorStops[stopLen - 1].color : outerColors[0] ? outerColors[0] : colorStops[0].color;
    }
    var tinyExtent = 10;
    var minCoord = colorStopsInRange[0].coord - tinyExtent;
    var maxCoord = colorStopsInRange[inRangeStopLen - 1].coord + tinyExtent;
    var coordSpan = maxCoord - minCoord;
    if (coordSpan < 1e-3) {
      return "transparent";
    }
    each$3(colorStopsInRange, function(stop2) {
      stop2.offset = (stop2.coord - minCoord) / coordSpan;
    });
    colorStopsInRange.push({
      offset: inRangeStopLen ? colorStopsInRange[inRangeStopLen - 1].offset : 0.5,
      color: outerColors[1] || "transparent"
    });
    colorStopsInRange.unshift({
      offset: inRangeStopLen ? colorStopsInRange[0].offset : 0.5,
      color: outerColors[0] || "transparent"
    });
    var gradient = new LinearGradient$1(0, 0, 0, 0, colorStopsInRange, true);
    gradient[coordDim] = minCoord;
    gradient[coordDim + "2"] = maxCoord;
    return gradient;
  }
  function getIsIgnoreFunc(seriesModel, data, coordSys) {
    var showAllSymbol = seriesModel.get("showAllSymbol");
    var isAuto = showAllSymbol === "auto";
    if (showAllSymbol && !isAuto) {
      return;
    }
    var categoryAxis2 = coordSys.getAxesByScale("ordinal")[0];
    if (!categoryAxis2) {
      return;
    }
    if (isAuto && canShowAllSymbolForCategory(categoryAxis2, data)) {
      return;
    }
    var categoryDataDim = data.mapDimension(categoryAxis2.dim);
    var labelMap = {};
    each$3(categoryAxis2.getViewLabels(), function(labelItem) {
      var ordinalNumber = categoryAxis2.scale.getRawOrdinalNumber(labelItem.tickValue);
      labelMap[ordinalNumber] = 1;
    });
    return function(dataIndex) {
      return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));
    };
  }
  function canShowAllSymbolForCategory(categoryAxis2, data) {
    var axisExtent = categoryAxis2.getExtent();
    var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis2.scale.count();
    isNaN(availSize) && (availSize = 0);
    var dataLen = data.count();
    var step = Math.max(1, Math.round(dataLen / 5));
    for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {
      if (SymbolClz.getSymbolSize(data, dataIndex)[categoryAxis2.isHorizontal() ? 1 : 0] * 1.5 > availSize) {
        return false;
      }
    }
    return true;
  }
  function isPointNull(x2, y) {
    return isNaN(x2) || isNaN(y);
  }
  function getLastIndexNotNull(points2) {
    var len2 = points2.length / 2;
    for (; len2 > 0; len2--) {
      if (!isPointNull(points2[len2 * 2 - 2], points2[len2 * 2 - 1])) {
        break;
      }
    }
    return len2 - 1;
  }
  function getPointAtIndex(points2, idx) {
    return [points2[idx * 2], points2[idx * 2 + 1]];
  }
  function getIndexRange(points2, xOrY, dim) {
    var len2 = points2.length / 2;
    var dimIdx = dim === "x" ? 0 : 1;
    var a2;
    var b2;
    var prevIndex = 0;
    var nextIndex = -1;
    for (var i2 = 0; i2 < len2; i2++) {
      b2 = points2[i2 * 2 + dimIdx];
      if (isNaN(b2) || isNaN(points2[i2 * 2 + 1 - dimIdx])) {
        continue;
      }
      if (i2 === 0) {
        a2 = b2;
        continue;
      }
      if (a2 <= xOrY && b2 >= xOrY || a2 >= xOrY && b2 <= xOrY) {
        nextIndex = i2;
        break;
      }
      prevIndex = i2;
      a2 = b2;
    }
    return {
      range: [prevIndex, nextIndex],
      t: (xOrY - a2) / (b2 - a2)
    };
  }
  function anyStateShowEndLabel(seriesModel) {
    if (seriesModel.get(["endLabel", "show"])) {
      return true;
    }
    for (var i2 = 0; i2 < SPECIAL_STATES.length; i2++) {
      if (seriesModel.get([SPECIAL_STATES[i2], "endLabel", "show"])) {
        return true;
      }
    }
    return false;
  }
  function createLineClipPath(lineView, coordSys, hasAnimation, seriesModel) {
    if (isCoordinateSystemType(coordSys, "cartesian2d")) {
      var endLabelModel_1 = seriesModel.getModel("endLabel");
      var valueAnimation_1 = endLabelModel_1.get("valueAnimation");
      var data_1 = seriesModel.getData();
      var labelAnimationRecord_1 = {
        lastFrameIndex: 0
      };
      var during = anyStateShowEndLabel(seriesModel) ? function(percent, clipRect) {
        lineView._endLabelOnDuring(percent, clipRect, data_1, labelAnimationRecord_1, valueAnimation_1, endLabelModel_1, coordSys);
      } : null;
      var isHorizontal = coordSys.getBaseAxis().isHorizontal();
      var clipPath = createGridClipPath(coordSys, hasAnimation, seriesModel, function() {
        var endLabel = lineView._endLabel;
        if (endLabel && hasAnimation) {
          if (labelAnimationRecord_1.originalX != null) {
            endLabel.attr({
              x: labelAnimationRecord_1.originalX,
              y: labelAnimationRecord_1.originalY
            });
          }
        }
      }, during);
      if (!seriesModel.get("clip", true)) {
        var rectShape = clipPath.shape;
        var expandSize = Math.max(rectShape.width, rectShape.height);
        if (isHorizontal) {
          rectShape.y -= expandSize;
          rectShape.height += expandSize * 2;
        } else {
          rectShape.x -= expandSize;
          rectShape.width += expandSize * 2;
        }
      }
      if (during) {
        during(1, clipPath);
      }
      return clipPath;
    } else {
      {
        if (seriesModel.get(["endLabel", "show"])) {
          formatAppLog("warn", "at node_modules/echarts/lib/chart/line/LineView.js:519", "endLabel is not supported for lines in polar systems.");
        }
      }
      return createPolarClipPath(coordSys, hasAnimation, seriesModel);
    }
  }
  function getEndLabelStateSpecified(endLabelModel, coordSys) {
    var baseAxis = coordSys.getBaseAxis();
    var isHorizontal = baseAxis.isHorizontal();
    var isBaseInversed = baseAxis.inverse;
    var align = isHorizontal ? isBaseInversed ? "right" : "left" : "center";
    var verticalAlign = isHorizontal ? "middle" : isBaseInversed ? "top" : "bottom";
    return {
      normal: {
        align: endLabelModel.get("align") || align,
        verticalAlign: endLabelModel.get("verticalAlign") || verticalAlign
      }
    };
  }
  var LineView = function(_super) {
    __extends(LineView2, _super);
    function LineView2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    LineView2.prototype.init = function() {
      var lineGroup = new Group$1();
      var symbolDraw = new SymbolDraw$1();
      this.group.add(symbolDraw.group);
      this._symbolDraw = symbolDraw;
      this._lineGroup = lineGroup;
    };
    LineView2.prototype.render = function(seriesModel, ecModel, api) {
      var _this = this;
      var coordSys = seriesModel.coordinateSystem;
      var group = this.group;
      var data = seriesModel.getData();
      var lineStyleModel = seriesModel.getModel("lineStyle");
      var areaStyleModel = seriesModel.getModel("areaStyle");
      var points2 = data.getLayout("points") || [];
      var isCoordSysPolar = coordSys.type === "polar";
      var prevCoordSys = this._coordSys;
      var symbolDraw = this._symbolDraw;
      var polyline = this._polyline;
      var polygon = this._polygon;
      var lineGroup = this._lineGroup;
      var hasAnimation = !ecModel.ssr && seriesModel.isAnimationEnabled();
      var isAreaChart = !areaStyleModel.isEmpty();
      var valueOrigin = areaStyleModel.get("origin");
      var dataCoordInfo = prepareDataCoordInfo(coordSys, data, valueOrigin);
      var stackedOnPoints = isAreaChart && getStackedOnPoints(coordSys, data, dataCoordInfo);
      var showSymbol = seriesModel.get("showSymbol");
      var connectNulls = seriesModel.get("connectNulls");
      var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys);
      var oldData = this._data;
      oldData && oldData.eachItemGraphicEl(function(el, idx) {
        if (el.__temp) {
          group.remove(el);
          oldData.setItemGraphicEl(idx, null);
        }
      });
      if (!showSymbol) {
        symbolDraw.remove();
      }
      group.add(lineGroup);
      var step = !isCoordSysPolar ? seriesModel.get("step") : false;
      var clipShapeForSymbol;
      if (coordSys && coordSys.getArea && seriesModel.get("clip", true)) {
        clipShapeForSymbol = coordSys.getArea();
        if (clipShapeForSymbol.width != null) {
          clipShapeForSymbol.x -= 0.1;
          clipShapeForSymbol.y -= 0.1;
          clipShapeForSymbol.width += 0.2;
          clipShapeForSymbol.height += 0.2;
        } else if (clipShapeForSymbol.r0) {
          clipShapeForSymbol.r0 -= 0.5;
          clipShapeForSymbol.r += 0.5;
        }
      }
      this._clipShapeForSymbol = clipShapeForSymbol;
      var visualColor = getVisualGradient(data, coordSys, api) || data.getVisual("style")[data.getVisual("drawType")];
      if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {
        showSymbol && symbolDraw.updateData(data, {
          isIgnore: isIgnoreFunc,
          clipShape: clipShapeForSymbol,
          disableAnimation: true,
          getSymbolPoint: function(idx) {
            return [points2[idx * 2], points2[idx * 2 + 1]];
          }
        });
        hasAnimation && this._initSymbolLabelAnimation(data, coordSys, clipShapeForSymbol);
        if (step) {
          points2 = turnPointsIntoStep(points2, coordSys, step, connectNulls);
          if (stackedOnPoints) {
            stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step, connectNulls);
          }
        }
        polyline = this._newPolyline(points2);
        if (isAreaChart) {
          polygon = this._newPolygon(points2, stackedOnPoints);
        } else if (polygon) {
          lineGroup.remove(polygon);
          polygon = this._polygon = null;
        }
        if (!isCoordSysPolar) {
          this._initOrUpdateEndLabel(seriesModel, coordSys, convertToColorString(visualColor));
        }
        lineGroup.setClipPath(createLineClipPath(this, coordSys, true, seriesModel));
      } else {
        if (isAreaChart && !polygon) {
          polygon = this._newPolygon(points2, stackedOnPoints);
        } else if (polygon && !isAreaChart) {
          lineGroup.remove(polygon);
          polygon = this._polygon = null;
        }
        if (!isCoordSysPolar) {
          this._initOrUpdateEndLabel(seriesModel, coordSys, convertToColorString(visualColor));
        }
        var oldClipPath = lineGroup.getClipPath();
        if (oldClipPath) {
          var newClipPath = createLineClipPath(this, coordSys, false, seriesModel);
          initProps(oldClipPath, {
            shape: newClipPath.shape
          }, seriesModel);
        } else {
          lineGroup.setClipPath(createLineClipPath(this, coordSys, true, seriesModel));
        }
        showSymbol && symbolDraw.updateData(data, {
          isIgnore: isIgnoreFunc,
          clipShape: clipShapeForSymbol,
          disableAnimation: true,
          getSymbolPoint: function(idx) {
            return [points2[idx * 2], points2[idx * 2 + 1]];
          }
        });
        if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points2)) {
          if (hasAnimation) {
            this._doUpdateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin, connectNulls);
          } else {
            if (step) {
              points2 = turnPointsIntoStep(points2, coordSys, step, connectNulls);
              if (stackedOnPoints) {
                stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step, connectNulls);
              }
            }
            polyline.setShape({
              points: points2
            });
            polygon && polygon.setShape({
              points: points2,
              stackedOnPoints
            });
          }
        }
      }
      var emphasisModel = seriesModel.getModel("emphasis");
      var focus = emphasisModel.get("focus");
      var blurScope = emphasisModel.get("blurScope");
      var emphasisDisabled = emphasisModel.get("disabled");
      polyline.useStyle(defaults(lineStyleModel.getLineStyle(), {
        fill: "none",
        stroke: visualColor,
        lineJoin: "bevel"
      }));
      setStatesStylesFromModel(polyline, seriesModel, "lineStyle");
      if (polyline.style.lineWidth > 0 && seriesModel.get(["emphasis", "lineStyle", "width"]) === "bolder") {
        var emphasisLineStyle = polyline.getState("emphasis").style;
        emphasisLineStyle.lineWidth = +polyline.style.lineWidth + 1;
      }
      getECData(polyline).seriesIndex = seriesModel.seriesIndex;
      toggleHoverEmphasis(polyline, focus, blurScope, emphasisDisabled);
      var smooth = getSmooth(seriesModel.get("smooth"));
      var smoothMonotone = seriesModel.get("smoothMonotone");
      polyline.setShape({
        smooth,
        smoothMonotone,
        connectNulls
      });
      if (polygon) {
        var stackedOnSeries = data.getCalculationInfo("stackedOnSeries");
        var stackedOnSmooth = 0;
        polygon.useStyle(defaults(areaStyleModel.getAreaStyle(), {
          fill: visualColor,
          opacity: 0.7,
          lineJoin: "bevel",
          decal: data.getVisual("style").decal
        }));
        if (stackedOnSeries) {
          stackedOnSmooth = getSmooth(stackedOnSeries.get("smooth"));
        }
        polygon.setShape({
          smooth,
          stackedOnSmooth,
          smoothMonotone,
          connectNulls
        });
        setStatesStylesFromModel(polygon, seriesModel, "areaStyle");
        getECData(polygon).seriesIndex = seriesModel.seriesIndex;
        toggleHoverEmphasis(polygon, focus, blurScope, emphasisDisabled);
      }
      var changePolyState = function(toState) {
        _this._changePolyState(toState);
      };
      data.eachItemGraphicEl(function(el) {
        el && (el.onHoverStateChange = changePolyState);
      });
      this._polyline.onHoverStateChange = changePolyState;
      this._data = data;
      this._coordSys = coordSys;
      this._stackedOnPoints = stackedOnPoints;
      this._points = points2;
      this._step = step;
      this._valueOrigin = valueOrigin;
      if (seriesModel.get("triggerLineEvent")) {
        this.packEventData(seriesModel, polyline);
        polygon && this.packEventData(seriesModel, polygon);
      }
    };
    LineView2.prototype.packEventData = function(seriesModel, el) {
      getECData(el).eventData = {
        componentType: "series",
        componentSubType: "line",
        componentIndex: seriesModel.componentIndex,
        seriesIndex: seriesModel.seriesIndex,
        seriesName: seriesModel.name,
        seriesType: "line"
      };
    };
    LineView2.prototype.highlight = function(seriesModel, ecModel, api, payload) {
      var data = seriesModel.getData();
      var dataIndex = queryDataIndex(data, payload);
      this._changePolyState("emphasis");
      if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {
        var points2 = data.getLayout("points");
        var symbol = data.getItemGraphicEl(dataIndex);
        if (!symbol) {
          var x2 = points2[dataIndex * 2];
          var y = points2[dataIndex * 2 + 1];
          if (isNaN(x2) || isNaN(y)) {
            return;
          }
          if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(x2, y)) {
            return;
          }
          var zlevel = seriesModel.get("zlevel") || 0;
          var z2 = seriesModel.get("z") || 0;
          symbol = new SymbolClz(data, dataIndex);
          symbol.x = x2;
          symbol.y = y;
          symbol.setZ(zlevel, z2);
          var symbolLabel = symbol.getSymbolPath().getTextContent();
          if (symbolLabel) {
            symbolLabel.zlevel = zlevel;
            symbolLabel.z = z2;
            symbolLabel.z2 = this._polyline.z2 + 1;
          }
          symbol.__temp = true;
          data.setItemGraphicEl(dataIndex, symbol);
          symbol.stopSymbolAnimation(true);
          this.group.add(symbol);
        }
        symbol.highlight();
      } else {
        ChartView$1.prototype.highlight.call(this, seriesModel, ecModel, api, payload);
      }
    };
    LineView2.prototype.downplay = function(seriesModel, ecModel, api, payload) {
      var data = seriesModel.getData();
      var dataIndex = queryDataIndex(data, payload);
      this._changePolyState("normal");
      if (dataIndex != null && dataIndex >= 0) {
        var symbol = data.getItemGraphicEl(dataIndex);
        if (symbol) {
          if (symbol.__temp) {
            data.setItemGraphicEl(dataIndex, null);
            this.group.remove(symbol);
          } else {
            symbol.downplay();
          }
        }
      } else {
        ChartView$1.prototype.downplay.call(this, seriesModel, ecModel, api, payload);
      }
    };
    LineView2.prototype._changePolyState = function(toState) {
      var polygon = this._polygon;
      setStatesFlag(this._polyline, toState);
      polygon && setStatesFlag(polygon, toState);
    };
    LineView2.prototype._newPolyline = function(points2) {
      var polyline = this._polyline;
      if (polyline) {
        this._lineGroup.remove(polyline);
      }
      polyline = new ECPolyline({
        shape: {
          points: points2
        },
        segmentIgnoreThreshold: 2,
        z2: 10
      });
      this._lineGroup.add(polyline);
      this._polyline = polyline;
      return polyline;
    };
    LineView2.prototype._newPolygon = function(points2, stackedOnPoints) {
      var polygon = this._polygon;
      if (polygon) {
        this._lineGroup.remove(polygon);
      }
      polygon = new ECPolygon({
        shape: {
          points: points2,
          stackedOnPoints
        },
        segmentIgnoreThreshold: 2
      });
      this._lineGroup.add(polygon);
      this._polygon = polygon;
      return polygon;
    };
    LineView2.prototype._initSymbolLabelAnimation = function(data, coordSys, clipShape) {
      var isHorizontalOrRadial;
      var isCoordSysPolar;
      var baseAxis = coordSys.getBaseAxis();
      var isAxisInverse = baseAxis.inverse;
      if (coordSys.type === "cartesian2d") {
        isHorizontalOrRadial = baseAxis.isHorizontal();
        isCoordSysPolar = false;
      } else if (coordSys.type === "polar") {
        isHorizontalOrRadial = baseAxis.dim === "angle";
        isCoordSysPolar = true;
      }
      var seriesModel = data.hostModel;
      var seriesDuration = seriesModel.get("animationDuration");
      if (isFunction(seriesDuration)) {
        seriesDuration = seriesDuration(null);
      }
      var seriesDelay = seriesModel.get("animationDelay") || 0;
      var seriesDelayValue = isFunction(seriesDelay) ? seriesDelay(null) : seriesDelay;
      data.eachItemGraphicEl(function(symbol, idx) {
        var el = symbol;
        if (el) {
          var point = [symbol.x, symbol.y];
          var start2 = void 0;
          var end2 = void 0;
          var current = void 0;
          if (clipShape) {
            if (isCoordSysPolar) {
              var polarClip = clipShape;
              var coord = coordSys.pointToCoord(point);
              if (isHorizontalOrRadial) {
                start2 = polarClip.startAngle;
                end2 = polarClip.endAngle;
                current = -coord[1] / 180 * Math.PI;
              } else {
                start2 = polarClip.r0;
                end2 = polarClip.r;
                current = coord[0];
              }
            } else {
              var gridClip = clipShape;
              if (isHorizontalOrRadial) {
                start2 = gridClip.x;
                end2 = gridClip.x + gridClip.width;
                current = symbol.x;
              } else {
                start2 = gridClip.y + gridClip.height;
                end2 = gridClip.y;
                current = symbol.y;
              }
            }
          }
          var ratio = end2 === start2 ? 0 : (current - start2) / (end2 - start2);
          if (isAxisInverse) {
            ratio = 1 - ratio;
          }
          var delay = isFunction(seriesDelay) ? seriesDelay(idx) : seriesDuration * ratio + seriesDelayValue;
          var symbolPath = el.getSymbolPath();
          var text = symbolPath.getTextContent();
          el.attr({
            scaleX: 0,
            scaleY: 0
          });
          el.animateTo({
            scaleX: 1,
            scaleY: 1
          }, {
            duration: 200,
            setToFinal: true,
            delay
          });
          if (text) {
            text.animateFrom({
              style: {
                opacity: 0
              }
            }, {
              duration: 300,
              delay
            });
          }
          symbolPath.disableLabelAnimation = true;
        }
      });
    };
    LineView2.prototype._initOrUpdateEndLabel = function(seriesModel, coordSys, inheritColor) {
      var endLabelModel = seriesModel.getModel("endLabel");
      if (anyStateShowEndLabel(seriesModel)) {
        var data_2 = seriesModel.getData();
        var polyline = this._polyline;
        var points2 = data_2.getLayout("points");
        if (!points2) {
          polyline.removeTextContent();
          this._endLabel = null;
          return;
        }
        var endLabel = this._endLabel;
        if (!endLabel) {
          endLabel = this._endLabel = new ZRText$1({
            z2: 200
          });
          endLabel.ignoreClip = true;
          polyline.setTextContent(this._endLabel);
          polyline.disableLabelAnimation = true;
        }
        var dataIndex = getLastIndexNotNull(points2);
        if (dataIndex >= 0) {
          setLabelStyle(polyline, getLabelStatesModels(seriesModel, "endLabel"), {
            inheritColor,
            labelFetcher: seriesModel,
            labelDataIndex: dataIndex,
            defaultText: function(dataIndex2, opt, interpolatedValue) {
              return interpolatedValue != null ? getDefaultInterpolatedLabel(data_2, interpolatedValue) : getDefaultLabel(data_2, dataIndex2);
            },
            enableTextSetter: true
          }, getEndLabelStateSpecified(endLabelModel, coordSys));
          polyline.textConfig.position = null;
        }
      } else if (this._endLabel) {
        this._polyline.removeTextContent();
        this._endLabel = null;
      }
    };
    LineView2.prototype._endLabelOnDuring = function(percent, clipRect, data, animationRecord, valueAnimation, endLabelModel, coordSys) {
      var endLabel = this._endLabel;
      var polyline = this._polyline;
      if (endLabel) {
        if (percent < 1 && animationRecord.originalX == null) {
          animationRecord.originalX = endLabel.x;
          animationRecord.originalY = endLabel.y;
        }
        var points2 = data.getLayout("points");
        var seriesModel = data.hostModel;
        var connectNulls = seriesModel.get("connectNulls");
        var precision = endLabelModel.get("precision");
        var distance2 = endLabelModel.get("distance") || 0;
        var baseAxis = coordSys.getBaseAxis();
        var isHorizontal = baseAxis.isHorizontal();
        var isBaseInversed = baseAxis.inverse;
        var clipShape = clipRect.shape;
        var xOrY = isBaseInversed ? isHorizontal ? clipShape.x : clipShape.y + clipShape.height : isHorizontal ? clipShape.x + clipShape.width : clipShape.y;
        var distanceX = (isHorizontal ? distance2 : 0) * (isBaseInversed ? -1 : 1);
        var distanceY = (isHorizontal ? 0 : -distance2) * (isBaseInversed ? -1 : 1);
        var dim = isHorizontal ? "x" : "y";
        var dataIndexRange = getIndexRange(points2, xOrY, dim);
        var indices = dataIndexRange.range;
        var diff = indices[1] - indices[0];
        var value = void 0;
        if (diff >= 1) {
          if (diff > 1 && !connectNulls) {
            var pt2 = getPointAtIndex(points2, indices[0]);
            endLabel.attr({
              x: pt2[0] + distanceX,
              y: pt2[1] + distanceY
            });
            valueAnimation && (value = seriesModel.getRawValue(indices[0]));
          } else {
            var pt2 = polyline.getPointOn(xOrY, dim);
            pt2 && endLabel.attr({
              x: pt2[0] + distanceX,
              y: pt2[1] + distanceY
            });
            var startValue = seriesModel.getRawValue(indices[0]);
            var endValue = seriesModel.getRawValue(indices[1]);
            valueAnimation && (value = interpolateRawValues(data, precision, startValue, endValue, dataIndexRange.t));
          }
          animationRecord.lastFrameIndex = indices[0];
        } else {
          var idx = percent === 1 || animationRecord.lastFrameIndex > 0 ? indices[0] : 0;
          var pt2 = getPointAtIndex(points2, idx);
          valueAnimation && (value = seriesModel.getRawValue(idx));
          endLabel.attr({
            x: pt2[0] + distanceX,
            y: pt2[1] + distanceY
          });
        }
        if (valueAnimation) {
          var inner2 = labelInner(endLabel);
          if (typeof inner2.setLabelText === "function") {
            inner2.setLabelText(value);
          }
        }
      }
    };
    LineView2.prototype._doUpdateAnimation = function(data, stackedOnPoints, coordSys, api, step, valueOrigin, connectNulls) {
      var polyline = this._polyline;
      var polygon = this._polygon;
      var seriesModel = data.hostModel;
      var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin);
      var current = diff.current;
      var stackedOnCurrent = diff.stackedOnCurrent;
      var next = diff.next;
      var stackedOnNext = diff.stackedOnNext;
      if (step) {
        current = turnPointsIntoStep(diff.current, coordSys, step, connectNulls);
        stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step, connectNulls);
        next = turnPointsIntoStep(diff.next, coordSys, step, connectNulls);
        stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step, connectNulls);
      }
      if (getBoundingDiff(current, next) > 3e3 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3e3) {
        polyline.stopAnimation();
        polyline.setShape({
          points: next
        });
        if (polygon) {
          polygon.stopAnimation();
          polygon.setShape({
            points: next,
            stackedOnPoints: stackedOnNext
          });
        }
        return;
      }
      polyline.shape.__points = diff.current;
      polyline.shape.points = current;
      var target = {
        shape: {
          points: next
        }
      };
      if (diff.current !== current) {
        target.shape.__points = diff.next;
      }
      polyline.stopAnimation();
      updateProps$1(polyline, target, seriesModel);
      if (polygon) {
        polygon.setShape({
          points: current,
          stackedOnPoints: stackedOnCurrent
        });
        polygon.stopAnimation();
        updateProps$1(polygon, {
          shape: {
            stackedOnPoints: stackedOnNext
          }
        }, seriesModel);
        if (polyline.shape.points !== polygon.shape.points) {
          polygon.shape.points = polyline.shape.points;
        }
      }
      var updatedDataInfo = [];
      var diffStatus = diff.status;
      for (var i2 = 0; i2 < diffStatus.length; i2++) {
        var cmd = diffStatus[i2].cmd;
        if (cmd === "=") {
          var el = data.getItemGraphicEl(diffStatus[i2].idx1);
          if (el) {
            updatedDataInfo.push({
              el,
              ptIdx: i2
            });
          }
        }
      }
      if (polyline.animators && polyline.animators.length) {
        polyline.animators[0].during(function() {
          polygon && polygon.dirtyShape();
          var points2 = polyline.shape.__points;
          for (var i3 = 0; i3 < updatedDataInfo.length; i3++) {
            var el2 = updatedDataInfo[i3].el;
            var offset = updatedDataInfo[i3].ptIdx * 2;
            el2.x = points2[offset];
            el2.y = points2[offset + 1];
            el2.markRedraw();
          }
        });
      }
    };
    LineView2.prototype.remove = function(ecModel) {
      var group = this.group;
      var oldData = this._data;
      this._lineGroup.removeAll();
      this._symbolDraw.remove(true);
      oldData && oldData.eachItemGraphicEl(function(el, idx) {
        if (el.__temp) {
          group.remove(el);
          oldData.setItemGraphicEl(idx, null);
        }
      });
      this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._endLabel = this._data = null;
    };
    LineView2.type = "line";
    return LineView2;
  }(ChartView$1);
  var LineView$1 = LineView;
  function pointsLayout(seriesType2, forceStoreInTypedArray) {
    return {
      seriesType: seriesType2,
      plan: createRenderPlanner(),
      reset: function(seriesModel) {
        var data = seriesModel.getData();
        var coordSys = seriesModel.coordinateSystem;
        var pipelineContext = seriesModel.pipelineContext;
        var useTypedArray = forceStoreInTypedArray || pipelineContext.large;
        if (!coordSys) {
          return;
        }
        var dims = map$1(coordSys.dimensions, function(dim) {
          return data.mapDimension(dim);
        }).slice(0, 2);
        var dimLen = dims.length;
        var stackResultDim = data.getCalculationInfo("stackResultDimension");
        if (isDimensionStacked(data, dims[0])) {
          dims[0] = stackResultDim;
        }
        if (isDimensionStacked(data, dims[1])) {
          dims[1] = stackResultDim;
        }
        var store = data.getStore();
        var dimIdx0 = data.getDimensionIndex(dims[0]);
        var dimIdx1 = data.getDimensionIndex(dims[1]);
        return dimLen && {
          progress: function(params, data2) {
            var segCount = params.end - params.start;
            var points2 = useTypedArray && createFloat32Array(segCount * dimLen);
            var tmpIn = [];
            var tmpOut = [];
            for (var i2 = params.start, offset = 0; i2 < params.end; i2++) {
              var point = void 0;
              if (dimLen === 1) {
                var x2 = store.get(dimIdx0, i2);
                point = coordSys.dataToPoint(x2, null, tmpOut);
              } else {
                tmpIn[0] = store.get(dimIdx0, i2);
                tmpIn[1] = store.get(dimIdx1, i2);
                point = coordSys.dataToPoint(tmpIn, null, tmpOut);
              }
              if (useTypedArray) {
                points2[offset++] = point[0];
                points2[offset++] = point[1];
              } else {
                data2.setItemLayout(i2, point.slice());
              }
            }
            useTypedArray && data2.setLayout("points", points2);
          }
        };
      }
    };
  }
  var samplers = {
    average: function(frame) {
      var sum = 0;
      var count = 0;
      for (var i2 = 0; i2 < frame.length; i2++) {
        if (!isNaN(frame[i2])) {
          sum += frame[i2];
          count++;
        }
      }
      return count === 0 ? NaN : sum / count;
    },
    sum: function(frame) {
      var sum = 0;
      for (var i2 = 0; i2 < frame.length; i2++) {
        sum += frame[i2] || 0;
      }
      return sum;
    },
    max: function(frame) {
      var max3 = -Infinity;
      for (var i2 = 0; i2 < frame.length; i2++) {
        frame[i2] > max3 && (max3 = frame[i2]);
      }
      return isFinite(max3) ? max3 : NaN;
    },
    min: function(frame) {
      var min3 = Infinity;
      for (var i2 = 0; i2 < frame.length; i2++) {
        frame[i2] < min3 && (min3 = frame[i2]);
      }
      return isFinite(min3) ? min3 : NaN;
    },
    nearest: function(frame) {
      return frame[0];
    }
  };
  var indexSampler = function(frame) {
    return Math.round(frame.length / 2);
  };
  function dataSample(seriesType2) {
    return {
      seriesType: seriesType2,
      reset: function(seriesModel, ecModel, api) {
        var data = seriesModel.getData();
        var sampling = seriesModel.get("sampling");
        var coordSys = seriesModel.coordinateSystem;
        var count = data.count();
        if (count > 10 && coordSys.type === "cartesian2d" && sampling) {
          var baseAxis = coordSys.getBaseAxis();
          var valueAxis2 = coordSys.getOtherAxis(baseAxis);
          var extent3 = baseAxis.getExtent();
          var dpr2 = api.getDevicePixelRatio();
          var size = Math.abs(extent3[1] - extent3[0]) * (dpr2 || 1);
          var rate = Math.round(count / size);
          if (isFinite(rate) && rate > 1) {
            if (sampling === "lttb") {
              seriesModel.setData(data.lttbDownSample(data.mapDimension(valueAxis2.dim), 1 / rate));
            }
            var sampler = void 0;
            if (isString(sampling)) {
              sampler = samplers[sampling];
            } else if (isFunction(sampling)) {
              sampler = sampling;
            }
            if (sampler) {
              seriesModel.setData(data.downSample(data.mapDimension(valueAxis2.dim), 1 / rate, sampler, indexSampler));
            }
          }
        }
      }
    };
  }
  function install$5(registers) {
    registers.registerChartView(LineView$1);
    registers.registerSeriesModel(LineSeries);
    registers.registerLayout(pointsLayout("line", true));
    registers.registerVisual({
      seriesType: "line",
      reset: function(seriesModel) {
        var data = seriesModel.getData();
        var lineStyle = seriesModel.getModel("lineStyle").getLineStyle();
        if (lineStyle && !lineStyle.stroke) {
          lineStyle.stroke = data.getVisual("style").fill;
        }
        data.setVisual("legendLineStyle", lineStyle);
      }
    });
    registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, dataSample("line"));
  }
  var GridModel = function(_super) {
    __extends(GridModel2, _super);
    function GridModel2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    GridModel2.type = "grid";
    GridModel2.dependencies = ["xAxis", "yAxis"];
    GridModel2.layoutMode = "box";
    GridModel2.defaultOption = {
      show: false,
      z: 0,
      left: "10%",
      top: 60,
      right: "10%",
      bottom: 70,
      containLabel: false,
      backgroundColor: "rgba(0,0,0,0)",
      borderWidth: 1,
      borderColor: "#ccc"
    };
    return GridModel2;
  }(ComponentModel$1);
  var GridModel$1 = GridModel;
  var CartesianAxisModel = function(_super) {
    __extends(CartesianAxisModel2, _super);
    function CartesianAxisModel2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    CartesianAxisModel2.prototype.getCoordSysModel = function() {
      return this.getReferringComponents("grid", SINGLE_REFERRING).models[0];
    };
    CartesianAxisModel2.type = "cartesian2dAxis";
    return CartesianAxisModel2;
  }(ComponentModel$1);
  mixin(CartesianAxisModel, AxisModelCommonMixin);
  var defaultOption = {
    show: true,
    z: 0,
    inverse: false,
    name: "",
    nameLocation: "end",
    nameRotate: null,
    nameTruncate: {
      maxWidth: null,
      ellipsis: "...",
      placeholder: "."
    },
    nameTextStyle: {},
    nameGap: 15,
    silent: false,
    triggerEvent: false,
    tooltip: {
      show: false
    },
    axisPointer: {},
    axisLine: {
      show: true,
      onZero: true,
      onZeroAxisIndex: null,
      lineStyle: {
        color: "#6E7079",
        width: 1,
        type: "solid"
      },
      symbol: ["none", "none"],
      symbolSize: [10, 15]
    },
    axisTick: {
      show: true,
      inside: false,
      length: 5,
      lineStyle: {
        width: 1
      }
    },
    axisLabel: {
      show: true,
      inside: false,
      rotate: 0,
      showMinLabel: null,
      showMaxLabel: null,
      margin: 8,
      fontSize: 12
    },
    splitLine: {
      show: true,
      lineStyle: {
        color: ["#E0E6F1"],
        width: 1,
        type: "solid"
      }
    },
    splitArea: {
      show: false,
      areaStyle: {
        color: ["rgba(250,250,250,0.2)", "rgba(210,219,238,0.2)"]
      }
    }
  };
  var categoryAxis = merge({
    boundaryGap: true,
    deduplication: null,
    splitLine: {
      show: false
    },
    axisTick: {
      alignWithLabel: false,
      interval: "auto"
    },
    axisLabel: {
      interval: "auto"
    }
  }, defaultOption);
  var valueAxis = merge({
    boundaryGap: [0, 0],
    axisLine: {
      show: "auto"
    },
    axisTick: {
      show: "auto"
    },
    splitNumber: 5,
    minorTick: {
      show: false,
      splitNumber: 5,
      length: 3,
      lineStyle: {}
    },
    minorSplitLine: {
      show: false,
      lineStyle: {
        color: "#F4F7FD",
        width: 1
      }
    }
  }, defaultOption);
  var timeAxis = merge({
    splitNumber: 6,
    axisLabel: {
      showMinLabel: false,
      showMaxLabel: false,
      rich: {
        primary: {
          fontWeight: "bold"
        }
      }
    },
    splitLine: {
      show: false
    }
  }, valueAxis);
  var logAxis = defaults({
    logBase: 10
  }, valueAxis);
  var axisDefault = {
    category: categoryAxis,
    value: valueAxis,
    time: timeAxis,
    log: logAxis
  };
  var AXIS_TYPES = {
    value: 1,
    category: 1,
    time: 1,
    log: 1
  };
  function axisModelCreator(registers, axisName, BaseAxisModelClass, extraDefaultOption) {
    each$3(AXIS_TYPES, function(v2, axisType) {
      var defaultOption2 = merge(merge({}, axisDefault[axisType], true), extraDefaultOption, true);
      var AxisModel = function(_super) {
        __extends(AxisModel2, _super);
        function AxisModel2() {
          var _this = _super !== null && _super.apply(this, arguments) || this;
          _this.type = axisName + "Axis." + axisType;
          return _this;
        }
        AxisModel2.prototype.mergeDefaultAndTheme = function(option, ecModel) {
          var layoutMode = fetchLayoutMode(this);
          var inputPositionParams = layoutMode ? getLayoutParams(option) : {};
          var themeModel = ecModel.getTheme();
          merge(option, themeModel.get(axisType + "Axis"));
          merge(option, this.getDefaultOption());
          option.type = getAxisType(option);
          if (layoutMode) {
            mergeLayoutParam(option, inputPositionParams, layoutMode);
          }
        };
        AxisModel2.prototype.optionUpdated = function() {
          var thisOption = this.option;
          if (thisOption.type === "category") {
            this.__ordinalMeta = OrdinalMeta$1.createByAxisModel(this);
          }
        };
        AxisModel2.prototype.getCategories = function(rawData) {
          var option = this.option;
          if (option.type === "category") {
            if (rawData) {
              return option.data;
            }
            return this.__ordinalMeta.categories;
          }
        };
        AxisModel2.prototype.getOrdinalMeta = function() {
          return this.__ordinalMeta;
        };
        AxisModel2.type = axisName + "Axis." + axisType;
        AxisModel2.defaultOption = defaultOption2;
        return AxisModel2;
      }(BaseAxisModelClass);
      registers.registerComponentModel(AxisModel);
    });
    registers.registerSubTypeDefaulter(axisName + "Axis", getAxisType);
  }
  function getAxisType(option) {
    return option.type || (option.data ? "category" : "value");
  }
  var Cartesian = function() {
    function Cartesian2(name) {
      this.type = "cartesian";
      this._dimList = [];
      this._axes = {};
      this.name = name || "";
    }
    Cartesian2.prototype.getAxis = function(dim) {
      return this._axes[dim];
    };
    Cartesian2.prototype.getAxes = function() {
      return map$1(this._dimList, function(dim) {
        return this._axes[dim];
      }, this);
    };
    Cartesian2.prototype.getAxesByScale = function(scaleType) {
      scaleType = scaleType.toLowerCase();
      return filter(this.getAxes(), function(axis) {
        return axis.scale.type === scaleType;
      });
    };
    Cartesian2.prototype.addAxis = function(axis) {
      var dim = axis.dim;
      this._axes[dim] = axis;
      this._dimList.push(dim);
    };
    return Cartesian2;
  }();
  var Cartesian$1 = Cartesian;
  var cartesian2DDimensions = ["x", "y"];
  function canCalculateAffineTransform(scale2) {
    return scale2.type === "interval" || scale2.type === "time";
  }
  var Cartesian2D = function(_super) {
    __extends(Cartesian2D2, _super);
    function Cartesian2D2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = "cartesian2d";
      _this.dimensions = cartesian2DDimensions;
      return _this;
    }
    Cartesian2D2.prototype.calcAffineTransform = function() {
      this._transform = this._invTransform = null;
      var xAxisScale = this.getAxis("x").scale;
      var yAxisScale = this.getAxis("y").scale;
      if (!canCalculateAffineTransform(xAxisScale) || !canCalculateAffineTransform(yAxisScale)) {
        return;
      }
      var xScaleExtent = xAxisScale.getExtent();
      var yScaleExtent = yAxisScale.getExtent();
      var start2 = this.dataToPoint([xScaleExtent[0], yScaleExtent[0]]);
      var end2 = this.dataToPoint([xScaleExtent[1], yScaleExtent[1]]);
      var xScaleSpan = xScaleExtent[1] - xScaleExtent[0];
      var yScaleSpan = yScaleExtent[1] - yScaleExtent[0];
      if (!xScaleSpan || !yScaleSpan) {
        return;
      }
      var scaleX = (end2[0] - start2[0]) / xScaleSpan;
      var scaleY = (end2[1] - start2[1]) / yScaleSpan;
      var translateX = start2[0] - xScaleExtent[0] * scaleX;
      var translateY = start2[1] - yScaleExtent[0] * scaleY;
      var m2 = this._transform = [scaleX, 0, 0, scaleY, translateX, translateY];
      this._invTransform = invert([], m2);
    };
    Cartesian2D2.prototype.getBaseAxis = function() {
      return this.getAxesByScale("ordinal")[0] || this.getAxesByScale("time")[0] || this.getAxis("x");
    };
    Cartesian2D2.prototype.containPoint = function(point) {
      var axisX = this.getAxis("x");
      var axisY = this.getAxis("y");
      return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));
    };
    Cartesian2D2.prototype.containData = function(data) {
      return this.getAxis("x").containData(data[0]) && this.getAxis("y").containData(data[1]);
    };
    Cartesian2D2.prototype.containZone = function(data1, data2) {
      var zoneDiag1 = this.dataToPoint(data1);
      var zoneDiag2 = this.dataToPoint(data2);
      var area = this.getArea();
      var zone = new BoundingRect$1(zoneDiag1[0], zoneDiag1[1], zoneDiag2[0] - zoneDiag1[0], zoneDiag2[1] - zoneDiag1[1]);
      return area.intersect(zone);
    };
    Cartesian2D2.prototype.dataToPoint = function(data, clamp2, out2) {
      out2 = out2 || [];
      var xVal = data[0];
      var yVal = data[1];
      if (this._transform && xVal != null && isFinite(xVal) && yVal != null && isFinite(yVal)) {
        return applyTransform$1(out2, data, this._transform);
      }
      var xAxis = this.getAxis("x");
      var yAxis = this.getAxis("y");
      out2[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(xVal, clamp2));
      out2[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(yVal, clamp2));
      return out2;
    };
    Cartesian2D2.prototype.clampData = function(data, out2) {
      var xScale = this.getAxis("x").scale;
      var yScale = this.getAxis("y").scale;
      var xAxisExtent = xScale.getExtent();
      var yAxisExtent = yScale.getExtent();
      var x2 = xScale.parse(data[0]);
      var y = yScale.parse(data[1]);
      out2 = out2 || [];
      out2[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x2), Math.max(xAxisExtent[0], xAxisExtent[1]));
      out2[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));
      return out2;
    };
    Cartesian2D2.prototype.pointToData = function(point, clamp2) {
      var out2 = [];
      if (this._invTransform) {
        return applyTransform$1(out2, point, this._invTransform);
      }
      var xAxis = this.getAxis("x");
      var yAxis = this.getAxis("y");
      out2[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]), clamp2);
      out2[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]), clamp2);
      return out2;
    };
    Cartesian2D2.prototype.getOtherAxis = function(axis) {
      return this.getAxis(axis.dim === "x" ? "y" : "x");
    };
    Cartesian2D2.prototype.getArea = function() {
      var xExtent = this.getAxis("x").getGlobalExtent();
      var yExtent = this.getAxis("y").getGlobalExtent();
      var x2 = Math.min(xExtent[0], xExtent[1]);
      var y = Math.min(yExtent[0], yExtent[1]);
      var width = Math.max(xExtent[0], xExtent[1]) - x2;
      var height = Math.max(yExtent[0], yExtent[1]) - y;
      return new BoundingRect$1(x2, y, width, height);
    };
    return Cartesian2D2;
  }(Cartesian$1);
  var Cartesian2D$1 = Cartesian2D;
  var Axis2D = function(_super) {
    __extends(Axis2D2, _super);
    function Axis2D2(dim, scale2, coordExtent, axisType, position) {
      var _this = _super.call(this, dim, scale2, coordExtent) || this;
      _this.index = 0;
      _this.type = axisType || "value";
      _this.position = position || "bottom";
      return _this;
    }
    Axis2D2.prototype.isHorizontal = function() {
      var position = this.position;
      return position === "top" || position === "bottom";
    };
    Axis2D2.prototype.getGlobalExtent = function(asc2) {
      var ret = this.getExtent();
      ret[0] = this.toGlobalCoord(ret[0]);
      ret[1] = this.toGlobalCoord(ret[1]);
      asc2 && ret[0] > ret[1] && ret.reverse();
      return ret;
    };
    Axis2D2.prototype.pointToData = function(point, clamp2) {
      return this.coordToData(this.toLocalCoord(point[this.dim === "x" ? 0 : 1]), clamp2);
    };
    Axis2D2.prototype.setCategorySortInfo = function(info) {
      if (this.type !== "category") {
        return false;
      }
      this.model.option.categorySortInfo = info;
      this.scale.setSortInfo(info);
    };
    return Axis2D2;
  }(Axis$1);
  var Axis2D$1 = Axis2D;
  function layout(gridModel, axisModel, opt) {
    opt = opt || {};
    var grid = gridModel.coordinateSystem;
    var axis = axisModel.axis;
    var layout2 = {};
    var otherAxisOnZeroOf = axis.getAxesOnZeroOf()[0];
    var rawAxisPosition = axis.position;
    var axisPosition = otherAxisOnZeroOf ? "onZero" : rawAxisPosition;
    var axisDim = axis.dim;
    var rect = grid.getRect();
    var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];
    var idx = {
      left: 0,
      right: 1,
      top: 0,
      bottom: 1,
      onZero: 2
    };
    var axisOffset = axisModel.get("offset") || 0;
    var posBound = axisDim === "x" ? [rectBound[2] - axisOffset, rectBound[3] + axisOffset] : [rectBound[0] - axisOffset, rectBound[1] + axisOffset];
    if (otherAxisOnZeroOf) {
      var onZeroCoord = otherAxisOnZeroOf.toGlobalCoord(otherAxisOnZeroOf.dataToCoord(0));
      posBound[idx.onZero] = Math.max(Math.min(onZeroCoord, posBound[1]), posBound[0]);
    }
    layout2.position = [axisDim === "y" ? posBound[idx[axisPosition]] : rectBound[0], axisDim === "x" ? posBound[idx[axisPosition]] : rectBound[3]];
    layout2.rotation = Math.PI / 2 * (axisDim === "x" ? 0 : 1);
    var dirMap = {
      top: -1,
      bottom: 1,
      left: -1,
      right: 1
    };
    layout2.labelDirection = layout2.tickDirection = layout2.nameDirection = dirMap[rawAxisPosition];
    layout2.labelOffset = otherAxisOnZeroOf ? posBound[idx[rawAxisPosition]] - posBound[idx.onZero] : 0;
    if (axisModel.get(["axisTick", "inside"])) {
      layout2.tickDirection = -layout2.tickDirection;
    }
    if (retrieve(opt.labelInside, axisModel.get(["axisLabel", "inside"]))) {
      layout2.labelDirection = -layout2.labelDirection;
    }
    var labelRotate = axisModel.get(["axisLabel", "rotate"]);
    layout2.labelRotate = axisPosition === "top" ? -labelRotate : labelRotate;
    layout2.z2 = 1;
    return layout2;
  }
  function isCartesian2DSeries(seriesModel) {
    return seriesModel.get("coordinateSystem") === "cartesian2d";
  }
  function findAxisModels(seriesModel) {
    var axisModelMap = {
      xAxisModel: null,
      yAxisModel: null
    };
    each$3(axisModelMap, function(v2, key) {
      var axisType = key.replace(/Model$/, "");
      var axisModel = seriesModel.getReferringComponents(axisType, SINGLE_REFERRING).models[0];
      {
        if (!axisModel) {
          throw new Error(axisType + ' "' + retrieve3(seriesModel.get(axisType + "Index"), seriesModel.get(axisType + "Id"), 0) + '" not found');
        }
      }
      axisModelMap[key] = axisModel;
    });
    return axisModelMap;
  }
  var mathLog = Math.log;
  function alignScaleTicks(scale2, axisModel, alignToScale) {
    var intervalScaleProto2 = IntervalScale$1.prototype;
    var alignToTicks = intervalScaleProto2.getTicks.call(alignToScale);
    var alignToNicedTicks = intervalScaleProto2.getTicks.call(alignToScale, true);
    var alignToSplitNumber = alignToTicks.length - 1;
    var alignToInterval = intervalScaleProto2.getInterval.call(alignToScale);
    var scaleExtent = getScaleExtent(scale2, axisModel);
    var rawExtent = scaleExtent.extent;
    var isMinFixed = scaleExtent.fixMin;
    var isMaxFixed = scaleExtent.fixMax;
    if (scale2.type === "log") {
      var logBase = mathLog(scale2.base);
      rawExtent = [mathLog(rawExtent[0]) / logBase, mathLog(rawExtent[1]) / logBase];
    }
    scale2.setExtent(rawExtent[0], rawExtent[1]);
    scale2.calcNiceExtent({
      splitNumber: alignToSplitNumber,
      fixMin: isMinFixed,
      fixMax: isMaxFixed
    });
    var extent3 = intervalScaleProto2.getExtent.call(scale2);
    if (isMinFixed) {
      rawExtent[0] = extent3[0];
    }
    if (isMaxFixed) {
      rawExtent[1] = extent3[1];
    }
    var interval = intervalScaleProto2.getInterval.call(scale2);
    var min3 = rawExtent[0];
    var max3 = rawExtent[1];
    if (isMinFixed && isMaxFixed) {
      interval = (max3 - min3) / alignToSplitNumber;
    } else if (isMinFixed) {
      max3 = rawExtent[0] + interval * alignToSplitNumber;
      while (max3 < rawExtent[1] && isFinite(max3) && isFinite(rawExtent[1])) {
        interval = increaseInterval(interval);
        max3 = rawExtent[0] + interval * alignToSplitNumber;
      }
    } else if (isMaxFixed) {
      min3 = rawExtent[1] - interval * alignToSplitNumber;
      while (min3 > rawExtent[0] && isFinite(min3) && isFinite(rawExtent[0])) {
        interval = increaseInterval(interval);
        min3 = rawExtent[1] - interval * alignToSplitNumber;
      }
    } else {
      var nicedSplitNumber = scale2.getTicks().length - 1;
      if (nicedSplitNumber > alignToSplitNumber) {
        interval = increaseInterval(interval);
      }
      var range = interval * alignToSplitNumber;
      max3 = Math.ceil(rawExtent[1] / interval) * interval;
      min3 = round$1(max3 - range);
      if (min3 < 0 && rawExtent[0] >= 0) {
        min3 = 0;
        max3 = round$1(range);
      } else if (max3 > 0 && rawExtent[1] <= 0) {
        max3 = 0;
        min3 = -round$1(range);
      }
    }
    var t0 = (alignToTicks[0].value - alignToNicedTicks[0].value) / alignToInterval;
    var t1 = (alignToTicks[alignToSplitNumber].value - alignToNicedTicks[alignToSplitNumber].value) / alignToInterval;
    intervalScaleProto2.setExtent.call(scale2, min3 + interval * t0, max3 + interval * t1);
    intervalScaleProto2.setInterval.call(scale2, interval);
    if (t0 || t1) {
      intervalScaleProto2.setNiceExtent.call(scale2, min3 + interval, max3 - interval);
    }
    {
      var ticks = intervalScaleProto2.getTicks.call(scale2);
      if (ticks[1] && (!isValueNice(interval) || getPrecisionSafe(ticks[1].value) > getPrecisionSafe(interval))) {
        warn("The ticks may be not readable when set min: " + axisModel.get("min") + ", max: " + axisModel.get("max") + " and alignTicks: true");
      }
    }
  }
  var Grid = function() {
    function Grid2(gridModel, ecModel, api) {
      this.type = "grid";
      this._coordsMap = {};
      this._coordsList = [];
      this._axesMap = {};
      this._axesList = [];
      this.axisPointerEnabled = true;
      this.dimensions = cartesian2DDimensions;
      this._initCartesian(gridModel, ecModel, api);
      this.model = gridModel;
    }
    Grid2.prototype.getRect = function() {
      return this._rect;
    };
    Grid2.prototype.update = function(ecModel, api) {
      var axesMap = this._axesMap;
      this._updateScale(ecModel, this.model);
      function updateAxisTicks(axes) {
        var alignTo;
        var axesIndices = keys(axes);
        var len2 = axesIndices.length;
        if (!len2) {
          return;
        }
        var axisNeedsAlign = [];
        for (var i2 = len2 - 1; i2 >= 0; i2--) {
          var idx = +axesIndices[i2];
          var axis = axes[idx];
          var model = axis.model;
          var scale2 = axis.scale;
          if (isIntervalOrLogScale(scale2) && model.get("alignTicks") && model.get("interval") == null) {
            axisNeedsAlign.push(axis);
          } else {
            niceScaleExtent(scale2, model);
            if (isIntervalOrLogScale(scale2)) {
              alignTo = axis;
            }
          }
        }
        if (axisNeedsAlign.length) {
          if (!alignTo) {
            alignTo = axisNeedsAlign.pop();
            niceScaleExtent(alignTo.scale, alignTo.model);
          }
          each$3(axisNeedsAlign, function(axis2) {
            alignScaleTicks(axis2.scale, axis2.model, alignTo.scale);
          });
        }
      }
      updateAxisTicks(axesMap.x);
      updateAxisTicks(axesMap.y);
      var onZeroRecords = {};
      each$3(axesMap.x, function(xAxis) {
        fixAxisOnZero(axesMap, "y", xAxis, onZeroRecords);
      });
      each$3(axesMap.y, function(yAxis) {
        fixAxisOnZero(axesMap, "x", yAxis, onZeroRecords);
      });
      this.resize(this.model, api);
    };
    Grid2.prototype.resize = function(gridModel, api, ignoreContainLabel) {
      var boxLayoutParams = gridModel.getBoxLayoutParams();
      var isContainLabel = !ignoreContainLabel && gridModel.get("containLabel");
      var gridRect = getLayoutRect(boxLayoutParams, {
        width: api.getWidth(),
        height: api.getHeight()
      });
      this._rect = gridRect;
      var axesList = this._axesList;
      adjustAxes();
      if (isContainLabel) {
        each$3(axesList, function(axis) {
          if (!axis.model.get(["axisLabel", "inside"])) {
            var labelUnionRect = estimateLabelUnionRect(axis);
            if (labelUnionRect) {
              var dim = axis.isHorizontal() ? "height" : "width";
              var margin = axis.model.get(["axisLabel", "margin"]);
              gridRect[dim] -= labelUnionRect[dim] + margin;
              if (axis.position === "top") {
                gridRect.y += labelUnionRect.height + margin;
              } else if (axis.position === "left") {
                gridRect.x += labelUnionRect.width + margin;
              }
            }
          }
        });
        adjustAxes();
      }
      each$3(this._coordsList, function(coord) {
        coord.calcAffineTransform();
      });
      function adjustAxes() {
        each$3(axesList, function(axis) {
          var isHorizontal = axis.isHorizontal();
          var extent3 = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];
          var idx = axis.inverse ? 1 : 0;
          axis.setExtent(extent3[idx], extent3[1 - idx]);
          updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);
        });
      }
    };
    Grid2.prototype.getAxis = function(dim, axisIndex) {
      var axesMapOnDim = this._axesMap[dim];
      if (axesMapOnDim != null) {
        return axesMapOnDim[axisIndex || 0];
      }
    };
    Grid2.prototype.getAxes = function() {
      return this._axesList.slice();
    };
    Grid2.prototype.getCartesian = function(xAxisIndex, yAxisIndex) {
      if (xAxisIndex != null && yAxisIndex != null) {
        var key = "x" + xAxisIndex + "y" + yAxisIndex;
        return this._coordsMap[key];
      }
      if (isObject$2(xAxisIndex)) {
        yAxisIndex = xAxisIndex.yAxisIndex;
        xAxisIndex = xAxisIndex.xAxisIndex;
      }
      for (var i2 = 0, coordList = this._coordsList; i2 < coordList.length; i2++) {
        if (coordList[i2].getAxis("x").index === xAxisIndex || coordList[i2].getAxis("y").index === yAxisIndex) {
          return coordList[i2];
        }
      }
    };
    Grid2.prototype.getCartesians = function() {
      return this._coordsList.slice();
    };
    Grid2.prototype.convertToPixel = function(ecModel, finder, value) {
      var target = this._findConvertTarget(finder);
      return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;
    };
    Grid2.prototype.convertFromPixel = function(ecModel, finder, value) {
      var target = this._findConvertTarget(finder);
      return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;
    };
    Grid2.prototype._findConvertTarget = function(finder) {
      var seriesModel = finder.seriesModel;
      var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents("xAxis", SINGLE_REFERRING).models[0];
      var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents("yAxis", SINGLE_REFERRING).models[0];
      var gridModel = finder.gridModel;
      var coordsList = this._coordsList;
      var cartesian;
      var axis;
      if (seriesModel) {
        cartesian = seriesModel.coordinateSystem;
        indexOf(coordsList, cartesian) < 0 && (cartesian = null);
      } else if (xAxisModel && yAxisModel) {
        cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);
      } else if (xAxisModel) {
        axis = this.getAxis("x", xAxisModel.componentIndex);
      } else if (yAxisModel) {
        axis = this.getAxis("y", yAxisModel.componentIndex);
      } else if (gridModel) {
        var grid = gridModel.coordinateSystem;
        if (grid === this) {
          cartesian = this._coordsList[0];
        }
      }
      return {
        cartesian,
        axis
      };
    };
    Grid2.prototype.containPoint = function(point) {
      var coord = this._coordsList[0];
      if (coord) {
        return coord.containPoint(point);
      }
    };
    Grid2.prototype._initCartesian = function(gridModel, ecModel, api) {
      var _this = this;
      var grid = this;
      var axisPositionUsed = {
        left: false,
        right: false,
        top: false,
        bottom: false
      };
      var axesMap = {
        x: {},
        y: {}
      };
      var axesCount = {
        x: 0,
        y: 0
      };
      ecModel.eachComponent("xAxis", createAxisCreator("x"), this);
      ecModel.eachComponent("yAxis", createAxisCreator("y"), this);
      if (!axesCount.x || !axesCount.y) {
        this._axesMap = {};
        this._axesList = [];
        return;
      }
      this._axesMap = axesMap;
      each$3(axesMap.x, function(xAxis, xAxisIndex) {
        each$3(axesMap.y, function(yAxis, yAxisIndex) {
          var key = "x" + xAxisIndex + "y" + yAxisIndex;
          var cartesian = new Cartesian2D$1(key);
          cartesian.master = _this;
          cartesian.model = gridModel;
          _this._coordsMap[key] = cartesian;
          _this._coordsList.push(cartesian);
          cartesian.addAxis(xAxis);
          cartesian.addAxis(yAxis);
        });
      });
      function createAxisCreator(dimName) {
        return function(axisModel, idx) {
          if (!isAxisUsedInTheGrid(axisModel, gridModel)) {
            return;
          }
          var axisPosition = axisModel.get("position");
          if (dimName === "x") {
            if (axisPosition !== "top" && axisPosition !== "bottom") {
              axisPosition = axisPositionUsed.bottom ? "top" : "bottom";
            }
          } else {
            if (axisPosition !== "left" && axisPosition !== "right") {
              axisPosition = axisPositionUsed.left ? "right" : "left";
            }
          }
          axisPositionUsed[axisPosition] = true;
          var axis = new Axis2D$1(dimName, createScaleByModel(axisModel), [0, 0], axisModel.get("type"), axisPosition);
          var isCategory2 = axis.type === "category";
          axis.onBand = isCategory2 && axisModel.get("boundaryGap");
          axis.inverse = axisModel.get("inverse");
          axisModel.axis = axis;
          axis.model = axisModel;
          axis.grid = grid;
          axis.index = idx;
          grid._axesList.push(axis);
          axesMap[dimName][idx] = axis;
          axesCount[dimName]++;
        };
      }
    };
    Grid2.prototype._updateScale = function(ecModel, gridModel) {
      each$3(this._axesList, function(axis) {
        axis.scale.setExtent(Infinity, -Infinity);
        if (axis.type === "category") {
          var categorySortInfo = axis.model.get("categorySortInfo");
          axis.scale.setSortInfo(categorySortInfo);
        }
      });
      ecModel.eachSeries(function(seriesModel) {
        if (isCartesian2DSeries(seriesModel)) {
          var axesModelMap = findAxisModels(seriesModel);
          var xAxisModel = axesModelMap.xAxisModel;
          var yAxisModel = axesModelMap.yAxisModel;
          if (!isAxisUsedInTheGrid(xAxisModel, gridModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel)) {
            return;
          }
          var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);
          var data = seriesModel.getData();
          var xAxis = cartesian.getAxis("x");
          var yAxis = cartesian.getAxis("y");
          unionExtent(data, xAxis);
          unionExtent(data, yAxis);
        }
      }, this);
      function unionExtent(data, axis) {
        each$3(getDataDimensionsOnAxis(data, axis.dim), function(dim) {
          axis.scale.unionExtentFromData(data, dim);
        });
      }
    };
    Grid2.prototype.getTooltipAxes = function(dim) {
      var baseAxes = [];
      var otherAxes = [];
      each$3(this.getCartesians(), function(cartesian) {
        var baseAxis = dim != null && dim !== "auto" ? cartesian.getAxis(dim) : cartesian.getBaseAxis();
        var otherAxis = cartesian.getOtherAxis(baseAxis);
        indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);
        indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);
      });
      return {
        baseAxes,
        otherAxes
      };
    };
    Grid2.create = function(ecModel, api) {
      var grids = [];
      ecModel.eachComponent("grid", function(gridModel, idx) {
        var grid = new Grid2(gridModel, ecModel, api);
        grid.name = "grid_" + idx;
        grid.resize(gridModel, api, true);
        gridModel.coordinateSystem = grid;
        grids.push(grid);
      });
      ecModel.eachSeries(function(seriesModel) {
        if (!isCartesian2DSeries(seriesModel)) {
          return;
        }
        var axesModelMap = findAxisModels(seriesModel);
        var xAxisModel = axesModelMap.xAxisModel;
        var yAxisModel = axesModelMap.yAxisModel;
        var gridModel = xAxisModel.getCoordSysModel();
        {
          if (!gridModel) {
            throw new Error('Grid "' + retrieve3(xAxisModel.get("gridIndex"), xAxisModel.get("gridId"), 0) + '" not found');
          }
          if (xAxisModel.getCoordSysModel() !== yAxisModel.getCoordSysModel()) {
            throw new Error("xAxis and yAxis must use the same grid");
          }
        }
        var grid = gridModel.coordinateSystem;
        seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);
      });
      return grids;
    };
    Grid2.dimensions = cartesian2DDimensions;
    return Grid2;
  }();
  function isAxisUsedInTheGrid(axisModel, gridModel) {
    return axisModel.getCoordSysModel() === gridModel;
  }
  function fixAxisOnZero(axesMap, otherAxisDim, axis, onZeroRecords) {
    axis.getAxesOnZeroOf = function() {
      return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];
    };
    var otherAxes = axesMap[otherAxisDim];
    var otherAxisOnZeroOf;
    var axisModel = axis.model;
    var onZero = axisModel.get(["axisLine", "onZero"]);
    var onZeroAxisIndex = axisModel.get(["axisLine", "onZeroAxisIndex"]);
    if (!onZero) {
      return;
    }
    if (onZeroAxisIndex != null) {
      if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {
        otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];
      }
    } else {
      for (var idx in otherAxes) {
        if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx]) && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {
          otherAxisOnZeroOf = otherAxes[idx];
          break;
        }
      }
    }
    if (otherAxisOnZeroOf) {
      onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;
    }
    function getOnZeroRecordKey(axis2) {
      return axis2.dim + "_" + axis2.index;
    }
  }
  function canOnZeroToAxis(axis) {
    return axis && axis.type !== "category" && axis.type !== "time" && ifAxisCrossZero(axis);
  }
  function updateAxisTransform(axis, coordBase) {
    var axisExtent = axis.getExtent();
    var axisExtentSum = axisExtent[0] + axisExtent[1];
    axis.toGlobalCoord = axis.dim === "x" ? function(coord) {
      return coord + coordBase;
    } : function(coord) {
      return axisExtentSum - coord + coordBase;
    };
    axis.toLocalCoord = axis.dim === "x" ? function(coord) {
      return coord - coordBase;
    } : function(coord) {
      return axisExtentSum - coord + coordBase;
    };
  }
  var Grid$1 = Grid;
  var PI = Math.PI;
  var AxisBuilder = function() {
    function AxisBuilder2(axisModel, opt) {
      this.group = new Group$1();
      this.opt = opt;
      this.axisModel = axisModel;
      defaults(opt, {
        labelOffset: 0,
        nameDirection: 1,
        tickDirection: 1,
        labelDirection: 1,
        silent: true,
        handleAutoShown: function() {
          return true;
        }
      });
      var transformGroup = new Group$1({
        x: opt.position[0],
        y: opt.position[1],
        rotation: opt.rotation
      });
      transformGroup.updateTransform();
      this._transformGroup = transformGroup;
    }
    AxisBuilder2.prototype.hasBuilder = function(name) {
      return !!builders[name];
    };
    AxisBuilder2.prototype.add = function(name) {
      builders[name](this.opt, this.axisModel, this.group, this._transformGroup);
    };
    AxisBuilder2.prototype.getGroup = function() {
      return this.group;
    };
    AxisBuilder2.innerTextLayout = function(axisRotation, textRotation, direction) {
      var rotationDiff = remRadian(textRotation - axisRotation);
      var textAlign;
      var textVerticalAlign;
      if (isRadianAroundZero(rotationDiff)) {
        textVerticalAlign = direction > 0 ? "top" : "bottom";
        textAlign = "center";
      } else if (isRadianAroundZero(rotationDiff - PI)) {
        textVerticalAlign = direction > 0 ? "bottom" : "top";
        textAlign = "center";
      } else {
        textVerticalAlign = "middle";
        if (rotationDiff > 0 && rotationDiff < PI) {
          textAlign = direction > 0 ? "right" : "left";
        } else {
          textAlign = direction > 0 ? "left" : "right";
        }
      }
      return {
        rotation: rotationDiff,
        textAlign,
        textVerticalAlign
      };
    };
    AxisBuilder2.makeAxisEventDataBase = function(axisModel) {
      var eventData = {
        componentType: axisModel.mainType,
        componentIndex: axisModel.componentIndex
      };
      eventData[axisModel.mainType + "Index"] = axisModel.componentIndex;
      return eventData;
    };
    AxisBuilder2.isLabelSilent = function(axisModel) {
      var tooltipOpt = axisModel.get("tooltip");
      return axisModel.get("silent") || !(axisModel.get("triggerEvent") || tooltipOpt && tooltipOpt.show);
    };
    return AxisBuilder2;
  }();
  var builders = {
    axisLine: function(opt, axisModel, group, transformGroup) {
      var shown = axisModel.get(["axisLine", "show"]);
      if (shown === "auto" && opt.handleAutoShown) {
        shown = opt.handleAutoShown("axisLine");
      }
      if (!shown) {
        return;
      }
      var extent3 = axisModel.axis.getExtent();
      var matrix2 = transformGroup.transform;
      var pt1 = [extent3[0], 0];
      var pt2 = [extent3[1], 0];
      var inverse = pt1[0] > pt2[0];
      if (matrix2) {
        applyTransform$1(pt1, pt1, matrix2);
        applyTransform$1(pt2, pt2, matrix2);
      }
      var lineStyle = extend({
        lineCap: "round"
      }, axisModel.getModel(["axisLine", "lineStyle"]).getLineStyle());
      var line = new Line$1({
        shape: {
          x1: pt1[0],
          y1: pt1[1],
          x2: pt2[0],
          y2: pt2[1]
        },
        style: lineStyle,
        strokeContainThreshold: opt.strokeContainThreshold || 5,
        silent: true,
        z2: 1
      });
      subPixelOptimizeLine(line.shape, line.style.lineWidth);
      line.anid = "line";
      group.add(line);
      var arrows = axisModel.get(["axisLine", "symbol"]);
      if (arrows != null) {
        var arrowSize = axisModel.get(["axisLine", "symbolSize"]);
        if (isString(arrows)) {
          arrows = [arrows, arrows];
        }
        if (isString(arrowSize) || isNumber(arrowSize)) {
          arrowSize = [arrowSize, arrowSize];
        }
        var arrowOffset = normalizeSymbolOffset(axisModel.get(["axisLine", "symbolOffset"]) || 0, arrowSize);
        var symbolWidth_1 = arrowSize[0];
        var symbolHeight_1 = arrowSize[1];
        each$3([{
          rotate: opt.rotation + Math.PI / 2,
          offset: arrowOffset[0],
          r: 0
        }, {
          rotate: opt.rotation - Math.PI / 2,
          offset: arrowOffset[1],
          r: Math.sqrt((pt1[0] - pt2[0]) * (pt1[0] - pt2[0]) + (pt1[1] - pt2[1]) * (pt1[1] - pt2[1]))
        }], function(point, index) {
          if (arrows[index] !== "none" && arrows[index] != null) {
            var symbol = createSymbol(arrows[index], -symbolWidth_1 / 2, -symbolHeight_1 / 2, symbolWidth_1, symbolHeight_1, lineStyle.stroke, true);
            var r2 = point.r + point.offset;
            var pt3 = inverse ? pt2 : pt1;
            symbol.attr({
              rotation: point.rotate,
              x: pt3[0] + r2 * Math.cos(opt.rotation),
              y: pt3[1] - r2 * Math.sin(opt.rotation),
              silent: true,
              z2: 11
            });
            group.add(symbol);
          }
        });
      }
    },
    axisTickLabel: function(opt, axisModel, group, transformGroup) {
      var ticksEls = buildAxisMajorTicks(group, transformGroup, axisModel, opt);
      var labelEls = buildAxisLabel(group, transformGroup, axisModel, opt);
      fixMinMaxLabelShow(axisModel, labelEls, ticksEls);
      buildAxisMinorTicks(group, transformGroup, axisModel, opt.tickDirection);
      if (axisModel.get(["axisLabel", "hideOverlap"])) {
        var labelList = prepareLayoutList(map$1(labelEls, function(label) {
          return {
            label,
            priority: label.z2,
            defaultAttr: {
              ignore: label.ignore
            }
          };
        }));
        hideOverlap(labelList);
      }
    },
    axisName: function(opt, axisModel, group, transformGroup) {
      var name = retrieve(opt.axisName, axisModel.get("name"));
      if (!name) {
        return;
      }
      var nameLocation = axisModel.get("nameLocation");
      var nameDirection = opt.nameDirection;
      var textStyleModel = axisModel.getModel("nameTextStyle");
      var gap = axisModel.get("nameGap") || 0;
      var extent3 = axisModel.axis.getExtent();
      var gapSignal = extent3[0] > extent3[1] ? -1 : 1;
      var pos = [
        nameLocation === "start" ? extent3[0] - gapSignal * gap : nameLocation === "end" ? extent3[1] + gapSignal * gap : (extent3[0] + extent3[1]) / 2,
        isNameLocationCenter(nameLocation) ? opt.labelOffset + nameDirection * gap : 0
      ];
      var labelLayout;
      var nameRotation = axisModel.get("nameRotate");
      if (nameRotation != null) {
        nameRotation = nameRotation * PI / 180;
      }
      var axisNameAvailableWidth;
      if (isNameLocationCenter(nameLocation)) {
        labelLayout = AxisBuilder.innerTextLayout(opt.rotation, nameRotation != null ? nameRotation : opt.rotation, nameDirection);
      } else {
        labelLayout = endTextLayout(opt.rotation, nameLocation, nameRotation || 0, extent3);
        axisNameAvailableWidth = opt.axisNameAvailableWidth;
        if (axisNameAvailableWidth != null) {
          axisNameAvailableWidth = Math.abs(axisNameAvailableWidth / Math.sin(labelLayout.rotation));
          !isFinite(axisNameAvailableWidth) && (axisNameAvailableWidth = null);
        }
      }
      var textFont = textStyleModel.getFont();
      var truncateOpt = axisModel.get("nameTruncate", true) || {};
      var ellipsis = truncateOpt.ellipsis;
      var maxWidth = retrieve(opt.nameTruncateMaxWidth, truncateOpt.maxWidth, axisNameAvailableWidth);
      var textEl = new ZRText$1({
        x: pos[0],
        y: pos[1],
        rotation: labelLayout.rotation,
        silent: AxisBuilder.isLabelSilent(axisModel),
        style: createTextStyle$1(textStyleModel, {
          text: name,
          font: textFont,
          overflow: "truncate",
          width: maxWidth,
          ellipsis,
          fill: textStyleModel.getTextColor() || axisModel.get(["axisLine", "lineStyle", "color"]),
          align: textStyleModel.get("align") || labelLayout.textAlign,
          verticalAlign: textStyleModel.get("verticalAlign") || labelLayout.textVerticalAlign
        }),
        z2: 1
      });
      setTooltipConfig({
        el: textEl,
        componentModel: axisModel,
        itemName: name
      });
      textEl.__fullText = name;
      textEl.anid = "name";
      if (axisModel.get("triggerEvent")) {
        var eventData = AxisBuilder.makeAxisEventDataBase(axisModel);
        eventData.targetType = "axisName";
        eventData.name = name;
        getECData(textEl).eventData = eventData;
      }
      transformGroup.add(textEl);
      textEl.updateTransform();
      group.add(textEl);
      textEl.decomposeTransform();
    }
  };
  function endTextLayout(rotation, textPosition, textRotate, extent3) {
    var rotationDiff = remRadian(textRotate - rotation);
    var textAlign;
    var textVerticalAlign;
    var inverse = extent3[0] > extent3[1];
    var onLeft = textPosition === "start" && !inverse || textPosition !== "start" && inverse;
    if (isRadianAroundZero(rotationDiff - PI / 2)) {
      textVerticalAlign = onLeft ? "bottom" : "top";
      textAlign = "center";
    } else if (isRadianAroundZero(rotationDiff - PI * 1.5)) {
      textVerticalAlign = onLeft ? "top" : "bottom";
      textAlign = "center";
    } else {
      textVerticalAlign = "middle";
      if (rotationDiff < PI * 1.5 && rotationDiff > PI / 2) {
        textAlign = onLeft ? "left" : "right";
      } else {
        textAlign = onLeft ? "right" : "left";
      }
    }
    return {
      rotation: rotationDiff,
      textAlign,
      textVerticalAlign
    };
  }
  function fixMinMaxLabelShow(axisModel, labelEls, tickEls) {
    if (shouldShowAllLabels(axisModel.axis)) {
      return;
    }
    var showMinLabel = axisModel.get(["axisLabel", "showMinLabel"]);
    var showMaxLabel = axisModel.get(["axisLabel", "showMaxLabel"]);
    labelEls = labelEls || [];
    tickEls = tickEls || [];
    var firstLabel = labelEls[0];
    var nextLabel = labelEls[1];
    var lastLabel = labelEls[labelEls.length - 1];
    var prevLabel = labelEls[labelEls.length - 2];
    var firstTick = tickEls[0];
    var nextTick = tickEls[1];
    var lastTick = tickEls[tickEls.length - 1];
    var prevTick = tickEls[tickEls.length - 2];
    if (showMinLabel === false) {
      ignoreEl(firstLabel);
      ignoreEl(firstTick);
    } else if (isTwoLabelOverlapped(firstLabel, nextLabel)) {
      if (showMinLabel) {
        ignoreEl(nextLabel);
        ignoreEl(nextTick);
      } else {
        ignoreEl(firstLabel);
        ignoreEl(firstTick);
      }
    }
    if (showMaxLabel === false) {
      ignoreEl(lastLabel);
      ignoreEl(lastTick);
    } else if (isTwoLabelOverlapped(prevLabel, lastLabel)) {
      if (showMaxLabel) {
        ignoreEl(prevLabel);
        ignoreEl(prevTick);
      } else {
        ignoreEl(lastLabel);
        ignoreEl(lastTick);
      }
    }
  }
  function ignoreEl(el) {
    el && (el.ignore = true);
  }
  function isTwoLabelOverlapped(current, next) {
    var firstRect = current && current.getBoundingRect().clone();
    var nextRect = next && next.getBoundingRect().clone();
    if (!firstRect || !nextRect) {
      return;
    }
    var mRotationBack = identity([]);
    rotate(mRotationBack, mRotationBack, -current.rotation);
    firstRect.applyTransform(mul([], mRotationBack, current.getLocalTransform()));
    nextRect.applyTransform(mul([], mRotationBack, next.getLocalTransform()));
    return firstRect.intersect(nextRect);
  }
  function isNameLocationCenter(nameLocation) {
    return nameLocation === "middle" || nameLocation === "center";
  }
  function createTicks(ticksCoords, tickTransform, tickEndCoord, tickLineStyle, anidPrefix) {
    var tickEls = [];
    var pt1 = [];
    var pt2 = [];
    for (var i2 = 0; i2 < ticksCoords.length; i2++) {
      var tickCoord = ticksCoords[i2].coord;
      pt1[0] = tickCoord;
      pt1[1] = 0;
      pt2[0] = tickCoord;
      pt2[1] = tickEndCoord;
      if (tickTransform) {
        applyTransform$1(pt1, pt1, tickTransform);
        applyTransform$1(pt2, pt2, tickTransform);
      }
      var tickEl = new Line$1({
        shape: {
          x1: pt1[0],
          y1: pt1[1],
          x2: pt2[0],
          y2: pt2[1]
        },
        style: tickLineStyle,
        z2: 2,
        autoBatch: true,
        silent: true
      });
      subPixelOptimizeLine(tickEl.shape, tickEl.style.lineWidth);
      tickEl.anid = anidPrefix + "_" + ticksCoords[i2].tickValue;
      tickEls.push(tickEl);
    }
    return tickEls;
  }
  function buildAxisMajorTicks(group, transformGroup, axisModel, opt) {
    var axis = axisModel.axis;
    var tickModel = axisModel.getModel("axisTick");
    var shown = tickModel.get("show");
    if (shown === "auto" && opt.handleAutoShown) {
      shown = opt.handleAutoShown("axisTick");
    }
    if (!shown || axis.scale.isBlank()) {
      return;
    }
    var lineStyleModel = tickModel.getModel("lineStyle");
    var tickEndCoord = opt.tickDirection * tickModel.get("length");
    var ticksCoords = axis.getTicksCoords();
    var ticksEls = createTicks(ticksCoords, transformGroup.transform, tickEndCoord, defaults(lineStyleModel.getLineStyle(), {
      stroke: axisModel.get(["axisLine", "lineStyle", "color"])
    }), "ticks");
    for (var i2 = 0; i2 < ticksEls.length; i2++) {
      group.add(ticksEls[i2]);
    }
    return ticksEls;
  }
  function buildAxisMinorTicks(group, transformGroup, axisModel, tickDirection) {
    var axis = axisModel.axis;
    var minorTickModel = axisModel.getModel("minorTick");
    if (!minorTickModel.get("show") || axis.scale.isBlank()) {
      return;
    }
    var minorTicksCoords = axis.getMinorTicksCoords();
    if (!minorTicksCoords.length) {
      return;
    }
    var lineStyleModel = minorTickModel.getModel("lineStyle");
    var tickEndCoord = tickDirection * minorTickModel.get("length");
    var minorTickLineStyle = defaults(lineStyleModel.getLineStyle(), defaults(axisModel.getModel("axisTick").getLineStyle(), {
      stroke: axisModel.get(["axisLine", "lineStyle", "color"])
    }));
    for (var i2 = 0; i2 < minorTicksCoords.length; i2++) {
      var minorTicksEls = createTicks(minorTicksCoords[i2], transformGroup.transform, tickEndCoord, minorTickLineStyle, "minorticks_" + i2);
      for (var k2 = 0; k2 < minorTicksEls.length; k2++) {
        group.add(minorTicksEls[k2]);
      }
    }
  }
  function buildAxisLabel(group, transformGroup, axisModel, opt) {
    var axis = axisModel.axis;
    var show = retrieve(opt.axisLabelShow, axisModel.get(["axisLabel", "show"]));
    if (!show || axis.scale.isBlank()) {
      return;
    }
    var labelModel = axisModel.getModel("axisLabel");
    var labelMargin = labelModel.get("margin");
    var labels = axis.getViewLabels();
    var labelRotation = (retrieve(opt.labelRotate, labelModel.get("rotate")) || 0) * PI / 180;
    var labelLayout = AxisBuilder.innerTextLayout(opt.rotation, labelRotation, opt.labelDirection);
    var rawCategoryData = axisModel.getCategories && axisModel.getCategories(true);
    var labelEls = [];
    var silent = AxisBuilder.isLabelSilent(axisModel);
    var triggerEvent = axisModel.get("triggerEvent");
    each$3(labels, function(labelItem, index) {
      var tickValue = axis.scale.type === "ordinal" ? axis.scale.getRawOrdinalNumber(labelItem.tickValue) : labelItem.tickValue;
      var formattedLabel = labelItem.formattedLabel;
      var rawLabel = labelItem.rawLabel;
      var itemLabelModel = labelModel;
      if (rawCategoryData && rawCategoryData[tickValue]) {
        var rawCategoryItem = rawCategoryData[tickValue];
        if (isObject$2(rawCategoryItem) && rawCategoryItem.textStyle) {
          itemLabelModel = new Model$1(rawCategoryItem.textStyle, labelModel, axisModel.ecModel);
        }
      }
      var textColor = itemLabelModel.getTextColor() || axisModel.get(["axisLine", "lineStyle", "color"]);
      var tickCoord = axis.dataToCoord(tickValue);
      var textEl = new ZRText$1({
        x: tickCoord,
        y: opt.labelOffset + opt.labelDirection * labelMargin,
        rotation: labelLayout.rotation,
        silent,
        z2: 10 + (labelItem.level || 0),
        style: createTextStyle$1(itemLabelModel, {
          text: formattedLabel,
          align: itemLabelModel.getShallow("align", true) || labelLayout.textAlign,
          verticalAlign: itemLabelModel.getShallow("verticalAlign", true) || itemLabelModel.getShallow("baseline", true) || labelLayout.textVerticalAlign,
          fill: isFunction(textColor) ? textColor(axis.type === "category" ? rawLabel : axis.type === "value" ? tickValue + "" : tickValue, index) : textColor
        })
      });
      textEl.anid = "label_" + tickValue;
      if (triggerEvent) {
        var eventData = AxisBuilder.makeAxisEventDataBase(axisModel);
        eventData.targetType = "axisLabel";
        eventData.value = rawLabel;
        eventData.tickIndex = index;
        if (axis.type === "category") {
          eventData.dataIndex = tickValue;
        }
        getECData(textEl).eventData = eventData;
      }
      transformGroup.add(textEl);
      textEl.updateTransform();
      labelEls.push(textEl);
      group.add(textEl);
      textEl.decomposeTransform();
    });
    return labelEls;
  }
  var AxisBuilder$1 = AxisBuilder;
  function collect(ecModel, api) {
    var result = {
      axesInfo: {},
      seriesInvolved: false,
      coordSysAxesInfo: {},
      coordSysMap: {}
    };
    collectAxesInfo(result, ecModel, api);
    result.seriesInvolved && collectSeriesInfo(result, ecModel);
    return result;
  }
  function collectAxesInfo(result, ecModel, api) {
    var globalTooltipModel = ecModel.getComponent("tooltip");
    var globalAxisPointerModel = ecModel.getComponent("axisPointer");
    var linksOption = globalAxisPointerModel.get("link", true) || [];
    var linkGroups = [];
    each$3(api.getCoordinateSystems(), function(coordSys) {
      if (!coordSys.axisPointerEnabled) {
        return;
      }
      var coordSysKey = makeKey(coordSys.model);
      var axesInfoInCoordSys = result.coordSysAxesInfo[coordSysKey] = {};
      result.coordSysMap[coordSysKey] = coordSys;
      var coordSysModel = coordSys.model;
      var baseTooltipModel = coordSysModel.getModel("tooltip", globalTooltipModel);
      each$3(coordSys.getAxes(), curry(saveTooltipAxisInfo, false, null));
      if (coordSys.getTooltipAxes && globalTooltipModel && baseTooltipModel.get("show")) {
        var triggerAxis = baseTooltipModel.get("trigger") === "axis";
        var cross = baseTooltipModel.get(["axisPointer", "type"]) === "cross";
        var tooltipAxes = coordSys.getTooltipAxes(baseTooltipModel.get(["axisPointer", "axis"]));
        if (triggerAxis || cross) {
          each$3(tooltipAxes.baseAxes, curry(saveTooltipAxisInfo, cross ? "cross" : true, triggerAxis));
        }
        if (cross) {
          each$3(tooltipAxes.otherAxes, curry(saveTooltipAxisInfo, "cross", false));
        }
      }
      function saveTooltipAxisInfo(fromTooltip, triggerTooltip, axis) {
        var axisPointerModel = axis.model.getModel("axisPointer", globalAxisPointerModel);
        var axisPointerShow = axisPointerModel.get("show");
        if (!axisPointerShow || axisPointerShow === "auto" && !fromTooltip && !isHandleTrigger(axisPointerModel)) {
          return;
        }
        if (triggerTooltip == null) {
          triggerTooltip = axisPointerModel.get("triggerTooltip");
        }
        axisPointerModel = fromTooltip ? makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) : axisPointerModel;
        var snap = axisPointerModel.get("snap");
        var triggerEmphasis = axisPointerModel.get("triggerEmphasis");
        var axisKey = makeKey(axis.model);
        var involveSeries = triggerTooltip || snap || axis.type === "category";
        var axisInfo = result.axesInfo[axisKey] = {
          key: axisKey,
          axis,
          coordSys,
          axisPointerModel,
          triggerTooltip,
          triggerEmphasis,
          involveSeries,
          snap,
          useHandle: isHandleTrigger(axisPointerModel),
          seriesModels: [],
          linkGroup: null
        };
        axesInfoInCoordSys[axisKey] = axisInfo;
        result.seriesInvolved = result.seriesInvolved || involveSeries;
        var groupIndex = getLinkGroupIndex(linksOption, axis);
        if (groupIndex != null) {
          var linkGroup = linkGroups[groupIndex] || (linkGroups[groupIndex] = {
            axesInfo: {}
          });
          linkGroup.axesInfo[axisKey] = axisInfo;
          linkGroup.mapper = linksOption[groupIndex].mapper;
          axisInfo.linkGroup = linkGroup;
        }
      }
    });
  }
  function makeAxisPointerModel(axis, baseTooltipModel, globalAxisPointerModel, ecModel, fromTooltip, triggerTooltip) {
    var tooltipAxisPointerModel = baseTooltipModel.getModel("axisPointer");
    var fields = ["type", "snap", "lineStyle", "shadowStyle", "label", "animation", "animationDurationUpdate", "animationEasingUpdate", "z"];
    var volatileOption = {};
    each$3(fields, function(field) {
      volatileOption[field] = clone$3(tooltipAxisPointerModel.get(field));
    });
    volatileOption.snap = axis.type !== "category" && !!triggerTooltip;
    if (tooltipAxisPointerModel.get("type") === "cross") {
      volatileOption.type = "line";
    }
    var labelOption = volatileOption.label || (volatileOption.label = {});
    labelOption.show == null && (labelOption.show = false);
    if (fromTooltip === "cross") {
      var tooltipAxisPointerLabelShow = tooltipAxisPointerModel.get(["label", "show"]);
      labelOption.show = tooltipAxisPointerLabelShow != null ? tooltipAxisPointerLabelShow : true;
      if (!triggerTooltip) {
        var crossStyle = volatileOption.lineStyle = tooltipAxisPointerModel.get("crossStyle");
        crossStyle && defaults(labelOption, crossStyle.textStyle);
      }
    }
    return axis.model.getModel("axisPointer", new Model$1(volatileOption, globalAxisPointerModel, ecModel));
  }
  function collectSeriesInfo(result, ecModel) {
    ecModel.eachSeries(function(seriesModel) {
      var coordSys = seriesModel.coordinateSystem;
      var seriesTooltipTrigger = seriesModel.get(["tooltip", "trigger"], true);
      var seriesTooltipShow = seriesModel.get(["tooltip", "show"], true);
      if (!coordSys || seriesTooltipTrigger === "none" || seriesTooltipTrigger === false || seriesTooltipTrigger === "item" || seriesTooltipShow === false || seriesModel.get(["axisPointer", "show"], true) === false) {
        return;
      }
      each$3(result.coordSysAxesInfo[makeKey(coordSys.model)], function(axisInfo) {
        var axis = axisInfo.axis;
        if (coordSys.getAxis(axis.dim) === axis) {
          axisInfo.seriesModels.push(seriesModel);
          axisInfo.seriesDataCount == null && (axisInfo.seriesDataCount = 0);
          axisInfo.seriesDataCount += seriesModel.getData().count();
        }
      });
    });
  }
  function getLinkGroupIndex(linksOption, axis) {
    var axisModel = axis.model;
    var dim = axis.dim;
    for (var i2 = 0; i2 < linksOption.length; i2++) {
      var linkOption = linksOption[i2] || {};
      if (checkPropInLink(linkOption[dim + "AxisId"], axisModel.id) || checkPropInLink(linkOption[dim + "AxisIndex"], axisModel.componentIndex) || checkPropInLink(linkOption[dim + "AxisName"], axisModel.name)) {
        return i2;
      }
    }
  }
  function checkPropInLink(linkPropValue, axisPropValue) {
    return linkPropValue === "all" || isArray(linkPropValue) && indexOf(linkPropValue, axisPropValue) >= 0 || linkPropValue === axisPropValue;
  }
  function fixValue(axisModel) {
    var axisInfo = getAxisInfo(axisModel);
    if (!axisInfo) {
      return;
    }
    var axisPointerModel = axisInfo.axisPointerModel;
    var scale2 = axisInfo.axis.scale;
    var option = axisPointerModel.option;
    var status = axisPointerModel.get("status");
    var value = axisPointerModel.get("value");
    if (value != null) {
      value = scale2.parse(value);
    }
    var useHandle = isHandleTrigger(axisPointerModel);
    if (status == null) {
      option.status = useHandle ? "show" : "hide";
    }
    var extent3 = scale2.getExtent().slice();
    extent3[0] > extent3[1] && extent3.reverse();
    if (value == null || value > extent3[1]) {
      value = extent3[1];
    }
    if (value < extent3[0]) {
      value = extent3[0];
    }
    option.value = value;
    if (useHandle) {
      option.status = axisInfo.axis.scale.isBlank() ? "hide" : "show";
    }
  }
  function getAxisInfo(axisModel) {
    var coordSysAxesInfo = (axisModel.ecModel.getComponent("axisPointer") || {}).coordSysAxesInfo;
    return coordSysAxesInfo && coordSysAxesInfo.axesInfo[makeKey(axisModel)];
  }
  function getAxisPointerModel(axisModel) {
    var axisInfo = getAxisInfo(axisModel);
    return axisInfo && axisInfo.axisPointerModel;
  }
  function isHandleTrigger(axisPointerModel) {
    return !!axisPointerModel.get(["handle", "show"]);
  }
  function makeKey(model) {
    return model.type + "||" + model.id;
  }
  var axisPointerClazz = {};
  var AxisView = function(_super) {
    __extends(AxisView2, _super);
    function AxisView2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = AxisView2.type;
      return _this;
    }
    AxisView2.prototype.render = function(axisModel, ecModel, api, payload) {
      this.axisPointerClass && fixValue(axisModel);
      _super.prototype.render.apply(this, arguments);
      this._doUpdateAxisPointerClass(axisModel, api, true);
    };
    AxisView2.prototype.updateAxisPointer = function(axisModel, ecModel, api, payload) {
      this._doUpdateAxisPointerClass(axisModel, api, false);
    };
    AxisView2.prototype.remove = function(ecModel, api) {
      var axisPointer = this._axisPointer;
      axisPointer && axisPointer.remove(api);
    };
    AxisView2.prototype.dispose = function(ecModel, api) {
      this._disposeAxisPointer(api);
      _super.prototype.dispose.apply(this, arguments);
    };
    AxisView2.prototype._doUpdateAxisPointerClass = function(axisModel, api, forceRender) {
      var Clazz = AxisView2.getAxisPointerClass(this.axisPointerClass);
      if (!Clazz) {
        return;
      }
      var axisPointerModel = getAxisPointerModel(axisModel);
      axisPointerModel ? (this._axisPointer || (this._axisPointer = new Clazz())).render(axisModel, axisPointerModel, api, forceRender) : this._disposeAxisPointer(api);
    };
    AxisView2.prototype._disposeAxisPointer = function(api) {
      this._axisPointer && this._axisPointer.dispose(api);
      this._axisPointer = null;
    };
    AxisView2.registerAxisPointerClass = function(type, clazz) {
      {
        if (axisPointerClazz[type]) {
          throw new Error("axisPointer " + type + " exists");
        }
      }
      axisPointerClazz[type] = clazz;
    };
    AxisView2.getAxisPointerClass = function(type) {
      return type && axisPointerClazz[type];
    };
    AxisView2.type = "axis";
    return AxisView2;
  }(ComponentView$1);
  var AxisView$1 = AxisView;
  var inner$3 = makeInner();
  function rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel) {
    var axis = axisModel.axis;
    if (axis.scale.isBlank()) {
      return;
    }
    var splitAreaModel = axisModel.getModel("splitArea");
    var areaStyleModel = splitAreaModel.getModel("areaStyle");
    var areaColors = areaStyleModel.get("color");
    var gridRect = gridModel.coordinateSystem.getRect();
    var ticksCoords = axis.getTicksCoords({
      tickModel: splitAreaModel,
      clamp: true
    });
    if (!ticksCoords.length) {
      return;
    }
    var areaColorsLen = areaColors.length;
    var lastSplitAreaColors = inner$3(axisView).splitAreaColors;
    var newSplitAreaColors = createHashMap();
    var colorIndex = 0;
    if (lastSplitAreaColors) {
      for (var i2 = 0; i2 < ticksCoords.length; i2++) {
        var cIndex = lastSplitAreaColors.get(ticksCoords[i2].tickValue);
        if (cIndex != null) {
          colorIndex = (cIndex + (areaColorsLen - 1) * i2) % areaColorsLen;
          break;
        }
      }
    }
    var prev = axis.toGlobalCoord(ticksCoords[0].coord);
    var areaStyle = areaStyleModel.getAreaStyle();
    areaColors = isArray(areaColors) ? areaColors : [areaColors];
    for (var i2 = 1; i2 < ticksCoords.length; i2++) {
      var tickCoord = axis.toGlobalCoord(ticksCoords[i2].coord);
      var x2 = void 0;
      var y = void 0;
      var width = void 0;
      var height = void 0;
      if (axis.isHorizontal()) {
        x2 = prev;
        y = gridRect.y;
        width = tickCoord - x2;
        height = gridRect.height;
        prev = x2 + width;
      } else {
        x2 = gridRect.x;
        y = prev;
        width = gridRect.width;
        height = tickCoord - y;
        prev = y + height;
      }
      var tickValue = ticksCoords[i2 - 1].tickValue;
      tickValue != null && newSplitAreaColors.set(tickValue, colorIndex);
      axisGroup.add(new Rect$1({
        anid: tickValue != null ? "area_" + tickValue : null,
        shape: {
          x: x2,
          y,
          width,
          height
        },
        style: defaults({
          fill: areaColors[colorIndex]
        }, areaStyle),
        autoBatch: true,
        silent: true
      }));
      colorIndex = (colorIndex + 1) % areaColorsLen;
    }
    inner$3(axisView).splitAreaColors = newSplitAreaColors;
  }
  function rectCoordAxisHandleRemove(axisView) {
    inner$3(axisView).splitAreaColors = null;
  }
  var axisBuilderAttrs = ["axisLine", "axisTickLabel", "axisName"];
  var selfBuilderAttrs = ["splitArea", "splitLine", "minorSplitLine"];
  var CartesianAxisView = function(_super) {
    __extends(CartesianAxisView2, _super);
    function CartesianAxisView2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = CartesianAxisView2.type;
      _this.axisPointerClass = "CartesianAxisPointer";
      return _this;
    }
    CartesianAxisView2.prototype.render = function(axisModel, ecModel, api, payload) {
      this.group.removeAll();
      var oldAxisGroup = this._axisGroup;
      this._axisGroup = new Group$1();
      this.group.add(this._axisGroup);
      if (!axisModel.get("show")) {
        return;
      }
      var gridModel = axisModel.getCoordSysModel();
      var layout$1 = layout(gridModel, axisModel);
      var axisBuilder = new AxisBuilder$1(axisModel, extend({
        handleAutoShown: function(elementType) {
          var cartesians = gridModel.coordinateSystem.getCartesians();
          for (var i2 = 0; i2 < cartesians.length; i2++) {
            if (isIntervalOrLogScale(cartesians[i2].getOtherAxis(axisModel.axis).scale)) {
              return true;
            }
          }
          return false;
        }
      }, layout$1));
      each$3(axisBuilderAttrs, axisBuilder.add, axisBuilder);
      this._axisGroup.add(axisBuilder.getGroup());
      each$3(selfBuilderAttrs, function(name) {
        if (axisModel.get([name, "show"])) {
          axisElementBuilders[name](this, this._axisGroup, axisModel, gridModel);
        }
      }, this);
      var isInitialSortFromBarRacing = payload && payload.type === "changeAxisOrder" && payload.isInitSort;
      if (!isInitialSortFromBarRacing) {
        groupTransition(oldAxisGroup, this._axisGroup, axisModel);
      }
      _super.prototype.render.call(this, axisModel, ecModel, api, payload);
    };
    CartesianAxisView2.prototype.remove = function() {
      rectCoordAxisHandleRemove(this);
    };
    CartesianAxisView2.type = "cartesianAxis";
    return CartesianAxisView2;
  }(AxisView$1);
  var axisElementBuilders = {
    splitLine: function(axisView, axisGroup, axisModel, gridModel) {
      var axis = axisModel.axis;
      if (axis.scale.isBlank()) {
        return;
      }
      var splitLineModel = axisModel.getModel("splitLine");
      var lineStyleModel = splitLineModel.getModel("lineStyle");
      var lineColors = lineStyleModel.get("color");
      lineColors = isArray(lineColors) ? lineColors : [lineColors];
      var gridRect = gridModel.coordinateSystem.getRect();
      var isHorizontal = axis.isHorizontal();
      var lineCount = 0;
      var ticksCoords = axis.getTicksCoords({
        tickModel: splitLineModel
      });
      var p1 = [];
      var p2 = [];
      var lineStyle = lineStyleModel.getLineStyle();
      for (var i2 = 0; i2 < ticksCoords.length; i2++) {
        var tickCoord = axis.toGlobalCoord(ticksCoords[i2].coord);
        if (isHorizontal) {
          p1[0] = tickCoord;
          p1[1] = gridRect.y;
          p2[0] = tickCoord;
          p2[1] = gridRect.y + gridRect.height;
        } else {
          p1[0] = gridRect.x;
          p1[1] = tickCoord;
          p2[0] = gridRect.x + gridRect.width;
          p2[1] = tickCoord;
        }
        var colorIndex = lineCount++ % lineColors.length;
        var tickValue = ticksCoords[i2].tickValue;
        var line = new Line$1({
          anid: tickValue != null ? "line_" + ticksCoords[i2].tickValue : null,
          autoBatch: true,
          shape: {
            x1: p1[0],
            y1: p1[1],
            x2: p2[0],
            y2: p2[1]
          },
          style: defaults({
            stroke: lineColors[colorIndex]
          }, lineStyle),
          silent: true
        });
        subPixelOptimizeLine(line.shape, lineStyle.lineWidth);
        axisGroup.add(line);
      }
    },
    minorSplitLine: function(axisView, axisGroup, axisModel, gridModel) {
      var axis = axisModel.axis;
      var minorSplitLineModel = axisModel.getModel("minorSplitLine");
      var lineStyleModel = minorSplitLineModel.getModel("lineStyle");
      var gridRect = gridModel.coordinateSystem.getRect();
      var isHorizontal = axis.isHorizontal();
      var minorTicksCoords = axis.getMinorTicksCoords();
      if (!minorTicksCoords.length) {
        return;
      }
      var p1 = [];
      var p2 = [];
      var lineStyle = lineStyleModel.getLineStyle();
      for (var i2 = 0; i2 < minorTicksCoords.length; i2++) {
        for (var k2 = 0; k2 < minorTicksCoords[i2].length; k2++) {
          var tickCoord = axis.toGlobalCoord(minorTicksCoords[i2][k2].coord);
          if (isHorizontal) {
            p1[0] = tickCoord;
            p1[1] = gridRect.y;
            p2[0] = tickCoord;
            p2[1] = gridRect.y + gridRect.height;
          } else {
            p1[0] = gridRect.x;
            p1[1] = tickCoord;
            p2[0] = gridRect.x + gridRect.width;
            p2[1] = tickCoord;
          }
          var line = new Line$1({
            anid: "minor_line_" + minorTicksCoords[i2][k2].tickValue,
            autoBatch: true,
            shape: {
              x1: p1[0],
              y1: p1[1],
              x2: p2[0],
              y2: p2[1]
            },
            style: lineStyle,
            silent: true
          });
          subPixelOptimizeLine(line.shape, lineStyle.lineWidth);
          axisGroup.add(line);
        }
      }
    },
    splitArea: function(axisView, axisGroup, axisModel, gridModel) {
      rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel);
    }
  };
  var CartesianXAxisView = function(_super) {
    __extends(CartesianXAxisView2, _super);
    function CartesianXAxisView2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = CartesianXAxisView2.type;
      return _this;
    }
    CartesianXAxisView2.type = "xAxis";
    return CartesianXAxisView2;
  }(CartesianAxisView);
  var CartesianYAxisView = function(_super) {
    __extends(CartesianYAxisView2, _super);
    function CartesianYAxisView2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = CartesianXAxisView.type;
      return _this;
    }
    CartesianYAxisView2.type = "yAxis";
    return CartesianYAxisView2;
  }(CartesianAxisView);
  var GridView = function(_super) {
    __extends(GridView2, _super);
    function GridView2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = "grid";
      return _this;
    }
    GridView2.prototype.render = function(gridModel, ecModel) {
      this.group.removeAll();
      if (gridModel.get("show")) {
        this.group.add(new Rect$1({
          shape: gridModel.coordinateSystem.getRect(),
          style: defaults({
            fill: gridModel.get("backgroundColor")
          }, gridModel.getItemStyle()),
          silent: true,
          z2: -1
        }));
      }
    };
    GridView2.type = "grid";
    return GridView2;
  }(ComponentView$1);
  var extraOption = {
    offset: 0
  };
  function install$4(registers) {
    registers.registerComponentView(GridView);
    registers.registerComponentModel(GridModel$1);
    registers.registerCoordinateSystem("cartesian2d", Grid$1);
    axisModelCreator(registers, "x", CartesianAxisModel, extraOption);
    axisModelCreator(registers, "y", CartesianAxisModel, extraOption);
    registers.registerComponentView(CartesianXAxisView);
    registers.registerComponentView(CartesianYAxisView);
    registers.registerPreprocessor(function(option) {
      if (option.xAxis && option.yAxis && !option.grid) {
        option.grid = {};
      }
    });
  }
  var inner$2 = makeInner();
  var clone = clone$3;
  var bind = bind$1;
  var BaseAxisPointer = function() {
    function BaseAxisPointer2() {
      this._dragging = false;
      this.animationThreshold = 15;
    }
    BaseAxisPointer2.prototype.render = function(axisModel, axisPointerModel, api, forceRender) {
      var value = axisPointerModel.get("value");
      var status = axisPointerModel.get("status");
      this._axisModel = axisModel;
      this._axisPointerModel = axisPointerModel;
      this._api = api;
      if (!forceRender && this._lastValue === value && this._lastStatus === status) {
        return;
      }
      this._lastValue = value;
      this._lastStatus = status;
      var group = this._group;
      var handle = this._handle;
      if (!status || status === "hide") {
        group && group.hide();
        handle && handle.hide();
        return;
      }
      group && group.show();
      handle && handle.show();
      var elOption = {};
      this.makeElOption(elOption, value, axisModel, axisPointerModel, api);
      var graphicKey = elOption.graphicKey;
      if (graphicKey !== this._lastGraphicKey) {
        this.clear(api);
      }
      this._lastGraphicKey = graphicKey;
      var moveAnimation = this._moveAnimation = this.determineAnimation(axisModel, axisPointerModel);
      if (!group) {
        group = this._group = new Group$1();
        this.createPointerEl(group, elOption, axisModel, axisPointerModel);
        this.createLabelEl(group, elOption, axisModel, axisPointerModel);
        api.getZr().add(group);
      } else {
        var doUpdateProps = curry(updateProps, axisPointerModel, moveAnimation);
        this.updatePointerEl(group, elOption, doUpdateProps);
        this.updateLabelEl(group, elOption, doUpdateProps, axisPointerModel);
      }
      updateMandatoryProps(group, axisPointerModel, true);
      this._renderHandle(value);
    };
    BaseAxisPointer2.prototype.remove = function(api) {
      this.clear(api);
    };
    BaseAxisPointer2.prototype.dispose = function(api) {
      this.clear(api);
    };
    BaseAxisPointer2.prototype.determineAnimation = function(axisModel, axisPointerModel) {
      var animation = axisPointerModel.get("animation");
      var axis = axisModel.axis;
      var isCategoryAxis = axis.type === "category";
      var useSnap = axisPointerModel.get("snap");
      if (!useSnap && !isCategoryAxis) {
        return false;
      }
      if (animation === "auto" || animation == null) {
        var animationThreshold = this.animationThreshold;
        if (isCategoryAxis && axis.getBandWidth() > animationThreshold) {
          return true;
        }
        if (useSnap) {
          var seriesDataCount = getAxisInfo(axisModel).seriesDataCount;
          var axisExtent = axis.getExtent();
          return Math.abs(axisExtent[0] - axisExtent[1]) / seriesDataCount > animationThreshold;
        }
        return false;
      }
      return animation === true;
    };
    BaseAxisPointer2.prototype.makeElOption = function(elOption, value, axisModel, axisPointerModel, api) {
    };
    BaseAxisPointer2.prototype.createPointerEl = function(group, elOption, axisModel, axisPointerModel) {
      var pointerOption = elOption.pointer;
      if (pointerOption) {
        var pointerEl = inner$2(group).pointerEl = new graphic$1[pointerOption.type](clone(elOption.pointer));
        group.add(pointerEl);
      }
    };
    BaseAxisPointer2.prototype.createLabelEl = function(group, elOption, axisModel, axisPointerModel) {
      if (elOption.label) {
        var labelEl = inner$2(group).labelEl = new ZRText$1(clone(elOption.label));
        group.add(labelEl);
        updateLabelShowHide(labelEl, axisPointerModel);
      }
    };
    BaseAxisPointer2.prototype.updatePointerEl = function(group, elOption, updateProps2) {
      var pointerEl = inner$2(group).pointerEl;
      if (pointerEl && elOption.pointer) {
        pointerEl.setStyle(elOption.pointer.style);
        updateProps2(pointerEl, {
          shape: elOption.pointer.shape
        });
      }
    };
    BaseAxisPointer2.prototype.updateLabelEl = function(group, elOption, updateProps2, axisPointerModel) {
      var labelEl = inner$2(group).labelEl;
      if (labelEl) {
        labelEl.setStyle(elOption.label.style);
        updateProps2(labelEl, {
          x: elOption.label.x,
          y: elOption.label.y
        });
        updateLabelShowHide(labelEl, axisPointerModel);
      }
    };
    BaseAxisPointer2.prototype._renderHandle = function(value) {
      if (this._dragging || !this.updateHandleTransform) {
        return;
      }
      var axisPointerModel = this._axisPointerModel;
      var zr = this._api.getZr();
      var handle = this._handle;
      var handleModel = axisPointerModel.getModel("handle");
      var status = axisPointerModel.get("status");
      if (!handleModel.get("show") || !status || status === "hide") {
        handle && zr.remove(handle);
        this._handle = null;
        return;
      }
      var isInit;
      if (!this._handle) {
        isInit = true;
        handle = this._handle = createIcon(handleModel.get("icon"), {
          cursor: "move",
          draggable: true,
          onmousemove: function(e2) {
            stop(e2.event);
          },
          onmousedown: bind(this._onHandleDragMove, this, 0, 0),
          drift: bind(this._onHandleDragMove, this),
          ondragend: bind(this._onHandleDragEnd, this)
        });
        zr.add(handle);
      }
      updateMandatoryProps(handle, axisPointerModel, false);
      handle.setStyle(handleModel.getItemStyle(null, ["color", "borderColor", "borderWidth", "opacity", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"]));
      var handleSize = handleModel.get("size");
      if (!isArray(handleSize)) {
        handleSize = [handleSize, handleSize];
      }
      handle.scaleX = handleSize[0] / 2;
      handle.scaleY = handleSize[1] / 2;
      createOrUpdate(this, "_doDispatchAxisPointer", handleModel.get("throttle") || 0, "fixRate");
      this._moveHandleToValue(value, isInit);
    };
    BaseAxisPointer2.prototype._moveHandleToValue = function(value, isInit) {
      updateProps(this._axisPointerModel, !isInit && this._moveAnimation, this._handle, getHandleTransProps(this.getHandleTransform(value, this._axisModel, this._axisPointerModel)));
    };
    BaseAxisPointer2.prototype._onHandleDragMove = function(dx, dy) {
      var handle = this._handle;
      if (!handle) {
        return;
      }
      this._dragging = true;
      var trans = this.updateHandleTransform(getHandleTransProps(handle), [dx, dy], this._axisModel, this._axisPointerModel);
      this._payloadInfo = trans;
      handle.stopAnimation();
      handle.attr(getHandleTransProps(trans));
      inner$2(handle).lastProp = null;
      this._doDispatchAxisPointer();
    };
    BaseAxisPointer2.prototype._doDispatchAxisPointer = function() {
      var handle = this._handle;
      if (!handle) {
        return;
      }
      var payloadInfo = this._payloadInfo;
      var axisModel = this._axisModel;
      this._api.dispatchAction({
        type: "updateAxisPointer",
        x: payloadInfo.cursorPoint[0],
        y: payloadInfo.cursorPoint[1],
        tooltipOption: payloadInfo.tooltipOption,
        axesInfo: [{
          axisDim: axisModel.axis.dim,
          axisIndex: axisModel.componentIndex
        }]
      });
    };
    BaseAxisPointer2.prototype._onHandleDragEnd = function() {
      this._dragging = false;
      var handle = this._handle;
      if (!handle) {
        return;
      }
      var value = this._axisPointerModel.get("value");
      this._moveHandleToValue(value);
      this._api.dispatchAction({
        type: "hideTip"
      });
    };
    BaseAxisPointer2.prototype.clear = function(api) {
      this._lastValue = null;
      this._lastStatus = null;
      var zr = api.getZr();
      var group = this._group;
      var handle = this._handle;
      if (zr && group) {
        this._lastGraphicKey = null;
        group && zr.remove(group);
        handle && zr.remove(handle);
        this._group = null;
        this._handle = null;
        this._payloadInfo = null;
      }
      clear(this, "_doDispatchAxisPointer");
    };
    BaseAxisPointer2.prototype.doClear = function() {
    };
    BaseAxisPointer2.prototype.buildLabel = function(xy, wh, xDimIndex) {
      xDimIndex = xDimIndex || 0;
      return {
        x: xy[xDimIndex],
        y: xy[1 - xDimIndex],
        width: wh[xDimIndex],
        height: wh[1 - xDimIndex]
      };
    };
    return BaseAxisPointer2;
  }();
  function updateProps(animationModel, moveAnimation, el, props) {
    if (!propsEqual(inner$2(el).lastProp, props)) {
      inner$2(el).lastProp = props;
      moveAnimation ? updateProps$1(el, props, animationModel) : (el.stopAnimation(), el.attr(props));
    }
  }
  function propsEqual(lastProps, newProps) {
    if (isObject$2(lastProps) && isObject$2(newProps)) {
      var equals_1 = true;
      each$3(newProps, function(item, key) {
        equals_1 = equals_1 && propsEqual(lastProps[key], item);
      });
      return !!equals_1;
    } else {
      return lastProps === newProps;
    }
  }
  function updateLabelShowHide(labelEl, axisPointerModel) {
    labelEl[axisPointerModel.get(["label", "show"]) ? "show" : "hide"]();
  }
  function getHandleTransProps(trans) {
    return {
      x: trans.x || 0,
      y: trans.y || 0,
      rotation: trans.rotation || 0
    };
  }
  function updateMandatoryProps(group, axisPointerModel, silent) {
    var z2 = axisPointerModel.get("z");
    var zlevel = axisPointerModel.get("zlevel");
    group && group.traverse(function(el) {
      if (el.type !== "group") {
        z2 != null && (el.z = z2);
        zlevel != null && (el.zlevel = zlevel);
        el.silent = silent;
      }
    });
  }
  var BaseAxisPointer$1 = BaseAxisPointer;
  function buildElStyle(axisPointerModel) {
    var axisPointerType = axisPointerModel.get("type");
    var styleModel = axisPointerModel.getModel(axisPointerType + "Style");
    var style;
    if (axisPointerType === "line") {
      style = styleModel.getLineStyle();
      style.fill = null;
    } else if (axisPointerType === "shadow") {
      style = styleModel.getAreaStyle();
      style.stroke = null;
    }
    return style;
  }
  function buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos) {
    var value = axisPointerModel.get("value");
    var text = getValueLabel(value, axisModel.axis, axisModel.ecModel, axisPointerModel.get("seriesDataIndices"), {
      precision: axisPointerModel.get(["label", "precision"]),
      formatter: axisPointerModel.get(["label", "formatter"])
    });
    var labelModel = axisPointerModel.getModel("label");
    var paddings = normalizeCssArray(labelModel.get("padding") || 0);
    var font = labelModel.getFont();
    var textRect = getBoundingRect(text, font);
    var position = labelPos.position;
    var width = textRect.width + paddings[1] + paddings[3];
    var height = textRect.height + paddings[0] + paddings[2];
    var align = labelPos.align;
    align === "right" && (position[0] -= width);
    align === "center" && (position[0] -= width / 2);
    var verticalAlign = labelPos.verticalAlign;
    verticalAlign === "bottom" && (position[1] -= height);
    verticalAlign === "middle" && (position[1] -= height / 2);
    confineInContainer(position, width, height, api);
    var bgColor = labelModel.get("backgroundColor");
    if (!bgColor || bgColor === "auto") {
      bgColor = axisModel.get(["axisLine", "lineStyle", "color"]);
    }
    elOption.label = {
      x: position[0],
      y: position[1],
      style: createTextStyle$1(labelModel, {
        text,
        font,
        fill: labelModel.getTextColor(),
        padding: paddings,
        backgroundColor: bgColor
      }),
      z2: 10
    };
  }
  function confineInContainer(position, width, height, api) {
    var viewWidth = api.getWidth();
    var viewHeight = api.getHeight();
    position[0] = Math.min(position[0] + width, viewWidth) - width;
    position[1] = Math.min(position[1] + height, viewHeight) - height;
    position[0] = Math.max(position[0], 0);
    position[1] = Math.max(position[1], 0);
  }
  function getValueLabel(value, axis, ecModel, seriesDataIndices, opt) {
    value = axis.scale.parse(value);
    var text = axis.scale.getLabel({
      value
    }, {
      precision: opt.precision
    });
    var formatter = opt.formatter;
    if (formatter) {
      var params_1 = {
        value: getAxisRawValue(axis, {
          value
        }),
        axisDimension: axis.dim,
        axisIndex: axis.index,
        seriesData: []
      };
      each$3(seriesDataIndices, function(idxItem) {
        var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);
        var dataIndex = idxItem.dataIndexInside;
        var dataParams = series && series.getDataParams(dataIndex);
        dataParams && params_1.seriesData.push(dataParams);
      });
      if (isString(formatter)) {
        text = formatter.replace("{value}", text);
      } else if (isFunction(formatter)) {
        text = formatter(params_1);
      }
    }
    return text;
  }
  function getTransformedPosition(axis, value, layoutInfo) {
    var transform = create();
    rotate(transform, transform, layoutInfo.rotation);
    translate(transform, transform, layoutInfo.position);
    return applyTransform([axis.dataToCoord(value), (layoutInfo.labelOffset || 0) + (layoutInfo.labelDirection || 1) * (layoutInfo.labelMargin || 0)], transform);
  }
  function buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api) {
    var textLayout = AxisBuilder$1.innerTextLayout(layoutInfo.rotation, 0, layoutInfo.labelDirection);
    layoutInfo.labelMargin = axisPointerModel.get(["label", "margin"]);
    buildLabelElOption(elOption, axisModel, axisPointerModel, api, {
      position: getTransformedPosition(axisModel.axis, value, layoutInfo),
      align: textLayout.textAlign,
      verticalAlign: textLayout.textVerticalAlign
    });
  }
  function makeLineShape(p1, p2, xDimIndex) {
    xDimIndex = xDimIndex || 0;
    return {
      x1: p1[xDimIndex],
      y1: p1[1 - xDimIndex],
      x2: p2[xDimIndex],
      y2: p2[1 - xDimIndex]
    };
  }
  function makeRectShape(xy, wh, xDimIndex) {
    xDimIndex = xDimIndex || 0;
    return {
      x: xy[xDimIndex],
      y: xy[1 - xDimIndex],
      width: wh[xDimIndex],
      height: wh[1 - xDimIndex]
    };
  }
  var CartesianAxisPointer = function(_super) {
    __extends(CartesianAxisPointer2, _super);
    function CartesianAxisPointer2() {
      return _super !== null && _super.apply(this, arguments) || this;
    }
    CartesianAxisPointer2.prototype.makeElOption = function(elOption, value, axisModel, axisPointerModel, api) {
      var axis = axisModel.axis;
      var grid = axis.grid;
      var axisPointerType = axisPointerModel.get("type");
      var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();
      var pixelValue = axis.toGlobalCoord(axis.dataToCoord(value, true));
      if (axisPointerType && axisPointerType !== "none") {
        var elStyle = buildElStyle(axisPointerModel);
        var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent);
        pointerOption.style = elStyle;
        elOption.graphicKey = pointerOption.type;
        elOption.pointer = pointerOption;
      }
      var layoutInfo = layout(grid.model, axisModel);
      buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);
    };
    CartesianAxisPointer2.prototype.getHandleTransform = function(value, axisModel, axisPointerModel) {
      var layoutInfo = layout(axisModel.axis.grid.model, axisModel, {
        labelInside: false
      });
      layoutInfo.labelMargin = axisPointerModel.get(["handle", "margin"]);
      var pos = getTransformedPosition(axisModel.axis, value, layoutInfo);
      return {
        x: pos[0],
        y: pos[1],
        rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)
      };
    };
    CartesianAxisPointer2.prototype.updateHandleTransform = function(transform, delta, axisModel, axisPointerModel) {
      var axis = axisModel.axis;
      var grid = axis.grid;
      var axisExtent = axis.getGlobalExtent(true);
      var otherExtent = getCartesian(grid, axis).getOtherAxis(axis).getGlobalExtent();
      var dimIndex = axis.dim === "x" ? 0 : 1;
      var currPosition = [transform.x, transform.y];
      currPosition[dimIndex] += delta[dimIndex];
      currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);
      currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);
      var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;
      var cursorPoint = [cursorOtherValue, cursorOtherValue];
      cursorPoint[dimIndex] = currPosition[dimIndex];
      var tooltipOptions = [{
        verticalAlign: "middle"
      }, {
        align: "center"
      }];
      return {
        x: currPosition[0],
        y: currPosition[1],
        rotation: transform.rotation,
        cursorPoint,
        tooltipOption: tooltipOptions[dimIndex]
      };
    };
    return CartesianAxisPointer2;
  }(BaseAxisPointer$1);
  function getCartesian(grid, axis) {
    var opt = {};
    opt[axis.dim + "AxisIndex"] = axis.index;
    return grid.getCartesian(opt);
  }
  var pointerShapeBuilder = {
    line: function(axis, pixelValue, otherExtent) {
      var targetShape = makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getAxisDimIndex(axis));
      return {
        type: "Line",
        subPixelOptimize: true,
        shape: targetShape
      };
    },
    shadow: function(axis, pixelValue, otherExtent) {
      var bandWidth = Math.max(1, axis.getBandWidth());
      var span = otherExtent[1] - otherExtent[0];
      return {
        type: "Rect",
        shape: makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getAxisDimIndex(axis))
      };
    }
  };
  function getAxisDimIndex(axis) {
    return axis.dim === "x" ? 0 : 1;
  }
  var CartesianAxisPointer$1 = CartesianAxisPointer;
  var AxisPointerModel = function(_super) {
    __extends(AxisPointerModel2, _super);
    function AxisPointerModel2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = AxisPointerModel2.type;
      return _this;
    }
    AxisPointerModel2.type = "axisPointer";
    AxisPointerModel2.defaultOption = {
      show: "auto",
      z: 50,
      type: "line",
      snap: false,
      triggerTooltip: true,
      triggerEmphasis: true,
      value: null,
      status: null,
      link: [],
      animation: null,
      animationDurationUpdate: 200,
      lineStyle: {
        color: "#B9BEC9",
        width: 1,
        type: "dashed"
      },
      shadowStyle: {
        color: "rgba(210,219,238,0.2)"
      },
      label: {
        show: true,
        formatter: null,
        precision: "auto",
        margin: 3,
        color: "#fff",
        padding: [5, 7, 5, 7],
        backgroundColor: "auto",
        borderColor: null,
        borderWidth: 0,
        borderRadius: 3
      },
      handle: {
        show: false,
        icon: "M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",
        size: 45,
        margin: 50,
        color: "#333",
        shadowBlur: 3,
        shadowColor: "#aaa",
        shadowOffsetX: 0,
        shadowOffsetY: 2,
        throttle: 40
      }
    };
    return AxisPointerModel2;
  }(ComponentModel$1);
  var AxisPointerModel$1 = AxisPointerModel;
  var inner$1 = makeInner();
  var each = each$3;
  function register(key, api, handler) {
    if (env$1.node) {
      return;
    }
    var zr = api.getZr();
    inner$1(zr).records || (inner$1(zr).records = {});
    initGlobalListeners(zr, api);
    var record = inner$1(zr).records[key] || (inner$1(zr).records[key] = {});
    record.handler = handler;
  }
  function initGlobalListeners(zr, api) {
    if (inner$1(zr).initialized) {
      return;
    }
    inner$1(zr).initialized = true;
    useHandler("click", curry(doEnter, "click"));
    useHandler("mousemove", curry(doEnter, "mousemove"));
    useHandler("globalout", onLeave);
    function useHandler(eventType, cb) {
      zr.on(eventType, function(e2) {
        var dis = makeDispatchAction$1(api);
        each(inner$1(zr).records, function(record) {
          record && cb(record, e2, dis.dispatchAction);
        });
        dispatchTooltipFinally(dis.pendings, api);
      });
    }
  }
  function dispatchTooltipFinally(pendings, api) {
    var showLen = pendings.showTip.length;
    var hideLen = pendings.hideTip.length;
    var actuallyPayload;
    if (showLen) {
      actuallyPayload = pendings.showTip[showLen - 1];
    } else if (hideLen) {
      actuallyPayload = pendings.hideTip[hideLen - 1];
    }
    if (actuallyPayload) {
      actuallyPayload.dispatchAction = null;
      api.dispatchAction(actuallyPayload);
    }
  }
  function onLeave(record, e2, dispatchAction) {
    record.handler("leave", null, dispatchAction);
  }
  function doEnter(currTrigger, record, e2, dispatchAction) {
    record.handler(currTrigger, e2, dispatchAction);
  }
  function makeDispatchAction$1(api) {
    var pendings = {
      showTip: [],
      hideTip: []
    };
    var dispatchAction = function(payload) {
      var pendingList = pendings[payload.type];
      if (pendingList) {
        pendingList.push(payload);
      } else {
        payload.dispatchAction = dispatchAction;
        api.dispatchAction(payload);
      }
    };
    return {
      dispatchAction,
      pendings
    };
  }
  function unregister(key, api) {
    if (env$1.node) {
      return;
    }
    var zr = api.getZr();
    var record = (inner$1(zr).records || {})[key];
    if (record) {
      inner$1(zr).records[key] = null;
    }
  }
  var AxisPointerView = function(_super) {
    __extends(AxisPointerView2, _super);
    function AxisPointerView2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = AxisPointerView2.type;
      return _this;
    }
    AxisPointerView2.prototype.render = function(globalAxisPointerModel, ecModel, api) {
      var globalTooltipModel = ecModel.getComponent("tooltip");
      var triggerOn = globalAxisPointerModel.get("triggerOn") || globalTooltipModel && globalTooltipModel.get("triggerOn") || "mousemove|click";
      register("axisPointer", api, function(currTrigger, e2, dispatchAction) {
        if (triggerOn !== "none" && (currTrigger === "leave" || triggerOn.indexOf(currTrigger) >= 0)) {
          dispatchAction({
            type: "updateAxisPointer",
            currTrigger,
            x: e2 && e2.offsetX,
            y: e2 && e2.offsetY
          });
        }
      });
    };
    AxisPointerView2.prototype.remove = function(ecModel, api) {
      unregister("axisPointer", api);
    };
    AxisPointerView2.prototype.dispose = function(ecModel, api) {
      unregister("axisPointer", api);
    };
    AxisPointerView2.type = "axisPointer";
    return AxisPointerView2;
  }(ComponentView$1);
  var AxisPointerView$1 = AxisPointerView;
  function findPointFromSeries(finder, ecModel) {
    var point = [];
    var seriesIndex = finder.seriesIndex;
    var seriesModel;
    if (seriesIndex == null || !(seriesModel = ecModel.getSeriesByIndex(seriesIndex))) {
      return {
        point: []
      };
    }
    var data = seriesModel.getData();
    var dataIndex = queryDataIndex(data, finder);
    if (dataIndex == null || dataIndex < 0 || isArray(dataIndex)) {
      return {
        point: []
      };
    }
    var el = data.getItemGraphicEl(dataIndex);
    var coordSys = seriesModel.coordinateSystem;
    if (seriesModel.getTooltipPosition) {
      point = seriesModel.getTooltipPosition(dataIndex) || [];
    } else if (coordSys && coordSys.dataToPoint) {
      if (finder.isStacked) {
        var baseAxis = coordSys.getBaseAxis();
        var valueAxis2 = coordSys.getOtherAxis(baseAxis);
        var valueAxisDim = valueAxis2.dim;
        var baseAxisDim = baseAxis.dim;
        var baseDataOffset = valueAxisDim === "x" || valueAxisDim === "radius" ? 1 : 0;
        var baseDim = data.mapDimension(baseAxisDim);
        var stackedData = [];
        stackedData[baseDataOffset] = data.get(baseDim, dataIndex);
        stackedData[1 - baseDataOffset] = data.get(data.getCalculationInfo("stackResultDimension"), dataIndex);
        point = coordSys.dataToPoint(stackedData) || [];
      } else {
        point = coordSys.dataToPoint(data.getValues(map$1(coordSys.dimensions, function(dim) {
          return data.mapDimension(dim);
        }), dataIndex)) || [];
      }
    } else if (el) {
      var rect = el.getBoundingRect().clone();
      rect.applyTransform(el.transform);
      point = [rect.x + rect.width / 2, rect.y + rect.height / 2];
    }
    return {
      point,
      el
    };
  }
  var inner = makeInner();
  function axisTrigger(payload, ecModel, api) {
    var currTrigger = payload.currTrigger;
    var point = [payload.x, payload.y];
    var finder = payload;
    var dispatchAction = payload.dispatchAction || bind$1(api.dispatchAction, api);
    var coordSysAxesInfo = ecModel.getComponent("axisPointer").coordSysAxesInfo;
    if (!coordSysAxesInfo) {
      return;
    }
    if (illegalPoint(point)) {
      point = findPointFromSeries({
        seriesIndex: finder.seriesIndex,
        dataIndex: finder.dataIndex
      }, ecModel).point;
    }
    var isIllegalPoint = illegalPoint(point);
    var inputAxesInfo = finder.axesInfo;
    var axesInfo = coordSysAxesInfo.axesInfo;
    var shouldHide = currTrigger === "leave" || illegalPoint(point);
    var outputPayload = {};
    var showValueMap = {};
    var dataByCoordSys = {
      list: [],
      map: {}
    };
    var updaters = {
      showPointer: curry(showPointer, showValueMap),
      showTooltip: curry(showTooltip, dataByCoordSys)
    };
    each$3(coordSysAxesInfo.coordSysMap, function(coordSys, coordSysKey) {
      var coordSysContainsPoint = isIllegalPoint || coordSys.containPoint(point);
      each$3(coordSysAxesInfo.coordSysAxesInfo[coordSysKey], function(axisInfo, key) {
        var axis = axisInfo.axis;
        var inputAxisInfo = findInputAxisInfo(inputAxesInfo, axisInfo);
        if (!shouldHide && coordSysContainsPoint && (!inputAxesInfo || inputAxisInfo)) {
          var val = inputAxisInfo && inputAxisInfo.value;
          if (val == null && !isIllegalPoint) {
            val = axis.pointToData(point);
          }
          val != null && processOnAxis(axisInfo, val, updaters, false, outputPayload);
        }
      });
    });
    var linkTriggers = {};
    each$3(axesInfo, function(tarAxisInfo, tarKey) {
      var linkGroup = tarAxisInfo.linkGroup;
      if (linkGroup && !showValueMap[tarKey]) {
        each$3(linkGroup.axesInfo, function(srcAxisInfo, srcKey) {
          var srcValItem = showValueMap[srcKey];
          if (srcAxisInfo !== tarAxisInfo && srcValItem) {
            var val = srcValItem.value;
            linkGroup.mapper && (val = tarAxisInfo.axis.scale.parse(linkGroup.mapper(val, makeMapperParam(srcAxisInfo), makeMapperParam(tarAxisInfo))));
            linkTriggers[tarAxisInfo.key] = val;
          }
        });
      }
    });
    each$3(linkTriggers, function(val, tarKey) {
      processOnAxis(axesInfo[tarKey], val, updaters, true, outputPayload);
    });
    updateModelActually(showValueMap, axesInfo, outputPayload);
    dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction);
    dispatchHighDownActually(axesInfo, dispatchAction, api);
    return outputPayload;
  }
  function processOnAxis(axisInfo, newValue, updaters, noSnap, outputFinder) {
    var axis = axisInfo.axis;
    if (axis.scale.isBlank() || !axis.containData(newValue)) {
      return;
    }
    if (!axisInfo.involveSeries) {
      updaters.showPointer(axisInfo, newValue);
      return;
    }
    var payloadInfo = buildPayloadsBySeries(newValue, axisInfo);
    var payloadBatch = payloadInfo.payloadBatch;
    var snapToValue = payloadInfo.snapToValue;
    if (payloadBatch[0] && outputFinder.seriesIndex == null) {
      extend(outputFinder, payloadBatch[0]);
    }
    if (!noSnap && axisInfo.snap) {
      if (axis.containData(snapToValue) && snapToValue != null) {
        newValue = snapToValue;
      }
    }
    updaters.showPointer(axisInfo, newValue, payloadBatch);
    updaters.showTooltip(axisInfo, payloadInfo, snapToValue);
  }
  function buildPayloadsBySeries(value, axisInfo) {
    var axis = axisInfo.axis;
    var dim = axis.dim;
    var snapToValue = value;
    var payloadBatch = [];
    var minDist = Number.MAX_VALUE;
    var minDiff = -1;
    each$3(axisInfo.seriesModels, function(series, idx) {
      var dataDim = series.getData().mapDimensionsAll(dim);
      var seriesNestestValue;
      var dataIndices;
      if (series.getAxisTooltipData) {
        var result = series.getAxisTooltipData(dataDim, value, axis);
        dataIndices = result.dataIndices;
        seriesNestestValue = result.nestestValue;
      } else {
        dataIndices = series.getData().indicesOfNearest(dataDim[0], value, axis.type === "category" ? 0.5 : null);
        if (!dataIndices.length) {
          return;
        }
        seriesNestestValue = series.getData().get(dataDim[0], dataIndices[0]);
      }
      if (seriesNestestValue == null || !isFinite(seriesNestestValue)) {
        return;
      }
      var diff = value - seriesNestestValue;
      var dist2 = Math.abs(diff);
      if (dist2 <= minDist) {
        if (dist2 < minDist || diff >= 0 && minDiff < 0) {
          minDist = dist2;
          minDiff = diff;
          snapToValue = seriesNestestValue;
          payloadBatch.length = 0;
        }
        each$3(dataIndices, function(dataIndex) {
          payloadBatch.push({
            seriesIndex: series.seriesIndex,
            dataIndexInside: dataIndex,
            dataIndex: series.getData().getRawIndex(dataIndex)
          });
        });
      }
    });
    return {
      payloadBatch,
      snapToValue
    };
  }
  function showPointer(showValueMap, axisInfo, value, payloadBatch) {
    showValueMap[axisInfo.key] = {
      value,
      payloadBatch
    };
  }
  function showTooltip(dataByCoordSys, axisInfo, payloadInfo, value) {
    var payloadBatch = payloadInfo.payloadBatch;
    var axis = axisInfo.axis;
    var axisModel = axis.model;
    var axisPointerModel = axisInfo.axisPointerModel;
    if (!axisInfo.triggerTooltip || !payloadBatch.length) {
      return;
    }
    var coordSysModel = axisInfo.coordSys.model;
    var coordSysKey = makeKey(coordSysModel);
    var coordSysItem = dataByCoordSys.map[coordSysKey];
    if (!coordSysItem) {
      coordSysItem = dataByCoordSys.map[coordSysKey] = {
        coordSysId: coordSysModel.id,
        coordSysIndex: coordSysModel.componentIndex,
        coordSysType: coordSysModel.type,
        coordSysMainType: coordSysModel.mainType,
        dataByAxis: []
      };
      dataByCoordSys.list.push(coordSysItem);
    }
    coordSysItem.dataByAxis.push({
      axisDim: axis.dim,
      axisIndex: axisModel.componentIndex,
      axisType: axisModel.type,
      axisId: axisModel.id,
      value,
      valueLabelOpt: {
        precision: axisPointerModel.get(["label", "precision"]),
        formatter: axisPointerModel.get(["label", "formatter"])
      },
      seriesDataIndices: payloadBatch.slice()
    });
  }
  function updateModelActually(showValueMap, axesInfo, outputPayload) {
    var outputAxesInfo = outputPayload.axesInfo = [];
    each$3(axesInfo, function(axisInfo, key) {
      var option = axisInfo.axisPointerModel.option;
      var valItem = showValueMap[key];
      if (valItem) {
        !axisInfo.useHandle && (option.status = "show");
        option.value = valItem.value;
        option.seriesDataIndices = (valItem.payloadBatch || []).slice();
      } else {
        !axisInfo.useHandle && (option.status = "hide");
      }
      option.status === "show" && outputAxesInfo.push({
        axisDim: axisInfo.axis.dim,
        axisIndex: axisInfo.axis.model.componentIndex,
        value: option.value
      });
    });
  }
  function dispatchTooltipActually(dataByCoordSys, point, payload, dispatchAction) {
    if (illegalPoint(point) || !dataByCoordSys.list.length) {
      dispatchAction({
        type: "hideTip"
      });
      return;
    }
    var sampleItem = ((dataByCoordSys.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {};
    dispatchAction({
      type: "showTip",
      escapeConnect: true,
      x: point[0],
      y: point[1],
      tooltipOption: payload.tooltipOption,
      position: payload.position,
      dataIndexInside: sampleItem.dataIndexInside,
      dataIndex: sampleItem.dataIndex,
      seriesIndex: sampleItem.seriesIndex,
      dataByCoordSys: dataByCoordSys.list
    });
  }
  function dispatchHighDownActually(axesInfo, dispatchAction, api) {
    var zr = api.getZr();
    var highDownKey = "axisPointerLastHighlights";
    var lastHighlights = inner(zr)[highDownKey] || {};
    var newHighlights = inner(zr)[highDownKey] = {};
    each$3(axesInfo, function(axisInfo, key) {
      var option = axisInfo.axisPointerModel.option;
      option.status === "show" && axisInfo.triggerEmphasis && each$3(option.seriesDataIndices, function(batchItem) {
        var key2 = batchItem.seriesIndex + " | " + batchItem.dataIndex;
        newHighlights[key2] = batchItem;
      });
    });
    var toHighlight = [];
    var toDownplay = [];
    each$3(lastHighlights, function(batchItem, key) {
      !newHighlights[key] && toDownplay.push(batchItem);
    });
    each$3(newHighlights, function(batchItem, key) {
      !lastHighlights[key] && toHighlight.push(batchItem);
    });
    toDownplay.length && api.dispatchAction({
      type: "downplay",
      escapeConnect: true,
      notBlur: true,
      batch: toDownplay
    });
    toHighlight.length && api.dispatchAction({
      type: "highlight",
      escapeConnect: true,
      notBlur: true,
      batch: toHighlight
    });
  }
  function findInputAxisInfo(inputAxesInfo, axisInfo) {
    for (var i2 = 0; i2 < (inputAxesInfo || []).length; i2++) {
      var inputAxisInfo = inputAxesInfo[i2];
      if (axisInfo.axis.dim === inputAxisInfo.axisDim && axisInfo.axis.model.componentIndex === inputAxisInfo.axisIndex) {
        return inputAxisInfo;
      }
    }
  }
  function makeMapperParam(axisInfo) {
    var axisModel = axisInfo.axis.model;
    var item = {};
    var dim = item.axisDim = axisInfo.axis.dim;
    item.axisIndex = item[dim + "AxisIndex"] = axisModel.componentIndex;
    item.axisName = item[dim + "AxisName"] = axisModel.name;
    item.axisId = item[dim + "AxisId"] = axisModel.id;
    return item;
  }
  function illegalPoint(point) {
    return !point || point[0] == null || isNaN(point[0]) || point[1] == null || isNaN(point[1]);
  }
  function install$3(registers) {
    AxisView$1.registerAxisPointerClass("CartesianAxisPointer", CartesianAxisPointer$1);
    registers.registerComponentModel(AxisPointerModel$1);
    registers.registerComponentView(AxisPointerView$1);
    registers.registerPreprocessor(function(option) {
      if (option) {
        (!option.axisPointer || option.axisPointer.length === 0) && (option.axisPointer = {});
        var link = option.axisPointer.link;
        if (link && !isArray(link)) {
          option.axisPointer.link = [link];
        }
      }
    });
    registers.registerProcessor(registers.PRIORITY.PROCESSOR.STATISTIC, function(ecModel, api) {
      ecModel.getComponent("axisPointer").coordSysAxesInfo = collect(ecModel, api);
    });
    registers.registerAction({
      type: "updateAxisPointer",
      event: "updateAxisPointer",
      update: ":updateAxisPointer"
    }, axisTrigger);
  }
  function install$2(registers) {
    use(install$4);
    use(install$3);
  }
  var TooltipModel = function(_super) {
    __extends(TooltipModel2, _super);
    function TooltipModel2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = TooltipModel2.type;
      return _this;
    }
    TooltipModel2.type = "tooltip";
    TooltipModel2.dependencies = ["axisPointer"];
    TooltipModel2.defaultOption = {
      z: 60,
      show: true,
      showContent: true,
      trigger: "item",
      triggerOn: "mousemove|click",
      alwaysShowContent: false,
      displayMode: "single",
      renderMode: "auto",
      confine: null,
      showDelay: 0,
      hideDelay: 100,
      transitionDuration: 0.4,
      enterable: false,
      backgroundColor: "#fff",
      shadowBlur: 10,
      shadowColor: "rgba(0, 0, 0, .2)",
      shadowOffsetX: 1,
      shadowOffsetY: 2,
      borderRadius: 4,
      borderWidth: 1,
      padding: null,
      extraCssText: "",
      axisPointer: {
        type: "line",
        axis: "auto",
        animation: "auto",
        animationDurationUpdate: 200,
        animationEasingUpdate: "exponentialOut",
        crossStyle: {
          color: "#999",
          width: 1,
          type: "dashed",
          textStyle: {}
        }
      },
      textStyle: {
        color: "#666",
        fontSize: 14
      }
    };
    return TooltipModel2;
  }(ComponentModel$1);
  var TooltipModel$1 = TooltipModel;
  function shouldTooltipConfine(tooltipModel) {
    var confineOption = tooltipModel.get("confine");
    return confineOption != null ? !!confineOption : tooltipModel.get("renderMode") === "richText";
  }
  function testStyle(styleProps) {
    if (!env$1.domSupported) {
      return;
    }
    var style = document.documentElement.style;
    for (var i2 = 0, len2 = styleProps.length; i2 < len2; i2++) {
      if (styleProps[i2] in style) {
        return styleProps[i2];
      }
    }
  }
  var TRANSFORM_VENDOR = testStyle(["transform", "webkitTransform", "OTransform", "MozTransform", "msTransform"]);
  var TRANSITION_VENDOR = testStyle(["webkitTransition", "transition", "OTransition", "MozTransition", "msTransition"]);
  function toCSSVendorPrefix(styleVendor, styleProp) {
    if (!styleVendor) {
      return styleProp;
    }
    styleProp = toCamelCase(styleProp, true);
    var idx = styleVendor.indexOf(styleProp);
    styleVendor = idx === -1 ? styleProp : "-" + styleVendor.slice(0, idx) + "-" + styleProp;
    return styleVendor.toLowerCase();
  }
  function getComputedStyle(el, style) {
    var stl = el.currentStyle || document.defaultView && document.defaultView.getComputedStyle(el);
    return stl ? style ? stl[style] : stl : null;
  }
  var CSS_TRANSITION_VENDOR = toCSSVendorPrefix(TRANSITION_VENDOR, "transition");
  var CSS_TRANSFORM_VENDOR = toCSSVendorPrefix(TRANSFORM_VENDOR, "transform");
  var gCssText = "position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;" + (env$1.transform3dSupported ? "will-change:transform;" : "");
  function mirrorPos(pos) {
    pos = pos === "left" ? "right" : pos === "right" ? "left" : pos === "top" ? "bottom" : "top";
    return pos;
  }
  function assembleArrow(tooltipModel, borderColor, arrowPosition) {
    if (!isString(arrowPosition) || arrowPosition === "inside") {
      return "";
    }
    var backgroundColor2 = tooltipModel.get("backgroundColor");
    var borderWidth = tooltipModel.get("borderWidth");
    borderColor = convertToColorString(borderColor);
    var arrowPos = mirrorPos(arrowPosition);
    var arrowSize = Math.max(Math.round(borderWidth) * 1.5, 6);
    var positionStyle = "";
    var transformStyle = CSS_TRANSFORM_VENDOR + ":";
    var rotateDeg;
    if (indexOf(["left", "right"], arrowPos) > -1) {
      positionStyle += "top:50%";
      transformStyle += "translateY(-50%) rotate(" + (rotateDeg = arrowPos === "left" ? -225 : -45) + "deg)";
    } else {
      positionStyle += "left:50%";
      transformStyle += "translateX(-50%) rotate(" + (rotateDeg = arrowPos === "top" ? 225 : 45) + "deg)";
    }
    var rotateRadian = rotateDeg * Math.PI / 180;
    var arrowWH = arrowSize + borderWidth;
    var rotatedWH = arrowWH * Math.abs(Math.cos(rotateRadian)) + arrowWH * Math.abs(Math.sin(rotateRadian));
    var arrowOffset = Math.round(((rotatedWH - Math.SQRT2 * borderWidth) / 2 + Math.SQRT2 * borderWidth - (rotatedWH - arrowWH) / 2) * 100) / 100;
    positionStyle += ";" + arrowPos + ":-" + arrowOffset + "px";
    var borderStyle = borderColor + " solid " + borderWidth + "px;";
    var styleCss = ["position:absolute;width:" + arrowSize + "px;height:" + arrowSize + "px;z-index:-1;", positionStyle + ";" + transformStyle + ";", "border-bottom:" + borderStyle, "border-right:" + borderStyle, "background-color:" + backgroundColor2 + ";"];
    return '<div style="' + styleCss.join("") + '"></div>';
  }
  function assembleTransition(duration, onlyFade) {
    var transitionCurve = "cubic-bezier(0.23,1,0.32,1)";
    var transitionOption = " " + duration / 2 + "s " + transitionCurve;
    var transitionText = "opacity" + transitionOption + ",visibility" + transitionOption;
    if (!onlyFade) {
      transitionOption = " " + duration + "s " + transitionCurve;
      transitionText += env$1.transformSupported ? "," + CSS_TRANSFORM_VENDOR + transitionOption : ",left" + transitionOption + ",top" + transitionOption;
    }
    return CSS_TRANSITION_VENDOR + ":" + transitionText;
  }
  function assembleTransform(x2, y, toString) {
    var x0 = x2.toFixed(0) + "px";
    var y0 = y.toFixed(0) + "px";
    if (!env$1.transformSupported) {
      return toString ? "top:" + y0 + ";left:" + x0 + ";" : [["top", y0], ["left", x0]];
    }
    var is3d = env$1.transform3dSupported;
    var translate2 = "translate" + (is3d ? "3d" : "") + "(" + x0 + "," + y0 + (is3d ? ",0" : "") + ")";
    return toString ? "top:0;left:0;" + CSS_TRANSFORM_VENDOR + ":" + translate2 + ";" : [["top", 0], ["left", 0], [TRANSFORM_VENDOR, translate2]];
  }
  function assembleFont(textStyleModel) {
    var cssText = [];
    var fontSize = textStyleModel.get("fontSize");
    var color2 = textStyleModel.getTextColor();
    color2 && cssText.push("color:" + color2);
    cssText.push("font:" + textStyleModel.getFont());
    fontSize && cssText.push("line-height:" + Math.round(fontSize * 3 / 2) + "px");
    var shadowColor = textStyleModel.get("textShadowColor");
    var shadowBlur = textStyleModel.get("textShadowBlur") || 0;
    var shadowOffsetX = textStyleModel.get("textShadowOffsetX") || 0;
    var shadowOffsetY = textStyleModel.get("textShadowOffsetY") || 0;
    shadowColor && shadowBlur && cssText.push("text-shadow:" + shadowOffsetX + "px " + shadowOffsetY + "px " + shadowBlur + "px " + shadowColor);
    each$3(["decoration", "align"], function(name) {
      var val = textStyleModel.get(name);
      val && cssText.push("text-" + name + ":" + val);
    });
    return cssText.join(";");
  }
  function assembleCssText(tooltipModel, enableTransition, onlyFade) {
    var cssText = [];
    var transitionDuration = tooltipModel.get("transitionDuration");
    var backgroundColor2 = tooltipModel.get("backgroundColor");
    var shadowBlur = tooltipModel.get("shadowBlur");
    var shadowColor = tooltipModel.get("shadowColor");
    var shadowOffsetX = tooltipModel.get("shadowOffsetX");
    var shadowOffsetY = tooltipModel.get("shadowOffsetY");
    var textStyleModel = tooltipModel.getModel("textStyle");
    var padding = getPaddingFromTooltipModel(tooltipModel, "html");
    var boxShadow = shadowOffsetX + "px " + shadowOffsetY + "px " + shadowBlur + "px " + shadowColor;
    cssText.push("box-shadow:" + boxShadow);
    enableTransition && transitionDuration && cssText.push(assembleTransition(transitionDuration, onlyFade));
    if (backgroundColor2) {
      cssText.push("background-color:" + backgroundColor2);
    }
    each$3(["width", "color", "radius"], function(name) {
      var borderName = "border-" + name;
      var camelCase = toCamelCase(borderName);
      var val = tooltipModel.get(camelCase);
      val != null && cssText.push(borderName + ":" + val + (name === "color" ? "" : "px"));
    });
    cssText.push(assembleFont(textStyleModel));
    if (padding != null) {
      cssText.push("padding:" + normalizeCssArray(padding).join("px ") + "px");
    }
    return cssText.join(";") + ";";
  }
  function makeStyleCoord$1(out2, zr, appendToBody, zrX, zrY) {
    var zrPainter = zr && zr.painter;
    if (appendToBody) {
      var zrViewportRoot = zrPainter && zrPainter.getViewportRoot();
      if (zrViewportRoot) {
        transformLocalCoord(out2, zrViewportRoot, document.body, zrX, zrY);
      }
    } else {
      out2[0] = zrX;
      out2[1] = zrY;
      var viewportRootOffset = zrPainter && zrPainter.getViewportRootOffset();
      if (viewportRootOffset) {
        out2[0] += viewportRootOffset.offsetLeft;
        out2[1] += viewportRootOffset.offsetTop;
      }
    }
    out2[2] = out2[0] / zr.getWidth();
    out2[3] = out2[1] / zr.getHeight();
  }
  var TooltipHTMLContent = function() {
    function TooltipHTMLContent2(container, api, opt) {
      this._show = false;
      this._styleCoord = [0, 0, 0, 0];
      this._enterable = true;
      this._alwaysShowContent = false;
      this._firstShow = true;
      this._longHide = true;
      if (env$1.wxa) {
        return null;
      }
      var el = document.createElement("div");
      el.domBelongToZr = true;
      this.el = el;
      var zr = this._zr = api.getZr();
      var appendToBody = this._appendToBody = opt && opt.appendToBody;
      makeStyleCoord$1(this._styleCoord, zr, appendToBody, api.getWidth() / 2, api.getHeight() / 2);
      if (appendToBody) {
        document.body.appendChild(el);
      } else {
        container.appendChild(el);
      }
      this._container = container;
      var self2 = this;
      el.onmouseenter = function() {
        if (self2._enterable) {
          clearTimeout(self2._hideTimeout);
          self2._show = true;
        }
        self2._inContent = true;
      };
      el.onmousemove = function(e2) {
        e2 = e2 || window.event;
        if (!self2._enterable) {
          var handler = zr.handler;
          var zrViewportRoot = zr.painter.getViewportRoot();
          normalizeEvent(zrViewportRoot, e2, true);
          handler.dispatch("mousemove", e2);
        }
      };
      el.onmouseleave = function() {
        self2._inContent = false;
        if (self2._enterable) {
          if (self2._show) {
            self2.hideLater(self2._hideDelay);
          }
        }
      };
    }
    TooltipHTMLContent2.prototype.update = function(tooltipModel) {
      var container = this._container;
      var position = getComputedStyle(container, "position");
      var domStyle = container.style;
      if (domStyle.position !== "absolute" && position !== "absolute") {
        domStyle.position = "relative";
      }
      var alwaysShowContent = tooltipModel.get("alwaysShowContent");
      alwaysShowContent && this._moveIfResized();
      this._alwaysShowContent = alwaysShowContent;
      this.el.className = tooltipModel.get("className") || "";
    };
    TooltipHTMLContent2.prototype.show = function(tooltipModel, nearPointColor) {
      clearTimeout(this._hideTimeout);
      clearTimeout(this._longHideTimeout);
      var el = this.el;
      var style = el.style;
      var styleCoord = this._styleCoord;
      if (!el.innerHTML) {
        style.display = "none";
      } else {
        style.cssText = gCssText + assembleCssText(tooltipModel, !this._firstShow, this._longHide) + assembleTransform(styleCoord[0], styleCoord[1], true) + ("border-color:" + convertToColorString(nearPointColor) + ";") + (tooltipModel.get("extraCssText") || "") + (";pointer-events:" + (this._enterable ? "auto" : "none"));
      }
      this._show = true;
      this._firstShow = false;
      this._longHide = false;
    };
    TooltipHTMLContent2.prototype.setContent = function(content, markers, tooltipModel, borderColor, arrowPosition) {
      var el = this.el;
      if (content == null) {
        el.innerHTML = "";
        return;
      }
      var arrow = "";
      if (isString(arrowPosition) && tooltipModel.get("trigger") === "item" && !shouldTooltipConfine(tooltipModel)) {
        arrow = assembleArrow(tooltipModel, borderColor, arrowPosition);
      }
      if (isString(content)) {
        el.innerHTML = content + arrow;
      } else if (content) {
        el.innerHTML = "";
        if (!isArray(content)) {
          content = [content];
        }
        for (var i2 = 0; i2 < content.length; i2++) {
          if (isDom(content[i2]) && content[i2].parentNode !== el) {
            el.appendChild(content[i2]);
          }
        }
        if (arrow && el.childNodes.length) {
          var arrowEl = document.createElement("div");
          arrowEl.innerHTML = arrow;
          el.appendChild(arrowEl);
        }
      }
    };
    TooltipHTMLContent2.prototype.setEnterable = function(enterable) {
      this._enterable = enterable;
    };
    TooltipHTMLContent2.prototype.getSize = function() {
      var el = this.el;
      return [el.offsetWidth, el.offsetHeight];
    };
    TooltipHTMLContent2.prototype.moveTo = function(zrX, zrY) {
      var styleCoord = this._styleCoord;
      makeStyleCoord$1(styleCoord, this._zr, this._appendToBody, zrX, zrY);
      if (styleCoord[0] != null && styleCoord[1] != null) {
        var style_1 = this.el.style;
        var transforms = assembleTransform(styleCoord[0], styleCoord[1]);
        each$3(transforms, function(transform) {
          style_1[transform[0]] = transform[1];
        });
      }
    };
    TooltipHTMLContent2.prototype._moveIfResized = function() {
      var ratioX = this._styleCoord[2];
      var ratioY = this._styleCoord[3];
      this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());
    };
    TooltipHTMLContent2.prototype.hide = function() {
      var _this = this;
      var style = this.el.style;
      style.visibility = "hidden";
      style.opacity = "0";
      env$1.transform3dSupported && (style.willChange = "");
      this._show = false;
      this._longHideTimeout = setTimeout(function() {
        return _this._longHide = true;
      }, 500);
    };
    TooltipHTMLContent2.prototype.hideLater = function(time2) {
      if (this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent) {
        if (time2) {
          this._hideDelay = time2;
          this._show = false;
          this._hideTimeout = setTimeout(bind$1(this.hide, this), time2);
        } else {
          this.hide();
        }
      }
    };
    TooltipHTMLContent2.prototype.isShow = function() {
      return this._show;
    };
    TooltipHTMLContent2.prototype.dispose = function() {
      this.el.parentNode.removeChild(this.el);
    };
    return TooltipHTMLContent2;
  }();
  var TooltipHTMLContent$1 = TooltipHTMLContent;
  var TooltipRichContent = function() {
    function TooltipRichContent2(api) {
      this._show = false;
      this._styleCoord = [0, 0, 0, 0];
      this._alwaysShowContent = false;
      this._enterable = true;
      this._zr = api.getZr();
      makeStyleCoord(this._styleCoord, this._zr, api.getWidth() / 2, api.getHeight() / 2);
    }
    TooltipRichContent2.prototype.update = function(tooltipModel) {
      var alwaysShowContent = tooltipModel.get("alwaysShowContent");
      alwaysShowContent && this._moveIfResized();
      this._alwaysShowContent = alwaysShowContent;
    };
    TooltipRichContent2.prototype.show = function() {
      if (this._hideTimeout) {
        clearTimeout(this._hideTimeout);
      }
      this.el.show();
      this._show = true;
    };
    TooltipRichContent2.prototype.setContent = function(content, markupStyleCreator, tooltipModel, borderColor, arrowPosition) {
      var _this = this;
      if (isObject$2(content)) {
        throwError("Passing DOM nodes as content is not supported in richText tooltip!");
      }
      if (this.el) {
        this._zr.remove(this.el);
      }
      var textStyleModel = tooltipModel.getModel("textStyle");
      this.el = new ZRText$1({
        style: {
          rich: markupStyleCreator.richTextStyles,
          text: content,
          lineHeight: 22,
          borderWidth: 1,
          borderColor,
          textShadowColor: textStyleModel.get("textShadowColor"),
          fill: tooltipModel.get(["textStyle", "color"]),
          padding: getPaddingFromTooltipModel(tooltipModel, "richText"),
          verticalAlign: "top",
          align: "left"
        },
        z: tooltipModel.get("z")
      });
      each$3(["backgroundColor", "borderRadius", "shadowColor", "shadowBlur", "shadowOffsetX", "shadowOffsetY"], function(propName) {
        _this.el.style[propName] = tooltipModel.get(propName);
      });
      each$3(["textShadowBlur", "textShadowOffsetX", "textShadowOffsetY"], function(propName) {
        _this.el.style[propName] = textStyleModel.get(propName) || 0;
      });
      this._zr.add(this.el);
      var self2 = this;
      this.el.on("mouseover", function() {
        if (self2._enterable) {
          clearTimeout(self2._hideTimeout);
          self2._show = true;
        }
        self2._inContent = true;
      });
      this.el.on("mouseout", function() {
        if (self2._enterable) {
          if (self2._show) {
            self2.hideLater(self2._hideDelay);
          }
        }
        self2._inContent = false;
      });
    };
    TooltipRichContent2.prototype.setEnterable = function(enterable) {
      this._enterable = enterable;
    };
    TooltipRichContent2.prototype.getSize = function() {
      var el = this.el;
      var bounding = this.el.getBoundingRect();
      var shadowOuterSize = calcShadowOuterSize(el.style);
      return [bounding.width + shadowOuterSize.left + shadowOuterSize.right, bounding.height + shadowOuterSize.top + shadowOuterSize.bottom];
    };
    TooltipRichContent2.prototype.moveTo = function(x2, y) {
      var el = this.el;
      if (el) {
        var styleCoord = this._styleCoord;
        makeStyleCoord(styleCoord, this._zr, x2, y);
        x2 = styleCoord[0];
        y = styleCoord[1];
        var style = el.style;
        var borderWidth = mathMaxWith0(style.borderWidth || 0);
        var shadowOuterSize = calcShadowOuterSize(style);
        el.x = x2 + borderWidth + shadowOuterSize.left;
        el.y = y + borderWidth + shadowOuterSize.top;
        el.markRedraw();
      }
    };
    TooltipRichContent2.prototype._moveIfResized = function() {
      var ratioX = this._styleCoord[2];
      var ratioY = this._styleCoord[3];
      this.moveTo(ratioX * this._zr.getWidth(), ratioY * this._zr.getHeight());
    };
    TooltipRichContent2.prototype.hide = function() {
      if (this.el) {
        this.el.hide();
      }
      this._show = false;
    };
    TooltipRichContent2.prototype.hideLater = function(time2) {
      if (this._show && !(this._inContent && this._enterable) && !this._alwaysShowContent) {
        if (time2) {
          this._hideDelay = time2;
          this._show = false;
          this._hideTimeout = setTimeout(bind$1(this.hide, this), time2);
        } else {
          this.hide();
        }
      }
    };
    TooltipRichContent2.prototype.isShow = function() {
      return this._show;
    };
    TooltipRichContent2.prototype.dispose = function() {
      this._zr.remove(this.el);
    };
    return TooltipRichContent2;
  }();
  function mathMaxWith0(val) {
    return Math.max(0, val);
  }
  function calcShadowOuterSize(style) {
    var shadowBlur = mathMaxWith0(style.shadowBlur || 0);
    var shadowOffsetX = mathMaxWith0(style.shadowOffsetX || 0);
    var shadowOffsetY = mathMaxWith0(style.shadowOffsetY || 0);
    return {
      left: mathMaxWith0(shadowBlur - shadowOffsetX),
      right: mathMaxWith0(shadowBlur + shadowOffsetX),
      top: mathMaxWith0(shadowBlur - shadowOffsetY),
      bottom: mathMaxWith0(shadowBlur + shadowOffsetY)
    };
  }
  function makeStyleCoord(out2, zr, zrX, zrY) {
    out2[0] = zrX;
    out2[1] = zrY;
    out2[2] = out2[0] / zr.getWidth();
    out2[3] = out2[1] / zr.getHeight();
  }
  var TooltipRichContent$1 = TooltipRichContent;
  var proxyRect = new Rect$1({
    shape: {
      x: -1,
      y: -1,
      width: 2,
      height: 2
    }
  });
  var TooltipView = function(_super) {
    __extends(TooltipView2, _super);
    function TooltipView2() {
      var _this = _super !== null && _super.apply(this, arguments) || this;
      _this.type = TooltipView2.type;
      return _this;
    }
    TooltipView2.prototype.init = function(ecModel, api) {
      if (env$1.node || !api.getDom()) {
        return;
      }
      var tooltipModel = ecModel.getComponent("tooltip");
      var renderMode = this._renderMode = getTooltipRenderMode(tooltipModel.get("renderMode"));
      this._tooltipContent = renderMode === "richText" ? new TooltipRichContent$1(api) : new TooltipHTMLContent$1(api.getDom(), api, {
        appendToBody: tooltipModel.get("appendToBody", true)
      });
    };
    TooltipView2.prototype.render = function(tooltipModel, ecModel, api) {
      if (env$1.node || !api.getDom()) {
        return;
      }
      this.group.removeAll();
      this._tooltipModel = tooltipModel;
      this._ecModel = ecModel;
      this._api = api;
      var tooltipContent = this._tooltipContent;
      tooltipContent.update(tooltipModel);
      tooltipContent.setEnterable(tooltipModel.get("enterable"));
      this._initGlobalListener();
      this._keepShow();
      if (this._renderMode !== "richText" && tooltipModel.get("transitionDuration")) {
        createOrUpdate(this, "_updatePosition", 50, "fixRate");
      } else {
        clear(this, "_updatePosition");
      }
    };
    TooltipView2.prototype._initGlobalListener = function() {
      var tooltipModel = this._tooltipModel;
      var triggerOn = tooltipModel.get("triggerOn");
      register("itemTooltip", this._api, bind$1(function(currTrigger, e2, dispatchAction) {
        if (triggerOn !== "none") {
          if (triggerOn.indexOf(currTrigger) >= 0) {
            this._tryShow(e2, dispatchAction);
          } else if (currTrigger === "leave") {
            this._hide(dispatchAction);
          }
        }
      }, this));
    };
    TooltipView2.prototype._keepShow = function() {
      var tooltipModel = this._tooltipModel;
      var ecModel = this._ecModel;
      var api = this._api;
      var triggerOn = tooltipModel.get("triggerOn");
      if (this._lastX != null && this._lastY != null && triggerOn !== "none" && triggerOn !== "click") {
        var self_1 = this;
        clearTimeout(this._refreshUpdateTimeout);
        this._refreshUpdateTimeout = setTimeout(function() {
          !api.isDisposed() && self_1.manuallyShowTip(tooltipModel, ecModel, api, {
            x: self_1._lastX,
            y: self_1._lastY,
            dataByCoordSys: self_1._lastDataByCoordSys
          });
        });
      }
    };
    TooltipView2.prototype.manuallyShowTip = function(tooltipModel, ecModel, api, payload) {
      if (payload.from === this.uid || env$1.node || !api.getDom()) {
        return;
      }
      var dispatchAction = makeDispatchAction(payload, api);
      this._ticket = "";
      var dataByCoordSys = payload.dataByCoordSys;
      var cmptRef = findComponentReference(payload, ecModel, api);
      if (cmptRef) {
        var rect = cmptRef.el.getBoundingRect().clone();
        rect.applyTransform(cmptRef.el.transform);
        this._tryShow({
          offsetX: rect.x + rect.width / 2,
          offsetY: rect.y + rect.height / 2,
          target: cmptRef.el,
          position: payload.position,
          positionDefault: "bottom"
        }, dispatchAction);
      } else if (payload.tooltip && payload.x != null && payload.y != null) {
        var el = proxyRect;
        el.x = payload.x;
        el.y = payload.y;
        el.update();
        getECData(el).tooltipConfig = {
          name: null,
          option: payload.tooltip
        };
        this._tryShow({
          offsetX: payload.x,
          offsetY: payload.y,
          target: el
        }, dispatchAction);
      } else if (dataByCoordSys) {
        this._tryShow({
          offsetX: payload.x,
          offsetY: payload.y,
          position: payload.position,
          dataByCoordSys,
          tooltipOption: payload.tooltipOption
        }, dispatchAction);
      } else if (payload.seriesIndex != null) {
        if (this._manuallyAxisShowTip(tooltipModel, ecModel, api, payload)) {
          return;
        }
        var pointInfo = findPointFromSeries(payload, ecModel);
        var cx = pointInfo.point[0];
        var cy = pointInfo.point[1];
        if (cx != null && cy != null) {
          this._tryShow({
            offsetX: cx,
            offsetY: cy,
            target: pointInfo.el,
            position: payload.position,
            positionDefault: "bottom"
          }, dispatchAction);
        }
      } else if (payload.x != null && payload.y != null) {
        api.dispatchAction({
          type: "updateAxisPointer",
          x: payload.x,
          y: payload.y
        });
        this._tryShow({
          offsetX: payload.x,
          offsetY: payload.y,
          position: payload.position,
          target: api.getZr().findHover(payload.x, payload.y).target
        }, dispatchAction);
      }
    };
    TooltipView2.prototype.manuallyHideTip = function(tooltipModel, ecModel, api, payload) {
      var tooltipContent = this._tooltipContent;
      if (this._tooltipModel) {
        tooltipContent.hideLater(this._tooltipModel.get("hideDelay"));
      }
      this._lastX = this._lastY = this._lastDataByCoordSys = null;
      if (payload.from !== this.uid) {
        this._hide(makeDispatchAction(payload, api));
      }
    };
    TooltipView2.prototype._manuallyAxisShowTip = function(tooltipModel, ecModel, api, payload) {
      var seriesIndex = payload.seriesIndex;
      var dataIndex = payload.dataIndex;
      var coordSysAxesInfo = ecModel.getComponent("axisPointer").coordSysAxesInfo;
      if (seriesIndex == null || dataIndex == null || coordSysAxesInfo == null) {
        return;
      }
      var seriesModel = ecModel.getSeriesByIndex(seriesIndex);
      if (!seriesModel) {
        return;
      }
      var data = seriesModel.getData();
      var tooltipCascadedModel = buildTooltipModel([data.getItemModel(dataIndex), seriesModel, (seriesModel.coordinateSystem || {}).model], this._tooltipModel);
      if (tooltipCascadedModel.get("trigger") !== "axis") {
        return;
      }
      api.dispatchAction({
        type: "updateAxisPointer",
        seriesIndex,
        dataIndex,
        position: payload.position
      });
      return true;
    };
    TooltipView2.prototype._tryShow = function(e2, dispatchAction) {
      var el = e2.target;
      var tooltipModel = this._tooltipModel;
      if (!tooltipModel) {
        return;
      }
      this._lastX = e2.offsetX;
      this._lastY = e2.offsetY;
      var dataByCoordSys = e2.dataByCoordSys;
      if (dataByCoordSys && dataByCoordSys.length) {
        this._showAxisTooltip(dataByCoordSys, e2);
      } else if (el) {
        this._lastDataByCoordSys = null;
        var seriesDispatcher_1;
        var cmptDispatcher_1;
        findEventDispatcher(el, function(target) {
          if (getECData(target).dataIndex != null) {
            seriesDispatcher_1 = target;
            return true;
          }
          if (getECData(target).tooltipConfig != null) {
            cmptDispatcher_1 = target;
            return true;
          }
        }, true);
        if (seriesDispatcher_1) {
          this._showSeriesItemTooltip(e2, seriesDispatcher_1, dispatchAction);
        } else if (cmptDispatcher_1) {
          this._showComponentItemTooltip(e2, cmptDispatcher_1, dispatchAction);
        } else {
          this._hide(dispatchAction);
        }
      } else {
        this._lastDataByCoordSys = null;
        this._hide(dispatchAction);
      }
    };
    TooltipView2.prototype._showOrMove = function(tooltipModel, cb) {
      var delay = tooltipModel.get("showDelay");
      cb = bind$1(cb, this);
      clearTimeout(this._showTimout);
      delay > 0 ? this._showTimout = setTimeout(cb, delay) : cb();
    };
    TooltipView2.prototype._showAxisTooltip = function(dataByCoordSys, e2) {
      var ecModel = this._ecModel;
      var globalTooltipModel = this._tooltipModel;
      var point = [e2.offsetX, e2.offsetY];
      var singleTooltipModel = buildTooltipModel([e2.tooltipOption], globalTooltipModel);
      var renderMode = this._renderMode;
      var cbParamsList = [];
      var articleMarkup = createTooltipMarkup("section", {
        blocks: [],
        noHeader: true
      });
      var markupTextArrLegacy = [];
      var markupStyleCreator = new TooltipMarkupStyleCreator();
      each$3(dataByCoordSys, function(itemCoordSys) {
        each$3(itemCoordSys.dataByAxis, function(axisItem) {
          var axisModel = ecModel.getComponent(axisItem.axisDim + "Axis", axisItem.axisIndex);
          var axisValue = axisItem.value;
          if (!axisModel || axisValue == null) {
            return;
          }
          var axisValueLabel = getValueLabel(axisValue, axisModel.axis, ecModel, axisItem.seriesDataIndices, axisItem.valueLabelOpt);
          var axisSectionMarkup = createTooltipMarkup("section", {
            header: axisValueLabel,
            noHeader: !trim(axisValueLabel),
            sortBlocks: true,
            blocks: []
          });
          articleMarkup.blocks.push(axisSectionMarkup);
          each$3(axisItem.seriesDataIndices, function(idxItem) {
            var series = ecModel.getSeriesByIndex(idxItem.seriesIndex);
            var dataIndex = idxItem.dataIndexInside;
            var cbParams = series.getDataParams(dataIndex);
            if (cbParams.dataIndex < 0) {
              return;
            }
            cbParams.axisDim = axisItem.axisDim;
            cbParams.axisIndex = axisItem.axisIndex;
            cbParams.axisType = axisItem.axisType;
            cbParams.axisId = axisItem.axisId;
            cbParams.axisValue = getAxisRawValue(axisModel.axis, {
              value: axisValue
            });
            cbParams.axisValueLabel = axisValueLabel;
            cbParams.marker = markupStyleCreator.makeTooltipMarker("item", convertToColorString(cbParams.color), renderMode);
            var seriesTooltipResult = normalizeTooltipFormatResult(series.formatTooltip(dataIndex, true, null));
            var frag = seriesTooltipResult.frag;
            if (frag) {
              var valueFormatter = buildTooltipModel([series], globalTooltipModel).get("valueFormatter");
              axisSectionMarkup.blocks.push(valueFormatter ? extend({
                valueFormatter
              }, frag) : frag);
            }
            if (seriesTooltipResult.text) {
              markupTextArrLegacy.push(seriesTooltipResult.text);
            }
            cbParamsList.push(cbParams);
          });
        });
      });
      articleMarkup.blocks.reverse();
      markupTextArrLegacy.reverse();
      var positionExpr = e2.position;
      var orderMode = singleTooltipModel.get("order");
      var builtMarkupText = buildTooltipMarkup(articleMarkup, markupStyleCreator, renderMode, orderMode, ecModel.get("useUTC"), singleTooltipModel.get("textStyle"));
      builtMarkupText && markupTextArrLegacy.unshift(builtMarkupText);
      var blockBreak = renderMode === "richText" ? "\n\n" : "<br/>";
      var allMarkupText = markupTextArrLegacy.join(blockBreak);
      this._showOrMove(singleTooltipModel, function() {
        if (this._updateContentNotChangedOnAxis(dataByCoordSys, cbParamsList)) {
          this._updatePosition(singleTooltipModel, positionExpr, point[0], point[1], this._tooltipContent, cbParamsList);
        } else {
          this._showTooltipContent(singleTooltipModel, allMarkupText, cbParamsList, Math.random() + "", point[0], point[1], positionExpr, null, markupStyleCreator);
        }
      });
    };
    TooltipView2.prototype._showSeriesItemTooltip = function(e2, dispatcher, dispatchAction) {
      var ecModel = this._ecModel;
      var ecData = getECData(dispatcher);
      var seriesIndex = ecData.seriesIndex;
      var seriesModel = ecModel.getSeriesByIndex(seriesIndex);
      var dataModel = ecData.dataModel || seriesModel;
      var dataIndex = ecData.dataIndex;
      var dataType = ecData.dataType;
      var data = dataModel.getData(dataType);
      var renderMode = this._renderMode;
      var positionDefault = e2.positionDefault;
      var tooltipModel = buildTooltipModel([data.getItemModel(dataIndex), dataModel, seriesModel && (seriesModel.coordinateSystem || {}).model], this._tooltipModel, positionDefault ? {
        position: positionDefault
      } : null);
      var tooltipTrigger = tooltipModel.get("trigger");
      if (tooltipTrigger != null && tooltipTrigger !== "item") {
        return;
      }
      var params = dataModel.getDataParams(dataIndex, dataType);
      var markupStyleCreator = new TooltipMarkupStyleCreator();
      params.marker = markupStyleCreator.makeTooltipMarker("item", convertToColorString(params.color), renderMode);
      var seriesTooltipResult = normalizeTooltipFormatResult(dataModel.formatTooltip(dataIndex, false, dataType));
      var orderMode = tooltipModel.get("order");
      var valueFormatter = tooltipModel.get("valueFormatter");
      var frag = seriesTooltipResult.frag;
      var markupText = frag ? buildTooltipMarkup(valueFormatter ? extend({
        valueFormatter
      }, frag) : frag, markupStyleCreator, renderMode, orderMode, ecModel.get("useUTC"), tooltipModel.get("textStyle")) : seriesTooltipResult.text;
      var asyncTicket = "item_" + dataModel.name + "_" + dataIndex;
      this._showOrMove(tooltipModel, function() {
        this._showTooltipContent(tooltipModel, markupText, params, asyncTicket, e2.offsetX, e2.offsetY, e2.position, e2.target, markupStyleCreator);
      });
      dispatchAction({
        type: "showTip",
        dataIndexInside: dataIndex,
        dataIndex: data.getRawIndex(dataIndex),
        seriesIndex,
        from: this.uid
      });
    };
    TooltipView2.prototype._showComponentItemTooltip = function(e2, el, dispatchAction) {
      var ecData = getECData(el);
      var tooltipConfig = ecData.tooltipConfig;
      var tooltipOpt = tooltipConfig.option || {};
      if (isString(tooltipOpt)) {
        var content = tooltipOpt;
        tooltipOpt = {
          content,
          formatter: content
        };
      }
      var tooltipModelCascade = [tooltipOpt];
      var cmpt = this._ecModel.getComponent(ecData.componentMainType, ecData.componentIndex);
      if (cmpt) {
        tooltipModelCascade.push(cmpt);
      }
      tooltipModelCascade.push({
        formatter: tooltipOpt.content
      });
      var positionDefault = e2.positionDefault;
      var subTooltipModel = buildTooltipModel(tooltipModelCascade, this._tooltipModel, positionDefault ? {
        position: positionDefault
      } : null);
      var defaultHtml = subTooltipModel.get("content");
      var asyncTicket = Math.random() + "";
      var markupStyleCreator = new TooltipMarkupStyleCreator();
      this._showOrMove(subTooltipModel, function() {
        var formatterParams = clone$3(subTooltipModel.get("formatterParams") || {});
        this._showTooltipContent(subTooltipModel, defaultHtml, formatterParams, asyncTicket, e2.offsetX, e2.offsetY, e2.position, el, markupStyleCreator);
      });
      dispatchAction({
        type: "showTip",
        from: this.uid
      });
    };
    TooltipView2.prototype._showTooltipContent = function(tooltipModel, defaultHtml, params, asyncTicket, x2, y, positionExpr, el, markupStyleCreator) {
      this._ticket = "";
      if (!tooltipModel.get("showContent") || !tooltipModel.get("show")) {
        return;
      }
      var tooltipContent = this._tooltipContent;
      tooltipContent.setEnterable(tooltipModel.get("enterable"));
      var formatter = tooltipModel.get("formatter");
      positionExpr = positionExpr || tooltipModel.get("position");
      var html = defaultHtml;
      var nearPoint = this._getNearestPoint([x2, y], params, tooltipModel.get("trigger"), tooltipModel.get("borderColor"));
      var nearPointColor = nearPoint.color;
      if (formatter) {
        if (isString(formatter)) {
          var useUTC = tooltipModel.ecModel.get("useUTC");
          var params0 = isArray(params) ? params[0] : params;
          var isTimeAxis = params0 && params0.axisType && params0.axisType.indexOf("time") >= 0;
          html = formatter;
          if (isTimeAxis) {
            html = format$1(params0.axisValue, html, useUTC);
          }
          html = formatTpl(html, params, true);
        } else if (isFunction(formatter)) {
          var callback = bind$1(function(cbTicket, html2) {
            if (cbTicket === this._ticket) {
              tooltipContent.setContent(html2, markupStyleCreator, tooltipModel, nearPointColor, positionExpr);
              this._updatePosition(tooltipModel, positionExpr, x2, y, tooltipContent, params, el);
            }
          }, this);
          this._ticket = asyncTicket;
          html = formatter(params, asyncTicket, callback);
        } else {
          html = formatter;
        }
      }
      tooltipContent.setContent(html, markupStyleCreator, tooltipModel, nearPointColor, positionExpr);
      tooltipContent.show(tooltipModel, nearPointColor);
      this._updatePosition(tooltipModel, positionExpr, x2, y, tooltipContent, params, el);
    };
    TooltipView2.prototype._getNearestPoint = function(point, tooltipDataParams, trigger, borderColor) {
      if (trigger === "axis" || isArray(tooltipDataParams)) {
        return {
          color: borderColor || (this._renderMode === "html" ? "#fff" : "none")
        };
      }
      if (!isArray(tooltipDataParams)) {
        return {
          color: borderColor || tooltipDataParams.color || tooltipDataParams.borderColor
        };
      }
    };
    TooltipView2.prototype._updatePosition = function(tooltipModel, positionExpr, x2, y, content, params, el) {
      var viewWidth = this._api.getWidth();
      var viewHeight = this._api.getHeight();
      positionExpr = positionExpr || tooltipModel.get("position");
      var contentSize = content.getSize();
      var align = tooltipModel.get("align");
      var vAlign = tooltipModel.get("verticalAlign");
      var rect = el && el.getBoundingRect().clone();
      el && rect.applyTransform(el.transform);
      if (isFunction(positionExpr)) {
        positionExpr = positionExpr([x2, y], params, content.el, rect, {
          viewSize: [viewWidth, viewHeight],
          contentSize: contentSize.slice()
        });
      }
      if (isArray(positionExpr)) {
        x2 = parsePercent(positionExpr[0], viewWidth);
        y = parsePercent(positionExpr[1], viewHeight);
      } else if (isObject$2(positionExpr)) {
        var boxLayoutPosition = positionExpr;
        boxLayoutPosition.width = contentSize[0];
        boxLayoutPosition.height = contentSize[1];
        var layoutRect = getLayoutRect(boxLayoutPosition, {
          width: viewWidth,
          height: viewHeight
        });
        x2 = layoutRect.x;
        y = layoutRect.y;
        align = null;
        vAlign = null;
      } else if (isString(positionExpr) && el) {
        var pos = calcTooltipPosition(positionExpr, rect, contentSize, tooltipModel.get("borderWidth"));
        x2 = pos[0];
        y = pos[1];
      } else {
        var pos = refixTooltipPosition(x2, y, content, viewWidth, viewHeight, align ? null : 20, vAlign ? null : 20);
        x2 = pos[0];
        y = pos[1];
      }
      align && (x2 -= isCenterAlign(align) ? contentSize[0] / 2 : align === "right" ? contentSize[0] : 0);
      vAlign && (y -= isCenterAlign(vAlign) ? contentSize[1] / 2 : vAlign === "bottom" ? contentSize[1] : 0);
      if (shouldTooltipConfine(tooltipModel)) {
        var pos = confineTooltipPosition(x2, y, content, viewWidth, viewHeight);
        x2 = pos[0];
        y = pos[1];
      }
      content.moveTo(x2, y);
    };
    TooltipView2.prototype._updateContentNotChangedOnAxis = function(dataByCoordSys, cbParamsList) {
      var lastCoordSys = this._lastDataByCoordSys;
      var lastCbParamsList = this._cbParamsList;
      var contentNotChanged = !!lastCoordSys && lastCoordSys.length === dataByCoordSys.length;
      contentNotChanged && each$3(lastCoordSys, function(lastItemCoordSys, indexCoordSys) {
        var lastDataByAxis = lastItemCoordSys.dataByAxis || [];
        var thisItemCoordSys = dataByCoordSys[indexCoordSys] || {};
        var thisDataByAxis = thisItemCoordSys.dataByAxis || [];
        contentNotChanged = contentNotChanged && lastDataByAxis.length === thisDataByAxis.length;
        contentNotChanged && each$3(lastDataByAxis, function(lastItem, indexAxis) {
          var thisItem = thisDataByAxis[indexAxis] || {};
          var lastIndices = lastItem.seriesDataIndices || [];
          var newIndices = thisItem.seriesDataIndices || [];
          contentNotChanged = contentNotChanged && lastItem.value === thisItem.value && lastItem.axisType === thisItem.axisType && lastItem.axisId === thisItem.axisId && lastIndices.length === newIndices.length;
          contentNotChanged && each$3(lastIndices, function(lastIdxItem, j2) {
            var newIdxItem = newIndices[j2];
            contentNotChanged = contentNotChanged && lastIdxItem.seriesIndex === newIdxItem.seriesIndex && lastIdxItem.dataIndex === newIdxItem.dataIndex;
          });
          lastCbParamsList && each$3(lastItem.seriesDataIndices, function(idxItem) {
            var seriesIdx = idxItem.seriesIndex;
            var cbParams = cbParamsList[seriesIdx];
            var lastCbParams = lastCbParamsList[seriesIdx];
            if (cbParams && lastCbParams && lastCbParams.data !== cbParams.data) {
              contentNotChanged = false;
            }
          });
        });
      });
      this._lastDataByCoordSys = dataByCoordSys;
      this._cbParamsList = cbParamsList;
      return !!contentNotChanged;
    };
    TooltipView2.prototype._hide = function(dispatchAction) {
      this._lastDataByCoordSys = null;
      dispatchAction({
        type: "hideTip",
        from: this.uid
      });
    };
    TooltipView2.prototype.dispose = function(ecModel, api) {
      if (env$1.node || !api.getDom()) {
        return;
      }
      clear(this, "_updatePosition");
      this._tooltipContent.dispose();
      unregister("itemTooltip", api);
    };
    TooltipView2.type = "tooltip";
    return TooltipView2;
  }(ComponentView$1);
  function buildTooltipModel(modelCascade, globalTooltipModel, defaultTooltipOption) {
    var ecModel = globalTooltipModel.ecModel;
    var resultModel;
    if (defaultTooltipOption) {
      resultModel = new Model$1(defaultTooltipOption, ecModel, ecModel);
      resultModel = new Model$1(globalTooltipModel.option, resultModel, ecModel);
    } else {
      resultModel = globalTooltipModel;
    }
    for (var i2 = modelCascade.length - 1; i2 >= 0; i2--) {
      var tooltipOpt = modelCascade[i2];
      if (tooltipOpt) {
        if (tooltipOpt instanceof Model$1) {
          tooltipOpt = tooltipOpt.get("tooltip", true);
        }
        if (isString(tooltipOpt)) {
          tooltipOpt = {
            formatter: tooltipOpt
          };
        }
        if (tooltipOpt) {
          resultModel = new Model$1(tooltipOpt, resultModel, ecModel);
        }
      }
    }
    return resultModel;
  }
  function makeDispatchAction(payload, api) {
    return payload.dispatchAction || bind$1(api.dispatchAction, api);
  }
  function refixTooltipPosition(x2, y, content, viewWidth, viewHeight, gapH, gapV) {
    var size = content.getSize();
    var width = size[0];
    var height = size[1];
    if (gapH != null) {
      if (x2 + width + gapH + 2 > viewWidth) {
        x2 -= width + gapH;
      } else {
        x2 += gapH;
      }
    }
    if (gapV != null) {
      if (y + height + gapV > viewHeight) {
        y -= height + gapV;
      } else {
        y += gapV;
      }
    }
    return [x2, y];
  }
  function confineTooltipPosition(x2, y, content, viewWidth, viewHeight) {
    var size = content.getSize();
    var width = size[0];
    var height = size[1];
    x2 = Math.min(x2 + width, viewWidth) - width;
    y = Math.min(y + height, viewHeight) - height;
    x2 = Math.max(x2, 0);
    y = Math.max(y, 0);
    return [x2, y];
  }
  function calcTooltipPosition(position, rect, contentSize, borderWidth) {
    var domWidth = contentSize[0];
    var domHeight = contentSize[1];
    var offset = Math.ceil(Math.SQRT2 * borderWidth) + 8;
    var x2 = 0;
    var y = 0;
    var rectWidth = rect.width;
    var rectHeight = rect.height;
    switch (position) {
      case "inside":
        x2 = rect.x + rectWidth / 2 - domWidth / 2;
        y = rect.y + rectHeight / 2 - domHeight / 2;
        break;
      case "top":
        x2 = rect.x + rectWidth / 2 - domWidth / 2;
        y = rect.y - domHeight - offset;
        break;
      case "bottom":
        x2 = rect.x + rectWidth / 2 - domWidth / 2;
        y = rect.y + rectHeight + offset;
        break;
      case "left":
        x2 = rect.x - domWidth - offset;
        y = rect.y + rectHeight / 2 - domHeight / 2;
        break;
      case "right":
        x2 = rect.x + rectWidth + offset;
        y = rect.y + rectHeight / 2 - domHeight / 2;
    }
    return [x2, y];
  }
  function isCenterAlign(align) {
    return align === "center" || align === "middle";
  }
  function findComponentReference(payload, ecModel, api) {
    var queryOptionMap = preParseFinder(payload).queryOptionMap;
    var componentMainType = queryOptionMap.keys()[0];
    if (!componentMainType || componentMainType === "series") {
      return;
    }
    var queryResult = queryReferringComponents(ecModel, componentMainType, queryOptionMap.get(componentMainType), {
      useDefault: false,
      enableAll: false,
      enableNone: false
    });
    var model = queryResult.models[0];
    if (!model) {
      return;
    }
    var view = api.getViewOfComponentModel(model);
    var el;
    view.group.traverse(function(subEl) {
      var tooltipConfig = getECData(subEl).tooltipConfig;
      if (tooltipConfig && tooltipConfig.name === payload.name) {
        el = subEl;
        return true;
      }
    });
    if (el) {
      return {
        componentMainType,
        componentIndex: model.componentIndex,
        el
      };
    }
  }
  var TooltipView$1 = TooltipView;
  function install$1(registers) {
    use(install$3);
    registers.registerComponentModel(TooltipModel$1);
    registers.registerComponentView(TooltipView$1);
    registers.registerAction({
      type: "showTip",
      event: "showTip",
      update: "tooltip:manuallyShowTip"
    }, noop);
    registers.registerAction({
      type: "hideTip",
      event: "hideTip",
      update: "tooltip:manuallyHideTip"
    }, noop);
  }
  function createDom(id, painter, dpr2) {
    var newDom = platformApi.createCanvas();
    var width = painter.getWidth();
    var height = painter.getHeight();
    var newDomStyle = newDom.style;
    if (newDomStyle) {
      newDomStyle.position = "absolute";
      newDomStyle.left = "0";
      newDomStyle.top = "0";
      newDomStyle.width = width + "px";
      newDomStyle.height = height + "px";
      newDom.setAttribute("data-zr-dom-id", id);
    }
    newDom.width = width * dpr2;
    newDom.height = height * dpr2;
    return newDom;
  }
  var Layer = function(_super) {
    __extends(Layer2, _super);
    function Layer2(id, painter, dpr2) {
      var _this = _super.call(this) || this;
      _this.motionBlur = false;
      _this.lastFrameAlpha = 0.7;
      _this.dpr = 1;
      _this.virtual = false;
      _this.config = {};
      _this.incremental = false;
      _this.zlevel = 0;
      _this.maxRepaintRectCount = 5;
      _this.__dirty = true;
      _this.__firstTimePaint = true;
      _this.__used = false;
      _this.__drawIndex = 0;
      _this.__startIndex = 0;
      _this.__endIndex = 0;
      _this.__prevStartIndex = null;
      _this.__prevEndIndex = null;
      var dom;
      dpr2 = dpr2 || devicePixelRatio;
      if (typeof id === "string") {
        dom = createDom(id, painter, dpr2);
      } else if (isObject$2(id)) {
        dom = id;
        id = dom.id;
      }
      _this.id = id;
      _this.dom = dom;
      var domStyle = dom.style;
      if (domStyle) {
        disableUserSelect(dom);
        dom.onselectstart = function() {
          return false;
        };
        domStyle.padding = "0";
        domStyle.margin = "0";
        domStyle.borderWidth = "0";
      }
      _this.painter = painter;
      _this.dpr = dpr2;
      return _this;
    }
    Layer2.prototype.getElementCount = function() {
      return this.__endIndex - this.__startIndex;
    };
    Layer2.prototype.afterBrush = function() {
      this.__prevStartIndex = this.__startIndex;
      this.__prevEndIndex = this.__endIndex;
    };
    Layer2.prototype.initContext = function() {
      this.ctx = this.dom.getContext("2d");
      this.ctx.dpr = this.dpr;
    };
    Layer2.prototype.setUnpainted = function() {
      this.__firstTimePaint = true;
    };
    Layer2.prototype.createBackBuffer = function() {
      var dpr2 = this.dpr;
      this.domBack = createDom("back-" + this.id, this.painter, dpr2);
      this.ctxBack = this.domBack.getContext("2d");
      if (dpr2 !== 1) {
        this.ctxBack.scale(dpr2, dpr2);
      }
    };
    Layer2.prototype.createRepaintRects = function(displayList, prevList, viewWidth, viewHeight) {
      if (this.__firstTimePaint) {
        this.__firstTimePaint = false;
        return null;
      }
      var mergedRepaintRects = [];
      var maxRepaintRectCount = this.maxRepaintRectCount;
      var full = false;
      var pendingRect = new BoundingRect$1(0, 0, 0, 0);
      function addRectToMergePool(rect) {
        if (!rect.isFinite() || rect.isZero()) {
          return;
        }
        if (mergedRepaintRects.length === 0) {
          var boundingRect = new BoundingRect$1(0, 0, 0, 0);
          boundingRect.copy(rect);
          mergedRepaintRects.push(boundingRect);
        } else {
          var isMerged = false;
          var minDeltaArea = Infinity;
          var bestRectToMergeIdx = 0;
          for (var i3 = 0; i3 < mergedRepaintRects.length; ++i3) {
            var mergedRect = mergedRepaintRects[i3];
            if (mergedRect.intersect(rect)) {
              var pendingRect_1 = new BoundingRect$1(0, 0, 0, 0);
              pendingRect_1.copy(mergedRect);
              pendingRect_1.union(rect);
              mergedRepaintRects[i3] = pendingRect_1;
              isMerged = true;
              break;
            } else if (full) {
              pendingRect.copy(rect);
              pendingRect.union(mergedRect);
              var aArea = rect.width * rect.height;
              var bArea = mergedRect.width * mergedRect.height;
              var pendingArea = pendingRect.width * pendingRect.height;
              var deltaArea = pendingArea - aArea - bArea;
              if (deltaArea < minDeltaArea) {
                minDeltaArea = deltaArea;
                bestRectToMergeIdx = i3;
              }
            }
          }
          if (full) {
            mergedRepaintRects[bestRectToMergeIdx].union(rect);
            isMerged = true;
          }
          if (!isMerged) {
            var boundingRect = new BoundingRect$1(0, 0, 0, 0);
            boundingRect.copy(rect);
            mergedRepaintRects.push(boundingRect);
          }
          if (!full) {
            full = mergedRepaintRects.length >= maxRepaintRectCount;
          }
        }
      }
      for (var i2 = this.__startIndex; i2 < this.__endIndex; ++i2) {
        var el = displayList[i2];
        if (el) {
          var shouldPaint = el.shouldBePainted(viewWidth, viewHeight, true, true);
          var prevRect = el.__isRendered && (el.__dirty & REDRAW_BIT || !shouldPaint) ? el.getPrevPaintRect() : null;
          if (prevRect) {
            addRectToMergePool(prevRect);
          }
          var curRect = shouldPaint && (el.__dirty & REDRAW_BIT || !el.__isRendered) ? el.getPaintRect() : null;
          if (curRect) {
            addRectToMergePool(curRect);
          }
        }
      }
      for (var i2 = this.__prevStartIndex; i2 < this.__prevEndIndex; ++i2) {
        var el = prevList[i2];
        var shouldPaint = el.shouldBePainted(viewWidth, viewHeight, true, true);
        if (el && (!shouldPaint || !el.__zr) && el.__isRendered) {
          var prevRect = el.getPrevPaintRect();
          if (prevRect) {
            addRectToMergePool(prevRect);
          }
        }
      }
      var hasIntersections;
      do {
        hasIntersections = false;
        for (var i2 = 0; i2 < mergedRepaintRects.length; ) {
          if (mergedRepaintRects[i2].isZero()) {
            mergedRepaintRects.splice(i2, 1);
            continue;
          }
          for (var j2 = i2 + 1; j2 < mergedRepaintRects.length; ) {
            if (mergedRepaintRects[i2].intersect(mergedRepaintRects[j2])) {
              hasIntersections = true;
              mergedRepaintRects[i2].union(mergedRepaintRects[j2]);
              mergedRepaintRects.splice(j2, 1);
            } else {
              j2++;
            }
          }
          i2++;
        }
      } while (hasIntersections);
      this._paintRects = mergedRepaintRects;
      return mergedRepaintRects;
    };
    Layer2.prototype.debugGetPaintRects = function() {
      return (this._paintRects || []).slice();
    };
    Layer2.prototype.resize = function(width, height) {
      var dpr2 = this.dpr;
      var dom = this.dom;
      var domStyle = dom.style;
      var domBack = this.domBack;
      if (domStyle) {
        domStyle.width = width + "px";
        domStyle.height = height + "px";
      }
      dom.width = width * dpr2;
      dom.height = height * dpr2;
      if (domBack) {
        domBack.width = width * dpr2;
        domBack.height = height * dpr2;
        if (dpr2 !== 1) {
          this.ctxBack.scale(dpr2, dpr2);
        }
      }
    };
    Layer2.prototype.clear = function(clearAll, clearColor, repaintRects) {
      var dom = this.dom;
      var ctx = this.ctx;
      var width = dom.width;
      var height = dom.height;
      clearColor = clearColor || this.clearColor;
      var haveMotionBLur = this.motionBlur && !clearAll;
      var lastFrameAlpha = this.lastFrameAlpha;
      var dpr2 = this.dpr;
      var self2 = this;
      if (haveMotionBLur) {
        if (!this.domBack) {
          this.createBackBuffer();
        }
        this.ctxBack.globalCompositeOperation = "copy";
        this.ctxBack.drawImage(dom, 0, 0, width / dpr2, height / dpr2);
      }
      var domBack = this.domBack;
      function doClear(x2, y, width2, height2) {
        ctx.clearRect(x2, y, width2, height2);
        if (clearColor && clearColor !== "transparent") {
          var clearColorGradientOrPattern = void 0;
          if (isGradientObject(clearColor)) {
            var shouldCache = clearColor.global || clearColor.__width === width2 && clearColor.__height === height2;
            clearColorGradientOrPattern = shouldCache && clearColor.__canvasGradient || getCanvasGradient(ctx, clearColor, {
              x: 0,
              y: 0,
              width: width2,
              height: height2
            });
            clearColor.__canvasGradient = clearColorGradientOrPattern;
            clearColor.__width = width2;
            clearColor.__height = height2;
          } else if (isImagePatternObject(clearColor)) {
            clearColor.scaleX = clearColor.scaleX || dpr2;
            clearColor.scaleY = clearColor.scaleY || dpr2;
            clearColorGradientOrPattern = createCanvasPattern(ctx, clearColor, {
              dirty: function() {
                self2.setUnpainted();
                self2.__painter.refresh();
              }
            });
          }
          ctx.save();
          ctx.fillStyle = clearColorGradientOrPattern || clearColor;
          ctx.fillRect(x2, y, width2, height2);
          ctx.restore();
        }
        if (haveMotionBLur) {
          ctx.save();
          ctx.globalAlpha = lastFrameAlpha;
          ctx.drawImage(domBack, x2, y, width2, height2);
          ctx.restore();
        }
      }
      if (!repaintRects || haveMotionBLur) {
        doClear(0, 0, width, height);
      } else if (repaintRects.length) {
        each$3(repaintRects, function(rect) {
          doClear(rect.x * dpr2, rect.y * dpr2, rect.width * dpr2, rect.height * dpr2);
        });
      }
    };
    return Layer2;
  }(Eventful$1);
  var Layer$1 = Layer;
  var HOVER_LAYER_ZLEVEL = 1e5;
  var CANVAS_ZLEVEL = 314159;
  var EL_AFTER_INCREMENTAL_INC = 0.01;
  var INCREMENTAL_INC = 1e-3;
  function isLayerValid(layer) {
    if (!layer) {
      return false;
    }
    if (layer.__builtin__) {
      return true;
    }
    if (typeof layer.resize !== "function" || typeof layer.refresh !== "function") {
      return false;
    }
    return true;
  }
  function createRoot(width, height) {
    var domRoot = document.createElement("div");
    domRoot.style.cssText = [
      "position:relative",
      "width:" + width + "px",
      "height:" + height + "px",
      "padding:0",
      "margin:0",
      "border-width:0"
    ].join(";") + ";";
    return domRoot;
  }
  var CanvasPainter = function() {
    function CanvasPainter2(root, storage, opts, id) {
      this.type = "canvas";
      this._zlevelList = [];
      this._prevDisplayList = [];
      this._layers = {};
      this._layerConfig = {};
      this._needsManuallyCompositing = false;
      this.type = "canvas";
      var singleCanvas = !root.nodeName || root.nodeName.toUpperCase() === "CANVAS";
      this._opts = opts = extend({}, opts || {});
      this.dpr = opts.devicePixelRatio || devicePixelRatio;
      this._singleCanvas = singleCanvas;
      this.root = root;
      var rootStyle = root.style;
      if (rootStyle) {
        disableUserSelect(root);
        root.innerHTML = "";
      }
      this.storage = storage;
      var zlevelList = this._zlevelList;
      this._prevDisplayList = [];
      var layers = this._layers;
      if (!singleCanvas) {
        this._width = getSize(root, 0, opts);
        this._height = getSize(root, 1, opts);
        var domRoot = this._domRoot = createRoot(this._width, this._height);
        root.appendChild(domRoot);
      } else {
        var rootCanvas = root;
        var width = rootCanvas.width;
        var height = rootCanvas.height;
        if (opts.width != null) {
          width = opts.width;
        }
        if (opts.height != null) {
          height = opts.height;
        }
        this.dpr = opts.devicePixelRatio || 1;
        rootCanvas.width = width * this.dpr;
        rootCanvas.height = height * this.dpr;
        this._width = width;
        this._height = height;
        var mainLayer = new Layer$1(rootCanvas, this, this.dpr);
        mainLayer.__builtin__ = true;
        mainLayer.initContext();
        layers[CANVAS_ZLEVEL] = mainLayer;
        mainLayer.zlevel = CANVAS_ZLEVEL;
        zlevelList.push(CANVAS_ZLEVEL);
        this._domRoot = root;
      }
    }
    CanvasPainter2.prototype.getType = function() {
      return "canvas";
    };
    CanvasPainter2.prototype.isSingleCanvas = function() {
      return this._singleCanvas;
    };
    CanvasPainter2.prototype.getViewportRoot = function() {
      return this._domRoot;
    };
    CanvasPainter2.prototype.getViewportRootOffset = function() {
      var viewportRoot = this.getViewportRoot();
      if (viewportRoot) {
        return {
          offsetLeft: viewportRoot.offsetLeft || 0,
          offsetTop: viewportRoot.offsetTop || 0
        };
      }
    };
    CanvasPainter2.prototype.refresh = function(paintAll) {
      var list = this.storage.getDisplayList(true);
      var prevList = this._prevDisplayList;
      var zlevelList = this._zlevelList;
      this._redrawId = Math.random();
      this._paintList(list, prevList, paintAll, this._redrawId);
      for (var i2 = 0; i2 < zlevelList.length; i2++) {
        var z2 = zlevelList[i2];
        var layer = this._layers[z2];
        if (!layer.__builtin__ && layer.refresh) {
          var clearColor = i2 === 0 ? this._backgroundColor : null;
          layer.refresh(clearColor);
        }
      }
      if (this._opts.useDirtyRect) {
        this._prevDisplayList = list.slice();
      }
      return this;
    };
    CanvasPainter2.prototype.refreshHover = function() {
      this._paintHoverList(this.storage.getDisplayList(false));
    };
    CanvasPainter2.prototype._paintHoverList = function(list) {
      var len2 = list.length;
      var hoverLayer = this._hoverlayer;
      hoverLayer && hoverLayer.clear();
      if (!len2) {
        return;
      }
      var scope = {
        inHover: true,
        viewWidth: this._width,
        viewHeight: this._height
      };
      var ctx;
      for (var i2 = 0; i2 < len2; i2++) {
        var el = list[i2];
        if (el.__inHover) {
          if (!hoverLayer) {
            hoverLayer = this._hoverlayer = this.getLayer(HOVER_LAYER_ZLEVEL);
          }
          if (!ctx) {
            ctx = hoverLayer.ctx;
            ctx.save();
          }
          brush(ctx, el, scope, i2 === len2 - 1);
        }
      }
      if (ctx) {
        ctx.restore();
      }
    };
    CanvasPainter2.prototype.getHoverLayer = function() {
      return this.getLayer(HOVER_LAYER_ZLEVEL);
    };
    CanvasPainter2.prototype.paintOne = function(ctx, el) {
      brushSingle(ctx, el);
    };
    CanvasPainter2.prototype._paintList = function(list, prevList, paintAll, redrawId) {
      if (this._redrawId !== redrawId) {
        return;
      }
      paintAll = paintAll || false;
      this._updateLayerStatus(list);
      var _a2 = this._doPaintList(list, prevList, paintAll), finished = _a2.finished, needsRefreshHover = _a2.needsRefreshHover;
      if (this._needsManuallyCompositing) {
        this._compositeManually();
      }
      if (needsRefreshHover) {
        this._paintHoverList(list);
      }
      if (!finished) {
        var self_1 = this;
        requestAnimationFrame$1(function() {
          self_1._paintList(list, prevList, paintAll, redrawId);
        });
      } else {
        this.eachLayer(function(layer) {
          layer.afterBrush && layer.afterBrush();
        });
      }
    };
    CanvasPainter2.prototype._compositeManually = function() {
      var ctx = this.getLayer(CANVAS_ZLEVEL).ctx;
      var width = this._domRoot.width;
      var height = this._domRoot.height;
      ctx.clearRect(0, 0, width, height);
      this.eachBuiltinLayer(function(layer) {
        if (layer.virtual) {
          ctx.drawImage(layer.dom, 0, 0, width, height);
        }
      });
    };
    CanvasPainter2.prototype._doPaintList = function(list, prevList, paintAll) {
      var _this = this;
      var layerList = [];
      var useDirtyRect = this._opts.useDirtyRect;
      for (var zi = 0; zi < this._zlevelList.length; zi++) {
        var zlevel = this._zlevelList[zi];
        var layer = this._layers[zlevel];
        if (layer.__builtin__ && layer !== this._hoverlayer && (layer.__dirty || paintAll)) {
          layerList.push(layer);
        }
      }
      var finished = true;
      var needsRefreshHover = false;
      var _loop_1 = function(k3) {
        var layer2 = layerList[k3];
        var ctx = layer2.ctx;
        var repaintRects = useDirtyRect && layer2.createRepaintRects(list, prevList, this_1._width, this_1._height);
        var start2 = paintAll ? layer2.__startIndex : layer2.__drawIndex;
        var useTimer = !paintAll && layer2.incremental && Date.now;
        var startTime = useTimer && Date.now();
        var clearColor = layer2.zlevel === this_1._zlevelList[0] ? this_1._backgroundColor : null;
        if (layer2.__startIndex === layer2.__endIndex) {
          layer2.clear(false, clearColor, repaintRects);
        } else if (start2 === layer2.__startIndex) {
          var firstEl = list[start2];
          if (!firstEl.incremental || !firstEl.notClear || paintAll) {
            layer2.clear(false, clearColor, repaintRects);
          }
        }
        if (start2 === -1) {
          formatAppLog("error", "at node_modules/zrender/lib/canvas/Painter.js:239", "For some unknown reason. drawIndex is -1");
          start2 = layer2.__startIndex;
        }
        var i2;
        var repaint = function(repaintRect) {
          var scope = {
            inHover: false,
            allClipped: false,
            prevEl: null,
            viewWidth: _this._width,
            viewHeight: _this._height
          };
          for (i2 = start2; i2 < layer2.__endIndex; i2++) {
            var el = list[i2];
            if (el.__inHover) {
              needsRefreshHover = true;
            }
            _this._doPaintEl(el, layer2, useDirtyRect, repaintRect, scope, i2 === layer2.__endIndex - 1);
            if (useTimer) {
              var dTime = Date.now() - startTime;
              if (dTime > 15) {
                break;
              }
            }
          }
          if (scope.prevElClipPaths) {
            ctx.restore();
          }
        };
        if (repaintRects) {
          if (repaintRects.length === 0) {
            i2 = layer2.__endIndex;
          } else {
            var dpr2 = this_1.dpr;
            for (var r2 = 0; r2 < repaintRects.length; ++r2) {
              var rect = repaintRects[r2];
              ctx.save();
              ctx.beginPath();
              ctx.rect(rect.x * dpr2, rect.y * dpr2, rect.width * dpr2, rect.height * dpr2);
              ctx.clip();
              repaint(rect);
              ctx.restore();
            }
          }
        } else {
          ctx.save();
          repaint();
          ctx.restore();
        }
        layer2.__drawIndex = i2;
        if (layer2.__drawIndex < layer2.__endIndex) {
          finished = false;
        }
      };
      var this_1 = this;
      for (var k2 = 0; k2 < layerList.length; k2++) {
        _loop_1(k2);
      }
      if (env$1.wxa) {
        each$3(this._layers, function(layer2) {
          if (layer2 && layer2.ctx && layer2.ctx.draw) {
            layer2.ctx.draw();
          }
        });
      }
      return {
        finished,
        needsRefreshHover
      };
    };
    CanvasPainter2.prototype._doPaintEl = function(el, currentLayer, useDirtyRect, repaintRect, scope, isLast) {
      var ctx = currentLayer.ctx;
      if (useDirtyRect) {
        var paintRect = el.getPaintRect();
        if (!repaintRect || paintRect && paintRect.intersect(repaintRect)) {
          brush(ctx, el, scope, isLast);
          el.setPrevPaintRect(paintRect);
        }
      } else {
        brush(ctx, el, scope, isLast);
      }
    };
    CanvasPainter2.prototype.getLayer = function(zlevel, virtual) {
      if (this._singleCanvas && !this._needsManuallyCompositing) {
        zlevel = CANVAS_ZLEVEL;
      }
      var layer = this._layers[zlevel];
      if (!layer) {
        layer = new Layer$1("zr_" + zlevel, this, this.dpr);
        layer.zlevel = zlevel;
        layer.__builtin__ = true;
        if (this._layerConfig[zlevel]) {
          merge(layer, this._layerConfig[zlevel], true);
        } else if (this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC]) {
          merge(layer, this._layerConfig[zlevel - EL_AFTER_INCREMENTAL_INC], true);
        }
        if (virtual) {
          layer.virtual = virtual;
        }
        this.insertLayer(zlevel, layer);
        layer.initContext();
      }
      return layer;
    };
    CanvasPainter2.prototype.insertLayer = function(zlevel, layer) {
      var layersMap = this._layers;
      var zlevelList = this._zlevelList;
      var len2 = zlevelList.length;
      var domRoot = this._domRoot;
      var prevLayer = null;
      var i2 = -1;
      if (layersMap[zlevel]) {
        {
          logError("ZLevel " + zlevel + " has been used already");
        }
        return;
      }
      if (!isLayerValid(layer)) {
        {
          logError("Layer of zlevel " + zlevel + " is not valid");
        }
        return;
      }
      if (len2 > 0 && zlevel > zlevelList[0]) {
        for (i2 = 0; i2 < len2 - 1; i2++) {
          if (zlevelList[i2] < zlevel && zlevelList[i2 + 1] > zlevel) {
            break;
          }
        }
        prevLayer = layersMap[zlevelList[i2]];
      }
      zlevelList.splice(i2 + 1, 0, zlevel);
      layersMap[zlevel] = layer;
      if (!layer.virtual) {
        if (prevLayer) {
          var prevDom = prevLayer.dom;
          if (prevDom.nextSibling) {
            domRoot.insertBefore(layer.dom, prevDom.nextSibling);
          } else {
            domRoot.appendChild(layer.dom);
          }
        } else {
          if (domRoot.firstChild) {
            domRoot.insertBefore(layer.dom, domRoot.firstChild);
          } else {
            domRoot.appendChild(layer.dom);
          }
        }
      }
      layer.__painter = this;
    };
    CanvasPainter2.prototype.eachLayer = function(cb, context) {
      var zlevelList = this._zlevelList;
      for (var i2 = 0; i2 < zlevelList.length; i2++) {
        var z2 = zlevelList[i2];
        cb.call(context, this._layers[z2], z2);
      }
    };
    CanvasPainter2.prototype.eachBuiltinLayer = function(cb, context) {
      var zlevelList = this._zlevelList;
      for (var i2 = 0; i2 < zlevelList.length; i2++) {
        var z2 = zlevelList[i2];
        var layer = this._layers[z2];
        if (layer.__builtin__) {
          cb.call(context, layer, z2);
        }
      }
    };
    CanvasPainter2.prototype.eachOtherLayer = function(cb, context) {
      var zlevelList = this._zlevelList;
      for (var i2 = 0; i2 < zlevelList.length; i2++) {
        var z2 = zlevelList[i2];
        var layer = this._layers[z2];
        if (!layer.__builtin__) {
          cb.call(context, layer, z2);
        }
      }
    };
    CanvasPainter2.prototype.getLayers = function() {
      return this._layers;
    };
    CanvasPainter2.prototype._updateLayerStatus = function(list) {
      this.eachBuiltinLayer(function(layer2, z2) {
        layer2.__dirty = layer2.__used = false;
      });
      function updatePrevLayer(idx) {
        if (prevLayer) {
          if (prevLayer.__endIndex !== idx) {
            prevLayer.__dirty = true;
          }
          prevLayer.__endIndex = idx;
        }
      }
      if (this._singleCanvas) {
        for (var i_1 = 1; i_1 < list.length; i_1++) {
          var el = list[i_1];
          if (el.zlevel !== list[i_1 - 1].zlevel || el.incremental) {
            this._needsManuallyCompositing = true;
            break;
          }
        }
      }
      var prevLayer = null;
      var incrementalLayerCount = 0;
      var prevZlevel;
      var i2;
      for (i2 = 0; i2 < list.length; i2++) {
        var el = list[i2];
        var zlevel = el.zlevel;
        var layer = void 0;
        if (prevZlevel !== zlevel) {
          prevZlevel = zlevel;
          incrementalLayerCount = 0;
        }
        if (el.incremental) {
          layer = this.getLayer(zlevel + INCREMENTAL_INC, this._needsManuallyCompositing);
          layer.incremental = true;
          incrementalLayerCount = 1;
        } else {
          layer = this.getLayer(zlevel + (incrementalLayerCount > 0 ? EL_AFTER_INCREMENTAL_INC : 0), this._needsManuallyCompositing);
        }
        if (!layer.__builtin__) {
          logError("ZLevel " + zlevel + " has been used by unkown layer " + layer.id);
        }
        if (layer !== prevLayer) {
          layer.__used = true;
          if (layer.__startIndex !== i2) {
            layer.__dirty = true;
          }
          layer.__startIndex = i2;
          if (!layer.incremental) {
            layer.__drawIndex = i2;
          } else {
            layer.__drawIndex = -1;
          }
          updatePrevLayer(i2);
          prevLayer = layer;
        }
        if (el.__dirty & REDRAW_BIT && !el.__inHover) {
          layer.__dirty = true;
          if (layer.incremental && layer.__drawIndex < 0) {
            layer.__drawIndex = i2;
          }
        }
      }
      updatePrevLayer(i2);
      this.eachBuiltinLayer(function(layer2, z2) {
        if (!layer2.__used && layer2.getElementCount() > 0) {
          layer2.__dirty = true;
          layer2.__startIndex = layer2.__endIndex = layer2.__drawIndex = 0;
        }
        if (layer2.__dirty && layer2.__drawIndex < 0) {
          layer2.__drawIndex = layer2.__startIndex;
        }
      });
    };
    CanvasPainter2.prototype.clear = function() {
      this.eachBuiltinLayer(this._clearLayer);
      return this;
    };
    CanvasPainter2.prototype._clearLayer = function(layer) {
      layer.clear();
    };
    CanvasPainter2.prototype.setBackgroundColor = function(backgroundColor2) {
      this._backgroundColor = backgroundColor2;
      each$3(this._layers, function(layer) {
        layer.setUnpainted();
      });
    };
    CanvasPainter2.prototype.configLayer = function(zlevel, config) {
      if (config) {
        var layerConfig = this._layerConfig;
        if (!layerConfig[zlevel]) {
          layerConfig[zlevel] = config;
        } else {
          merge(layerConfig[zlevel], config, true);
        }
        for (var i2 = 0; i2 < this._zlevelList.length; i2++) {
          var _zlevel = this._zlevelList[i2];
          if (_zlevel === zlevel || _zlevel === zlevel + EL_AFTER_INCREMENTAL_INC) {
            var layer = this._layers[_zlevel];
            merge(layer, layerConfig[zlevel], true);
          }
        }
      }
    };
    CanvasPainter2.prototype.delLayer = function(zlevel) {
      var layers = this._layers;
      var zlevelList = this._zlevelList;
      var layer = layers[zlevel];
      if (!layer) {
        return;
      }
      layer.dom.parentNode.removeChild(layer.dom);
      delete layers[zlevel];
      zlevelList.splice(indexOf(zlevelList, zlevel), 1);
    };
    CanvasPainter2.prototype.resize = function(width, height) {
      if (!this._domRoot.style) {
        if (width == null || height == null) {
          return;
        }
        this._width = width;
        this._height = height;
        this.getLayer(CANVAS_ZLEVEL).resize(width, height);
      } else {
        var domRoot = this._domRoot;
        domRoot.style.display = "none";
        var opts = this._opts;
        var root = this.root;
        width != null && (opts.width = width);
        height != null && (opts.height = height);
        width = getSize(root, 0, opts);
        height = getSize(root, 1, opts);
        domRoot.style.display = "";
        if (this._width !== width || height !== this._height) {
          domRoot.style.width = width + "px";
          domRoot.style.height = height + "px";
          for (var id in this._layers) {
            if (this._layers.hasOwnProperty(id)) {
              this._layers[id].resize(width, height);
            }
          }
          this.refresh(true);
        }
        this._width = width;
        this._height = height;
      }
      return this;
    };
    CanvasPainter2.prototype.clearLayer = function(zlevel) {
      var layer = this._layers[zlevel];
      if (layer) {
        layer.clear();
      }
    };
    CanvasPainter2.prototype.dispose = function() {
      this.root.innerHTML = "";
      this.root = this.storage = this._domRoot = this._layers = null;
    };
    CanvasPainter2.prototype.getRenderedCanvas = function(opts) {
      opts = opts || {};
      if (this._singleCanvas && !this._compositeManually) {
        return this._layers[CANVAS_ZLEVEL].dom;
      }
      var imageLayer = new Layer$1("image", this, opts.pixelRatio || this.dpr);
      imageLayer.initContext();
      imageLayer.clear(false, opts.backgroundColor || this._backgroundColor);
      var ctx = imageLayer.ctx;
      if (opts.pixelRatio <= this.dpr) {
        this.refresh();
        var width_1 = imageLayer.dom.width;
        var height_1 = imageLayer.dom.height;
        this.eachLayer(function(layer) {
          if (layer.__builtin__) {
            ctx.drawImage(layer.dom, 0, 0, width_1, height_1);
          } else if (layer.renderToCanvas) {
            ctx.save();
            layer.renderToCanvas(ctx);
            ctx.restore();
          }
        });
      } else {
        var scope = {
          inHover: false,
          viewWidth: this._width,
          viewHeight: this._height
        };
        var displayList = this.storage.getDisplayList(true);
        for (var i2 = 0, len2 = displayList.length; i2 < len2; i2++) {
          var el = displayList[i2];
          brush(ctx, el, scope, i2 === len2 - 1);
        }
      }
      return imageLayer.dom;
    };
    CanvasPainter2.prototype.getWidth = function() {
      return this._width;
    };
    CanvasPainter2.prototype.getHeight = function() {
      return this._height;
    };
    return CanvasPainter2;
  }();
  var CanvasPainter$1 = CanvasPainter;
  function install(registers) {
    registers.registerPainter("canvas", CanvasPainter$1);
  }
  use([
    install$1,
    install$2,
    install$5,
    install
  ]);
  const _sfc_main$6 = {
    data() {
      return {
        tabIndex: 0,
        tabBars: [
          {
            name: "\u4ECA\u5929",
            id: "guanzhu"
          },
          {
            name: "\u6628\u5929",
            id: "tuijian"
          },
          {
            name: "\u672C\u6708",
            id: "redian"
          },
          {
            name: "\u4E0A\u6708",
            id: "tiyu"
          }
        ],
        statisticalData: [{
          title: "\u7537\u5395",
          data1: "2521",
          data2: "21",
          data3: "2.0"
        }, {
          title: "\u5973\u5395",
          data1: "2521",
          data2: "21",
          data3: "2.0"
        }, {
          title: "\u65E0\u969C\u788D\u5395\u6240",
          data1: "2521",
          data2: "21",
          data3: "2.0"
        }, {
          title: "\u5408\u8BA1",
          data1: "2521",
          data2: "21",
          data3: "2.0"
        }]
      };
    },
    mounted() {
      this.loadLineData2();
    },
    methods: {
      toggleTab(index) {
        this.tabIndex = index;
      },
      tabChange(e2) {
        formatAppLog("log", "at pages/consumableAnalysis/consumableAnalysis.vue:279", e2);
        this.tabIndex = e2.detail.current;
      },
      toDetail(id) {
        uni.navigateTo({
          url: "/pages/analysisDetail/analysisDetail?id=" + id
        });
      },
      openPopup() {
        this.$refs.popup.open("right");
      },
      loadLineData2() {
        let res = {
          xData: ["1\u6708", "2\u6708", "3\u6708", "4\u6708", "5\u6708", "6\u6708", "7\u6708"],
          yData: [50, 120, 150, 220, 180, 300, 130],
          yData1: [20, 720, 350, 120, 80, 30, 190],
          yData2: [120, 187, 730, 710, 780, 330, 290]
        };
        let option = {
          xAxis: {
            type: "category",
            axisLabel: {
              color: "#333333"
            },
            axisLine: {
              lineStyle: {
                color: "#000000"
              }
            },
            axisTick: {
              show: false
            },
            data: res.xData
          },
          grid: {
            top: 20,
            bottom: 40
          },
          yAxis: {
            type: "value",
            axisLabel: {
              color: "#333333"
            },
            nameTextStyle: {
              fontSize: 5,
              fontStyle: "italic"
            },
            splitLine: {
              show: true,
              lineStyle: {
                type: "dashed"
              }
            }
          },
          tooltip: {
            trigger: "axis",
            triggerOn: "click",
            formatter: "{b}:  \n {a0}: {c0} \n {a1}: {c1} \n {a2}: {c2}"
          },
          color: ["#2FA24C", "#E84536", "#5D7092"],
          series: [
            {
              name: "\u7537\u5395",
              data: res.yData,
              type: "line",
              smooth: true
            },
            {
              name: "\u5973\u5395",
              data: res.yData1,
              type: "line",
              smooth: true
            },
            {
              name: "\u65E0\u969C\u788D\u5395\u6240",
              data: res.yData2,
              type: "line",
              smooth: true
            }
          ]
        };
        this.$refs.lineChart2.init(echarts, (chart) => {
          chart.setOption(option);
        });
      }
    }
  };
  function _sfc_render$5(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_l_echart = resolveEasycom(vue.resolveDynamicComponent("l-echart"), __easycom_0$1);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_1$1);
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx" } }, [
        vue.createCommentVNode(" \u6A2A\u5411tab "),
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createElementVNode("view", {
            class: "horizonal-tab",
            style: { "margin-bottom": "20rpx" }
          }, [
            vue.createElementVNode("scroll-view", {
              "scroll-x": "true",
              "scroll-with-animation": "",
              class: "scroll-tab"
            }, [
              (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.tabBars, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: index,
                  class: vue.normalizeClass(["scroll-tab-item", { "active": $data.tabIndex == index }]),
                  onClick: ($event) => $options.toggleTab(index)
                }, [
                  vue.createTextVNode(vue.toDisplayString(item.name) + " ", 1),
                  vue.createElementVNode("view", { style: { "display": "flex", "justify-content": "center", "margin-top": "4rpx", "background-color": "#38CBD5", "border-radius": "4rpx" } }, [
                    vue.createCommentVNode(' <view style="background-color: #38CBD5;width: 40rpx;height: 8rpx; border-radius: 4rpx;">\r\n			\r\n								</view> '),
                    vue.createElementVNode("view", { class: "scroll-tab-line" })
                  ])
                ], 10, ["onClick"]);
              }), 128))
            ])
          ]),
          vue.createElementVNode("view", {
            style: { "font-size": "28rpx", "font-weight": "400", "color": "#666666", "padding-left": "30rpx" },
            onClick: _cache[0] || (_cache[0] = (...args) => $options.openPopup && $options.openPopup(...args))
          }, [
            vue.createTextVNode(" \u66F4\u591A\u65E5\u671F "),
            vue.createElementVNode("image", {
              style: { "width": "24rpx", "height": "24rpx", "padding-right": "30rpx" },
              src: "/static/ic_edit.png"
            })
          ])
        ]),
        vue.createCommentVNode(" \u7528\u7EB8\u5DFE\u7EDF\u8BA1\u6570\u636E "),
        vue.createElementVNode("view", {
          class: "h-layout",
          style: { "position": "relative", "width": "100%", "padding": "30rpx 0" }
        }, [
          vue.createElementVNode("view", { style: { "flex": "1", "text-align": "center", "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, " \u7528\u7EB8\u5DFE\u7EDF\u8BA1\u6570\u636E"),
          vue.createElementVNode("text", { style: { "position": "absolute", "right": "30rpx", "font-size": "24rpx", "font-weight": "400", "color": "#007AFF" } }, "2023.02")
        ]),
        vue.createCommentVNode(" \u8868\u683C\u6807\u9898 "),
        vue.createElementVNode("view", {
          class: "h-layout",
          style: { "background-color": "#F7FAFF", "padding": "24rpx 0" }
        }, [
          vue.createElementVNode("view", {
            style: { "width": "126rpx" },
            class: "txt-24-333-400"
          }),
          vue.createElementVNode("view", {
            style: { "flex": "1" },
            class: "txt-24-333-400"
          }, "\u7D2F\u8BA1\u7528\u7EB8(\u7C73)"),
          vue.createElementVNode("view", {
            style: { "flex": "1" },
            class: "txt-24-333-400"
          }, "\u7D2F\u8BA1\u6362\u7EB8(\u5377)"),
          vue.createElementVNode("view", {
            style: { "flex": "1" },
            class: "txt-24-333-400"
          }, "\u4EBA\u5747\u7528\u7EB8(\u7C73)")
        ]),
        vue.createCommentVNode(" \u8868\u683C\u5185\u5BB9 "),
        (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.statisticalData, (item, index) => {
          return vue.openBlock(), vue.createElementBlock("view", {
            class: vue.normalizeClass([index % 2 == 0 ? "bg-white-h" : "bg-blue-h"]),
            onClick: ($event) => $options.toDetail(item.title)
          }, [
            vue.createElementVNode("view", {
              style: { "width": "126rpx", "padding": "0 20rpx" },
              class: "txt-24-333-400"
            }, vue.toDisplayString(item.title), 1),
            vue.createElementVNode("view", {
              style: { "flex": "1" },
              class: "txt-24-333-400"
            }, vue.toDisplayString(item.data1), 1),
            vue.createElementVNode("view", {
              style: { "flex": "1" },
              class: "txt-24-333-400"
            }, vue.toDisplayString(item.data2), 1),
            vue.createElementVNode("view", {
              style: { "flex": "1" },
              class: "h-layout"
            }, [
              vue.createElementVNode("view", {
                style: { "flex": "1" },
                class: "txt-24-333-400"
              }, vue.toDisplayString(item.data3), 1),
              vue.createElementVNode("image", {
                style: { "width": "10rpx", "height": "14rpx", "margin-right": "30rpx" },
                src: "/static/ic_next.png"
              })
            ])
          ], 10, ["onClick"]);
        }), 256)),
        vue.createCommentVNode(" \u7528\u7EB8\u5DFE\u7EDF\u8BA1\u6570\u636E "),
        vue.createElementVNode("view", {
          class: "h-layout",
          style: { "position": "relative", "width": "100%", "padding": "30rpx 0" }
        }, [
          vue.createElementVNode("view", { style: { "flex": "1", "text-align": "center", "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, " \u7528\u7EB8\u91CF\u66F2\u7EBF"),
          vue.createElementVNode("text", { style: { "position": "absolute", "right": "30rpx", "font-size": "24rpx", "font-weight": "400", "color": "#007AFF" } }, "2023.02")
        ]),
        vue.createElementVNode("view", {
          class: "h-layout",
          style: { "padding": "0rpx 30rpx" }
        }, [
          vue.createElementVNode("text", {
            class: "txt-24-333-400",
            style: { "flex": "1" }
          }, " \u5355\u4F4D\uFF1A\u767E\u7C73 "),
          vue.createElementVNode("view", { style: { "width": "12rpx", "height": "12rpx", "background": "#2FA24C", "border-radius": "6rpx" } }),
          vue.createElementVNode("text", {
            class: "txt-24-333-400",
            style: { "margin-right": "50rpx" }
          }, " \u7537\u5395 "),
          vue.createElementVNode("view", { style: { "width": "12rpx", "height": "12rpx", "background": "#E84536", "border-radius": "6rpx" } }),
          vue.createElementVNode("text", {
            class: "txt-24-333-400",
            style: { "margin-right": "50rpx" }
          }, " \u5973\u5395 "),
          vue.createElementVNode("view", { style: { "width": "12rpx", "height": "12rpx", "background": "#2FA24C", "border-radius": "6rpx" } }),
          vue.createElementVNode("text", {
            class: "txt-24-333-400",
            style: {}
          }, " \u65E0\u969C\u788D\u5395\u6240 ")
        ]),
        vue.createVNode(_component_l_echart, {
          style: { "height": "460rpx", "padding": "0 30rpx" },
          ref: "lineChart2"
        }, null, 512)
      ]),
      vue.createCommentVNode(" \u7B5B\u9009\u53F3\u4FA7\u5F39\u7A97 "),
      vue.createVNode(_component_uni_popup, {
        ref: "popup",
        type: "right"
      }, {
        default: vue.withCtx(() => [
          vue.createElementVNode("view", { style: { "width": "556rpx", "height": "100%", "background-color": "white", "display": "flex", "flex-direction": "column", "padding": "40rpx" } }, [
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, " \u8BBE\u5907\u7B5B\u9009 "),
            vue.createElementVNode("scroll-view", {
              "scroll-y": "true",
              style: { "flex": "1", "overflow": "auto", "display": "flex", "flex-direction": "column" }
            }, [
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u641C\u7D22\u5395\u6240 "),
                vue.createElementVNode("input", {
                  style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 24rpx", "margin-top": "24rpx", "font-size": "24rpx", "font-weight": "400", "color": "#CCCCCC" },
                  placeholder: "\u8F93\u5165\u8981\u67E5\u627E\u7684\u5395\u6240\u7F16\u53F7"
                })
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u8BBE\u5907\u7C7B\u578B "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u641C\u7D22\u8BBE\u5907 "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u641C\u7D22\u9879\u76EE "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u641C\u7D22\u697C\u5EA7 "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u9009\u62E9\u697C\u5C42 "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u9009\u62E9\u5395\u6240 "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "margin-bottom": "32rpx", "margin-top": "32rpx", "display": "flex", "flex-direction": "row", "justify-content": "flex-end" } }, [
                vue.createElementVNode("view", { style: { "padding": "16rpx 72rpx", "background": "#38CBD5", "border-radius": "36rpx", "font-size": "28rpx", "font-weight": "500", "color": "#FFFFFF", "text-align": "center", "justify-content": "center" } }, " \u786E\u5B9A ")
              ])
            ])
          ])
        ]),
        _: 1
      }, 512)
    ]);
  }
  var PagesConsumableAnalysisConsumableAnalysis = /* @__PURE__ */ _export_sfc(_sfc_main$6, [["render", _sfc_render$5], ["__file", "F:/work/ChuangDian/pages/consumableAnalysis/consumableAnalysis.vue"]]);
  const _sfc_main$5 = {
    data() {
      return {
        statisticalData: [
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          },
          {
            title: "BH123",
            data1: "2521",
            data2: "21",
            data3: "2.0"
          }
        ]
      };
    },
    methods: {}
  };
  function _sfc_render$4(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_font = vue.resolveComponent("font");
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", { style: { "height": "100%", "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx" } }, [
        vue.createElementVNode("view", {
          style: { "text-align": "center", "padding": "26rpx" },
          class: "txt-24-333-400"
        }, "2019.11"),
        vue.createCommentVNode(" \u8868\u683C\u6807\u9898 "),
        vue.createElementVNode("view", {
          class: "h-layout",
          style: { "background-color": "#F7FAFF", "padding": "24rpx 32rpx" }
        }, [
          vue.createElementVNode("view", {
            style: { "flex": "1" },
            class: "txt-24-333-400"
          }, "\u5395\u6240\u7F16\u53F7"),
          vue.createElementVNode("view", {
            style: { "flex": "1" },
            class: "txt-24-333-400"
          }, "\u7D2F\u8BA1\u7528\u7EB8(\u7C73)"),
          vue.createElementVNode("view", {
            style: { "flex": "1" },
            class: "txt-24-333-400"
          }, "\u7D2F\u8BA1\u6362\u7EB8(\u5377)"),
          vue.createElementVNode("view", {
            style: { "flex": "1" },
            class: "txt-24-333-400"
          }, "\u4EBA\u5747\u7528\u7EB8(\u7C73)")
        ]),
        vue.createCommentVNode(" \u8868\u683C\u5185\u5BB9 "),
        vue.createElementVNode("scroll-view", {
          "scroll-y": "true",
          style: { "flex": "1", "overflow": "auto" }
        }, [
          (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.statisticalData, (item, index) => {
            return vue.openBlock(), vue.createElementBlock("view", {
              class: vue.normalizeClass([index % 2 == 0 ? "bg-white-h" : "bg-blue-h"]),
              onClick: ($event) => _ctx.toDetail(item.title)
            }, [
              vue.createElementVNode("view", {
                style: { "flex": "1" },
                class: "txt-24-333-400"
              }, vue.toDisplayString(item.title), 1),
              vue.createElementVNode("view", {
                style: { "flex": "1" },
                class: "txt-24-333-400"
              }, vue.toDisplayString(item.data1), 1),
              vue.createElementVNode("view", {
                style: { "flex": "1" },
                class: "txt-24-333-400"
              }, vue.toDisplayString(item.data2), 1),
              vue.createElementVNode("view", {
                style: { "flex": "1" },
                class: "h-layout"
              }, [
                vue.createElementVNode("view", {
                  style: { "flex": "1" },
                  class: "txt-24-333-400"
                }, vue.toDisplayString(item.data3), 1),
                vue.createElementVNode("image", {
                  style: { "width": "10rpx", "height": "14rpx", "margin-right": "30rpx" },
                  src: "/static/ic_next.png"
                })
              ])
            ], 10, ["onClick"]);
          }), 256))
        ]),
        vue.createCommentVNode(" \u5E95\u90E8\u5185\u5BB9 "),
        vue.createElementVNode("view", {
          class: "h-layout",
          style: { "background-color": "#38CBD5", "padding": "40rpx 32rpx", "border-radius": "0 0 16rpx 16rpx" }
        }, [
          vue.createElementVNode("view", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#F7FAFF" } }, [
            vue.createTextVNode("\u5F53\u524D\u7EDF\u8BA1\u6570\xA0\xA0"),
            vue.createVNode(_component_font, { style: { "font-size": "32rpx" } }, {
              default: vue.withCtx(() => [
                vue.createTextVNode("32")
              ]),
              _: 1
            })
          ]),
          vue.createElementVNode("view", { style: { "font-size": "24rpx", "font-weight": "400", "color": "#F7FAFF" } }, [
            vue.createTextVNode("\u5408\u8BA1\u7528\u7EB8\xA0\xA0"),
            vue.createVNode(_component_font, { style: { "font-size": "32rpx" } }, {
              default: vue.withCtx(() => [
                vue.createTextVNode("2876\u7C73")
              ]),
              _: 1
            })
          ])
        ])
      ])
    ]);
  }
  var PagesAnalysisDetailAnalysisDetail = /* @__PURE__ */ _export_sfc(_sfc_main$5, [["render", _sfc_render$4], ["__file", "F:/work/ChuangDian/pages/analysisDetail/analysisDetail.vue"]]);
  const _sfc_main$4 = {
    name: "deviceListView",
    data() {
      return {
        list: [],
        page: "1"
      };
    },
    onLoad() {
      this.getList();
    },
    methods: {
      toDetail(item) {
        formatAppLog("log", "at pages/gateway/gateway.vue:50", item);
        return;
      },
      async getList() {
        var _a2;
        const res = await this.$myRequest({
          url: "api/Gateway/getGatewayList",
          method: "POST",
          data: {
            page: this.page
          }
        });
        this.list = ((_a2 = res.data) == null ? void 0 : _a2.data) || [];
      },
      addDevice() {
        uni.navigateTo({
          url: "/pages/scanQrCodeForGateway/scanQrCodeForGateway"
        });
      },
      detailMess(mess) {
        uni.navigateTo({
          url: "/pages/deviceListForGateway/deviceListForGateway?id=" + mess.number
        });
      }
    }
  };
  function _sfc_render$3(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(), vue.createElementBlock("scroll-view", {
      "scroll-y": "true",
      class: "bg"
    }, [
      vue.createElementVNode("view", { style: { "display": "flex", "align-items": "center", "justify-content": "end", "margin-bottom": "10px" } }, [
        vue.createElementVNode("image", {
          style: { "width": "44rpx", "height": "44rpx", "padding-left": "8rpx", "padding-right": "8rpx" },
          src: "/static/ic_add_blue.png"
        }, null, 8, ["src"]),
        vue.createElementVNode("text", {
          style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "padding-right": "32rpx" },
          onClick: _cache[0] || (_cache[0] = ($event) => $options.addDevice())
        }, "\u65B0\u589E\u7F51\u5173")
      ]),
      (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.list, (item, i2) => {
        return vue.openBlock(), vue.createElementBlock("view", {
          style: { "display": "flex", "flex-direction": "column" },
          onClick: ($event) => $options.toDetail(item)
        }, [
          vue.createElementVNode("view", {
            class: "h-layout",
            onClick: ($event) => $options.detailMess(item)
          }, [
            vue.createCommentVNode(` <image style="width: 232rpx;height: 232rpx;" :src="'/static/logo.png'"></image> `),
            vue.createCommentVNode(" \u5DE6\u8FB9\u5E03\u5C40 "),
            vue.createElementVNode("view", { class: "imgBox" }, [
              vue.createCommentVNode(" \u5DE6\u4E0A\u89D2\u56FE\u7247 "),
              vue.createElementVNode("image", {
                style: { "width": "100%", "height": "100%", "background": "#FFFFFF", "border-radius": "16rpx 4rpx 4rpx 0rpx", "padding": "8rpx 12rpx" },
                src: item.image
              }, null, 8, ["src"])
            ]),
            vue.createElementVNode("view", { class: "boxMess" }, [
              vue.createElementVNode("view", { class: "boxMess_title" }, [
                vue.createElementVNode("text", { class: "boxMess_num_title" }, "\u7F51\u5173ID: "),
                vue.createElementVNode("text", null, vue.toDisplayString(item.number), 1)
              ]),
              vue.createElementVNode("view", { class: "boxMess_num" }, [
                vue.createElementVNode("text", { class: "boxMess_num_title" }, "\u5730\u5740: "),
                vue.createElementVNode("text", null, vue.toDisplayString(item.locality), 1)
              ])
            ]),
            vue.createElementVNode("image", {
              style: { "width": "21px", "height": "21px" },
              src: "/static/switch.png",
              mode: ""
            })
          ], 8, ["onClick"])
        ], 8, ["onClick"]);
      }), 256))
    ]);
  }
  var PagesGatewayGateway = /* @__PURE__ */ _export_sfc(_sfc_main$4, [["render", _sfc_render$3], ["__file", "F:/work/ChuangDian/pages/gateway/gateway.vue"]]);
  const _sfc_main$3 = {
    name: "deviceListView",
    props: ["list"],
    data() {
      return {};
    },
    methods: {
      toDetail(item) {
        formatAppLog("log", "at components/deviceListViewForGateway/deviceListViewForGateway.vue:49", item);
        uni.navigateTo({
          url: `/pages/deviceOperate/deviceOperate?id=${item.id}&remain=${item.remain}&device_number=${item.device_number}&batlevel=${item.batlevel}&state_text=${item.state_text}`
        });
      }
    }
  };
  function _sfc_render$2(_ctx, _cache, $props, $setup, $data, $options) {
    return vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($props.list, (item, i2) => {
      return vue.openBlock(), vue.createElementBlock("view", {
        style: { "display": "flex", "flex-direction": "column" },
        onClick: ($event) => $options.toDetail(item)
      }, [
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createCommentVNode(` <image style="width: 232rpx;height: 232rpx;" :src="'/static/logo.png'"></image> `),
          vue.createCommentVNode(" \u5DE6\u8FB9\u5E03\u5C40 "),
          vue.createElementVNode("view", { class: "imgBox" }, [
            vue.createCommentVNode(" \u5DE6\u4E0A\u89D2\u56FE\u7247 "),
            vue.createElementVNode("image", {
              style: { "width": "100%", "height": "100%", "background": "#FFFFFF", "box-sizing": "border-box", "border-radius": "16rpx 4rpx 4rpx 0rpx" },
              src: item.device_image
            }, null, 8, ["src"])
          ]),
          vue.createElementVNode("view", { class: "boxMess" }, [
            vue.createElementVNode("view", { class: "boxMess_title" }, vue.toDisplayString(item.toilet_type_text), 1),
            vue.createElementVNode("view", { class: "boxMess_num" }, [
              vue.createElementVNode("text", { class: "boxMess_num_title" }, "\u7F16\u53F7: "),
              vue.createElementVNode("text", null, vue.toDisplayString(item.device_number), 1)
            ])
          ]),
          vue.createElementVNode("view", { class: "currentElectricity" }, [
            vue.createElementVNode("view", { class: "currentElectricity_m" }, vue.toDisplayString(item.remain) + "%", 1),
            vue.createElementVNode("view", {
              class: "currentElectricity_n",
              style: vue.normalizeStyle({
                width: item.remain + "%",
                backgroundColor: item.remain > 50 ? "#1db94abf" : "red"
              })
            }, null, 4)
          ]),
          vue.createElementVNode("view", { class: "totalElectricity" }, [
            vue.createElementVNode("view", { class: "currentElectricity_m" }, vue.toDisplayString(item.batlevel) + "%", 1),
            vue.createElementVNode("view", {
              class: "currentElectricity_n",
              style: vue.normalizeStyle({
                width: item.batlevel + "%",
                backgroundColor: item.batlevel > 50 ? "#1db94abf" : "red"
              })
            }, null, 4)
          ])
        ])
      ], 8, ["onClick"]);
    }), 256);
  }
  var __easycom_0 = /* @__PURE__ */ _export_sfc(_sfc_main$3, [["render", _sfc_render$2], ["__scopeId", "data-v-247edaf8"], ["__file", "F:/work/ChuangDian/components/deviceListViewForGateway/deviceListViewForGateway.vue"]]);
  const _sfc_main$2 = {
    components: {
      myPicker
    },
    onLoad(options) {
      if (options.id) {
        this.getEventList();
      }
      if (options.keyword) {
        this.keyword = options.keyword;
      }
      if (uni.getStorageSync("addressDefault")) {
        this.address = uni.getStorageSync("addressDefault").name;
      }
      this.isShowAddDevice = options.title == "\u8BBE\u5907\u5217\u8868";
    },
    onShow() {
      let that = this;
      uni.$once("address", function(data) {
        formatAppLog("log", "at pages/deviceListForGateway/deviceListForGateway.vue:226", "\u76D1\u542C\u5230\u4E8B\u4EF6\u6765\u81EA\u8FD4\u56DE\u7684\u53C2\u6570\uFF1A" + data.name);
        that.address = data.name;
      });
    },
    data() {
      return {
        onlineNum: 0,
        searchKeyword: "",
        snKeyword: "",
        address: "\u7701\u5E02",
        id: "08D1F9C78D08",
        isShowAddDevice: true,
        tabIndex: 0,
        tabBars: [
          {
            name: "\u7EB8\u5DFE\u7EB8",
            id: "0"
          },
          {
            name: "\u7682\u6DB2\u5668",
            id: "tuijian"
          },
          {
            name: "\u55B7\u9999\u673A",
            id: "redian"
          },
          {
            name: "\u5176\u4ED6",
            id: "tiyu"
          }
        ],
        deviceNum: 180,
        list: [],
        page: 1,
        count: 10,
        isOver: false,
        isEmpty: false,
        projects_id: 0,
        requestUrl: "api/Device/getDeviceList"
      };
    },
    created() {
    },
    methods: {
      chooseAddress(data) {
        this.address = data;
      },
      async getEventList() {
        const res = await this.$myRequest({
          url: "api/device/getDeviceTypeList",
          method: "POST"
        });
        if (res.code == 1) {
          this.tabBars = Object.keys(res.data).map((id) => ({
            id,
            image: res.data[id].image,
            name: res.data[id].name
          }));
          this.projects_id = Object.keys(res.data)[0];
          this.getList();
        }
      },
      async getList(key = "", callBack) {
        const res = await this.$myRequest({
          url: "api/device/getDevice",
          method: "POST",
          data: {
            page: this.page,
            limit: this.count,
            devId: this.id,
            model_id: this.projects_id
          }
        });
        formatAppLog("log", "at pages/deviceListForGateway/deviceListForGateway.vue:305", "\u83B7\u53D6\u5217\u8868\u6570\u636E", res);
        if (this.page == 1) {
          uni.stopPullDownRefresh();
          this.list = res.data.data;
        } else {
          this.list = [...this.list, ...res.data.data];
        }
        formatAppLog("log", "at pages/deviceListForGateway/deviceListForGateway.vue:314", this.list);
        callBack && callBack();
        if (this.list.length == 0) {
          this.isEmpty = true;
        } else
          this.isEmpty = false;
        if (res.data.total == this.list.length) {
          this.isOver = true;
        } else
          this.isOver = false;
      },
      toggleTab(item, index) {
        this.tabIndex = index;
        this.projects_id = item.id;
        this.getList();
      },
      tabChange(e2) {
        formatAppLog("log", "at pages/deviceListForGateway/deviceListForGateway.vue:336", e2);
        this.tabIndex = e2.detail.current;
      },
      toGo(url) {
        uni.navigateTo({
          url
        });
      },
      search: function(event) {
        formatAppLog("log", "at pages/deviceListForGateway/deviceListForGateway.vue:346", "\u70B9\u51FB\u641C\u7D22", event.detail.value);
        this.getList(event.detail.value);
      },
      addDevice() {
        uni.navigateTo({
          url: "/pages/scanQrCode/scanQrCode"
        });
      },
      openPopup() {
        this.$refs.popup.open("right");
      }
    },
    props: {
      keyword: {
        type: String,
        default: "\u8BBE\u5907\u5217\u8868"
      }
    }
  };
  function _sfc_render$1(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_deviceListViewForGateway = resolveEasycom(vue.resolveDynamicComponent("deviceListViewForGateway"), __easycom_0);
    const _component_uni_popup = resolveEasycom(vue.resolveDynamicComponent("uni-popup"), __easycom_1$1);
    return vue.openBlock(), vue.createElementBlock(vue.Fragment, null, [
      vue.createElementVNode("view", { class: "bg" }, [
        vue.createElementVNode("view", { class: "h-layout" }, [
          vue.createCommentVNode(` <image style="width: 32rpx;height: 32rpx;padding-left: 32rpx;padding-right: 10rpx;"\r
				:src="'/static/ic_address.png'"></image>\r
				<myPicker type="1" @chooseAddress="chooseAddress" :isEdit="isEdit" :isSaveData="'1'" :region="region" /> `),
          vue.createCommentVNode(` <image style="width: 14rpx;height: 14rpx;padding-left: 16rpx;padding-right: 32rpx;"\r
				@click="toGo('/pages/selectAddress/selectAddress')" :src="'/static/ic_down.png'"></image> `),
          vue.withDirectives(vue.createElementVNode("input", {
            style: { "flex": "auto", "height": "76rpx", "font-size": "28rpx", "color": "#333333", "margin-right": "32rpx", "background": "#FFFFFF", "border-radius": "38rpx", "padding": "0 34rpx", "margin-left": "18px" },
            "placeholder-style": "color:#999999",
            "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $data.searchKeyword = $event),
            "confirm-type": "search",
            onConfirm: _cache[1] || (_cache[1] = (...args) => $options.search && $options.search(...args)),
            placeholder: "\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u67E5\u8BE2"
          }, null, 544), [
            [vue.vModelText, $data.searchKeyword]
          ])
        ]),
        vue.createCommentVNode(" \u4E2D\u95F4\u5E03\u5C40 "),
        vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "32rpx 32rpx 28rpx 32rpx", "padding-bottom": "22rpx" } }, [
          vue.createCommentVNode(" \u6A2A\u5411tab "),
          vue.createElementVNode("view", {
            class: "horizonal-tab",
            style: { "margin-bottom": "20rpx" }
          }, [
            vue.createElementVNode("scroll-view", {
              "scroll-x": "true",
              "scroll-with-animation": "",
              class: "scroll-tab"
            }, [
              (vue.openBlock(true), vue.createElementBlock(vue.Fragment, null, vue.renderList($data.tabBars, (item, index) => {
                return vue.openBlock(), vue.createElementBlock("view", {
                  key: index,
                  class: vue.normalizeClass(["scroll-tab-item", { "active": $data.tabIndex == index }]),
                  onClick: ($event) => $options.toggleTab(item, index)
                }, [
                  vue.createTextVNode(vue.toDisplayString(item.name) + " ", 1),
                  vue.createElementVNode("view", { style: { "display": "flex", "justify-content": "center", "margin-top": "4rpx", "background-color": "#38CBD5", "border-radius": "4rpx" } }, [
                    vue.createCommentVNode(' <view style="background-color: #38CBD5;width: 40rpx;height: 8rpx; border-radius: 4rpx;">\r\n			\r\n								</view> '),
                    vue.createElementVNode("view", { class: "scroll-tab-line" })
                  ])
                ], 10, ["onClick"]);
              }), 128))
            ])
          ]),
          vue.createCommentVNode(" \u8BBE\u5907\u6570 "),
          vue.createCommentVNode(` <view class="h-layout">\r
				<view style="flex: 1; display: flex;flex-direction: column;padding-left: 32rpx;">\r
					<view class="h-layout">\r
						<text style="font-size: 28rpx;font-weight: 400;color: #333333;">\u8BBE\u5907\u6570</text>\r
						<text\r
							style="flex: 1; font-size: 32rpx;font-weight: bold;color: #333333;margin-left: 10rpx;">{{list.length}}</text>\r
					</view>\r
					<view class="h-layout" style="margin-top: 10rpx;" v-if="isShowAddDevice">\r
						<text\r
							style="font-size: 28rpx;font-weight: 400;color: #333333;">\u5728\u7EBF&nbsp;&nbsp;{{onlineNum.length}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\u79BB\u7EBF&nbsp;&nbsp;{{list.length - onlineNum.length}}</text>\r
					</view>\r
\r
				</view>\r
\r
\r
				<image style="width: 44rpx;height: 44rpx;padding-left: 8rpx;padding-right: 8rpx;"\r
					:src="'/static/ic_add_blue.png'" v-if="isShowAddDevice"></image>\r
				<text style="font-size: 28rpx;font-weight: 400;color: #333333;padding-right: 32rpx;"\r
					@click="addDevice()" v-if="isShowAddDevice">\u65B0\u589E\u8BBE\u5907</text>\r
			</view> `),
          vue.createCommentVNode(" \u641C\u7D22 "),
          $data.isShowAddDevice ? (vue.openBlock(), vue.createElementBlock("view", {
            key: 0,
            class: "h-layout",
            style: { "margin-top": "32rpx", "justify-content": "end" }
          }, [
            vue.createCommentVNode(` <input\r
					style="flex: 1; height: 76rpx;font-size: 24rpx;color: #333333;margin-left: 24rpx;background: #F3F4F6;border-radius: 38rpx;padding: 0 34rpx;"\r
					placeholder-style="color:#999999" v-model="snKeyword" confirm-type="search" @confirm="search"\r
					placeholder="\u8BF7\u8F93\u5165SN\u53F7\u67E5\u8BE2" />\r
				<image style="width: 32rpx;height: 32rpx;padding-left: 32rpx;padding-right: 32rpx;"\r
					:src="'/static/ic_screen.png'" @click="openPopup"></image> `),
            $data.isShowAddDevice ? (vue.openBlock(), vue.createElementBlock("image", {
              key: 0,
              style: { "width": "44rpx", "height": "44rpx", "padding-left": "8rpx", "padding-right": "8rpx" },
              src: "/static/ic_add_blue.png"
            }, null, 8, ["src"])) : vue.createCommentVNode("v-if", true),
            $data.isShowAddDevice ? (vue.openBlock(), vue.createElementBlock("text", {
              key: 1,
              style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "padding-right": "32rpx" },
              onClick: _cache[2] || (_cache[2] = ($event) => $options.addDevice())
            }, "\u65B0\u589E\u8BBE\u5907")) : vue.createCommentVNode("v-if", true)
          ])) : vue.createCommentVNode("v-if", true)
        ]),
        vue.createCommentVNode(' <uv-line-progress activeColor="#38CBD5" inactiveColor="#EBF9FA"\r\n			:percentage="30" height="8"></uv-line-progress> '),
        vue.createCommentVNode(" \u5217\u8868  overflow: auto\uFF1B\u56FA\u5B9A\u9876\u90E8\u4E0D\u52A8"),
        vue.createElementVNode("view", { style: { "flex": "1", "overflow": "auto" } }, [
          vue.createVNode(_component_deviceListViewForGateway, { list: $data.list }, null, 8, ["list"])
        ])
      ]),
      vue.createCommentVNode(" \u7B5B\u9009\u53F3\u4FA7\u5F39\u7A97 "),
      vue.createVNode(_component_uni_popup, {
        ref: "popup",
        type: "right"
      }, {
        default: vue.withCtx(() => [
          vue.createElementVNode("view", { style: { "width": "556rpx", "height": "100%", "background-color": "white", "display": "flex", "flex-direction": "column", "padding": "40rpx" } }, [
            vue.createElementVNode("view", { style: { "font-size": "28rpx", "font-weight": "500", "color": "#333333" } }, " \u8BBE\u5907\u7B5B\u9009 "),
            vue.createElementVNode("scroll-view", {
              "scroll-y": "true",
              style: { "flex": "1", "overflow": "auto", "display": "flex", "flex-direction": "column" }
            }, [
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u641C\u7D22\u5395\u6240 "),
                vue.createElementVNode("input", {
                  style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 24rpx", "margin-top": "24rpx", "font-size": "24rpx", "font-weight": "400", "color": "#CCCCCC" },
                  placeholder: "\u8F93\u5165\u8981\u67E5\u627E\u7684\u5395\u6240\u7F16\u53F7"
                })
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u8BBE\u5907\u7C7B\u578B "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u641C\u7D22\u8BBE\u5907 "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u641C\u7D22\u9879\u76EE "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u641C\u7D22\u697C\u5EA7 "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u9009\u62E9\u697C\u5C42 "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "background": "#F3F4F6", "border-radius": "16rpx", "padding": "24rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "column" } }, [
                vue.createElementVNode("text", { class: "txt-24-333-400" }, " \u9009\u62E9\u5395\u6240 "),
                vue.createElementVNode("view", { style: { "background": "#FFFFFF", "border-radius": "16rpx", "padding": "14rpx 28rpx", "margin-top": "24rpx", "display": "flex", "flex-direction": "row", "align-items": "center" } }, [
                  vue.createElementVNode("text", { style: { "flex": "1", "font-size": "24rpx", "font-weight": "400", "color": "#999999", "padding-right": "16rpx" } }, "\u8BF7\u9009\u62E9"),
                  vue.createElementVNode("image", {
                    style: { "width": "12rpx", "height": "16rpx" },
                    src: "/static/ic_next.png"
                  }, null, 8, ["src"])
                ])
              ]),
              vue.createElementVNode("view", { style: { "margin-bottom": "32rpx", "margin-top": "32rpx", "display": "flex", "flex-direction": "row", "justify-content": "flex-end" } }, [
                vue.createElementVNode("view", { style: { "padding": "16rpx 72rpx", "background": "#38CBD5", "border-radius": "36rpx", "font-size": "28rpx", "font-weight": "500", "color": "#FFFFFF", "text-align": "center", "justify-content": "center" } }, " \u786E\u5B9A ")
              ])
            ])
          ])
        ]),
        _: 1
      }, 512)
    ], 64);
  }
  var PagesDeviceListForGatewayDeviceListForGateway = /* @__PURE__ */ _export_sfc(_sfc_main$2, [["render", _sfc_render$1], ["__file", "F:/work/ChuangDian/pages/deviceListForGateway/deviceListForGateway.vue"]]);
  const _sfc_main$1 = {
    data() {
      return {
        id: "",
        name: "",
        region: "",
        detail: "",
        isEdit: "0",
        sn: "",
        image: ""
      };
    },
    components: {
      myPicker
    },
    onLoad(options) {
      if (options.sn)
        ;
    },
    methods: {
      chooseAddress(data) {
        this.region = data;
      },
      save() {
        if (!this.image.trim()) {
          uni.showToast({
            title: "\u8BF7\u4E0A\u4F20\u56FE\u7247",
            icon: "none"
          });
          return;
        }
        if (!this.name.trim()) {
          uni.showToast({
            title: "\u8BF7\u8F93\u5165\u7F51\u5173\u540D\u79F0",
            icon: "none"
          });
          return;
        }
        if (!this.id.trim()) {
          uni.showToast({
            title: "\u8BF7\u8F93\u5165\u7F51\u5173ID",
            icon: "none"
          });
          return;
        }
        if (!this.region.trim()) {
          uni.showToast({
            title: "\u8BF7\u9009\u62E9\u7701\u5E02\u533A",
            icon: "none"
          });
          return;
        }
        if (!this.detail.trim()) {
          uni.showToast({
            title: "\u8BF7\u8F93\u5165\u8BE6\u7EC6\u5730\u5740",
            icon: "none"
          });
          return;
        }
        this.submitFeedback();
      },
      async submitFeedback() {
        const data = {
          image: this.image,
          number: this.id,
          name: this.name,
          locality: this.region,
          address: this.detail,
          internet: this.sn
        };
        const res = await this.$myRequest({
          url: "api/Gateway/addGateway",
          method: "POST",
          data
        });
        if (res.code === 1) {
          uni.showToast({
            title: "\u6DFB\u52A0\u6210\u529F"
          });
          uni.navigateTo({
            url: "/pages/gateway/gateway"
          });
        }
      },
      async addImg() {
        uni.chooseImage({
          count: 1,
          sizeType: ["original", "compressed"],
          sourceType: ["album", "camera"],
          success: (res) => {
            formatAppLog("log", "at pages/addGateway/addGateway.vue:149", res);
            this.unloadImg(res.tempFilePaths[0]);
          },
          fail: (err2) => {
            formatAppLog("log", "at pages/addGateway/addGateway.vue:153", "\u9009\u62E9\u56FE\u7247\u5931\u8D25", err2);
          }
        });
      },
      async unloadImg(file) {
        const url = "http://cdcs.qifudaren.net/api/Common/upload";
        let self2 = this;
        uni.uploadFile({
          url,
          filePath: file,
          name: "file",
          header: {
            token: uni.getStorageSync("token")
          },
          success(res) {
            formatAppLog("log", "at pages/addGateway/addGateway.vue:169", res.data);
            if (res.statusCode == 200) {
              const data = JSON.parse(res.data);
              formatAppLog("log", "at pages/addGateway/addGateway.vue:172", data);
              self2.image = data.data.fullurl;
            }
          },
          fail: (err2) => {
            reject("err");
          }
        });
      }
    }
  };
  function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
    const _component_myPicker = vue.resolveComponent("myPicker");
    return vue.openBlock(), vue.createElementBlock("view", { class: "bg" }, [
      vue.createElementVNode("view", {
        class: "imgBox",
        onClick: _cache[0] || (_cache[0] = (...args) => $options.addImg && $options.addImg(...args))
      }, [
        $data.image ? (vue.openBlock(), vue.createElementBlock("image", {
          key: 0,
          style: { "width": "375rpx", "height": "375rpx", "margin": "auto", "margin-bottom": "40rpx" },
          src: $data.image,
          mode: ""
        }, null, 8, ["src"])) : (vue.openBlock(), vue.createElementBlock("view", {
          key: 1,
          class: "imgBox_text"
        }, [
          vue.createElementVNode("image", {
            style: { "width": "44rpx", "height": "44rpx", "padding-left": "8rpx", "padding-right": "8rpx" },
            src: "/static/ic_add_blue.png"
          }, null, 8, ["src"]),
          vue.createElementVNode("text", { class: "" }, "\u8BF7\u4E0A\u4F20\u56FE\u7247")
        ]))
      ]),
      vue.createElementVNode("view", { style: { "flex": "1", "overflow": "auto", "display": "flex", "flex-direction": "column" } }, [
        vue.createElementVNode("view", { style: { "display": "flex", "flex-direction": "column", "background": "#FFFFFF", "border-radius": "16rpx", "margin": "0 32rpx 20rpx 32rpx" } }, [
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#666666", "width": "180rpx" } }, "\u7F51\u5173ID\uFF1A"),
            vue.withDirectives(vue.createElementVNode("input", {
              style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" },
              type: "text",
              "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $data.id = $event),
              disabled: false,
              trim: "all",
              inputBorder: false,
              placeholder: "\u8BF7\u8F93\u5165\u7F51\u5173ID"
            }, null, 512), [
              [vue.vModelText, $data.id]
            ])
          ]),
          vue.createElementVNode("view", { class: "line" }),
          vue.createCommentVNode(" \u624B\u673A\u53F7\uFF1A "),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#666666", "width": "180rpx" } }, "\u7F51\u5173\u540D\u79F0\uFF1A"),
            vue.withDirectives(vue.createElementVNode("input", {
              style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333" },
              type: "text",
              "onUpdate:modelValue": _cache[2] || (_cache[2] = ($event) => $data.name = $event),
              disabled: false,
              trim: "all",
              inputBorder: false,
              placeholder: "\u8BF7\u8F93\u5165\u7F51\u5173\u540D\u79F0"
            }, null, 512), [
              [vue.vModelText, $data.name]
            ])
          ]),
          vue.createElementVNode("view", { class: "line" }),
          vue.createCommentVNode(" \u7701\u5E02\u533A\uFF1A "),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createElementVNode("text", { style: { "font-size": "28rpx", "font-weight": "400", "color": "#666666", "width": "180rpx" } }, "\u5B89\u88C5\u5730\u5740\uFF1A"),
            vue.createCommentVNode(' <text style="font-size: 28rpx;font-weight: 400;color: #666666;width: 180rpx;">\u7701\u5E02\u533A\uFF1A</text> '),
            vue.createCommentVNode(' <input style="font-size: 28rpx;font-weight: 400;color: #333333;" type="text" v-model="region" '),
            vue.createCommentVNode(' :disabled="false" trim="all" :inputBorder="true" placeholder="\u8BF7\u9009\u62E9\u7701\u5E02\u533A" /> '),
            vue.createVNode(_component_myPicker, {
              type: "3",
              onChooseAddress: $options.chooseAddress,
              isEdit: $data.isEdit,
              region: $data.region
            }, null, 8, ["onChooseAddress", "isEdit", "region"])
          ]),
          vue.createElementVNode("view", { class: "line" }),
          vue.createCommentVNode(" \u8BE6\u7EC6\u5730\u5740\uFF1A "),
          vue.createElementVNode("view", { class: "h-layout" }, [
            vue.createCommentVNode(' <text style="font-size: 28rpx;font-weight: 400;color: #666666;width: 180rpx;">\u8BE6\u7EC6\u5730\u5740\uFF1A</text> '),
            vue.withDirectives(vue.createElementVNode("textarea", {
              style: { "font-size": "28rpx", "font-weight": "400", "color": "#333333", "height": "120rpx", "border": "1px solid #ccc", "border-radius": "12rpx", "width": "100%", "padding": "20rpx" },
              type: "text",
              "onUpdate:modelValue": _cache[3] || (_cache[3] = ($event) => $data.detail = $event),
              disabled: false,
              trim: "all",
              inputBorder: false,
              placeholder: "\u8BF7\u8F93\u5165\u8BE6\u7EC6\u5730\u5740"
            }, null, 512), [
              [vue.vModelText, $data.detail]
            ])
          ]),
          vue.createElementVNode("view", { class: "line" })
        ]),
        vue.createElementVNode("button", {
          class: "btn",
          onClick: _cache[4] || (_cache[4] = ($event) => $options.save())
        }, "\u6DFB\u52A0\u8BBE\u5907")
      ])
    ]);
  }
  var PagesAddGatewayAddGateway = /* @__PURE__ */ _export_sfc(_sfc_main$1, [["render", _sfc_render], ["__file", "F:/work/ChuangDian/pages/addGateway/addGateway.vue"]]);
  __definePage("pages/index/index", PagesIndexIndex);
  __definePage("pages/login/login", PagesLoginLogin);
  __definePage("pages/forgetPassword/forgetPassword", PagesForgetPasswordForgetPassword);
  __definePage("pages/main/main", PagesMainMain);
  __definePage("pages/scene/scene", PagesSceneScene);
  __definePage("pages/shop/shop", PagesShopShop);
  __definePage("pages/mine/mine", PagesMineMine);
  __definePage("pages/information/information", PagesInformationInformation);
  __definePage("pages/notice/notice", PagesNoticeNotice);
  __definePage("pages/noticeDetail/noticeDetail", PagesNoticeDetailNoticeDetail);
  __definePage("pages/inputDevice/inputDevice", PagesInputDeviceInputDevice);
  __definePage("pages/help/help", PagesHelpHelp);
  __definePage("pages/question/question", PagesQuestionQuestion);
  __definePage("pages/messagePushSetup/messagePushSetup", PagesMessagePushSetupMessagePushSetup);
  __definePage("pages/onlineFeedback/onlineFeedback", PagesOnlineFeedbackOnlineFeedback);
  __definePage("pages/aboutUs/aboutUs", PagesAboutUsAboutUs);
  __definePage("pages/deviceList/deviceList", PagesDeviceListDeviceList);
  __definePage("pages/propertyList/propertyList", PagesPropertyListPropertyList);
  __definePage("pages/deviceOperate/deviceOperate", PagesDeviceOperateDeviceOperate);
  __definePage("pages/deviceDetail/deviceDetail", PagesDeviceDetailDeviceDetail);
  __definePage("pages/shareDevice/shareDevice", PagesShareDeviceShareDevice);
  __definePage("pages/addressManage/addressManage", PagesAddressManageAddressManage);
  __definePage("pages/addAddress/addAddress", PagesAddAddressAddAddress);
  __definePage("pages/couponList/couponList", PagesCouponListCouponList);
  __definePage("pages/shareDeviceList/shareDeviceList", PagesShareDeviceListShareDeviceList);
  __definePage("pages/goodsList/goodsList", PagesGoodsListGoodsList);
  __definePage("pages/goodsDetail/goodsDetail", PagesGoodsDetailGoodsDetail);
  __definePage("pages/goodsConfirm/goodsConfirm", PagesGoodsConfirmGoodsConfirm);
  __definePage("pages/searchDevice/searchDevice", PagesSearchDeviceSearchDevice);
  __definePage("pages/orderList/orderList", PagesOrderListOrderList);
  __definePage("pages/orderDetail/orderDetail", PagesOrderDetailOrderDetail);
  __definePage("pages/selectAddress/selectAddress", PagesSelectAddressSelectAddress);
  __definePage("pages/bindDevice/bindDevice", PagesBindDeviceBindDevice);
  __definePage("pages/consumableAnalysis/consumableAnalysis", PagesConsumableAnalysisConsumableAnalysis);
  __definePage("pages/analysisDetail/analysisDetail", PagesAnalysisDetailAnalysisDetail);
  __definePage("pages/gateway/gateway", PagesGatewayGateway);
  __definePage("pages/deviceListForGateway/deviceListForGateway", PagesDeviceListForGatewayDeviceListForGateway);
  __definePage("pages/addGateway/addGateway", PagesAddGatewayAddGateway);
  const _sfc_main = {
    onLaunch: function() {
      formatAppLog("log", "at App.vue:4", "App Launch");
    },
    onShow: function() {
      formatAppLog("log", "at App.vue:7", "App Show");
    },
    onHide: function() {
      formatAppLog("log", "at App.vue:10", "App Hide");
    }
  };
  var App = /* @__PURE__ */ _export_sfc(_sfc_main, [["__file", "F:/work/ChuangDian/App.vue"]]);
  const BASE_URL = "http://cdcs.qifudaren.net/";
  const myRequest = (options) => {
    return new Promise((resolve, reject2) => {
      uni.showLoading({
        title: ""
      });
      formatAppLog("log", "at util/api.js:10", "\u8BF7\u6C42\u5730\u5740", BASE_URL + options.url);
      formatAppLog("log", "at util/api.js:11", "\u4F20\u5165\u6570\u636E\uFF1A" + JSON.stringify(options.data));
      formatAppLog("log", "at util/api.js:12", "token", uni.getStorageSync("token"));
      uni.request({
        url: BASE_URL + options.url,
        method: options.method || "GET",
        header: options.header || {
          "Content-Type": "application/x-www-form-urlencoded",
          token: uni.getStorageSync("token")
        },
        data: options.data || {},
        success: (res) => {
          uni.hideLoading();
          if (res.statusCode == 200) {
            switch (res.data.code) {
              case 1:
                resolve(res.data);
                break;
              case 203:
                uni.showToast({
                  title: res.data.msg,
                  icon: "error"
                });
                uni.removeStorageSync("token");
                uni.redirectTo({
                  url: "../login/login"
                });
                break;
              default:
                return uni.showToast({
                  title: res.data.msg,
                  icon: "error"
                });
            }
          } else {
            if (err) {
              formatAppLog("log", "at util/api.js:57", "\u63A5\u53E3\u8BF7\u6C42\u5931\u8D25\uFF1A" + JSON.stringify(err));
              return uni.showToast({
                title: err,
                icon: "none"
              });
            }
          }
        },
        fail: (err2) => {
          if (err2) {
            formatAppLog("log", "at util/api.js:69", "\u83B7\u53D6\u6570\u636E\u5931\u8D25\uFF1A" + JSON.stringify(err2));
            uni.hideLoading();
            uni.showToast({
              title: err2,
              icon: "error"
            });
            reject2(err2);
          }
        }
      });
    });
  };
  const myUpLoadFile = (options) => {
    return new Promise((resolve, reject2) => {
      uni.showLoading({
        title: ""
      });
      formatAppLog("log", "at util/api.js:92", BASE_URL + options.url);
      uni.uploadFile({
        url: BASE_URL + options.url,
        filePath: options.filePath,
        name: options.name || "file",
        header: options.header || {
          token: uni.getStorageSync("token")
        },
        formData: options.data || {},
        success: (res) => {
          uni.hideLoading();
          if (res.statusCode == 200) {
            formatAppLog("log", "at util/api.js:107", "\u63A5\u53E3\u8BF7\u6C42\u6210\u529F\uFF1A" + JSON.stringify(res.data));
            let resData = JSON.parse(res.data);
            switch (resData.code) {
              case 1:
                resolve(resData);
                break;
              case 203:
                uni.showToast({
                  title: resData.msg,
                  icon: "error"
                });
                uni.removeStorageSync("token");
                uni.redirectTo({
                  url: "../login/login"
                });
                break;
              default:
                return uni.showToast({
                  title: resData.msg,
                  icon: "error"
                });
            }
          } else {
            if (err) {
              formatAppLog("log", "at util/api.js:140", "\u63A5\u53E3\u8BF7\u6C42\u5931\u8D25\uFF1A" + JSON.stringify(err));
              return uni.showToast({
                title: err,
                icon: "none"
              });
            }
          }
        },
        fail: (err2) => {
          if (err2) {
            formatAppLog("log", "at util/api.js:152", "\u83B7\u53D6\u6570\u636E\u5931\u8D25\uFF1A" + JSON.stringify(err2));
            uni.hideLoading();
            uni.showToast({
              title: err2,
              icon: "error"
            });
            reject2(err2);
          }
        }
      });
    });
  };
  function createApp() {
    const app = vue.createVueApp(App);
    app.config.globalProperties.$myRequest = myRequest;
    app.config.globalProperties.$BASE_URL = BASE_URL;
    app.config.globalProperties.$myUpLoadFile = myUpLoadFile;
    return {
      app
    };
  }
  const { app: __app__, Vuex: __Vuex__, Pinia: __Pinia__ } = createApp();
  uni.Vuex = __Vuex__;
  uni.Pinia = __Pinia__;
  __app__.provide("__globalStyles", __uniConfig.styles);
  __app__._component.mpType = "app";
  __app__._component.render = () => {
  };
  __app__.mount("#app");
})(Vue, uni.VueShared);
